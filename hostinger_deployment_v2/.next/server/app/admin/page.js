(()=>{var e={};e.id=3,e.ids=[3],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1017:e=>{"use strict";e.exports=require("path")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},2222:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>c.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>n,routeModule:()=>p,tree:()=>i});var r=s(7096),t=s(6132),d=s(7284),c=s.n(d),l=s(2564),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(a,o);let i=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,881)),"/Users/swumpyaesone/Documents/project_management/hostinger_deployment_v2/src/app/admin/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,6188)),"/Users/swumpyaesone/Documents/project_management/hostinger_deployment_v2/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],n=["/Users/swumpyaesone/Documents/project_management/hostinger_deployment_v2/src/app/admin/page.tsx"],m="/admin/page",x={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},4463:(e,a,s)=>{Promise.resolve().then(s.bind(s,9392))},9392:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>m});var r=s(3854),t=s(887),d=s.n(t),c=s(4218),l=s(1018),o=s(6837),i=s(7801);let n=(0,i.eI)(process.env.NEXT_PUBLIC_SUPABASE_URL,process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY);function m(){let{user:e,isAuthenticated:a,isLoading:s}=(0,o.useAuth)(),t=(0,l.useRouter)(),[i,m]=(0,c.useState)("projects"),[x,p]=(0,c.useState)([]),[f,b]=(0,c.useState)(!0),[u,g]=(0,c.useState)({name:"",email:"",password:"",role:"member",position:"",phone:""}),[j,h]=(0,c.useState)(!1),[y,_]=(0,c.useState)("");x.map(e=>({id:e.project_id,name:e.project_name}));let[v,N]=(0,c.useState)(!1),[w,k]=(0,c.useState)(null),[S,B]=(0,c.useState)([]),[C,E]=(0,c.useState)(!1),[D,z]=(0,c.useState)(""),[F,A]=(0,c.useState)([]),[R,W]=(0,c.useState)(!1),[I,q]=(0,c.useState)(""),[P,L]=(0,c.useState)([]),[M,U]=(0,c.useState)([]),[T,Y]=(0,c.useState)(!1),[$,O]=(0,c.useState)(null),[G,H]=(0,c.useState)({}),[X,K]=(0,c.useState)(!1),[V,J]=(0,c.useState)(""),[Q,Z]=(0,c.useState)([]),[ee,ea]=(0,c.useState)([]),[es,er]=(0,c.useState)([]),[et,ed]=(0,c.useState)(!1),[ec,el]=(0,c.useState)(""),[eo,ei]=(0,c.useState)(null),[en,em]=(0,c.useState)(!1),[ex,ep]=(0,c.useState)(!1),[ef,eb]=(0,c.useState)({annual_leave_total:10,annual_leave_max_per_request:3,sick_leave_total:24,sick_leave_max_per_month:7,casual_leave_total:6,casual_leave_max_per_month:2}),[eu,eg]=(0,c.useState)({date:"",title:"",description:"",type:"company_event"});(0,c.useEffect)(()=>{if(s)return;if(!a){t.replace("/login");return}let r=e?.role||e?.user_metadata?.role,d="admin"===r||"hr"===r||e?.is_superuser||e?.is_staff;if(!d){t.replace("/dashboard");return}ej()},[a,s,t,e]);let ej=async()=>{try{b(!0);let{data:a,error:s}=await n.rpc("get_admin_projects",{admin_user_id:e?.id});if(s){if(console.error("Error fetching admin projects:",s),e?.role==="admin"||e?.is_superuser){let{data:e,error:a}=await n.from("projects_project").select("id, name").order("name");if(a)console.error("Error fetching all projects:",a),p([]);else{let a=e?.map(e=>({project_id:e.id,project_name:e.name,can_create_users:!0,can_edit_users:!0,can_delete_users:!0,can_manage_project:!0,can_view_reports:!0,can_assign_tasks:!0}))||[];p(a)}}else p([])}else p(a||[])}catch(e){console.error("Error in fetchAdminProjects:",e),p([])}finally{b(!1)}},eh=async()=>{try{K(!0),J("");let{data:a,error:s}=await n.from("classes").select("id, instructor_id, instructor_name");if(s)throw s;let r=a||[],t=Array.from(new Set(r.filter(e=>!e.instructor_id&&e.instructor_name).map(e=>e.instructor_name).filter(Boolean))),d=new Map;if(t.length>0){let{data:e,error:a}=await n.from("auth_user").select("id, name").eq("role","instructor").in("name",t);if(a)throw a;(e||[]).forEach(e=>{e?.name&&e?.id&&d.set(e.name,e.id)})}let c=r.map(a=>{let s=a.instructor_id||(a.instructor_name?d.get(a.instructor_name):void 0);return s?{class_id:a.id,instructor_id:s,role:"instructor",is_active:!0,assigned_by:e?.id||null}:null}).filter(Boolean);if(0===c.length){J("No instructor assignments to backfill.");return}let{error:l}=await n.from("classes_instructors").upsert(c,{onConflict:"class_id,instructor_id"});if(l)throw l;J(`Backfill complete: ${c.length} instructor assignment(s) created/updated.`),await eB(r.map(e=>e.id))}catch(e){console.error("Backfill error:",e),J("Error backfilling instructors: "+(e?.message||"Unknown error"))}finally{K(!1)}},ey=async e=>{(e.can_manage_project||e.can_create_users||e.can_edit_users)&&(k(e),N(!0),q(""),await e_(e.project_id))},e_=async e=>{try{E(!0);let{data:a,error:s}=await n.from("projects_project_members").select(`
          user_id,
          auth_user:auth_user!inner(id, name, email, role)
        `).eq("project_id",e).order("user_id");if(s)throw s;B(a||[])}catch(e){console.error("Fetch members error:",e),q("Error loading members: "+(e?.message||"Unknown error")),B([])}finally{E(!1)}},ev=async e=>{if(z(e),q(""),w){if(!e||e.trim().length<2){A([]);return}try{let{data:a,error:s}=await n.from("auth_user").select("id, name, email, role").or(`name.ilike.%${e}%,email.ilike.%${e}%`).limit(10);if(s)throw s;A(a||[])}catch(e){console.error("User search error:",e),q("Error searching users"),A([])}}},eN=async e=>{if(w&&(w.can_manage_project||w.can_create_users||w.can_edit_users)){W(!0),q("");try{let{data:a,error:s}=await n.from("projects_project_members").select("user_id").eq("project_id",w.project_id).eq("user_id",e).maybeSingle();if(s)throw s;if(a){q("User is already a member of this project.");return}let{error:r}=await n.from("projects_project_members").insert([{project_id:w.project_id,user_id:e,joined_at:new Date().toISOString()}]);if(r)throw r;await e_(w.project_id),q("Member added successfully"),A([]),z("")}catch(e){console.error("Add member error:",e),q("Error adding member: "+(e?.message||"Unknown error"))}finally{W(!1)}}},ew=async e=>{if(w&&(w.can_manage_project||w.can_edit_users))try{let{error:a}=await n.from("projects_project_members").delete().match({project_id:w.project_id,user_id:e});if(a)throw a;await e_(w.project_id),q("Member removed")}catch(e){console.error("Remove member error:",e),q("Error removing member: "+(e?.message||"Unknown error"))}},ek=async a=>{if(a.preventDefault(),!u.email||!u.password||!u.name){_("Please fill in all required fields");return}h(!0),_("");try{let{data:a,error:s}=await n.from("auth_user").select("*").limit(1);s?console.log("Schema check error:",s):console.log("auth_user sample row structure:",a?.[0]?Object.keys(a[0]):"No rows found");let{data:r,error:t}=await n.from("auth_user").insert([{name:u.name,email:u.email,password:u.password,role:u.role,is_superuser:!1,is_staff:!1,is_active:!0,date_joined:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(t){console.error("Error creating user:",t),_("Error creating user: "+t.message);return}await n.from("project_user_creation_log").insert([{created_user_id:r.id,created_by_admin_id:e?.id,user_role:u.role,notes:"User created by admin (no project assigned)"}]),_("User created successfully!"),g({name:"",email:"",password:"",role:"member",position:"",phone:""})}catch(e){console.error("Error in handleCreateUser:",e),_("An unexpected error occurred")}finally{h(!1)}},eS=async()=>{try{Y(!0);let{data:e,error:a}=await n.from("classes").select(`
          *,
          classes_folders(name)
        `).order("class_date",{ascending:!0});if(a){console.error("Error fetching classes:",a);return}let s=e?.map(e=>({...e,folder_name:e.classes_folders?.name||"No Folder"}))||[];L(s);let r=s.map(e=>e.id);await eB(r)}catch(e){console.error("Error in fetchClasses:",e)}finally{Y(!1)}},eB=async e=>{if(!e||0===e.length){H({});return}try{let{data:a,error:s}=await n.from("classes_instructors").select("class_id, instructor_id, auth_user!classes_instructors_instructor_id_fkey(id, name, email)").in("class_id",e).eq("is_active",!0);if(s){console.error("Error fetching class instructors:",s),H({});return}let r={};a?.forEach(e=>{if(!e||!e.class_id||!e.auth_user)return;let a=r[e.class_id]||[];a.push({id:e.auth_user.id,name:e.auth_user.name,email:e.auth_user.email,role:"instructor"}),r[e.class_id]=a}),H(r)}catch(e){console.error("fetchClassInstructors error:",e),H({})}},eC=async()=>{try{let{data:e,error:a}=await n.from("auth_user").select("id, name, email, role").eq("role","instructor");if(a){console.error("❌ Error fetching instructors:",a);return}console.log("\uD83D\uDC68‍\uD83C\uDFEB Found instructors:",e),U(e||[])}catch(e){console.error("\uD83D\uDCA5 Error in fetchInstructors:",e)}},eE=async(a,s)=>{try{console.log("\uD83C\uDFAF Assigning instructor:",{classId:a,instructorId:s}),O(a);let r=M.find(e=>e.id===s);if(!r){console.error("❌ Instructor not found:",s);return}console.log("\uD83D\uDC68‍\uD83C\uDFEB Found instructor:",r);let{data:t,error:d}=await n.from("classes_instructors").upsert({class_id:a,instructor_id:s,role:"instructor",is_active:!0,assigned_by:e?.id},{onConflict:"class_id,instructor_id"});if(d){console.error("❌ Error assigning instructor:",d),alert("Error assigning instructor: "+d.message);return}console.log("✅ Instructor assigned successfully:",t),await eB([a])}catch(e){console.error("\uD83D\uDCA5 Error in assignInstructor:",e),alert("Unexpected error: "+e.message)}finally{O(null)}},eD=async(e,a)=>{try{console.log("\uD83D\uDDD1️ Removing instructor:",{classId:e,instructorId:a});let{error:s}=await n.from("classes_instructors").update({is_active:!1}).eq("class_id",e).eq("instructor_id",a);if(s){console.error("❌ Error removing instructor:",s),alert("Error removing instructor: "+s.message);return}console.log("✅ Instructor removed successfully"),await eB([e])}catch(e){console.error("\uD83D\uDCA5 Error in removeInstructor:",e),alert("Unexpected error: "+e.message)}},ez=async()=>{try{let{data:e,error:a}=await n.from("auth_user").select("id, name, email, role").order("name");if(a)throw a;Z(e||[])}catch(e){console.error("Error fetching employees:",e)}},eF=async()=>{try{ed(!0);let e=new Date().getFullYear(),{data:a,error:s}=await n.from("employee_leave_allocations").select("*").eq("year",e).order("employee_name");if(s)throw s;ea(a||[])}catch(e){console.error("Error fetching leave allocations:",e),el("Error loading leave allocations: "+e.message)}finally{ed(!1)}},eA=async()=>{try{let{data:e,error:a}=await n.from("important_dates").select("*").order("date");if(a)throw a;er(e||[])}catch(e){console.error("Error fetching important dates:",e)}},eR=async a=>{if(a.preventDefault(),!eo){el("Please select an employee");return}try{ed(!0),el("");let a=new Date().getFullYear(),s={employee_id:eo.id,employee_name:eo.name||"",employee_email:eo.email,year:a,...ef,created_by:e?.id},{error:r}=await n.from("employee_leave_allocations").upsert(s,{onConflict:"employee_id,year"});if(r)throw r;el("Leave allocation saved successfully!"),em(!1),ei(null),eb({annual_leave_total:10,annual_leave_max_per_request:3,sick_leave_total:24,sick_leave_max_per_month:7,casual_leave_total:6,casual_leave_max_per_month:2}),await eF()}catch(e){console.error("Error saving allocation:",e),el("Error: "+e.message)}finally{ed(!1)}},eW=async a=>{if(a.preventDefault(),!eu.date||!eu.title){el("Please fill in date and title");return}try{ed(!0),el("");let{error:a}=await n.from("important_dates").insert({...eu,created_by:e?.id});if(a)throw a;el("Important date added successfully!"),ep(!1),eg({date:"",title:"",description:"",type:"company_event"}),await eA()}catch(e){console.error("Error adding important date:",e),el("Error: "+e.message)}finally{ed(!1)}},eI=async e=>{if(confirm("Are you sure you want to delete this important date?"))try{let{error:a}=await n.from("important_dates").delete().eq("id",e);if(a)throw a;el("Important date deleted successfully!"),await eA()}catch(e){console.error("Error deleting important date:",e),el("Error: "+e.message)}};return((0,c.useEffect)(()=>{"classes"===i?(eS(),eC()):"absence"===i&&(ez(),eF(),eA())},[i]),s||f)?r.jsx("div",{style:{padding:"2rem"},children:"Loading..."}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(d(),{id:"ad4c9b5e6df6c4a2",children:".main-content.jsx-ad4c9b5e6df6c4a2{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;background:transparent;position:relative;z-index:1;min-height:100vh;background:-webkit-linear-gradient(315deg,#f5f5ed 0%,#fafaf2 100%);background:-moz-linear-gradient(315deg,#f5f5ed 0%,#fafaf2 100%);background:-o-linear-gradient(315deg,#f5f5ed 0%,#fafaf2 100%);background:linear-gradient(135deg,#f5f5ed 0%,#fafaf2 100%)}.header.jsx-ad4c9b5e6df6c4a2{background:rgba(255,255,255,.95);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-bottom:1px solid rgba(255,255,255,.3);padding:2.25rem 2rem;position:-webkit-sticky;position:sticky;top:0;z-index:20;-webkit-box-shadow:0 8px 32px rgba(0,0,0,.06);-moz-box-shadow:0 8px 32px rgba(0,0,0,.06);box-shadow:0 8px 32px rgba(0,0,0,.06)}.header-content.jsx-ad4c9b5e6df6c4a2{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;max-width:1400px;margin:0 auto}.title.jsx-ad4c9b5e6df6c4a2{font-size:2.25rem;font-weight:900;background:-webkit-linear-gradient(315deg,#1f2937 0%,#4b5563 100%);background:-moz-linear-gradient(315deg,#1f2937 0%,#4b5563 100%);background:-o-linear-gradient(315deg,#1f2937 0%,#4b5563 100%);background:linear-gradient(135deg,#1f2937 0%,#4b5563 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin:0;letter-spacing:-.02em}.section-container.jsx-ad4c9b5e6df6c4a2{padding:2rem;max-width:1400px;margin:0 auto}"}),(0,r.jsxs)("div",{className:"jsx-ad4c9b5e6df6c4a2 main-content",children:[r.jsx("div",{className:"jsx-ad4c9b5e6df6c4a2 header",children:r.jsx("div",{className:"jsx-ad4c9b5e6df6c4a2 header-content",children:r.jsx("h1",{className:"jsx-ad4c9b5e6df6c4a2 title",children:"Admin Dashboard"})})}),(0,r.jsxs)("div",{className:"jsx-ad4c9b5e6df6c4a2 section-container",children:[r.jsx("div",{style:{marginBottom:"2rem",borderBottom:"1px solid #e5e7eb"},className:"jsx-ad4c9b5e6df6c4a2",children:(0,r.jsxs)("nav",{style:{display:"flex",gap:"2rem"},className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("button",{onClick:()=>m("create-user"),style:{padding:"0.5rem 1rem",backgroundColor:"transparent",border:"none",borderBottom:"create-user"===i?"2px solid #3b82f6":"2px solid transparent",color:"create-user"===i?"#3b82f6":"#6b7280",fontWeight:"create-user"===i?"600":"400",cursor:"pointer"},className:"jsx-ad4c9b5e6df6c4a2",children:"Create User"}),r.jsx("button",{onClick:()=>m("classes"),style:{padding:"0.5rem 1rem",backgroundColor:"transparent",border:"none",borderBottom:"classes"===i?"2px solid #3b82f6":"2px solid transparent",color:"classes"===i?"#3b82f6":"#6b7280",fontWeight:"classes"===i?"600":"400",cursor:"pointer"},className:"jsx-ad4c9b5e6df6c4a2",children:"Classes"}),r.jsx("button",{onClick:()=>m("projects"),style:{padding:"0.5rem 1rem",backgroundColor:"transparent",border:"none",borderBottom:"projects"===i?"2px solid #3b82f6":"2px solid transparent",color:"projects"===i?"#3b82f6":"#6b7280",fontWeight:"projects"===i?"600":"400",cursor:"pointer"},className:"jsx-ad4c9b5e6df6c4a2",children:"My Projects"}),r.jsx("button",{onClick:()=>m("absence"),style:{padding:"0.5rem 1rem",backgroundColor:"transparent",border:"none",borderBottom:"absence"===i?"2px solid #3b82f6":"2px solid transparent",color:"absence"===i?"#3b82f6":"#6b7280",fontWeight:"absence"===i?"600":"400",cursor:"pointer"},className:"jsx-ad4c9b5e6df6c4a2",children:"Absence Management"})]})}),"create-user"===i&&(0,r.jsxs)("div",{className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"600",marginBottom:"1rem"},className:"jsx-ad4c9b5e6df6c4a2",children:"Create New User"}),(0,r.jsxs)("form",{onSubmit:ek,style:{maxWidth:"600px"},className:"jsx-ad4c9b5e6df6c4a2",children:[(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},className:"jsx-ad4c9b5e6df6c4a2",children:[(0,r.jsxs)("div",{className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},className:"jsx-ad4c9b5e6df6c4a2",children:"Full Name *"}),r.jsx("input",{type:"text",value:u.name,onChange:e=>g({...u,name:e.target.value}),style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"1rem"},required:!0,className:"jsx-ad4c9b5e6df6c4a2"})]}),(0,r.jsxs)("div",{className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},className:"jsx-ad4c9b5e6df6c4a2",children:"Email *"}),r.jsx("input",{type:"email",value:u.email,onChange:e=>g({...u,email:e.target.value}),style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"1rem"},required:!0,className:"jsx-ad4c9b5e6df6c4a2"})]})]}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},className:"jsx-ad4c9b5e6df6c4a2",children:[(0,r.jsxs)("div",{className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},className:"jsx-ad4c9b5e6df6c4a2",children:"Password *"}),r.jsx("input",{type:"password",value:u.password,onChange:e=>g({...u,password:e.target.value}),style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"1rem"},required:!0,minLength:8,className:"jsx-ad4c9b5e6df6c4a2"})]}),(0,r.jsxs)("div",{className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},className:"jsx-ad4c9b5e6df6c4a2",children:"Role"}),(0,r.jsxs)("select",{value:u.role,onChange:e=>g({...u,role:e.target.value}),style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"1rem"},className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("option",{value:"member",className:"jsx-ad4c9b5e6df6c4a2",children:"Member"}),r.jsx("option",{value:"staff",className:"jsx-ad4c9b5e6df6c4a2",children:"Staff"}),r.jsx("option",{value:"hr",className:"jsx-ad4c9b5e6df6c4a2",children:"HR"}),r.jsx("option",{value:"instructor",className:"jsx-ad4c9b5e6df6c4a2",children:"Instructor"})]})]})]}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem"},className:"jsx-ad4c9b5e6df6c4a2",children:[(0,r.jsxs)("div",{className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},className:"jsx-ad4c9b5e6df6c4a2",children:"Position"}),r.jsx("input",{type:"text",value:u.position,onChange:e=>g({...u,position:e.target.value}),style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"1rem"},placeholder:"e.g. Project Manager",className:"jsx-ad4c9b5e6df6c4a2"})]}),(0,r.jsxs)("div",{className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},className:"jsx-ad4c9b5e6df6c4a2",children:"Phone Number"}),r.jsx("input",{type:"tel",value:u.phone,onChange:e=>g({...u,phone:e.target.value}),style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"1rem"},placeholder:"Optional",className:"jsx-ad4c9b5e6df6c4a2"})]})]}),r.jsx("button",{type:"submit",disabled:j,style:{backgroundColor:j?"#9ca3af":"#3b82f6",color:"white",padding:"0.75rem 1.5rem",border:"none",borderRadius:"6px",fontSize:"1rem",fontWeight:"600",cursor:j?"not-allowed":"pointer"},className:"jsx-ad4c9b5e6df6c4a2",children:j?"Creating User...":"Create User"}),y&&r.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem",borderRadius:"6px",backgroundColor:y.includes("successfully")?"#d1fae5":"#fee2e2",color:y.includes("successfully")?"#065f46":"#991b1b",border:`1px solid ${y.includes("successfully")?"#10b981":"#ef4444"}`},className:"jsx-ad4c9b5e6df6c4a2",children:y})]})]}),"classes"===i&&(0,r.jsxs)("div",{className:"jsx-ad4c9b5e6df6c4a2",children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"600"},className:"jsx-ad4c9b5e6df6c4a2",children:"Classes Management"}),r.jsx("div",{style:{display:"flex",alignItems:"center",gap:8},className:"jsx-ad4c9b5e6df6c4a2",children:r.jsx("button",{onClick:eh,disabled:X,style:{backgroundColor:X?"#9ca3af":"#0ea5e9",color:"white",padding:"0.5rem 0.9rem",border:"none",borderRadius:8,fontSize:"0.9rem",fontWeight:600,cursor:X?"not-allowed":"pointer"},className:"jsx-ad4c9b5e6df6c4a2",children:X?"Syncing…":"Auto-assign Instructors"})})]}),V&&r.jsx("div",{style:{marginBottom:"1rem",padding:"0.75rem",borderRadius:8,background:V.toLowerCase().includes("error")?"#fee2e2":"#d1fae5",color:V.toLowerCase().includes("error")?"#991b1b":"#065f46",border:`1px solid ${V.toLowerCase().includes("error")?"#ef4444":"#10b981"}`},className:"jsx-ad4c9b5e6df6c4a2",children:V}),T?r.jsx("div",{style:{textAlign:"center",padding:"2rem"},className:"jsx-ad4c9b5e6df6c4a2",children:"Loading classes..."}):0===P.length?(0,r.jsxs)("div",{style:{padding:"2rem",backgroundColor:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0",textAlign:"center"},className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("p",{style:{color:"#64748b",marginBottom:"0.5rem"},className:"jsx-ad4c9b5e6df6c4a2",children:"No classes found"}),r.jsx("p",{style:{color:"#94a3b8",fontSize:"0.875rem"},className:"jsx-ad4c9b5e6df6c4a2",children:"Classes will appear here when they are created."})]}):r.jsx("div",{style:{display:"grid",gap:"1rem"},className:"jsx-ad4c9b5e6df6c4a2",children:P.map(e=>(0,r.jsxs)("div",{style:{padding:"1.5rem",backgroundColor:"white",borderRadius:"8px",border:"1px solid #e2e8f0",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},className:"jsx-ad4c9b5e6df6c4a2",children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem"},className:"jsx-ad4c9b5e6df6c4a2",children:[(0,r.jsxs)("div",{style:{flex:1},className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1f2937",marginBottom:"0.5rem"},className:"jsx-ad4c9b5e6df6c4a2",children:e.class_title}),(0,r.jsxs)("p",{style:{color:"#6b7280",fontSize:"0.875rem",marginBottom:"0.5rem"},className:"jsx-ad4c9b5e6df6c4a2",children:[e.class_type," • ",e.target_audience]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"1rem",fontSize:"0.875rem",color:"#4b5563",marginBottom:"0.5rem"},className:"jsx-ad4c9b5e6df6c4a2",children:[(0,r.jsxs)("span",{className:"jsx-ad4c9b5e6df6c4a2",children:["Date: ",new Date(e.class_date).toLocaleDateString()]}),(0,r.jsxs)("span",{className:"jsx-ad4c9b5e6df6c4a2",children:["Time: ",e.start_time," - ",e.end_time]}),(0,r.jsxs)("span",{className:"jsx-ad4c9b5e6df6c4a2",children:["Location: ",e.location]})]}),(0,r.jsxs)("p",{style:{fontSize:"0.875rem",color:"#4b5563"},className:"jsx-ad4c9b5e6df6c4a2",children:["Folder: ",e.folder_name]})]}),r.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},className:"jsx-ad4c9b5e6df6c4a2",children:r.jsx("span",{style:{padding:"0.25rem 0.6rem",border:"1px solid #d1d5db",color:"#374151",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:500,background:"#ffffff"},className:"jsx-ad4c9b5e6df6c4a2",children:e.status})})]}),(0,r.jsxs)("div",{style:{paddingTop:"1rem",borderTop:"1px solid #e5e7eb"},className:"jsx-ad4c9b5e6df6c4a2",children:[(0,r.jsxs)("div",{style:{marginBottom:"1rem"},className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("p",{style:{fontSize:"0.875rem",color:"#4b5563",marginBottom:"0.5rem"},className:"jsx-ad4c9b5e6df6c4a2",children:"Assigned Instructors:"}),G[e.id]?.length>0?r.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"0.75rem"},className:"jsx-ad4c9b5e6df6c4a2",children:G[e.id].map(a=>(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.375rem 0.75rem",backgroundColor:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"0.875rem"},className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("span",{style:{fontWeight:500},className:"jsx-ad4c9b5e6df6c4a2",children:a.name}),r.jsx("button",{onClick:()=>eD(e.id,a.id),style:{background:"none",border:"none",color:"#ef4444",cursor:"pointer",fontSize:"0.75rem",padding:"0.125rem",lineHeight:1},title:"Remove instructor",className:"jsx-ad4c9b5e6df6c4a2",children:"✕"})]},a.id))}):r.jsx("p",{style:{fontSize:"0.875rem",color:"#9ca3af",marginBottom:"0.75rem"},className:"jsx-ad4c9b5e6df6c4a2",children:"No instructors assigned"}),(0,r.jsxs)("p",{style:{fontSize:"0.875rem",color:"#6b7280"},className:"jsx-ad4c9b5e6df6c4a2",children:["Participants: ",e.current_participants,"/",e.max_participants]})]}),r.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},className:"jsx-ad4c9b5e6df6c4a2",children:(0,r.jsxs)("select",{onChange:a=>a.target.value&&eE(e.id,parseInt(a.target.value)),disabled:$===e.id,style:{padding:"0.5rem",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"0.875rem",backgroundColor:"white",cursor:$===e.id?"not-allowed":"pointer",opacity:$===e.id?.5:1},className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("option",{value:"",className:"jsx-ad4c9b5e6df6c4a2",children:$===e.id?"Assigning...":"Add Instructor"}),M.map(e=>(0,r.jsxs)("option",{value:e.id,className:"jsx-ad4c9b5e6df6c4a2",children:[e.name," (",e.email,")"]},e.id))]})})]})]},e.id))})]}),"projects"===i&&(0,r.jsxs)("div",{className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"600",marginBottom:"1rem"},className:"jsx-ad4c9b5e6df6c4a2",children:"My Assigned Projects"}),0===x.length?r.jsx("div",{style:{padding:"2rem",backgroundColor:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0",textAlign:"center"},className:"jsx-ad4c9b5e6df6c4a2",children:r.jsx("p",{style:{color:"#6b7280"},className:"jsx-ad4c9b5e6df6c4a2",children:"No projects assigned to you as admin."})}):r.jsx("div",{style:{display:"grid",gap:"1rem"},className:"jsx-ad4c9b5e6df6c4a2",children:x.map(e=>(0,r.jsxs)("div",{style:{padding:"1.5rem",backgroundColor:"#ffffff",borderRadius:"8px",border:"1px solid #e2e8f0",boxShadow:"0 1px 3px 0 rgb(0 0 0 / 0.1)"},className:"jsx-ad4c9b5e6df6c4a2",children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"0.75rem"},className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"0.5rem"},className:"jsx-ad4c9b5e6df6c4a2",children:e.project_name}),(e.can_manage_project||e.can_create_users||e.can_edit_users)&&r.jsx("button",{onClick:()=>ey(e),style:{background:"linear-gradient(135deg, #5884FD, #8BA4FE)",color:"white",padding:"0.45rem 0.8rem",border:"none",borderRadius:8,fontSize:"0.9rem",fontWeight:600,cursor:"pointer"},className:"jsx-ad4c9b5e6df6c4a2",children:"Edit Members"})]}),(0,r.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},className:"jsx-ad4c9b5e6df6c4a2",children:[e.can_create_users&&r.jsx("span",{style:{padding:"0.25rem 0.5rem",backgroundColor:"#d1fae5",color:"#065f46",borderRadius:"4px",fontSize:"0.875rem"},className:"jsx-ad4c9b5e6df6c4a2",children:"Create Users"}),e.can_edit_users&&r.jsx("span",{style:{padding:"0.25rem 0.5rem",backgroundColor:"#dbeafe",color:"#1e40af",borderRadius:"4px",fontSize:"0.875rem"},className:"jsx-ad4c9b5e6df6c4a2",children:"Edit Users"}),e.can_manage_project&&r.jsx("span",{style:{padding:"0.25rem 0.5rem",backgroundColor:"#f3e8ff",color:"#7c3aed",borderRadius:"4px",fontSize:"0.875rem"},className:"jsx-ad4c9b5e6df6c4a2",children:"Manage Project"}),e.can_view_reports&&r.jsx("span",{style:{padding:"0.25rem 0.5rem",backgroundColor:"#fef3cd",color:"#92400e",borderRadius:"4px",fontSize:"0.875rem"},className:"jsx-ad4c9b5e6df6c4a2",children:"View Reports"})]})]},e.project_id))})]}),v&&w&&r.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},className:"jsx-ad4c9b5e6df6c4a2 modal-overlay",children:(0,r.jsxs)("div",{style:{background:"#fff",width:"100%",maxWidth:720,borderRadius:16,border:"1px solid #E5E7EB",boxShadow:"0 10px 25px rgba(0,0,0,0.15)",overflow:"hidden"},className:"jsx-ad4c9b5e6df6c4a2 modal-content",children:[(0,r.jsxs)("div",{style:{padding:"1rem 1.25rem",borderBottom:"1px solid #E5E7EB",background:"#F9FAFB",display:"flex",alignItems:"center",justifyContent:"space-between"},className:"jsx-ad4c9b5e6df6c4a2 modal-header",children:[(0,r.jsxs)("h3",{style:{margin:0,fontWeight:700},className:"jsx-ad4c9b5e6df6c4a2",children:["Edit Members — ",w.project_name]}),r.jsx("button",{onClick:()=>N(!1),style:{border:"none",background:"transparent",fontSize:18,cursor:"pointer"},className:"jsx-ad4c9b5e6df6c4a2",children:"✕"})]}),r.jsx("div",{style:{padding:"1rem 1.25rem"},className:"jsx-ad4c9b5e6df6c4a2 modal-body",children:(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"1rem"},className:"jsx-ad4c9b5e6df6c4a2",children:[(0,r.jsxs)("div",{className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("label",{style:{display:"block",marginBottom:6,fontWeight:600},className:"jsx-ad4c9b5e6df6c4a2",children:"Add existing user"}),r.jsx("div",{style:{display:"flex",gap:8},className:"jsx-ad4c9b5e6df6c4a2",children:r.jsx("input",{type:"text",placeholder:"Search by name or email",value:D,onChange:e=>ev(e.target.value),style:{flex:1,padding:"0.6rem 0.8rem",border:"1px solid #D1D5DB",borderRadius:8},className:"jsx-ad4c9b5e6df6c4a2"})}),F.length>0&&r.jsx("div",{style:{marginTop:8,border:"1px solid #E5E7EB",borderRadius:8,overflow:"hidden"},className:"jsx-ad4c9b5e6df6c4a2",children:F.map(e=>(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.6rem 0.8rem",background:"#fff"},className:"jsx-ad4c9b5e6df6c4a2",children:[(0,r.jsxs)("div",{className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("div",{style:{fontWeight:600},className:"jsx-ad4c9b5e6df6c4a2",children:e.name||"Unnamed"}),r.jsx("div",{style:{fontSize:12,color:"#6B7280"},className:"jsx-ad4c9b5e6df6c4a2",children:e.email})]}),r.jsx("button",{disabled:R,onClick:()=>eN(e.id),style:{background:"linear-gradient(135deg, #10B981, #34D399)",color:"#fff",border:"none",borderRadius:8,padding:"0.4rem 0.7rem",cursor:"pointer"},className:"jsx-ad4c9b5e6df6c4a2",children:R?"Adding...":"Add to project"})]},e.id))})]}),(0,r.jsxs)("div",{className:"jsx-ad4c9b5e6df6c4a2",children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:6},className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("label",{style:{fontWeight:700},className:"jsx-ad4c9b5e6df6c4a2",children:"Current members"}),(0,r.jsxs)("span",{style:{color:"#6B7280",fontSize:12},className:"jsx-ad4c9b5e6df6c4a2",children:[S.length," total"]})]}),r.jsx("div",{style:{border:"1px solid #E5E7EB",borderRadius:8},className:"jsx-ad4c9b5e6df6c4a2",children:C?r.jsx("div",{style:{padding:12},className:"jsx-ad4c9b5e6df6c4a2",children:"Loading members..."}):0===S.length?r.jsx("div",{style:{padding:12,color:"#6B7280"},className:"jsx-ad4c9b5e6df6c4a2",children:"No members yet."}):S.map(e=>(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.6rem 0.8rem",background:"#fff",borderBottom:"1px solid #F3F4F6"},className:"jsx-ad4c9b5e6df6c4a2",children:[(0,r.jsxs)("div",{className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("div",{style:{fontWeight:600},className:"jsx-ad4c9b5e6df6c4a2",children:e.auth_user?.name||"Unnamed"}),r.jsx("div",{style:{fontSize:12,color:"#6B7280"},className:"jsx-ad4c9b5e6df6c4a2",children:e.auth_user?.email})]}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("span",{style:{fontSize:12,color:"#374151",background:"#F3F4F6",border:"1px solid #E5E7EB",borderRadius:999,padding:"0.2rem 0.6rem"},className:"jsx-ad4c9b5e6df6c4a2",children:e.role||"member"}),r.jsx("button",{onClick:()=>ew(e.user_id),style:{background:"#EF4444",color:"#fff",border:"none",borderRadius:8,padding:"0.4rem 0.7rem",cursor:"pointer"},className:"jsx-ad4c9b5e6df6c4a2",children:"Remove"})]})]},e.user_id))})]}),I&&r.jsx("div",{style:{padding:"0.6rem 0.8rem",borderRadius:8,background:I.toLowerCase().includes("error")?"#fee2e2":"#d1fae5",color:I.toLowerCase().includes("error")?"#991b1b":"#065f46",border:`1px solid ${I.toLowerCase().includes("error")?"#ef4444":"#10b981"}`},className:"jsx-ad4c9b5e6df6c4a2",children:I})]})})]})}),"absence"===i&&r.jsx("div",{className:"jsx-ad4c9b5e6df6c4a2",children:(0,r.jsxs)("div",{style:{marginBottom:"2rem"},className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("h2",{style:{fontSize:"1.75rem",fontWeight:"700",marginBottom:"1.5rem",color:"#1F2937"},className:"jsx-ad4c9b5e6df6c4a2",children:"Employee Leave Management"}),ec&&r.jsx("div",{style:{marginBottom:"1rem",padding:"1rem",borderRadius:"8px",backgroundColor:ec.includes("Error")||ec.includes("error")?"#FEE2E2":"#D1FAE5",color:ec.includes("Error")||ec.includes("error")?"#991B1B":"#065F46",border:`1px solid ${ec.includes("Error")||ec.includes("error")?"#EF4444":"#10B981"}`},className:"jsx-ad4c9b5e6df6c4a2",children:ec}),(0,r.jsxs)("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem"},className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("button",{onClick:()=>em(!0),style:{background:"linear-gradient(135deg, #FFB333, #FFD480)",color:"white",padding:"0.75rem 1.5rem",border:"none",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:"pointer",boxShadow:"0 4px 6px rgba(255, 179, 51, 0.2)",transition:"all 0.2s"},onMouseEnter:e=>e.currentTarget.style.transform="translateY(-2px)",onMouseLeave:e=>e.currentTarget.style.transform="translateY(0)",className:"jsx-ad4c9b5e6df6c4a2",children:"+ Set Employee Leave Allocation"}),r.jsx("button",{onClick:()=>ep(!0),style:{background:"linear-gradient(135deg, #5884FD, #8BA4FE)",color:"white",padding:"0.75rem 1.5rem",border:"none",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:"pointer",boxShadow:"0 4px 6px rgba(88, 132, 253, 0.2)",transition:"all 0.2s"},onMouseEnter:e=>e.currentTarget.style.transform="translateY(-2px)",onMouseLeave:e=>e.currentTarget.style.transform="translateY(0)",className:"jsx-ad4c9b5e6df6c4a2",children:"+ Add Important Date"})]}),(0,r.jsxs)("div",{style:{background:"white",borderRadius:"12px",padding:"1.5rem",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.05)",marginBottom:"2rem"},className:"jsx-ad4c9b5e6df6c4a2",children:[(0,r.jsxs)("h3",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"1rem",color:"#1F2937"},className:"jsx-ad4c9b5e6df6c4a2",children:["Employee Leave Balances (",new Date().getFullYear(),")"]}),et?r.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"#6B7280"},className:"jsx-ad4c9b5e6df6c4a2",children:"Loading..."}):0===ee.length?r.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"#6B7280"},className:"jsx-ad4c9b5e6df6c4a2",children:'No leave allocations set. Click "Set Employee Leave Allocation" to add one.'}):r.jsx("div",{style:{overflowX:"auto"},className:"jsx-ad4c9b5e6df6c4a2",children:(0,r.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("thead",{className:"jsx-ad4c9b5e6df6c4a2",children:(0,r.jsxs)("tr",{style:{borderBottom:"2px solid #E5E7EB"},className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("th",{style:{padding:"0.75rem",textAlign:"left",fontWeight:"600",color:"#374151"},className:"jsx-ad4c9b5e6df6c4a2",children:"Employee"}),r.jsx("th",{style:{padding:"0.75rem",textAlign:"center",fontWeight:"600",color:"#374151"},className:"jsx-ad4c9b5e6df6c4a2",children:"Annual Leave"}),r.jsx("th",{style:{padding:"0.75rem",textAlign:"center",fontWeight:"600",color:"#374151"},className:"jsx-ad4c9b5e6df6c4a2",children:"Sick Leave"}),r.jsx("th",{style:{padding:"0.75rem",textAlign:"center",fontWeight:"600",color:"#374151"},className:"jsx-ad4c9b5e6df6c4a2",children:"Casual Leave"})]})}),r.jsx("tbody",{className:"jsx-ad4c9b5e6df6c4a2",children:ee.map(e=>(0,r.jsxs)("tr",{style:{borderBottom:"1px solid #F3F4F6"},className:"jsx-ad4c9b5e6df6c4a2",children:[(0,r.jsxs)("td",{style:{padding:"1rem"},className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("div",{style:{fontWeight:"500",color:"#1F2937"},className:"jsx-ad4c9b5e6df6c4a2",children:e.employee_name}),r.jsx("div",{style:{fontSize:"0.875rem",color:"#6B7280"},className:"jsx-ad4c9b5e6df6c4a2",children:e.employee_email})]}),(0,r.jsxs)("td",{style:{padding:"1rem",textAlign:"center"},className:"jsx-ad4c9b5e6df6c4a2",children:[(0,r.jsxs)("div",{style:{marginBottom:"0.25rem"},className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("span",{style:{fontWeight:"600",color:"#10B981",fontSize:"1.125rem"},className:"jsx-ad4c9b5e6df6c4a2",children:e.annual_leave_remaining}),(0,r.jsxs)("span",{style:{color:"#6B7280",fontSize:"0.875rem"},className:"jsx-ad4c9b5e6df6c4a2",children:[" / ",e.annual_leave_total," days"]})]}),(0,r.jsxs)("div",{style:{fontSize:"0.75rem",color:"#9CA3AF"},className:"jsx-ad4c9b5e6df6c4a2",children:["Max ",e.annual_leave_max_per_request," days/request"]})]}),(0,r.jsxs)("td",{style:{padding:"1rem",textAlign:"center"},className:"jsx-ad4c9b5e6df6c4a2",children:[(0,r.jsxs)("div",{style:{marginBottom:"0.25rem"},className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("span",{style:{fontWeight:"600",color:"#3B82F6",fontSize:"1.125rem"},className:"jsx-ad4c9b5e6df6c4a2",children:e.sick_leave_remaining}),(0,r.jsxs)("span",{style:{color:"#6B7280",fontSize:"0.875rem"},className:"jsx-ad4c9b5e6df6c4a2",children:[" / ",e.sick_leave_total," days"]})]}),(0,r.jsxs)("div",{style:{fontSize:"0.75rem",color:"#9CA3AF"},className:"jsx-ad4c9b5e6df6c4a2",children:["Max ",e.sick_leave_max_per_month," days/month"]})]}),(0,r.jsxs)("td",{style:{padding:"1rem",textAlign:"center"},className:"jsx-ad4c9b5e6df6c4a2",children:[(0,r.jsxs)("div",{style:{marginBottom:"0.25rem"},className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("span",{style:{fontWeight:"600",color:"#F59E0B",fontSize:"1.125rem"},className:"jsx-ad4c9b5e6df6c4a2",children:e.casual_leave_remaining}),(0,r.jsxs)("span",{style:{color:"#6B7280",fontSize:"0.875rem"},className:"jsx-ad4c9b5e6df6c4a2",children:[" / ",e.casual_leave_total," days"]})]}),(0,r.jsxs)("div",{style:{fontSize:"0.75rem",color:"#9CA3AF"},className:"jsx-ad4c9b5e6df6c4a2",children:["Max ",e.casual_leave_max_per_month," days/month"]})]})]},e.id))})]})})]}),(0,r.jsxs)("div",{style:{background:"white",borderRadius:"12px",padding:"1.5rem",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.05)"},className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"1rem",color:"#1F2937"},className:"jsx-ad4c9b5e6df6c4a2",children:"Important Dates (No Leave Allowed)"}),0===es.length?r.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"#6B7280"},className:"jsx-ad4c9b5e6df6c4a2",children:'No important dates set. Click "Add Important Date" to add one.'}):r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"1rem"},className:"jsx-ad4c9b5e6df6c4a2",children:es.map(e=>r.jsx("div",{style:{padding:"1rem",borderRadius:"8px",border:"1px solid #E5E7EB",background:"#F9FAFB",position:"relative"},className:"jsx-ad4c9b5e6df6c4a2",children:(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"0.5rem"},className:"jsx-ad4c9b5e6df6c4a2",children:[(0,r.jsxs)("div",{style:{flex:1},className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("div",{style:{fontWeight:"600",color:"#1F2937",marginBottom:"0.25rem"},className:"jsx-ad4c9b5e6df6c4a2",children:e.title}),r.jsx("div",{style:{fontSize:"0.875rem",color:"#6B7280",marginBottom:"0.25rem"},className:"jsx-ad4c9b5e6df6c4a2",children:new Date(e.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),e.description&&r.jsx("div",{style:{fontSize:"0.875rem",color:"#9CA3AF",marginTop:"0.5rem"},className:"jsx-ad4c9b5e6df6c4a2",children:e.description}),r.jsx("div",{style:{display:"inline-block",marginTop:"0.5rem",padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"500",background:"holiday"===e.type?"#DBEAFE":"#FEF3C7",color:"holiday"===e.type?"#1E40AF":"#92400E"},className:"jsx-ad4c9b5e6df6c4a2",children:e.type.replace("_"," ").toUpperCase()})]}),r.jsx("button",{onClick:()=>eI(e.id),style:{background:"#EF4444",color:"white",border:"none",borderRadius:"6px",padding:"0.4rem 0.6rem",fontSize:"0.75rem",cursor:"pointer",marginLeft:"0.5rem"},className:"jsx-ad4c9b5e6df6c4a2",children:"Delete"})]})},e.id))})]})]})}),en&&r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},className:"jsx-ad4c9b5e6df6c4a2",children:(0,r.jsxs)("div",{style:{background:"white",borderRadius:"12px",padding:"2rem",maxWidth:"600px",width:"90%",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 20px 25px rgba(0, 0, 0, 0.15)"},className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"700",marginBottom:"1.5rem",color:"#1F2937"},className:"jsx-ad4c9b5e6df6c4a2",children:"Set Employee Leave Allocation"}),(0,r.jsxs)("form",{onSubmit:eR,className:"jsx-ad4c9b5e6df6c4a2",children:[(0,r.jsxs)("div",{style:{marginBottom:"1.5rem"},className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#374151"},className:"jsx-ad4c9b5e6df6c4a2",children:"Select Employee *"}),(0,r.jsxs)("select",{required:!0,value:eo?.id||"",onChange:e=>{let a=Q.find(a=>a.id===parseInt(e.target.value));ei(a||null)},style:{width:"100%",padding:"0.75rem",border:"1px solid #D1D5DB",borderRadius:"8px",fontSize:"1rem"},className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("option",{value:"",className:"jsx-ad4c9b5e6df6c4a2",children:"-- Select Employee --"}),Q.map(e=>(0,r.jsxs)("option",{value:e.id,className:"jsx-ad4c9b5e6df6c4a2",children:[e.name||e.email," (",e.role,")"]},e.id))]})]}),(0,r.jsxs)("div",{style:{background:"#F9FAFB",padding:"1rem",borderRadius:"8px",marginBottom:"1rem",border:"1px solid #E5E7EB"},className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("h4",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#10B981",marginBottom:"1rem"},className:"jsx-ad4c9b5e6df6c4a2",children:"Annual Leave"}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},className:"jsx-ad4c9b5e6df6c4a2",children:[(0,r.jsxs)("div",{className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500"},className:"jsx-ad4c9b5e6df6c4a2",children:"Total Days"}),r.jsx("input",{type:"number",required:!0,min:"0",value:ef.annual_leave_total,onChange:e=>eb({...ef,annual_leave_total:parseInt(e.target.value)}),style:{width:"100%",padding:"0.75rem",border:"1px solid #D1D5DB",borderRadius:"6px"},className:"jsx-ad4c9b5e6df6c4a2"})]}),(0,r.jsxs)("div",{className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500"},className:"jsx-ad4c9b5e6df6c4a2",children:"Max Days Per Request"}),r.jsx("input",{type:"number",required:!0,min:"1",value:ef.annual_leave_max_per_request,onChange:e=>eb({...ef,annual_leave_max_per_request:parseInt(e.target.value)}),style:{width:"100%",padding:"0.75rem",border:"1px solid #D1D5DB",borderRadius:"6px"},className:"jsx-ad4c9b5e6df6c4a2"})]})]})]}),(0,r.jsxs)("div",{style:{background:"#F9FAFB",padding:"1rem",borderRadius:"8px",marginBottom:"1rem",border:"1px solid #E5E7EB"},className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("h4",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#3B82F6",marginBottom:"1rem"},className:"jsx-ad4c9b5e6df6c4a2",children:"Sick Leave"}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},className:"jsx-ad4c9b5e6df6c4a2",children:[(0,r.jsxs)("div",{className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500"},className:"jsx-ad4c9b5e6df6c4a2",children:"Total Days"}),r.jsx("input",{type:"number",required:!0,min:"0",value:ef.sick_leave_total,onChange:e=>eb({...ef,sick_leave_total:parseInt(e.target.value)}),style:{width:"100%",padding:"0.75rem",border:"1px solid #D1D5DB",borderRadius:"6px"},className:"jsx-ad4c9b5e6df6c4a2"})]}),(0,r.jsxs)("div",{className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500"},className:"jsx-ad4c9b5e6df6c4a2",children:"Max Days Per Month"}),r.jsx("input",{type:"number",required:!0,min:"1",value:ef.sick_leave_max_per_month,onChange:e=>eb({...ef,sick_leave_max_per_month:parseInt(e.target.value)}),style:{width:"100%",padding:"0.75rem",border:"1px solid #D1D5DB",borderRadius:"6px"},className:"jsx-ad4c9b5e6df6c4a2"})]})]})]}),(0,r.jsxs)("div",{style:{background:"#F9FAFB",padding:"1rem",borderRadius:"8px",marginBottom:"1.5rem",border:"1px solid #E5E7EB"},className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("h4",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#F59E0B",marginBottom:"1rem"},className:"jsx-ad4c9b5e6df6c4a2",children:"Casual Leave"}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},className:"jsx-ad4c9b5e6df6c4a2",children:[(0,r.jsxs)("div",{className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500"},className:"jsx-ad4c9b5e6df6c4a2",children:"Total Days"}),r.jsx("input",{type:"number",required:!0,min:"0",value:ef.casual_leave_total,onChange:e=>eb({...ef,casual_leave_total:parseInt(e.target.value)}),style:{width:"100%",padding:"0.75rem",border:"1px solid #D1D5DB",borderRadius:"6px"},className:"jsx-ad4c9b5e6df6c4a2"})]}),(0,r.jsxs)("div",{className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500"},className:"jsx-ad4c9b5e6df6c4a2",children:"Max Days Per Month"}),r.jsx("input",{type:"number",required:!0,min:"1",value:ef.casual_leave_max_per_month,onChange:e=>eb({...ef,casual_leave_max_per_month:parseInt(e.target.value)}),style:{width:"100%",padding:"0.75rem",border:"1px solid #D1D5DB",borderRadius:"6px"},className:"jsx-ad4c9b5e6df6c4a2"})]})]})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("button",{type:"button",onClick:()=>{em(!1),ei(null)},style:{padding:"0.75rem 1.5rem",background:"#F3F4F6",color:"#374151",border:"none",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:"pointer"},className:"jsx-ad4c9b5e6df6c4a2",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:et,style:{padding:"0.75rem 1.5rem",background:et?"#9CA3AF":"linear-gradient(135deg, #FFB333, #FFD480)",color:"white",border:"none",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:et?"not-allowed":"pointer"},className:"jsx-ad4c9b5e6df6c4a2",children:et?"Saving...":"Save Allocation"})]})]})]})}),ex&&r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},className:"jsx-ad4c9b5e6df6c4a2",children:(0,r.jsxs)("div",{style:{background:"white",borderRadius:"12px",padding:"2rem",maxWidth:"500px",width:"90%",boxShadow:"0 20px 25px rgba(0, 0, 0, 0.15)"},className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"700",marginBottom:"1.5rem",color:"#1F2937"},className:"jsx-ad4c9b5e6df6c4a2",children:"Add Important Date"}),(0,r.jsxs)("form",{onSubmit:eW,className:"jsx-ad4c9b5e6df6c4a2",children:[(0,r.jsxs)("div",{style:{marginBottom:"1rem"},className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#374151"},className:"jsx-ad4c9b5e6df6c4a2",children:"Date *"}),r.jsx("input",{type:"date",required:!0,value:eu.date,onChange:e=>eg({...eu,date:e.target.value}),style:{width:"100%",padding:"0.75rem",border:"1px solid #D1D5DB",borderRadius:"8px",fontSize:"1rem"},className:"jsx-ad4c9b5e6df6c4a2"})]}),(0,r.jsxs)("div",{style:{marginBottom:"1rem"},className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#374151"},className:"jsx-ad4c9b5e6df6c4a2",children:"Title *"}),r.jsx("input",{type:"text",required:!0,value:eu.title,onChange:e=>eg({...eu,title:e.target.value}),style:{width:"100%",padding:"0.75rem",border:"1px solid #D1D5DB",borderRadius:"8px",fontSize:"1rem"},placeholder:"e.g., Company Meeting",className:"jsx-ad4c9b5e6df6c4a2"})]}),(0,r.jsxs)("div",{style:{marginBottom:"1rem"},className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#374151"},className:"jsx-ad4c9b5e6df6c4a2",children:"Description"}),r.jsx("textarea",{value:eu.description,onChange:e=>eg({...eu,description:e.target.value}),style:{width:"100%",padding:"0.75rem",border:"1px solid #D1D5DB",borderRadius:"8px",fontSize:"1rem",minHeight:"80px",resize:"vertical"},placeholder:"Optional description",className:"jsx-ad4c9b5e6df6c4a2"})]}),(0,r.jsxs)("div",{style:{marginBottom:"1.5rem"},className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#374151"},className:"jsx-ad4c9b5e6df6c4a2",children:"Type"}),(0,r.jsxs)("select",{value:eu.type,onChange:e=>eg({...eu,type:e.target.value}),style:{width:"100%",padding:"0.75rem",border:"1px solid #D1D5DB",borderRadius:"8px",fontSize:"1rem"},className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("option",{value:"company_event",className:"jsx-ad4c9b5e6df6c4a2",children:"Company Event"}),r.jsx("option",{value:"holiday",className:"jsx-ad4c9b5e6df6c4a2",children:"Holiday"}),r.jsx("option",{value:"meeting",className:"jsx-ad4c9b5e6df6c4a2",children:"Meeting"}),r.jsx("option",{value:"deadline",className:"jsx-ad4c9b5e6df6c4a2",children:"Deadline"})]})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},className:"jsx-ad4c9b5e6df6c4a2",children:[r.jsx("button",{type:"button",onClick:()=>{ep(!1),eg({date:"",title:"",description:"",type:"company_event"})},style:{padding:"0.75rem 1.5rem",background:"#F3F4F6",color:"#374151",border:"none",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:"pointer"},className:"jsx-ad4c9b5e6df6c4a2",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:et,style:{padding:"0.75rem 1.5rem",background:et?"#9CA3AF":"linear-gradient(135deg, #5884FD, #8BA4FE)",color:"white",border:"none",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:et?"not-allowed":"pointer"},className:"jsx-ad4c9b5e6df6c4a2",children:et?"Adding...":"Add Date"})]})]})]})})]})]})]})}},881:(e,a,s)=>{"use strict";s.r(a),s.d(a,{$$typeof:()=>c,__esModule:()=>d,default:()=>o});var r=s(5153);let t=(0,r.createProxy)(String.raw`/Users/swumpyaesone/Documents/project_management/hostinger_deployment_v2/src/app/admin/page.tsx`),{__esModule:d,$$typeof:c}=t,l=t.default,o=l},3881:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>t});var r=s(8531);let t=e=>{let a=(0,r.fillMetadataSegment)(".",e.params,"favicon.ico");return[{type:"image/x-icon",sizes:"16x16",url:a+""}]}}};var a=require("../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),r=a.X(0,[3271,3913,1323,1336],()=>s(2222));module.exports=r})();