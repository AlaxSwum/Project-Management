(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8571],{56098:function(e,t,i){Promise.resolve().then(i.bind(i,92938))},92938:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return y}});var n=i(57437),r=i(2265),o=i(24033),l=i(3549),d=i(68714),a=i(78411),s=i(31205),p=i(95255),c=i(40013),x=i(3217),g=i(49649),h=i(80654),u=i(84164),m=i(77150),f=i(77227);function y(){var e;let{user:t,isAuthenticated:i,isLoading:y}=(0,l.useAuth)(),b=(0,o.useRouter)(),[v,j]=(0,r.useState)([]),[w,k]=(0,r.useState)(null),[B,_]=(0,r.useState)([]),[F,S]=(0,r.useState)([]),[E,C]=(0,r.useState)([]),[W,D]=(0,r.useState)(!0),[R,z]=(0,r.useState)(""),[A,I]=(0,r.useState)(""),[M,L]=(0,r.useState)(!1),[T,Z]=(0,r.useState)("month"),[O,P]=(0,r.useState)(new Date),[H,q]=(0,r.useState)(!0),N=(0,r.useRef)(null);(0,r.useRef)(!1);let[U,Y]=(0,r.useState)("gantt"),V=(null==t?void 0:t.role)==="admin"||(null==t?void 0:null===(e=t.user_metadata)||void 0===e?void 0:e.role)==="admin",[$,G]=(0,r.useState)(!1),[J,X]=(0,r.useState)([]),[K,Q]=(0,r.useState)([]),[ee,et]=(0,r.useState)(!1),[ei,en]=(0,r.useState)(!1),[er,eo]=(0,r.useState)(!1),[el,ed]=(0,r.useState)(!1),[ea,es]=(0,r.useState)(!1),[ep,ec]=(0,r.useState)(!1),[ex,eg]=(0,r.useState)(!1),[eh,eu]=(0,r.useState)([]),[em,ef]=(0,r.useState)(null),[ey,eb]=(0,r.useState)({name:"",description:"",start_date:"",end_date:"",total_budget:0,currency:"USD"}),[ev,ej]=(0,r.useState)({name:"",description:"",color:"#3B82F6",responsible_person_id:0,parent_category_id:null}),[ew,ek]=(0,r.useState)({title:"",description:"",category_id:0,start_date:"",end_date:"",phase:"Planning",status:"not_started",planned_budget:0,actual_spending:0,completion_percentage:0,priority:"medium",team_leader_id:0,team_member_ids:[],color:"#FFB333"}),[eB,e_]=(0,r.useState)([]),[eF,eS]=(0,r.useState)(""),[eE,eC]=(0,r.useState)(null),[eW,eD]=(0,r.useState)(!1),[eR,ez]=(0,r.useState)(null),[eA,eI]=(0,r.useState)([]),[eM,eL]=(0,r.useState)([]),[eT,eZ]=(0,r.useState)(!1),[eO,eP]=(0,r.useState)([]),[eH,eq]=(0,r.useState)(!1),[eN,eU]=(0,r.useState)({title:"",url:"",link_type:"drive"}),[eY,eV]=(0,r.useState)(new Set),[e$,eG]=(0,r.useState)("overview"),[eJ,eX]=(0,r.useState)(["Planning","Design","Development","Testing","Launch","Maintenance"]);(0,r.useEffect)(()=>{let e=()=>L(window.innerWidth<768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{if(!y){if(!i){b.push("/login");return}e6()}},[i,y,b]),(0,r.useEffect)(()=>{w&&(e4(),e8(),e3(),eK())},[w]);let eK=async()=>{if(w)try{let{data:e,error:t}=await a.supabase.from("timeline_folder_members").select("user_id").eq("folder_id",w.id);if(t)throw t;let i=(null==e?void 0:e.map(e=>e.user_id))||[];if(0===i.length){eL([]);return}let{data:n,error:r}=await a.supabase.from("auth_user").select("id, name, email").in("id",i).eq("is_active",!0).order("name",{ascending:!0});!r&&n&&eL(n)}catch(e){console.error("Error fetching team members:",e)}},eQ=async e=>{eC(e);try{let{data:t,error:i}=await a.supabase.from("timeline_item_checklist").select("*").eq("timeline_item_id",e.id).order("item_order",{ascending:!0});!i&&t?eI(t):eI([])}catch(e){console.error("Error loading checklist:",e),eI([])}try{let{data:t,error:i}=await a.supabase.from("timeline_item_links").select("*").eq("timeline_item_id",e.id).order("created_at",{ascending:!1});!i&&t?eP(t):eP([])}catch(e){console.error("Error loading links:",e),eP([])}eZ(!0)},e0=async()=>{if(eE&&eN.url.trim())try{var e;let{data:i,error:n}=await a.supabase.from("timeline_item_links").insert([{timeline_item_id:eE.id,title:eN.title.trim()||e1(eN.url),url:eN.url.trim(),link_type:eN.link_type,created_by_id:parseInt((null==t?void 0:null===(e=t.id)||void 0===e?void 0:e.toString())||"0")}]).select().single();!n&&i&&(eP(e=>[i,...e]),eU({title:"",url:"",link_type:"drive"}),eq(!1),I("Link added!"))}catch(e){console.error("Error adding link:",e),alert("Failed to add link")}},e1=e=>{if(e.includes("drive.google.com"))return"Google Drive File";if(e.includes("docs.google.com"))return"Google Doc";if(e.includes("sheets.google.com"))return"Google Sheet";if(e.includes("figma.com"))return"Figma Design";if(e.includes("github.com"))return"GitHub Link";if(e.includes("notion."))return"Notion Page";try{let t=new URL(e).hostname;return t.replace("www.","")}catch(e){return"External Link"}},e2=(e,t)=>e.includes("drive.google.com")||"drive"===t?{bg:"#E8F0FE",color:"#4285F4",label:"Drive"}:e.includes("docs.google.com")?{bg:"#E6F4EA",color:"#34A853",label:"Doc"}:e.includes("sheets.google.com")?{bg:"#E6F4EA",color:"#0F9D58",label:"Sheet"}:e.includes("figma.com")?{bg:"#F3E8FF",color:"#A259FF",label:"Figma"}:e.includes("github.com")?{bg:"#F3F4F6",color:"#24292F",label:"GitHub"}:e.includes("notion.")?{bg:"#F3F4F6",color:"#000000",label:"Notion"}:"document"===t?{bg:"#E6F4EA",color:"#34A853",label:"Doc"}:"design"===t?{bg:"#F3E8FF",color:"#A259FF",label:"Design"}:"video"===t?{bg:"#FEE2E2",color:"#DC2626",label:"Video"}:{bg:"#F3F4F6",color:"#6B7280",label:"Link"},e5=async e=>{if(confirm("Delete this link?"))try{await a.supabase.from("timeline_item_links").delete().eq("id",e),eP(t=>t.filter(t=>t.id!==e)),I("Link deleted")}catch(e){console.error("Error deleting link:",e)}},e6=async()=>{try{var e;D(!0);let i=parseInt((null==t?void 0:null===(e=t.id)||void 0===e?void 0:e.toString())||"0"),{data:n,error:r}=await a.supabase.from("timeline_folder_members").select("folder_id").eq("user_id",i);if(r)throw r;let o=(null==n?void 0:n.map(e=>e.folder_id))||[],{data:l,error:d}=await a.supabase.from("timeline_folders").select("*").or("created_by_id.eq.".concat(i,",id.in.(").concat(o.join(",")||"0",")")).eq("is_active",!0).order("created_at",{ascending:!1});if(d)throw d;j(l||[]),l&&l.length>0&&!w&&k(l[0])}catch(e){console.error("Error fetching folders:",e),z("Failed to load timeline folders")}finally{D(!1)}},e4=async()=>{if(w)try{let{data:e}=await a.supabase.from("timeline_categories").select("id").eq("folder_id",w.id).eq("responsible_person_id",null==t?void 0:t.id).eq("is_active",!0);e&&X(e.map(e=>e.id));let{data:i,error:n}=await a.supabase.from("timeline_categories").select("*").eq("folder_id",w.id).eq("is_active",!0).order("display_order",{ascending:!0});if(n)throw n;let r=new Map,o=[];if((i||[]).forEach(e=>{r.set(e.id,{...e,subcategories:[]})}),(i||[]).forEach(e=>{let t=r.get(e.id);if(e.parent_category_id){let i=r.get(e.parent_category_id);i&&i.subcategories.push(t)}else o.push(t)}),_(o),i&&i.length>0){let e=new Set(i.map(e=>e.id));eV(e)}}catch(e){console.error("Error fetching categories:",e)}},e8=async()=>{if(w)try{var e;let{data:i,error:n}=await a.supabase.from("timeline_items").select("\n          *,\n          timeline_categories (name, color)\n        ").eq("folder_id",w.id).neq("status","cancelled").order("start_date",{ascending:!0});if(n)throw n;let r=(i||[]).map(e=>{var t;return{...e,category_name:null===(t=e.timeline_categories)||void 0===t?void 0:t.name}});S(r);let o=parseInt((null==t?void 0:null===(e=t.id)||void 0===e?void 0:e.toString())||"0"),l=r.filter(e=>e.team_leader_id===o||(e.team_member_ids||[]).includes(o)).map(e=>e.id);Q(l)}catch(e){console.error("Error fetching timeline items:",e)}},e3=async()=>{if(w)try{let{data:e,error:i}=await a.supabase.from("timeline_folder_members").select("*").eq("folder_id",w.id);if(i)throw i;let n=await Promise.all((e||[]).map(async e=>{let{data:t}=await a.supabase.from("auth_user").select("id, name, email").eq("id",e.user_id).single();return{...e,user_name:(null==t?void 0:t.name)||"Unknown",user_email:(null==t?void 0:t.email)||""}}));C(n);let r=n.find(e=>e.user_id===(null==t?void 0:t.id));G((null==r?void 0:r.role)==="admin"||(null==r?void 0:r.role)==="owner"||V)}catch(e){console.error("Error fetching folder members:",e),C([]),G(V)}},e7=async()=>{try{var e;if(!ey.name.trim()){z("Folder name is required");return}let i=parseInt((null==t?void 0:null===(e=t.id)||void 0===e?void 0:e.toString())||"0"),n={...ey,created_by_id:i,is_active:!0},{data:r,error:o}=await a.supabase.from("timeline_folders").insert([n]).select().single();if(o)throw o;await a.supabase.from("timeline_folder_members").insert([{folder_id:r.id,user_id:i,role:"admin",can_edit:!0,can_delete:!0,can_manage_members:!0,can_manage_budget:!0}]),j([r,...v]),k(r),et(!1),eb({name:"",description:"",start_date:"",end_date:"",total_budget:0,currency:"USD"}),I("Project created successfully!"),setTimeout(()=>I(""),3e3)}catch(e){console.error("Error creating folder:",e),z("Failed to create folder")}},e9=async()=>{try{if(!w||!ev.name.trim()){z("Category name is required");return}let e=Math.max(...B.map(e=>e.display_order),0),t={folder_id:w.id,name:ev.name,description:ev.description,color:ev.color,responsible_person_id:ev.responsible_person_id||null,parent_category_id:ev.parent_category_id,display_order:e+1,is_active:!0},{data:i,error:n}=await a.supabase.from("timeline_categories").insert([t]).select().single();if(n)throw n;e4(),en(!1),ej({name:"",description:"",color:"#3B82F6",responsible_person_id:0,parent_category_id:null}),I("Category created successfully!"),setTimeout(()=>I(""),3e3)}catch(e){console.error("Error creating category:",e),z("Failed to create category")}},te=async()=>{try{if(!w||!ew.title.trim()){z("Title is required");return}let i=ew.description||"";if(eB.length>0){let e="\n\nChecklist:\n"+eB.map((e,t)=>"".concat(t+1,". ").concat(e)).join("\n");i+=e}let n={folder_id:w.id,category_id:ew.category_id||null,title:ew.title,description:i,color:ew.color,start_date:ew.start_date,end_date:ew.end_date,phase:ew.phase,status:ew.status,planned_budget:ew.planned_budget,actual_spending:ew.actual_spending,completion_percentage:ew.completion_percentage,team_leader_id:ew.team_leader_id||null,team_member_ids:ew.team_member_ids.length>0?ew.team_member_ids:null,priority:ew.priority};if(eW&&eE){let{error:e}=await a.supabase.from("timeline_items").update(n).eq("id",eE.id);if(e)throw e;if(await a.supabase.from("timeline_item_checklist").delete().eq("timeline_item_id",eE.id),eB.length>0){let e=eB.map((e,t)=>({timeline_item_id:eE.id,item_text:e,is_completed:!1,item_order:t}));await a.supabase.from("timeline_item_checklist").insert(e)}I("Timeline item updated successfully!")}else{var e;let i=parseInt((null==t?void 0:null===(e=t.id)||void 0===e?void 0:e.toString())||"0"),{data:r,error:o}=await a.supabase.from("timeline_items").insert([{...n,created_by_id:i}]).select().single();if(o)throw o;if(eB.length>0){let e=eB.map((e,t)=>({timeline_item_id:r.id,item_text:e,is_completed:!1,item_order:t}));await a.supabase.from("timeline_item_checklist").insert(e)}I("Timeline item created successfully!")}e8(),eo(!1),ti(),tx&&(tg(!1),eG(th),ec(!0)),setTimeout(()=>I(""),3e3)}catch(e){console.error("Error saving timeline item:",e),z("Failed to save timeline item")}},tt=async e=>{let t="completed"===e.status;try{await a.supabase.from("timeline_items").update({status:t?"in_progress":"completed",completion_percentage:t?e.completion_percentage:100}).eq("id",e.id),e8()}catch(e){console.error("Error updating task:",e)}},ti=()=>{ek({title:"",description:"",category_id:0,start_date:"",end_date:"",phase:"Planning",status:"not_started",planned_budget:0,actual_spending:0,completion_percentage:0,priority:"medium",team_leader_id:0,team_member_ids:[],color:"#FFB333"}),e_([]),eS(""),eC(null),eD(!1)},tn=(e,t)=>{let i=new Date(e.start_date),n=new Date(e.end_date),r=0,o=1;if("day"===T){i.setHours(0,0,0,0),n.setHours(0,0,0,0),r=t.findIndex(e=>{let t=new Date(e.date);return t.setHours(0,0,0,0),t.getTime()===i.getTime()});let e=t.findIndex(e=>{let t=new Date(e.date);return t.setHours(0,0,0,0),t.getTime()===n.getTime()});-1!==r&&-1!==e?o=e-r+1:-1!==r?o=t.length-r:-1!==e&&(r=0,o=e+1)}else if("week"===T){r=t.findIndex(e=>{let t=new Date(e.date);return t.setDate(e.date.getDate()+6),i>=e.date&&i<=t});let e=t.findIndex(e=>{let t=new Date(e.date);return t.setDate(e.date.getDate()+6),n>=e.date&&n<=t});-1!==r&&-1!==e&&(o=e-r+1)}else if("month"===T){r=t.findIndex(e=>e.date.getMonth()===i.getMonth()&&e.date.getFullYear()===i.getFullYear());let e=t.findIndex(e=>e.date.getMonth()===n.getMonth()&&e.date.getFullYear()===n.getFullYear());-1!==r&&-1!==e&&(o=e-r+1)}else if("quarter"===T){r=t.findIndex(e=>{let t=Math.floor(i.getMonth()/3),n=Math.floor(e.date.getMonth()/3);return i.getFullYear()===e.date.getFullYear()&&t===n});let e=t.findIndex(e=>{let t=Math.floor(n.getMonth()/3),i=Math.floor(e.date.getMonth()/3);return n.getFullYear()===e.date.getFullYear()&&t===i});-1!==r&&-1!==e&&(o=e-r+1)}return{startCol:Math.max(0,r),spanCols:Math.max(1,o)}},tr=e=>({not_started:"#9CA3AF",in_progress:"#3B82F6",completed:"#10B981",on_hold:"#F59E0B",cancelled:"#EF4444",delayed:"#DC2626"})[e]||"#9CA3AF",to=e=>({low:"#10B981",medium:"#3B82F6",high:"#F59E0B",urgent:"#EF4444"})[e]||"#3B82F6",tl=(e,t)=>0===e?0:Math.round(t/e*100),td=e=>e.toLocaleDateString("en-US",{month:"long",year:"numeric"}),ta=()=>{let e=new Map;return F.forEach(t=>{t.team_member_ids&&t.team_member_ids.length>0&&t.team_member_ids.forEach(i=>{let n=eM.find(e=>e.id===i);n&&(e.has(i)||e.set(i,{member:n,items:[]}),e.get(i).items.push(t))})}),Array.from(e.values())},ts=e=>{let t=new Date(e.getFullYear(),e.getMonth(),1),i=t.getDay();return Math.ceil((e.getDate()+i)/7)},tp=e=>{let t=e.toLocaleDateString("en-US",{month:"long"}),i=ts(e),n=e.getFullYear();return"".concat(t," Week ").concat(i,", ").concat(n)},tc=e=>{let t=new Map;return t.set("unassigned",{member:null,items:[]}),e.forEach(e=>{e.team_member_ids&&0!==e.team_member_ids.length?e.team_member_ids.forEach(i=>{let n=eM.find(e=>e.id===i);if(n){let r="member_".concat(i);t.has(r)||t.set(r,{member:n,items:[]}),t.get(r).items.push(e)}}):t.get("unassigned").items.push(e)}),0===t.get("unassigned").items.length&&t.delete("unassigned"),Array.from(t.values())},[tx,tg]=(0,r.useState)(!1),[th,tu]=(0,r.useState)("overview"),tm=e=>{let t=e.match(/(\w+) Week (\d+), (\d+)/);if(t){let e=t[1],i=parseInt(t[2]),n=parseInt(t[3]),r=["January","February","March","April","May","June","July","August","September","October","November","December"].indexOf(e);if(-1!==r){let e=new Date(n,r,1),t=e.getDay();return new Date(n,r,Math.min(Math.max(1,(i-1)*7-t+1),28))}}return new Date},tf=e=>{let t=e.split(" ");if(2===t.length){let e=["January","February","March","April","May","June","July","August","September","October","November","December"].indexOf(t[0]),i=parseInt(t[1]);if(-1!==e&&!isNaN(i))return new Date(i,e,1)}return new Date},ty=e=>{ti();let t=new Date,i=new Date;i.setDate(i.getDate()+7),e.week?(i=new Date(t=tm(e.week))).setDate(i.getDate()+6):e.month&&((i=new Date(t=tf(e.month))).setMonth(i.getMonth()+1),i.setDate(i.getDate()-1)),ek(n=>({...n,phase:e.phase||n.phase,start_date:t.toISOString().split("T")[0],end_date:i.toISOString().split("T")[0]})),tg(!0),tu(e$),ec(!1),eo(!0)},tb=e=>{let t=e.length,i=e.filter(e=>"completed"===e.status).length,n=e.filter(e=>"in_progress"===e.status).length,r=e.filter(e=>new Date(e.end_date)<new Date&&"completed"!==e.status).length,o=e.reduce((e,t)=>e+t.planned_budget,0),l=e.reduce((e,t)=>e+t.actual_spending,0),d=t>0?Math.round(e.reduce((e,t)=>e+t.completion_percentage,0)/t):0;return{totalItems:t,completedItems:i,inProgressItems:n,overdueItems:r,totalBudget:o,actualSpending:l,budgetVariance:o-l,avgCompletion:d,completionRate:t>0?Math.round(i/t*100):0,onTrackRate:t>0?Math.round((t-r)/t*100):100}},tv=(()=>{let e=[],t=new Date(O);if("day"===T){t.setHours(0,0,0,0),t.setDate(t.getDate()-180);for(let i=0;i<365;i++){let n=new Date(t);n.setDate(t.getDate()+i),e.push({label:n.toLocaleDateString("en-US",{month:"short",day:"numeric"}),date:n})}}else if("week"===T){let i=new Date(t);i.setDate(t.getDate()-t.getDay()-364);for(let t=0;t<104;t++){let n=new Date(i);n.setDate(i.getDate()+7*t);let r=new Date(n);r.setDate(n.getDate()+6),e.push({label:"".concat(n.toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ").concat(r.toLocaleDateString("en-US",{month:"short",day:"numeric"})),date:n})}}else if("month"===T){t.setDate(1),t.setMonth(t.getMonth()-24);for(let i=0;i<48;i++){let n=new Date(t);n.setMonth(t.getMonth()+i),e.push({label:n.toLocaleDateString("en-US",{month:"short",year:"numeric"}),date:n})}}else if("quarter"===T){let i=new Date(t.getFullYear(),3*Math.floor(t.getMonth()/3)-36,1);for(let t=0;t<24;t++){let n=new Date(i);n.setMonth(i.getMonth()+3*t);let r=Math.floor(n.getMonth()/3)+1;e.push({label:"Q".concat(r," ").concat(n.getFullYear()),date:n})}}return e})(),tj=(0,r.useCallback)(()=>"day"===T?60:"week"===T?105:"month"===T?110:100,[T]);return((0,r.useEffect)(()=>{if(N.current&&tv.length>0){let e=new Date;e.setHours(0,0,0,0);let t=-1;if("day"===T)t=tv.findIndex(t=>{let i=new Date(t.date);return i.setHours(0,0,0,0),i.getTime()===e.getTime()});else if("week"===T)t=tv.findIndex(t=>{let i=new Date(t.date),n=new Date(i);return n.setDate(n.getDate()+6),e>=i&&e<=n});else if("month"===T)t=tv.findIndex(t=>{let i=new Date(t.date);return i.getMonth()===e.getMonth()&&i.getFullYear()===e.getFullYear()});else if("quarter"===T){let i=Math.floor(e.getMonth()/3);t=tv.findIndex(t=>{let n=new Date(t.date),r=Math.floor(n.getMonth()/3);return r===i&&n.getFullYear()===e.getFullYear()})}if(t>=0){let e=tj(),i=240+t*e-N.current.clientWidth/2;requestAnimationFrame(()=>{N.current&&(N.current.scrollLeft=Math.max(0,i))})}}},[T,tv,tj]),y||W)?(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:"#F8FAFC"},children:(0,n.jsxs)("div",{style:{textAlign:"center"},children:[(0,n.jsx)("div",{className:"spinner",style:{margin:"0 auto 16px"}}),(0,n.jsx)("p",{style:{color:"#64748B"},children:"Loading Timeline & Roadmap..."})]})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{style:{display:"flex",minHeight:"100vh",background:"#F8FAFC"},children:[(0,n.jsx)(d.Z,{projects:[],onCreateProject:()=>{}}),(0,n.jsxs)("div",{className:"page-main",style:{marginLeft:M?"0":"280px",flex:1,padding:M?"90px 16px 20px":"32px",maxWidth:"100%",overflow:"hidden"},children:[(0,n.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"20px",flexWrap:"wrap",gap:"16px"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{style:{fontSize:M?"24px":"32px",fontWeight:"800",color:"#1F2937",margin:"0 0 8px 0"},children:"Timeline & Roadmap"}),(0,n.jsx)("p",{style:{color:"#64748B",margin:0,fontSize:"16px"},children:"Project timeline, Gantt charts, KPI tracking & team performance"})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[(0,n.jsxs)("button",{onClick:()=>et(!0),style:{padding:"12px 20px",background:"#3B82F6",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[(0,n.jsx)(s.Z,{style:{width:"18px",height:"18px"}}),"New Project"]}),w&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("button",{onClick:()=>en(!0),style:{padding:"12px 20px",background:"#10B981",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[(0,n.jsx)(p.Z,{style:{width:"18px",height:"18px"}}),"New Category"]}),(0,n.jsxs)("button",{onClick:()=>eo(!0),style:{padding:"12px 20px",background:"#F59E0B",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[(0,n.jsx)(p.Z,{style:{width:"18px",height:"18px"}}),"Add New Task"]})]})]})]}),v.length>0&&(0,n.jsxs)("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap",alignItems:"center",marginBottom:"20px"},children:[(0,n.jsx)("select",{value:(null==w?void 0:w.id)||"",onChange:e=>{let t=v.find(t=>t.id===parseInt(e.target.value));k(t||null)},style:{padding:"12px 16px",border:"2px solid #E5E7EB",borderRadius:"8px",fontSize:"14px",fontWeight:"600",background:"white",minWidth:"250px"},children:v.map(e=>(0,n.jsx)("option",{value:e.id,children:e.name},e.id))}),(0,n.jsxs)("div",{style:{display:"flex",gap:"4px",background:"white",padding:"4px",borderRadius:"8px",border:"2px solid #E5E7EB"},children:[(0,n.jsx)("button",{onClick:()=>Y("gantt"),style:{padding:"8px 16px",background:"gantt"===U?"#FFB333":"transparent",color:"gantt"===U?"white":"#64748B",border:"none",borderRadius:"6px",fontWeight:"600",cursor:"pointer",fontSize:"14px"},children:"Gantt"}),(0,n.jsx)("button",{onClick:()=>Y("calendar"),style:{padding:"8px 16px",background:"calendar"===U?"#FFB333":"transparent",color:"calendar"===U?"white":"#64748B",border:"none",borderRadius:"6px",fontWeight:"600",cursor:"pointer",fontSize:"14px"},children:"Calendar"})]}),"gantt"===U&&(0,n.jsxs)("div",{style:{display:"flex",gap:"4px",background:"white",padding:"4px",borderRadius:"8px",border:"2px solid #E5E7EB"},children:[(0,n.jsx)("button",{onClick:()=>Z("day"),style:{padding:"8px 16px",background:"day"===T?"#3B82F6":"transparent",color:"day"===T?"white":"#64748B",border:"none",borderRadius:"6px",fontWeight:"600",cursor:"pointer",fontSize:"14px"},children:"Day"}),(0,n.jsx)("button",{onClick:()=>Z("week"),style:{padding:"8px 16px",background:"week"===T?"#3B82F6":"transparent",color:"week"===T?"white":"#64748B",border:"none",borderRadius:"6px",fontWeight:"600",cursor:"pointer",fontSize:"14px"},children:"Week"}),(0,n.jsx)("button",{onClick:()=>Z("month"),style:{padding:"8px 16px",background:"month"===T?"#3B82F6":"transparent",color:"month"===T?"white":"#64748B",border:"none",borderRadius:"6px",fontWeight:"600",cursor:"pointer",fontSize:"14px"},children:"Month"}),(0,n.jsx)("button",{onClick:()=>Z("quarter"),style:{padding:"8px 16px",background:"quarter"===T?"#3B82F6":"transparent",color:"quarter"===T?"white":"#64748B",border:"none",borderRadius:"6px",fontWeight:"600",cursor:"pointer",fontSize:"14px"},children:"Quarter"})]}),"gantt"===U&&(0,n.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,n.jsx)("button",{onClick:()=>{let e=new Date(O);"day"===T?e.setDate(e.getDate()-1):"week"===T?e.setDate(e.getDate()-7):"month"===T?e.setMonth(e.getMonth()-1):e.setMonth(e.getMonth()-3),P(e)},style:{padding:"8px",background:"white",border:"2px solid #E5E7EB",borderRadius:"8px",cursor:"pointer"},children:(0,n.jsx)(c.Z,{style:{width:"20px",height:"20px",color:"#64748B"}})}),(0,n.jsx)("button",{onClick:()=>P(new Date),style:{padding:"8px 16px",background:"white",border:"2px solid #E5E7EB",borderRadius:"8px",fontWeight:"600",fontSize:"14px",cursor:"pointer",color:"#374151"},children:"Today"}),(0,n.jsx)("button",{onClick:()=>{let e=new Date(O);"day"===T?e.setDate(e.getDate()+1):"week"===T?e.setDate(e.getDate()+7):"month"===T?e.setMonth(e.getMonth()+1):e.setMonth(e.getMonth()+3),P(e)},style:{padding:"8px",background:"white",border:"2px solid #E5E7EB",borderRadius:"8px",cursor:"pointer"},children:(0,n.jsx)(x.Z,{style:{width:"20px",height:"20px",color:"#64748B"}})})]}),w&&(0,n.jsxs)("button",{onClick:()=>ed(!0),style:{padding:"12px 20px",background:"white",color:"#374151",border:"2px solid #E5E7EB",borderRadius:"8px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[(0,n.jsx)(g.Z,{style:{width:"18px",height:"18px"}}),"Team (",E.length,")"]}),(0,n.jsxs)("button",{onClick:()=>ec(!0),style:{padding:"12px 20px",background:"white",color:"#374151",border:"2px solid #E5E7EB",borderRadius:"8px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[(0,n.jsx)(h.Z,{style:{width:"18px",height:"18px"}}),"Reports"]})]})]}),R&&(0,n.jsxs)("div",{style:{padding:"16px",background:"#FEE2E2",color:"#DC2626",borderRadius:"8px",marginBottom:"20px"},children:[R,(0,n.jsx)("button",{onClick:()=>z(""),style:{float:"right",background:"none",border:"none",cursor:"pointer"},children:"\xd7"})]}),A&&(0,n.jsx)("div",{style:{padding:"16px",background:"#D1FAE5",color:"#059669",borderRadius:"8px",marginBottom:"20px"},children:A}),w?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:M?"1fr":"repeat(4, 1fr)",gap:"20px",marginBottom:"32px"},children:[(0,n.jsxs)("div",{style:{background:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:[(0,n.jsx)("div",{style:{fontSize:"14px",color:"#64748B",marginBottom:"8px",fontWeight:"600"},children:"Project Completion"}),(0,n.jsxs)("div",{style:{fontSize:"32px",fontWeight:"800",color:"#3B82F6"},children:[Math.round(F.reduce((e,t)=>e+t.completion_percentage,0)/(F.length||1)),"%"]}),(0,n.jsxs)("div",{style:{fontSize:"12px",color:"#10B981",marginTop:"4px"},children:[F.filter(e=>"completed"===e.status).length," of ",F.length," completed"]})]}),(0,n.jsxs)("div",{style:{background:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:[(0,n.jsx)("div",{style:{fontSize:"14px",color:"#64748B",marginBottom:"8px",fontWeight:"600"},children:"Budget Status"}),(0,n.jsxs)("div",{style:{fontSize:"32px",fontWeight:"800",color:"#10B981"},children:["$",F.reduce((e,t)=>e+t.actual_spending,0).toLocaleString()]}),(0,n.jsxs)("div",{style:{fontSize:"12px",color:"#64748B",marginTop:"4px"},children:["of $",F.reduce((e,t)=>e+t.planned_budget,0).toLocaleString()," planned"]})]}),(0,n.jsxs)("div",{style:{background:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:[(0,n.jsx)("div",{style:{fontSize:"14px",color:"#64748B",marginBottom:"8px",fontWeight:"600"},children:"Active Items"}),(0,n.jsx)("div",{style:{fontSize:"32px",fontWeight:"800",color:"#F59E0B"},children:F.filter(e=>"in_progress"===e.status).length}),(0,n.jsx)("div",{style:{fontSize:"12px",color:"#64748B",marginTop:"4px"},children:"in progress"})]}),(0,n.jsxs)("div",{style:{background:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:[(0,n.jsx)("div",{style:{fontSize:"14px",color:"#64748B",marginBottom:"8px",fontWeight:"600"},children:"Timeline Health"}),(0,n.jsx)("div",{style:{fontSize:"32px",fontWeight:"800",color:F.filter(e=>new Date(e.end_date)<new Date&&"completed"!==e.status).length>0?"#DC2626":"#10B981"},children:F.filter(e=>new Date(e.end_date)>=new Date||"completed"===e.status).length>F.length/2?"On Track":"At Risk"}),(0,n.jsxs)("div",{style:{fontSize:"12px",color:"#64748B",marginTop:"4px"},children:[F.filter(e=>new Date(e.end_date)<new Date&&"completed"!==e.status).length," overdue"]})]})]}),"gantt"===U&&B.length>0&&(0,n.jsxs)("div",{ref:N,style:{background:"white",borderRadius:"16px",padding:"24px",boxShadow:"0 4px 12px rgba(0,0,0,0.08)",overflowX:"auto"},children:[(0,n.jsx)("h2",{style:{fontSize:"20px",fontWeight:"700",marginBottom:"20px",color:"#1F2937"},children:"Gantt Chart"}),(0,n.jsxs)("div",{style:{minWidth:"day"===T?"22000px":"week"===T?"13000px":"month"===T?"6000px":"3000px"},children:[(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"240px repeat(".concat(tv.length,", minmax(").concat("day"===T?"55px":"week"===T?"115px":"month"===T?"110px":"100px",", 1fr))"),gap:"0",marginBottom:"0"},children:[(0,n.jsx)("div",{style:{background:"#1F2937",padding:"12px 16px",fontWeight:"600",color:"white",borderRadius:"8px 0 0 0",fontSize:"13px",position:"sticky",left:0,zIndex:20},children:"Category / Item"}),tv.map((e,t)=>{let i=new Date;i.setHours(0,0,0,0);let r=new Date(e.date);r.setHours(0,0,0,0);let o=i.getTime()===r.getTime(),l=r<i,d=0===e.date.getDay()||6===e.date.getDay();return(0,n.jsx)("div",{style:{background:o?"#FFB333":l?"#F1F5F9":d?"#F8FAFC":"#FAFAFA",padding:"10px 4px",textAlign:"center",fontWeight:o?"700":"500",fontSize:"day"===T?"10px":"week"===T?"10px":"11px",color:o?"white":l?"#94A3B8":"#64748B",borderLeft:"1px solid #E5E7EB",borderBottom:"1px solid #E5E7EB"},children:e.label},t)})]}),(()=>{var e;let i=parseInt((null==t?void 0:null===(e=t.id)||void 0===e?void 0:e.toString())||"0"),r=e=>{if($||V||e.responsible_person_id===i)return!0;let t=F.some(t=>t.category_id===e.id&&(t.team_leader_id===i||(t.team_member_ids||[]).includes(i)));return!!t||!!e.subcategories&&e.subcategories.length>0&&e.subcategories.some(e=>r(e))},o=e=>$||V?e:e.filter(e=>e.team_leader_id===i||(e.team_member_ids||[]).includes(i)),l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!r(e))return null;let i=F.filter(t=>t.category_id===e.id),d=o(i);return(0,n.jsxs)("div",{style:{marginBottom:"0"},children:[(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"240px repeat(".concat(tv.length,", minmax(").concat("day"===T?"55px":"week"===T?"115px":"month"===T?"110px":"100px",", 1fr))"),gap:"0",background:"#F1F5F9"},children:[(0,n.jsxs)("div",{style:{background:eR===e.id?e.color+"30":e.color+"20",padding:"16px",paddingLeft:"".concat(16+20*t,"px"),fontWeight:"700",color:e.color,borderLeft:"4px solid ".concat(e.color),display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",transition:"all 0.2s ease",position:"sticky",left:0,zIndex:15},onClick:()=>ez(eR===e.id?null:e.id),children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,n.jsx)("button",{onClick:t=>{t.stopPropagation();let i=new Set(eY);i.has(e.id)?i.delete(e.id):i.add(e.id),eV(i)},style:{background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center"},children:eY.has(e.id)?(0,n.jsx)(u.Z,{style:{width:"20px",height:"20px",color:e.color}}):(0,n.jsx)(x.Z,{style:{width:"20px",height:"20px",color:e.color}})}),(0,n.jsxs)("span",{children:[t>0?"└ ":"",e.name]})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,n.jsx)("span",{style:{fontSize:"12px",fontWeight:"600",background:e.color,color:"white",padding:"4px 8px",borderRadius:"12px"},children:d.length}),eR===e.id&&(0,n.jsxs)("button",{onClick:async t=>{t.stopPropagation(),confirm('Delete category "'.concat(e.name,'"?'))&&(await a.supabase.from("timeline_categories").update({is_active:!1}).eq("id",e.id),e4(),ez(null),I('"'.concat(e.name,'" deleted')))},style:{padding:"6px 12px",background:"#DC2626",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"600",display:"flex",alignItems:"center",gap:"4px"},children:['Delete "',e.name,'"']})]})]}),tv.map((e,t)=>(0,n.jsx)("div",{style:{background:"white",minHeight:"20px"}},t))]}),eY.has(e.id)&&d.map(e=>{let{startCol:t,spanCols:i}=tn(e,tv),r="completed"===e.status;return(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"240px repeat(".concat(tv.length,", minmax(").concat("day"===T?"55px":"week"===T?"115px":"month"===T?"110px":"100px",", 1fr))"),gap:"0",marginBottom:"0"},children:[(0,n.jsxs)("div",{style:{background:r?"#F3F4F6":"white",padding:"12px 16px",fontSize:"14px",color:r?"#9CA3AF":"#374151",borderLeft:"3px solid ".concat(to(e.priority)),display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",opacity:r?.7:1,position:"sticky",left:0,zIndex:10},onClick:t=>{t.stopPropagation(),eQ(e)},children:[(0,n.jsx)("input",{type:"checkbox",checked:r,onChange:async t=>{t.stopPropagation(),await a.supabase.from("timeline_items").update({status:r?"in_progress":"completed",completion_percentage:r?e.completion_percentage:100}).eq("id",e.id),e8()},style:{width:"16px",height:"16px",cursor:"pointer",marginRight:"10px",flexShrink:0,accentColor:"#10B981"}}),(0,n.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,n.jsx)("div",{style:{fontWeight:"600",fontSize:"13px",textDecoration:r?"line-through":"none",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.title}),(0,n.jsxs)("div",{style:{fontSize:"11px",color:"#94A3B8",marginTop:"2px"},children:[new Date(e.start_date).toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",new Date(e.end_date).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"6px",alignItems:"center",flexShrink:0},children:[(0,n.jsx)("div",{style:{padding:"3px 8px",background:tr(e.status)+"15",color:tr(e.status),borderRadius:"6px",fontSize:"10px",fontWeight:"600",textTransform:"capitalize"},children:e.status.replace("_"," ")}),(0,n.jsx)("button",{onClick:async t=>{t.stopPropagation(),confirm('Delete "'.concat(e.title,'"?'))&&(await a.supabase.from("timeline_items").delete().eq("id",e.id),e8(),I("Item deleted"))},style:{padding:"4px 8px",background:"#FEE2E2",color:"#DC2626",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"10px",fontWeight:"600"},children:"Delete"})]})]}),tv.map((r,o)=>{let l=new Date;l.setHours(0,0,0,0);let d=new Date(r.date);d.setHours(0,0,0,0);let a=l.getTime()===d.getTime(),s=0===r.date.getDay()||6===r.date.getDay();return(0,n.jsx)("div",{style:{background:a?"#FEF3C7":d<l?"#F8FAFC":s?"#FAFAFA":"white",position:"relative",minHeight:"50px",borderLeft:"1px solid #E2E8F0",borderBottom:"1px solid #E2E8F0"},children:o===t&&t>=0&&(0,n.jsx)("div",{style:{position:"absolute",left:"3px",top:"6px",bottom:"6px",width:"calc(".concat(100*i,"% - 6px + ").concat((i-1)*1,"px)"),background:e.color,borderRadius:"5px",cursor:"pointer",boxShadow:"0 1px 4px rgba(0,0,0,0.15)",display:"flex",alignItems:"center",paddingLeft:"8px",paddingRight:"8px",zIndex:5,overflow:"hidden"},onClick:()=>eQ(e),title:e.title,children:(0,n.jsx)("span",{style:{color:"white",fontWeight:"600",fontSize:"11px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.title})})},o)})]},e.id)}),e.subcategories&&e.subcategories.length>0&&(0,n.jsx)(n.Fragment,{children:e.subcategories.map(e=>l(e,t+1))})]},e.id)};return B.map(e=>l(e,0))})(),0===B.length&&(0,n.jsxs)("div",{style:{textAlign:"center",padding:"60px 20px",color:"#9CA3AF"},children:[(0,n.jsx)("p",{children:"No categories yet. Create your first category to organize timeline items."}),(0,n.jsx)("button",{onClick:()=>en(!0),style:{marginTop:"16px",padding:"12px 24px",background:"#10B981",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer"},children:"Create First Category"})]})]})]}),"calendar"===U&&(0,n.jsxs)("div",{style:{background:"white",borderRadius:"16px",padding:"24px",boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[(0,n.jsx)("h2",{style:{fontSize:"20px",fontWeight:"700",color:"#1F2937",margin:0},children:"Calendar View"}),(0,n.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,n.jsx)("button",{onClick:()=>P(e=>{let t=new Date(e);return t.setMonth(t.getMonth()-1),t}),style:{padding:"8px",background:"#F3F4F6",border:"none",borderRadius:"6px",cursor:"pointer"},children:(0,n.jsx)(c.Z,{style:{width:"18px",height:"18px"}})}),(0,n.jsx)("span",{style:{fontWeight:"600",fontSize:"16px",minWidth:"150px",textAlign:"center"},children:O.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),(0,n.jsx)("button",{onClick:()=>P(e=>{let t=new Date(e);return t.setMonth(t.getMonth()+1),t}),style:{padding:"8px",background:"#F3F4F6",border:"none",borderRadius:"6px",cursor:"pointer"},children:(0,n.jsx)(x.Z,{style:{width:"18px",height:"18px"}})})]})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"1px",background:"#E5E7EB",borderRadius:"8px",overflow:"hidden"},children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,n.jsx)("div",{style:{background:"#F8FAFC",padding:"12px",textAlign:"center",fontWeight:"600",fontSize:"12px",color:"#64748B"},children:e},e)),(()=>{let e=O.getFullYear(),i=O.getMonth(),r=new Date(e,i,1).getDay(),o=new Date(e,i+1,0).getDate(),l=new Date,d=[];for(let e=0;e<r;e++)d.push((0,n.jsx)("div",{style:{background:"#FAFAFA",minHeight:"100px",padding:"8px"}},"empty-".concat(e)));for(let r=1;r<=o;r++){var a;let o=new Date(e,i,r),s=o.toDateString()===l.toDateString(),p=parseInt((null==t?void 0:null===(a=t.id)||void 0===a?void 0:a.toString())||"0"),c=F.filter(e=>{let t=new Date(e.start_date),i=new Date(e.end_date);t.setHours(0,0,0,0),i.setHours(23,59,59,999),o.setHours(12,0,0,0);let n=o>=t&&o<=i;return!!n&&(!!$||!!V||e.team_leader_id===p||(e.team_member_ids||[]).includes(p))});d.push((0,n.jsxs)("div",{style:{background:s?"#FEF3C7":"white",minHeight:"100px",padding:"8px",borderTop:s?"3px solid #FFB333":"none"},children:[(0,n.jsx)("div",{style:{fontWeight:s?"700":"500",fontSize:"14px",color:s?"#B45309":"#374151",marginBottom:"6px"},children:r}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[c.slice(0,3).map(e=>(0,n.jsx)("div",{onClick:()=>eQ(e),style:{padding:"4px 6px",background:e.color,color:"white",borderRadius:"4px",fontSize:"10px",fontWeight:"500",cursor:"pointer",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:e.title,children:e.title},e.id)),c.length>3&&(0,n.jsxs)("button",{onClick:e=>{e.stopPropagation(),eu(c),ef(o),eg(!0)},style:{fontSize:"10px",color:"#5884FD",fontWeight:"600",background:"#EFF6FF",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",width:"100%",textAlign:"center"},children:["+",c.length-3," more"]})]})]},r))}return d})()]})]})]}):(0,n.jsxs)("div",{style:{textAlign:"center",padding:"80px 20px",background:"white",borderRadius:"16px"},children:[(0,n.jsx)(s.Z,{style:{width:"64px",height:"64px",color:"#D1D5DB",margin:"0 auto 20px"}}),(0,n.jsx)("h2",{style:{fontSize:"24px",fontWeight:"600",color:"#1F2937",marginBottom:"12px"},children:"No Projects Yet"}),(0,n.jsx)("p",{style:{color:"#64748B",marginBottom:"24px"},children:"Create your first project to start planning and tracking your tasks"}),(0,n.jsxs)("button",{onClick:()=>et(!0),style:{padding:"16px 32px",background:"#3B82F6",color:"white",border:"none",borderRadius:"12px",fontWeight:"600",fontSize:"16px",cursor:"pointer"},children:[(0,n.jsx)(p.Z,{style:{width:"20px",height:"20px",display:"inline-block",marginRight:"8px"}}),"Create New Project"]})]})]})]}),ee&&(0,n.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>et(!1),children:(0,n.jsxs)("div",{style:{background:"white",borderRadius:"16px",padding:"32px",maxWidth:"600px",width:"90%"},onClick:e=>e.stopPropagation(),children:[(0,n.jsx)("h3",{style:{fontSize:"24px",fontWeight:"700",marginBottom:"24px"},children:"Create New Project"}),(0,n.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Folder Name *"}),(0,n.jsx)("input",{type:"text",value:ey.name,onChange:e=>eb({...ey,name:e.target.value}),placeholder:"e.g., 2025 Company Roadmap",style:{width:"100%",padding:"12px",border:"2px solid #E5E7EB",borderRadius:"8px"}})]}),(0,n.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Description"}),(0,n.jsx)("textarea",{value:ey.description,onChange:e=>eb({...ey,description:e.target.value}),rows:3,style:{width:"100%",padding:"12px",border:"2px solid #E5E7EB",borderRadius:"8px"}})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"20px"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Start Date"}),(0,n.jsx)("input",{type:"date",value:ey.start_date,onChange:e=>eb({...ey,start_date:e.target.value}),style:{width:"100%",padding:"12px",border:"2px solid #E5E7EB",borderRadius:"8px"}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"End Date"}),(0,n.jsx)("input",{type:"date",value:ey.end_date,onChange:e=>eb({...ey,end_date:e.target.value}),style:{width:"100%",padding:"12px",border:"2px solid #E5E7EB",borderRadius:"8px"}})]})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[(0,n.jsx)("button",{onClick:()=>et(!1),style:{padding:"12px 24px",background:"#6B7280",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer"},children:"Cancel"}),(0,n.jsx)("button",{onClick:e7,style:{padding:"12px 24px",background:"#3B82F6",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer"},children:"Create Folder"})]})]})}),ei&&(0,n.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>en(!1),children:(0,n.jsxs)("div",{style:{background:"white",borderRadius:"16px",padding:"32px",maxWidth:"500px",width:"90%"},onClick:e=>e.stopPropagation(),children:[(0,n.jsx)("h3",{style:{fontSize:"24px",fontWeight:"700",marginBottom:"24px"},children:"Create Category"}),(0,n.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Category Name *"}),(0,n.jsx)("input",{type:"text",value:ev.name,onChange:e=>ej({...ev,name:e.target.value}),placeholder:"e.g., Social Media, IT, Marketing",style:{width:"100%",padding:"12px",border:"2px solid #E5E7EB",borderRadius:"8px"}})]}),(0,n.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Parent Category (Optional)"}),(0,n.jsxs)("select",{value:ev.parent_category_id||"",onChange:e=>ej({...ev,parent_category_id:e.target.value?parseInt(e.target.value):null}),style:{width:"100%",padding:"12px",border:"2px solid #E5E7EB",borderRadius:"8px"},children:[(0,n.jsx)("option",{value:"",children:"None (Main Category)"}),B.map(e=>(0,n.jsxs)("option",{value:e.id,children:["↳ ",e.name]},e.id))]}),(0,n.jsx)("div",{style:{fontSize:"12px",color:"#64748B",marginTop:"4px"},children:"Select a parent to create a subcategory"})]}),(0,n.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Description"}),(0,n.jsx)("textarea",{value:ev.description,onChange:e=>ej({...ev,description:e.target.value}),rows:2,placeholder:"Optional description...",style:{width:"100%",padding:"12px",border:"2px solid #E5E7EB",borderRadius:"8px"}})]}),(0,n.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Color"}),(0,n.jsx)("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:["#F59E0B","#8B5CF6","#10B981","#3B82F6","#EF4444","#EC4899","#F97316","#14B8A6"].map(e=>(0,n.jsx)("button",{onClick:()=>ej({...ev,color:e}),style:{width:"40px",height:"40px",borderRadius:"8px",background:e,border:ev.color===e?"3px solid #1F2937":"none",cursor:"pointer"}},e))})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[(0,n.jsx)("button",{onClick:()=>en(!1),style:{padding:"12px 24px",background:"#6B7280",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer"},children:"Cancel"}),(0,n.jsx)("button",{onClick:e9,style:{padding:"12px 24px",background:"#10B981",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer"},children:"Create Category"})]})]})}),er&&(0,n.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px",overflowY:"auto"},onClick:()=>{eo(!1),ti(),tx&&(tg(!1),eG(th),ec(!0))},children:(0,n.jsxs)("div",{style:{background:"white",borderRadius:"16px",padding:"32px",maxWidth:"700px",width:"100%",maxHeight:"90vh",overflowY:"auto"},onClick:e=>e.stopPropagation(),children:[(0,n.jsx)("h3",{style:{fontSize:"24px",fontWeight:"700",marginBottom:"24px"},children:eW?"Edit Task":"Add New Task"}),(0,n.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Title *"}),(0,n.jsx)("input",{type:"text",value:ew.title,onChange:e=>ek({...ew,title:e.target.value}),placeholder:"e.g., Website Redesign Project",style:{width:"100%",padding:"12px",border:"2px solid #E5E7EB",borderRadius:"8px"}})]}),(0,n.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Category & Subcategories"}),(0,n.jsxs)("select",{value:ew.category_id,onChange:e=>ek({...ew,category_id:parseInt(e.target.value)}),style:{width:"100%",padding:"12px",border:"2px solid #E5E7EB",borderRadius:"8px"},children:[(0,n.jsx)("option",{value:0,children:"Select category..."}),(()=>{let e=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[];return t.forEach(t=>{let o="  ".repeat(i);r.push((0,n.jsxs)("option",{value:t.id,children:[i>0?o+"└ ":"",t.name]},t.id)),t.subcategories&&t.subcategories.length>0&&(r=r.concat(e(t.subcategories,i+1)))}),r};return e(B)})()]})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"20px"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Start Date *"}),(0,n.jsx)("input",{type:"date",value:ew.start_date,onChange:e=>ek({...ew,start_date:e.target.value}),style:{width:"100%",padding:"12px",border:"2px solid #E5E7EB",borderRadius:"8px"}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"End Date *"}),(0,n.jsx)("input",{type:"date",value:ew.end_date,onChange:e=>ek({...ew,end_date:e.target.value}),style:{width:"100%",padding:"12px",border:"2px solid #E5E7EB",borderRadius:"8px"}})]})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"20px"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Phase"}),(0,n.jsx)("select",{value:ew.phase,onChange:e=>ek({...ew,phase:e.target.value}),style:{width:"100%",padding:"12px",border:"2px solid #E5E7EB",borderRadius:"8px"},children:eJ.map(e=>(0,n.jsx)("option",{value:e,children:e},e))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Status"}),(0,n.jsxs)("select",{value:ew.status,onChange:e=>ek({...ew,status:e.target.value}),style:{width:"100%",padding:"12px",border:"2px solid #E5E7EB",borderRadius:"8px"},children:[(0,n.jsx)("option",{value:"not_started",children:"Not Started"}),(0,n.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,n.jsx)("option",{value:"completed",children:"Completed"}),(0,n.jsx)("option",{value:"on_hold",children:"On Hold"}),(0,n.jsx)("option",{value:"delayed",children:"Delayed"})]})]})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"20px"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Planned Budget ($)"}),(0,n.jsx)("input",{type:"number",value:ew.planned_budget,onChange:e=>ek({...ew,planned_budget:parseFloat(e.target.value)||0}),style:{width:"100%",padding:"12px",border:"2px solid #E5E7EB",borderRadius:"8px"}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Actual Spending ($)"}),(0,n.jsx)("input",{type:"number",value:ew.actual_spending,onChange:e=>ek({...ew,actual_spending:parseFloat(e.target.value)||0}),style:{width:"100%",padding:"12px",border:"2px solid #E5E7EB",borderRadius:"8px"}})]})]}),(0,n.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"12px",fontWeight:"600"},children:"Assign Team Members"}),(0,n.jsx)("div",{style:{border:"2px solid #E5E7EB",borderRadius:"8px",padding:"16px",background:"#F9FAFB",maxHeight:"200px",overflowY:"auto"},children:eM.length>0?eM.map(e=>(0,n.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"10px",background:"white",borderRadius:"6px",marginBottom:"8px",cursor:"pointer",border:ew.team_member_ids.includes(e.id)?"2px solid #3B82F6":"2px solid transparent"},children:[(0,n.jsx)("input",{type:"checkbox",checked:ew.team_member_ids.includes(e.id),onChange:t=>{t.target.checked?ek({...ew,team_member_ids:[...ew.team_member_ids,e.id]}):ek({...ew,team_member_ids:ew.team_member_ids.filter(t=>t!==e.id)})},style:{width:"18px",height:"18px",cursor:"pointer",accentColor:"#3B82F6"}}),(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("div",{style:{fontWeight:"600",fontSize:"14px",color:"#374151"},children:e.name}),(0,n.jsx)("div",{style:{fontSize:"12px",color:"#64748B"},children:e.email})]})]},e.id)):(0,n.jsx)("p",{style:{textAlign:"center",color:"#9CA3AF",fontSize:"14px",padding:"20px"},children:"No team members. Add members in Team settings."})})]}),(0,n.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Checklist Items"}),(0,n.jsx)("p",{style:{fontSize:"12px",color:"#64748B",marginBottom:"12px"},children:"Completion % is automatically calculated based on checklist items completed"}),(0,n.jsxs)("div",{style:{border:"2px solid #E5E7EB",borderRadius:"8px",padding:"16px",background:"#F9FAFB"},children:[(0,n.jsxs)("div",{style:{display:"flex",gap:"8px",marginBottom:"12px"},children:[(0,n.jsx)("input",{type:"text",value:eF,onChange:e=>eS(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),eF.trim()&&(e_([...eB,eF]),eS("")))},placeholder:"Add checklist item...",style:{flex:1,padding:"10px",border:"1px solid #D1D5DB",borderRadius:"6px"}}),(0,n.jsx)("button",{type:"button",onClick:()=>{eF.trim()&&(e_([...eB,eF]),eS(""))},style:{padding:"10px 20px",background:"#3B82F6",color:"white",border:"none",borderRadius:"6px",fontWeight:"600",cursor:"pointer"},children:"Add"})]}),eB.map((e,t)=>(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px",background:"white",borderRadius:"6px",marginBottom:"8px"},children:[(0,n.jsxs)("span",{style:{flex:1,fontSize:"14px"},children:[t+1,". ",e]}),(0,n.jsx)("button",{onClick:()=>e_(eB.filter((e,i)=>i!==t)),style:{padding:"4px 8px",background:"#DC2626",color:"white",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer"},children:"Remove"})]},t))]})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[(0,n.jsx)("button",{onClick:()=>{eo(!1),ti(),tx&&(tg(!1),eG(th),ec(!0))},style:{padding:"12px 24px",background:"#6B7280",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer"},children:tx?"Back to Reports":"Cancel"}),(0,n.jsx)("button",{onClick:te,style:{padding:"12px 24px",background:eW?"#3B82F6":"#F59E0B",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer"},children:eW?"Update Item":"Create Item"})]})]})}),el&&w&&(0,n.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:()=>ed(!1),children:(0,n.jsxs)("div",{style:{background:"white",borderRadius:"16px",padding:"32px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflowY:"auto"},onClick:e=>e.stopPropagation(),children:[(0,n.jsx)("h3",{style:{fontSize:"24px",fontWeight:"700",marginBottom:"24px"},children:"Manage Team Members"}),(0,n.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,n.jsx)("p",{style:{fontSize:"13px",color:"#64748B",marginBottom:"12px"},children:"Add team members who can view and work on their assigned tasks only."}),(0,n.jsxs)("div",{style:{display:"flex",gap:"8px",marginBottom:"16px",flexDirection:M?"column":"row"},children:[(0,n.jsx)("input",{type:"email",placeholder:"Enter team member email...",id:"memberEmail",style:{flex:1,padding:"14px 16px",border:"2px solid #E5E7EB",borderRadius:"8px",fontSize:"15px",minWidth:M?"100%":"300px"}}),(0,n.jsx)("button",{onClick:async()=>{let e=document.getElementById("memberEmail").value;if(e.trim())try{z("");let{data:t,error:i}=await a.supabase.from("auth_user").select("id, name, email").eq("email",e.trim()).single();if(i||!t){z("User not found with this email");return}let n=E.find(e=>e.user_id===t.id);if(n){z("This user is already a member");return}let{error:r}=await a.supabase.from("timeline_folder_members").insert([{folder_id:w.id,user_id:t.id,role:"member",can_edit:!0,can_delete:!1,can_manage_members:!1,can_manage_budget:!1}]);if(r){console.error("Insert error:",r),z("Failed to add member: "+r.message);return}await e3(),I("Member added successfully!"),document.getElementById("memberEmail").value=""}catch(e){console.error("Add member error:",e),z("Failed to add member: "+(e.message||"Unknown error"))}},style:{padding:"12px 20px",background:"#3B82F6",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer"},children:"Add Member"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Current Members"}),E.map(e=>(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px",background:"#F9FAFB",borderRadius:"8px",marginBottom:"8px"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{fontWeight:"600",fontSize:"14px"},children:e.user_name}),(0,n.jsx)("div",{style:{fontSize:"12px",color:"#64748B"},children:e.user_email})]}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:["owner"===e.role?(0,n.jsx)("span",{style:{padding:"6px 14px",background:"#3B82F6",color:"white",borderRadius:"8px",fontSize:"12px",fontWeight:"600"},children:"Owner"}):(0,n.jsxs)("select",{value:"admin"===e.role?"admin":"member",onChange:async t=>{let i=t.target.value;try{await a.supabase.from("timeline_folder_members").update({role:i,can_edit:!0,can_delete:"admin"===i,can_manage_members:"admin"===i,can_manage_budget:"admin"===i}).eq("id",e.id),e3(),I("Role updated to ".concat(i))}catch(e){z("Failed to update role")}},style:{padding:"6px 12px",border:"2px solid #E5E7EB",borderRadius:"8px",fontSize:"12px",fontWeight:"600",background:"admin"===e.role?"#3B82F6":"#6B7280",color:"white",cursor:"pointer",appearance:"none",WebkitAppearance:"none",paddingRight:"28px",backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='white'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E\")",backgroundRepeat:"no-repeat",backgroundPosition:"right 6px center",backgroundSize:"14px"},children:[(0,n.jsx)("option",{value:"member",style:{background:"white",color:"#374151"},children:"Member"}),(0,n.jsx)("option",{value:"admin",style:{background:"white",color:"#374151"},children:"Admin"})]}),"owner"!==e.role&&(0,n.jsx)("button",{onClick:async()=>{confirm("Remove this member?")&&(await a.supabase.from("timeline_folder_members").delete().eq("id",e.id),e3())},style:{padding:"6px 12px",background:"#DC2626",color:"white",border:"none",borderRadius:"6px",fontSize:"12px",cursor:"pointer",fontWeight:"600"},children:"Remove"})]})]},e.id))]}),(0,n.jsx)("div",{style:{marginTop:"24px",display:"flex",justifyContent:"flex-end"},children:(0,n.jsx)("button",{onClick:()=>ed(!1),style:{padding:"12px 24px",background:"#3B82F6",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer"},children:"Done"})})]})}),ep&&w&&(0,n.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:()=>ec(!1),children:(0,n.jsxs)("div",{style:{background:"white",borderRadius:"16px",padding:"32px",maxWidth:"1100px",width:"100%",maxHeight:"90vh",overflowY:"auto"},onClick:e=>e.stopPropagation(),children:[(0,n.jsx)("h3",{style:{fontSize:"24px",fontWeight:"700",marginBottom:"24px"},children:"Reports & KPI Analytics"}),(0,n.jsx)("div",{style:{display:"flex",gap:"8px",marginBottom:"24px",flexWrap:"wrap",borderBottom:"2px solid #E5E7EB",paddingBottom:"16px"},children:[{id:"overview",label:"Overview",color:"#3B82F6"},{id:"team",label:"Team Workload",color:"#8B5CF6"},{id:"phase",label:"Phase Analysis",color:"#10B981"},{id:"monthly",label:"Monthly",color:"#F59E0B"},{id:"weekly",label:"Weekly",color:"#EC4899"}].map(e=>(0,n.jsx)("button",{onClick:()=>eG(e.id),style:{padding:"10px 20px",background:e$===e.id?e.color:"transparent",color:e$===e.id?"white":"#64748B",border:e$===e.id?"none":"2px solid #E5E7EB",borderRadius:"8px",fontWeight:"600",cursor:"pointer",fontSize:"14px",transition:"all 0.2s ease"},children:e.label},e.id))}),"overview"===e$&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"16px",marginBottom:"32px"},children:(()=>{let e=tb(F);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{style:{background:"linear-gradient(135deg, #3B82F6, #1D4ED8)",padding:"20px",borderRadius:"12px",color:"white"},children:[(0,n.jsx)("div",{style:{fontSize:"12px",opacity:.9,marginBottom:"4px"},children:"Total Tasks"}),(0,n.jsx)("div",{style:{fontSize:"32px",fontWeight:"800"},children:e.totalItems})]}),(0,n.jsxs)("div",{style:{background:"linear-gradient(135deg, #10B981, #047857)",padding:"20px",borderRadius:"12px",color:"white"},children:[(0,n.jsx)("div",{style:{fontSize:"12px",opacity:.9,marginBottom:"4px"},children:"Completed"}),(0,n.jsx)("div",{style:{fontSize:"32px",fontWeight:"800"},children:e.completedItems}),(0,n.jsxs)("div",{style:{fontSize:"11px",opacity:.8},children:[e.completionRate,"% rate"]})]}),(0,n.jsxs)("div",{style:{background:"linear-gradient(135deg, #F59E0B, #D97706)",padding:"20px",borderRadius:"12px",color:"white"},children:[(0,n.jsx)("div",{style:{fontSize:"12px",opacity:.9,marginBottom:"4px"},children:"In Progress"}),(0,n.jsx)("div",{style:{fontSize:"32px",fontWeight:"800"},children:e.inProgressItems})]}),(0,n.jsxs)("div",{style:{background:"linear-gradient(135deg, #EF4444, #DC2626)",padding:"20px",borderRadius:"12px",color:"white"},children:[(0,n.jsx)("div",{style:{fontSize:"12px",opacity:.9,marginBottom:"4px"},children:"Overdue"}),(0,n.jsx)("div",{style:{fontSize:"32px",fontWeight:"800"},children:e.overdueItems})]}),(0,n.jsxs)("div",{style:{background:"linear-gradient(135deg, #8B5CF6, #7C3AED)",padding:"20px",borderRadius:"12px",color:"white"},children:[(0,n.jsx)("div",{style:{fontSize:"12px",opacity:.9,marginBottom:"4px"},children:"On Track Rate"}),(0,n.jsxs)("div",{style:{fontSize:"32px",fontWeight:"800"},children:[e.onTrackRate,"%"]})]}),(0,n.jsxs)("div",{style:{background:"linear-gradient(135deg, #14B8A6, #0D9488)",padding:"20px",borderRadius:"12px",color:"white"},children:[(0,n.jsx)("div",{style:{fontSize:"12px",opacity:.9,marginBottom:"4px"},children:"Avg Completion"}),(0,n.jsxs)("div",{style:{fontSize:"32px",fontWeight:"800"},children:[e.avgCompletion,"%"]})]})]})})()}),(0,n.jsxs)("div",{style:{background:"#F1F5F9",borderRadius:"12px",padding:"20px",marginBottom:"24px"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[(0,n.jsx)("span",{style:{fontWeight:"600"},children:"Overall Progress"}),(0,n.jsxs)("span",{style:{fontWeight:"700",color:"#3B82F6"},children:[Math.round(F.reduce((e,t)=>e+t.completion_percentage,0)/(F.length||1)),"%"]})]}),(0,n.jsx)("div",{style:{width:"100%",height:"24px",background:"#E5E7EB",borderRadius:"12px",overflow:"hidden"},children:(0,n.jsx)("div",{style:{width:"".concat(Math.round(F.reduce((e,t)=>e+t.completion_percentage,0)/(F.length||1)),"%"),height:"100%",background:"linear-gradient(90deg, #3B82F6, #10B981)",transition:"width 0.3s ease"}})})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",marginBottom:"24px"},children:[(0,n.jsxs)("div",{style:{background:"#EFF6FF",padding:"16px",borderRadius:"8px"},children:[(0,n.jsx)("div",{style:{fontSize:"12px",color:"#64748B",marginBottom:"4px"},children:"Planned Budget"}),(0,n.jsxs)("div",{style:{fontSize:"24px",fontWeight:"700",color:"#3B82F6"},children:["$",F.reduce((e,t)=>e+t.planned_budget,0).toLocaleString()]})]}),(0,n.jsxs)("div",{style:{background:"#ECFDF5",padding:"16px",borderRadius:"8px"},children:[(0,n.jsx)("div",{style:{fontSize:"12px",color:"#64748B",marginBottom:"4px"},children:"Actual Spending"}),(0,n.jsxs)("div",{style:{fontSize:"24px",fontWeight:"700",color:"#10B981"},children:["$",F.reduce((e,t)=>e+t.actual_spending,0).toLocaleString()]})]}),(0,n.jsxs)("div",{style:{background:"#FEF3C7",padding:"16px",borderRadius:"8px"},children:[(0,n.jsx)("div",{style:{fontSize:"12px",color:"#64748B",marginBottom:"4px"},children:"Variance"}),(0,n.jsxs)("div",{style:{fontSize:"24px",fontWeight:"700",color:"#F59E0B"},children:["$",Math.abs(F.reduce((e,t)=>e+t.actual_spending,0)-F.reduce((e,t)=>e+t.planned_budget,0)).toLocaleString()]})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Status Distribution"}),(0,n.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))",gap:"12px"},children:["not_started","in_progress","completed","on_hold","delayed"].map(e=>{let t=F.filter(t=>t.status===e).length,i=F.length>0?Math.round(t/F.length*100):0;return(0,n.jsxs)("div",{style:{padding:"12px",background:tr(e)+"20",borderRadius:"8px",textAlign:"center"},children:[(0,n.jsx)("div",{style:{fontSize:"24px",fontWeight:"700",color:tr(e)},children:t}),(0,n.jsx)("div",{style:{fontSize:"11px",color:"#64748B",marginTop:"4px",textTransform:"capitalize"},children:e.replace("_"," ")}),(0,n.jsxs)("div",{style:{fontSize:"10px",color:tr(e),fontWeight:"600"},children:[i,"%"]})]},e)})})]})]}),"team"===e$&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h4",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px"},children:"Team Member Task Assignments"}),ta().length>0?(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:ta().map(e=>{let{member:t,items:i}=e,r=tb(i);return(0,n.jsxs)("div",{style:{background:"#F9FAFB",borderRadius:"12px",padding:"20px",border:"2px solid #E5E7EB"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,n.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"linear-gradient(135deg, #3B82F6, #8B5CF6)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"700",fontSize:"18px"},children:t.name.charAt(0).toUpperCase()}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{fontWeight:"700",fontSize:"16px",color:"#1F2937"},children:t.name}),(0,n.jsx)("div",{style:{fontSize:"12px",color:"#64748B"},children:t.email})]})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,n.jsxs)("div",{style:{textAlign:"center",padding:"8px 16px",background:"#EFF6FF",borderRadius:"8px"},children:[(0,n.jsx)("div",{style:{fontSize:"20px",fontWeight:"700",color:"#3B82F6"},children:i.length}),(0,n.jsx)("div",{style:{fontSize:"10px",color:"#64748B"},children:"Tasks"})]}),(0,n.jsxs)("div",{style:{textAlign:"center",padding:"8px 16px",background:"#ECFDF5",borderRadius:"8px"},children:[(0,n.jsxs)("div",{style:{fontSize:"20px",fontWeight:"700",color:"#10B981"},children:[r.avgCompletion,"%"]}),(0,n.jsx)("div",{style:{fontSize:"10px",color:"#64748B"},children:"Avg Done"})]}),(0,n.jsxs)("div",{style:{textAlign:"center",padding:"8px 16px",background:r.overdueItems>0?"#FEE2E2":"#ECFDF5",borderRadius:"8px"},children:[(0,n.jsx)("div",{style:{fontSize:"20px",fontWeight:"700",color:r.overdueItems>0?"#DC2626":"#10B981"},children:r.overdueItems}),(0,n.jsx)("div",{style:{fontSize:"10px",color:"#64748B"},children:"Overdue"})]})]})]}),(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:i.map(e=>(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px",background:"white",borderRadius:"8px",borderLeft:"4px solid ".concat(e.color)},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",flex:1},children:[(0,n.jsx)("input",{type:"checkbox",checked:"completed"===e.status,onChange:()=>tt(e),style:{width:"18px",height:"18px",cursor:"pointer",accentColor:"#10B981",flexShrink:0}}),(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("div",{style:{fontWeight:"600",fontSize:"14px",color:"completed"===e.status?"#9CA3AF":"#374151",textDecoration:"completed"===e.status?"line-through":"none"},children:e.title}),(0,n.jsxs)("div",{style:{fontSize:"11px",color:"#64748B",marginTop:"2px"},children:[e.phase," | ",new Date(e.start_date).toLocaleDateString()," - ",new Date(e.end_date).toLocaleDateString()]})]})]}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,n.jsxs)("div",{style:{width:"80px"},children:[(0,n.jsx)("div",{style:{width:"100%",height:"6px",background:"#E5E7EB",borderRadius:"3px",overflow:"hidden"},children:(0,n.jsx)("div",{style:{width:"".concat(e.completion_percentage,"%"),height:"100%",background:100===e.completion_percentage?"#10B981":"#3B82F6"}})}),(0,n.jsxs)("div",{style:{fontSize:"10px",color:"#64748B",textAlign:"center",marginTop:"2px"},children:[e.completion_percentage,"%"]})]}),(0,n.jsx)("span",{style:{padding:"4px 8px",background:tr(e.status)+"20",color:tr(e.status),borderRadius:"6px",fontSize:"10px",fontWeight:"600"},children:e.status.replace("_"," ")})]})]},e.id))})]},t.id)})}):(0,n.jsx)("div",{style:{textAlign:"center",padding:"40px",background:"#F9FAFB",borderRadius:"12px"},children:(0,n.jsx)("p",{style:{color:"#64748B"},children:"No team members assigned to tasks yet"})})]}),"phase"===e$&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h4",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px"},children:"Phase-Based KPI Analysis"}),(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:Array.from((()=>{let e=new Map;return F.forEach(t=>{let i=t.phase||"Unassigned";e.has(i)||e.set(i,[]),e.get(i).push(t)}),e})().entries()).map(e=>{let[t,i]=e,r=tb(i),o=tc(i);return(0,n.jsxs)("div",{style:{background:"#F9FAFB",borderRadius:"12px",padding:"20px",border:"2px solid #E5E7EB"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[(0,n.jsx)("h5",{style:{fontSize:"18px",fontWeight:"700",color:"#1F2937",margin:0},children:t}),(0,n.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,n.jsxs)("span",{style:{padding:"6px 12px",background:"#3B82F6",color:"white",borderRadius:"16px",fontSize:"12px",fontWeight:"600"},children:[i.length," tasks"]}),(0,n.jsx)("button",{onClick:()=>ty({phase:t}),style:{padding:"6px 14px",background:"#10B981",color:"white",border:"none",borderRadius:"8px",fontSize:"12px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:"+ New Task"})]})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))",gap:"12px",marginBottom:"16px"},children:[(0,n.jsxs)("div",{style:{background:"white",padding:"12px",borderRadius:"8px",textAlign:"center"},children:[(0,n.jsxs)("div",{style:{fontSize:"20px",fontWeight:"700",color:"#10B981"},children:[r.completionRate,"%"]}),(0,n.jsx)("div",{style:{fontSize:"10px",color:"#64748B"},children:"Completion Rate"})]}),(0,n.jsxs)("div",{style:{background:"white",padding:"12px",borderRadius:"8px",textAlign:"center"},children:[(0,n.jsxs)("div",{style:{fontSize:"20px",fontWeight:"700",color:"#3B82F6"},children:[r.avgCompletion,"%"]}),(0,n.jsx)("div",{style:{fontSize:"10px",color:"#64748B"},children:"Avg Progress"})]}),(0,n.jsxs)("div",{style:{background:"white",padding:"12px",borderRadius:"8px",textAlign:"center"},children:[(0,n.jsx)("div",{style:{fontSize:"20px",fontWeight:"700",color:r.overdueItems>0?"#DC2626":"#10B981"},children:r.overdueItems}),(0,n.jsx)("div",{style:{fontSize:"10px",color:"#64748B"},children:"Overdue"})]}),(0,n.jsxs)("div",{style:{background:"white",padding:"12px",borderRadius:"8px",textAlign:"center"},children:[(0,n.jsxs)("div",{style:{fontSize:"20px",fontWeight:"700",color:"#8B5CF6"},children:[r.onTrackRate,"%"]}),(0,n.jsx)("div",{style:{fontSize:"10px",color:"#64748B"},children:"On Track"})]}),(0,n.jsxs)("div",{style:{background:"white",padding:"12px",borderRadius:"8px",textAlign:"center"},children:[(0,n.jsxs)("div",{style:{fontSize:"16px",fontWeight:"700",color:"#F59E0B"},children:["$",r.actualSpending.toLocaleString()]}),(0,n.jsx)("div",{style:{fontSize:"10px",color:"#64748B"},children:"Spent"})]})]}),(0,n.jsx)("div",{style:{width:"100%",height:"8px",background:"#E5E7EB",borderRadius:"4px",overflow:"hidden",marginBottom:"16px"},children:(0,n.jsx)("div",{style:{width:"".concat(r.avgCompletion,"%"),height:"100%",background:"linear-gradient(90deg, #3B82F6, #10B981)"}})}),(0,n.jsx)("div",{style:{overflowX:"auto",paddingBottom:"8px"},children:(0,n.jsx)("div",{style:{display:"flex",gap:"16px",minWidth:"max-content"},children:o.map(e=>{let{member:t,items:i}=e;return(0,n.jsxs)("div",{style:{minWidth:"280px",maxWidth:"320px",background:"white",borderRadius:"10px",padding:"14px",border:"1px solid #E5E7EB"},children:[(0,n.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"12px",paddingBottom:"10px",borderBottom:"1px solid #E5E7EB"},children:t?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{width:"36px",height:"36px",borderRadius:"50%",background:"linear-gradient(135deg, #3B82F6, #8B5CF6)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"700",fontSize:"14px"},children:t.name.charAt(0).toUpperCase()}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{fontWeight:"600",fontSize:"14px",color:"#1F2937"},children:t.name}),(0,n.jsxs)("div",{style:{fontSize:"10px",color:"#64748B"},children:[i.length," tasks"]})]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{width:"36px",height:"36px",borderRadius:"50%",background:"#9CA3AF",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"700",fontSize:"14px"},children:"?"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{fontWeight:"600",fontSize:"14px",color:"#6B7280"},children:"Unassigned"}),(0,n.jsxs)("div",{style:{fontSize:"10px",color:"#64748B"},children:[i.length," tasks"]})]})]})}),(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:i.map(e=>(0,n.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px",padding:"8px",background:"#F9FAFB",borderRadius:"6px",borderLeft:"3px solid ".concat(tr(e.status))},children:[(0,n.jsx)("input",{type:"checkbox",checked:"completed"===e.status,onChange:()=>tt(e),style:{width:"14px",height:"14px",cursor:"pointer",accentColor:"#10B981",marginTop:"2px"}}),(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("div",{style:{fontWeight:"600",fontSize:"12px",color:"completed"===e.status?"#9CA3AF":"#374151",textDecoration:"completed"===e.status?"line-through":"none"},children:e.title}),(0,n.jsx)("div",{style:{fontSize:"10px",color:"#64748B",marginTop:"2px"},children:new Date(e.start_date).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginTop:"4px"},children:[(0,n.jsxs)("span",{style:{fontSize:"10px",fontWeight:"600",color:"#3B82F6"},children:[e.completion_percentage,"%"]}),(0,n.jsx)("span",{style:{padding:"2px 6px",background:tr(e.status)+"20",color:tr(e.status),borderRadius:"4px",fontSize:"9px",fontWeight:"600"},children:e.status.replace("_"," ")})]})]})]},e.id))})]},(null==t?void 0:t.id)||"unassigned")})})})]},t)})})]}),"monthly"===e$&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h4",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px"},children:"Monthly Task Breakdown"}),(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:Array.from((()=>{let e=new Map;return F.forEach(t=>{let i=new Date(t.start_date),n=td(i);e.has(n)||e.set(n,[]),e.get(n).push(t)}),new Map([...e.entries()].sort((e,t)=>{var i,n;let r=new Date((null===(i=F.find(t=>td(new Date(t.start_date))===e[0]))||void 0===i?void 0:i.start_date)||""),o=new Date((null===(n=F.find(e=>td(new Date(e.start_date))===t[0]))||void 0===n?void 0:n.start_date)||"");return r.getTime()-o.getTime()}))})().entries()).map(e=>{let[t,i]=e,r=tb(i),o=tc(i);return(0,n.jsxs)("div",{style:{background:"#F9FAFB",borderRadius:"12px",padding:"20px",border:"2px solid #E5E7EB"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[(0,n.jsx)("h5",{style:{fontSize:"18px",fontWeight:"700",color:"#1F2937",margin:0},children:t}),(0,n.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,n.jsxs)("span",{style:{padding:"4px 10px",background:"#10B981",color:"white",borderRadius:"12px",fontSize:"11px",fontWeight:"600"},children:[r.completedItems," done"]}),(0,n.jsxs)("span",{style:{padding:"4px 10px",background:"#3B82F6",color:"white",borderRadius:"12px",fontSize:"11px",fontWeight:"600"},children:[r.inProgressItems," active"]}),r.overdueItems>0&&(0,n.jsxs)("span",{style:{padding:"4px 10px",background:"#DC2626",color:"white",borderRadius:"12px",fontSize:"11px",fontWeight:"600"},children:[r.overdueItems," overdue"]}),(0,n.jsx)("button",{onClick:()=>ty({month:t}),style:{padding:"6px 14px",background:"#10B981",color:"white",border:"none",borderRadius:"8px",fontSize:"12px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:"+ New Task"})]})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"12px",marginBottom:"16px"},children:[(0,n.jsxs)("div",{style:{background:"white",padding:"12px",borderRadius:"8px",textAlign:"center"},children:[(0,n.jsx)("div",{style:{fontSize:"24px",fontWeight:"700",color:"#3B82F6"},children:i.length}),(0,n.jsx)("div",{style:{fontSize:"10px",color:"#64748B"},children:"Total Tasks"})]}),(0,n.jsxs)("div",{style:{background:"white",padding:"12px",borderRadius:"8px",textAlign:"center"},children:[(0,n.jsxs)("div",{style:{fontSize:"24px",fontWeight:"700",color:"#10B981"},children:[r.completionRate,"%"]}),(0,n.jsx)("div",{style:{fontSize:"10px",color:"#64748B"},children:"Completion Rate"})]}),(0,n.jsxs)("div",{style:{background:"white",padding:"12px",borderRadius:"8px",textAlign:"center"},children:[(0,n.jsxs)("div",{style:{fontSize:"24px",fontWeight:"700",color:"#8B5CF6"},children:[r.onTrackRate,"%"]}),(0,n.jsx)("div",{style:{fontSize:"10px",color:"#64748B"},children:"On Track"})]}),(0,n.jsxs)("div",{style:{background:"white",padding:"12px",borderRadius:"8px",textAlign:"center"},children:[(0,n.jsxs)("div",{style:{fontSize:"18px",fontWeight:"700",color:"#F59E0B"},children:["$",r.actualSpending.toLocaleString()]}),(0,n.jsx)("div",{style:{fontSize:"10px",color:"#64748B"},children:"Budget Used"})]})]}),(0,n.jsx)("div",{style:{overflowX:"auto",paddingBottom:"8px"},children:(0,n.jsx)("div",{style:{display:"flex",gap:"16px",minWidth:"max-content"},children:o.map(e=>{let{member:t,items:i}=e;return(0,n.jsxs)("div",{style:{minWidth:"280px",maxWidth:"320px",background:"white",borderRadius:"10px",padding:"14px",border:"1px solid #E5E7EB"},children:[(0,n.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"12px",paddingBottom:"10px",borderBottom:"1px solid #E5E7EB"},children:t?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{width:"36px",height:"36px",borderRadius:"50%",background:"linear-gradient(135deg, #F59E0B, #EA580C)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"700",fontSize:"14px"},children:t.name.charAt(0).toUpperCase()}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{fontWeight:"600",fontSize:"14px",color:"#1F2937"},children:t.name}),(0,n.jsxs)("div",{style:{fontSize:"10px",color:"#64748B"},children:[i.length," tasks"]})]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{width:"36px",height:"36px",borderRadius:"50%",background:"#9CA3AF",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"700",fontSize:"14px"},children:"?"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{fontWeight:"600",fontSize:"14px",color:"#6B7280"},children:"Unassigned"}),(0,n.jsxs)("div",{style:{fontSize:"10px",color:"#64748B"},children:[i.length," tasks"]})]})]})}),(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:i.map(e=>(0,n.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px",padding:"8px",background:"#F9FAFB",borderRadius:"6px",borderLeft:"3px solid ".concat(tr(e.status))},children:[(0,n.jsx)("input",{type:"checkbox",checked:"completed"===e.status,onChange:()=>tt(e),style:{width:"14px",height:"14px",cursor:"pointer",accentColor:"#10B981",marginTop:"2px"}}),(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("div",{style:{fontWeight:"600",fontSize:"12px",color:"completed"===e.status?"#9CA3AF":"#374151",textDecoration:"completed"===e.status?"line-through":"none"},children:e.title}),(0,n.jsxs)("div",{style:{fontSize:"10px",color:"#64748B",marginTop:"2px"},children:[e.phase," | ",new Date(e.start_date).toLocaleDateString("en-US",{month:"short",day:"numeric"})]}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginTop:"4px"},children:[(0,n.jsxs)("span",{style:{fontSize:"10px",fontWeight:"600",color:"#3B82F6"},children:[e.completion_percentage,"%"]}),(0,n.jsx)("span",{style:{padding:"2px 6px",background:tr(e.status)+"20",color:tr(e.status),borderRadius:"4px",fontSize:"9px",fontWeight:"600"},children:e.status.replace("_"," ")})]})]})]},e.id))})]},(null==t?void 0:t.id)||"unassigned")})})})]},t)})})]}),"weekly"===e$&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h4",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px"},children:"Weekly Task Breakdown"}),(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:Array.from((()=>{let e=new Map;F.forEach(t=>{let i=new Date(t.start_date),n=tp(i);e.has(n)||e.set(n,{items:[],date:i}),e.get(n).items.push(t)});let t=[...e.entries()].sort((e,t)=>e[1].date.getTime()-t[1].date.getTime());return new Map(t.map(e=>{let[t,i]=e;return[t,i.items]}))})().entries()).slice(0,12).map(e=>{let[t,i]=e,r=tb(i),o=tc(i);return(0,n.jsxs)("div",{style:{background:"#F9FAFB",borderRadius:"12px",padding:"20px",border:"2px solid #E5E7EB"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[(0,n.jsx)("h5",{style:{fontSize:"16px",fontWeight:"700",color:"#1F2937",margin:0},children:t}),(0,n.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,n.jsxs)("span",{style:{fontSize:"12px",color:"#64748B"},children:[i.length," tasks"]}),(0,n.jsxs)("span",{style:{padding:"4px 10px",background:100===r.completionRate?"#10B981":"#3B82F6",color:"white",borderRadius:"12px",fontSize:"11px",fontWeight:"600"},children:[r.completionRate,"% done"]}),(0,n.jsx)("button",{onClick:()=>ty({week:t}),style:{padding:"6px 14px",background:"#10B981",color:"white",border:"none",borderRadius:"8px",fontSize:"12px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:"+ New Task"})]})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"16px",marginBottom:"16px",flexWrap:"wrap",padding:"10px",background:"white",borderRadius:"8px"},children:[(0,n.jsxs)("span",{style:{fontSize:"12px"},children:[(0,n.jsx)("strong",{style:{color:"#10B981"},children:r.completedItems})," completed"]}),(0,n.jsxs)("span",{style:{fontSize:"12px"},children:[(0,n.jsx)("strong",{style:{color:"#3B82F6"},children:r.inProgressItems})," in progress"]}),r.overdueItems>0&&(0,n.jsxs)("span",{style:{fontSize:"12px"},children:[(0,n.jsx)("strong",{style:{color:"#DC2626"},children:r.overdueItems})," overdue"]}),(0,n.jsxs)("span",{style:{fontSize:"12px"},children:[(0,n.jsxs)("strong",{style:{color:"#F59E0B"},children:["$",r.actualSpending.toLocaleString()]})," spent"]}),(0,n.jsxs)("span",{style:{fontSize:"12px"},children:[(0,n.jsxs)("strong",{style:{color:"#8B5CF6"},children:[r.avgCompletion,"%"]})," avg progress"]})]}),(0,n.jsx)("div",{style:{overflowX:"auto",paddingBottom:"8px"},children:(0,n.jsx)("div",{style:{display:"flex",gap:"16px",minWidth:"max-content"},children:o.map(e=>{let{member:t,items:i}=e;return(0,n.jsxs)("div",{style:{minWidth:"260px",maxWidth:"300px",background:"white",borderRadius:"10px",padding:"14px",border:"1px solid #E5E7EB"},children:[(0,n.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"12px",paddingBottom:"10px",borderBottom:"1px solid #E5E7EB"},children:t?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"linear-gradient(135deg, #EC4899, #8B5CF6)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"700",fontSize:"12px"},children:t.name.charAt(0).toUpperCase()}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{fontWeight:"600",fontSize:"13px",color:"#1F2937"},children:t.name}),(0,n.jsxs)("div",{style:{fontSize:"10px",color:"#64748B"},children:[i.length," tasks"]})]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"#9CA3AF",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"700",fontSize:"12px"},children:"?"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{fontWeight:"600",fontSize:"13px",color:"#6B7280"},children:"Unassigned"}),(0,n.jsxs)("div",{style:{fontSize:"10px",color:"#64748B"},children:[i.length," tasks"]})]})]})}),(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:i.map(e=>(0,n.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px",padding:"8px",background:"#F9FAFB",borderRadius:"6px",borderLeft:"3px solid ".concat(tr(e.status))},children:[(0,n.jsx)("input",{type:"checkbox",checked:"completed"===e.status,onChange:()=>tt(e),style:{width:"14px",height:"14px",cursor:"pointer",accentColor:"#10B981",marginTop:"2px"}}),(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("div",{style:{fontWeight:"600",fontSize:"11px",color:"completed"===e.status?"#9CA3AF":"#374151",textDecoration:"completed"===e.status?"line-through":"none"},children:e.title}),(0,n.jsx)("div",{style:{fontSize:"9px",color:"#64748B",marginTop:"2px"},children:e.phase}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px",marginTop:"4px"},children:[(0,n.jsxs)("span",{style:{fontSize:"9px",fontWeight:"600",color:"#3B82F6"},children:[e.completion_percentage,"%"]}),(0,n.jsx)("span",{style:{padding:"1px 4px",background:tr(e.status)+"20",color:tr(e.status),borderRadius:"3px",fontSize:"8px",fontWeight:"600"},children:e.status.replace("_"," ")})]})]})]},e.id))})]},(null==t?void 0:t.id)||"unassigned")})})})]},t)})})]}),(0,n.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"24px"},children:(0,n.jsx)("button",{onClick:()=>ec(!1),style:{padding:"12px 24px",background:"#3B82F6",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer"},children:"Close"})})]})}),eT&&eE&&(0,n.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:()=>eZ(!1),children:(0,n.jsxs)("div",{style:{background:"white",borderRadius:"16px",padding:"32px",maxWidth:"700px",width:"100%",maxHeight:"90vh",overflowY:"auto"},onClick:e=>e.stopPropagation(),children:[(0,n.jsx)("h3",{style:{fontSize:"24px",fontWeight:"700",marginBottom:"24px",color:"#1F2937"},children:eE.title}),(0,n.jsxs)("div",{style:{marginBottom:"24px",padding:"16px",background:"#F9FAFB",borderRadius:"8px"},children:[(0,n.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,n.jsx)("span",{style:{fontWeight:"600",color:"#64748B",fontSize:"14px"},children:"Status: "}),(0,n.jsx)("span",{style:{padding:"4px 12px",background:tr(eE.status)+"20",color:tr(eE.status),borderRadius:"12px",fontSize:"13px",fontWeight:"600"},children:eE.status.replace("_"," ")})]}),(0,n.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,n.jsx)("span",{style:{fontWeight:"600",color:"#64748B",fontSize:"14px"},children:"Timeline: "}),(0,n.jsxs)("span",{style:{fontSize:"14px"},children:[new Date(eE.start_date).toLocaleDateString()," - ",new Date(eE.end_date).toLocaleDateString()]})]}),(0,n.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,n.jsx)("span",{style:{fontWeight:"600",color:"#64748B",fontSize:"14px"},children:"Budget: "}),(0,n.jsxs)("span",{style:{fontSize:"14px"},children:["$",eE.actual_spending.toLocaleString()," / $",eE.planned_budget.toLocaleString()]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{fontWeight:"600",color:"#64748B",fontSize:"14px"},children:"Completion: "}),(0,n.jsxs)("span",{style:{fontSize:"14px",fontWeight:"700",color:"#3B82F6"},children:[eE.completion_percentage,"%"]})]})]}),eE.team_member_ids&&eE.team_member_ids.length>0&&(0,n.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,n.jsx)("h4",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Assigned Team Members"}),(0,n.jsx)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:eE.team_member_ids.map(e=>{let t=eM.find(t=>t.id===e);return t?(0,n.jsx)("div",{style:{padding:"6px 12px",background:"#EFF6FF",color:"#3B82F6",borderRadius:"16px",fontSize:"13px",fontWeight:"500"},children:t.name},e):null})})]}),(0,n.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,n.jsxs)("h4",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:["Checklist (",eA.filter(e=>e.is_completed).length,"/",eA.length," completed)"]}),eA.length>0?(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:eA.map((e,i)=>(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",background:e.is_completed?"#F3F4F6":"white",border:"2px solid #E5E7EB",borderRadius:"8px"},children:[(0,n.jsx)("input",{type:"checkbox",checked:e.is_completed,onChange:async i=>{let n=i.target.checked;try{var r;await a.supabase.from("timeline_item_checklist").update({is_completed:n,completed_at:n?new Date().toISOString():null,completed_by_id:n?parseInt((null==t?void 0:null===(r=t.id)||void 0===r?void 0:r.toString())||"0"):null}).eq("id",e.id);let i=eA.map(t=>t.id===e.id?{...t,is_completed:n}:t);eI(i);let o=i.filter(e=>e.is_completed).length,l=i.length,d=tl(l,o);await a.supabase.from("timeline_items").update({completion_percentage:d,status:100===d?"completed":d>0?"in_progress":null==eE?void 0:eE.status}).eq("id",null==eE?void 0:eE.id),e8()}catch(e){console.error("Error updating checklist item:",e)}},style:{width:"20px",height:"20px",cursor:"pointer",flexShrink:0,accentColor:"#10B981"}}),(0,n.jsxs)("span",{style:{flex:1,fontSize:"14px",color:e.is_completed?"#9CA3AF":"#374151",textDecoration:e.is_completed?"line-through":"none",fontWeight:e.is_completed?"400":"500"},children:[i+1,". ",e.item_text]}),e.is_completed&&e.completed_at&&(0,n.jsx)("span",{style:{fontSize:"11px",color:"#10B981",fontWeight:"600"},children:"Completed"})]},e.id||i))}):(0,n.jsx)("p",{style:{textAlign:"center",color:"#9CA3AF",fontSize:"14px",padding:"20px",fontStyle:"italic"},children:"No checklist items for this timeline item"})]}),(0,n.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},children:[(0,n.jsxs)("h4",{style:{fontSize:"16px",fontWeight:"600",margin:0},children:["Resources & Links (",eO.length,")"]}),(0,n.jsxs)("button",{onClick:()=>eq(!0),style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"8px 16px",background:"linear-gradient(135deg, #FFB333, #F87239)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"13px"},children:[(0,n.jsx)(m.Z,{style:{width:"16px",height:"16px"}}),"Add Link"]})]}),eO.length>0?(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:eO.map(e=>{let t=e2(e.url,e.link_type);return(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",background:"#fff",border:"1px solid #E5E7EB",borderRadius:"10px",transition:"all 0.2s",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:[(0,n.jsx)("div",{style:{width:"40px",height:"40px",background:t.bg,borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:"700",color:t.color},children:t.label}),(0,n.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,n.jsx)("div",{style:{fontWeight:"600",fontSize:"14px",color:"#1F2937"},children:e.title}),(0,n.jsx)("div",{style:{fontSize:"12px",color:"#6B7280",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.url})]}),(0,n.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",style:{padding:"6px 14px",background:"#3B82F6",color:"white",borderRadius:"6px",textDecoration:"none",fontSize:"12px",fontWeight:"500",whiteSpace:"nowrap"},children:"Open"}),(0,n.jsx)("button",{onClick:()=>e5(e.id),style:{padding:"6px",background:"#FEE2E2",color:"#DC2626",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center"},children:(0,n.jsx)(f.Z,{style:{width:"16px",height:"16px"}})})]},e.id)})}):(0,n.jsxs)("div",{style:{textAlign:"center",padding:"30px 20px",background:"#FAFAFA",borderRadius:"10px",border:"2px dashed #E5E7EB"},children:[(0,n.jsx)(m.Z,{style:{width:"32px",height:"32px",color:"#D1D5DB",margin:"0 auto 12px"}}),(0,n.jsx)("p",{style:{color:"#9CA3AF",fontSize:"14px",margin:0},children:"No links added yet. Add Google Drive, Figma, or any file links."})]})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[(0,n.jsx)("button",{onClick:()=>eZ(!1),style:{padding:"12px 24px",background:"#6B7280",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer"},children:"Close"}),(0,n.jsx)("button",{onClick:()=>{ek({title:eE.title,description:eE.description||"",category_id:eE.category_id||0,start_date:eE.start_date,end_date:eE.end_date,phase:eE.phase||"Planning",status:eE.status,planned_budget:eE.planned_budget,actual_spending:eE.actual_spending,completion_percentage:eE.completion_percentage,priority:eE.priority,team_leader_id:eE.team_leader_id||0,team_member_ids:eE.team_member_ids||[],color:eE.color}),e_(eA.map(e=>e.item_text)),eD(!0),eZ(!1),eo(!0)},style:{padding:"12px 24px",background:"#3B82F6",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer"},children:"Edit Item"})]})]})}),eH&&(0,n.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1100,padding:"20px"},onClick:()=>eq(!1),children:(0,n.jsxs)("div",{style:{background:"white",borderRadius:"20px",width:"100%",maxWidth:"500px",overflow:"hidden",boxShadow:"0 25px 50px rgba(0,0,0,0.2)"},onClick:e=>e.stopPropagation(),children:[(0,n.jsxs)("div",{style:{padding:"24px",borderBottom:"1px solid #e5e7eb",background:"linear-gradient(135deg, #FFB333 0%, #F87239 100%)"},children:[(0,n.jsx)("h3",{style:{fontSize:"20px",fontWeight:"700",margin:0,color:"white"},children:"Add Resource Link"}),(0,n.jsx)("p",{style:{fontSize:"14px",color:"rgba(255,255,255,0.9)",margin:"8px 0 0 0"},children:"Add a link to Google Drive, Figma, Notion, or any file URL"})]}),(0,n.jsxs)("div",{style:{padding:"24px"},children:[(0,n.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Link Type"}),(0,n.jsx)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[{value:"drive",label:"Drive",color:"#4285F4"},{value:"document",label:"Document",color:"#34A853"},{value:"design",label:"Design",color:"#A259FF"},{value:"video",label:"Video",color:"#DC2626"},{value:"other",label:"Other",color:"#6B7280"}].map(e=>(0,n.jsx)("button",{onClick:()=>eU(t=>({...t,link_type:e.value})),style:{padding:"8px 16px",borderRadius:"8px",border:eN.link_type===e.value?"2px solid ".concat(e.color):"2px solid #E5E7EB",background:eN.link_type===e.value?"".concat(e.color,"15"):"#fff",color:eN.link_type===e.value?e.color:"#6B7280",fontWeight:"500",fontSize:"13px",cursor:"pointer",transition:"all 0.2s"},children:e.label},e.value))})]}),(0,n.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,n.jsxs)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:["URL ",(0,n.jsx)("span",{style:{color:"#EF4444"},children:"*"})]}),(0,n.jsx)("input",{type:"url",placeholder:"https://drive.google.com/file/... or any URL",value:eN.url,onChange:e=>eU(t=>({...t,url:e.target.value})),style:{width:"100%",padding:"12px 16px",border:"2px solid #E5E7EB",borderRadius:"10px",fontSize:"14px",transition:"border-color 0.2s",outline:"none"},onFocus:e=>e.target.style.borderColor="#FFB333",onBlur:e=>e.target.style.borderColor="#E5E7EB"})]}),(0,n.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,n.jsxs)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:["Title ",(0,n.jsx)("span",{style:{color:"#9CA3AF",fontWeight:"400"},children:"(optional)"})]}),(0,n.jsx)("input",{type:"text",placeholder:"e.g., Design Mockup, Project Brief...",value:eN.title,onChange:e=>eU(t=>({...t,title:e.target.value})),style:{width:"100%",padding:"12px 16px",border:"2px solid #E5E7EB",borderRadius:"10px",fontSize:"14px",transition:"border-color 0.2s",outline:"none"},onFocus:e=>e.target.style.borderColor="#FFB333",onBlur:e=>e.target.style.borderColor="#E5E7EB"}),(0,n.jsx)("p",{style:{fontSize:"12px",color:"#9CA3AF",margin:"6px 0 0 0"},children:"If empty, title will be auto-generated from URL"})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,n.jsx)("button",{onClick:()=>{eq(!1),eU({title:"",url:"",link_type:"drive"})},style:{flex:1,padding:"12px 20px",background:"#F3F4F6",color:"#374151",border:"none",borderRadius:"10px",fontWeight:"600",fontSize:"14px",cursor:"pointer"},children:"Cancel"}),(0,n.jsx)("button",{onClick:e0,disabled:!eN.url.trim(),style:{flex:1,padding:"12px 20px",background:eN.url.trim()?"linear-gradient(135deg, #FFB333, #F87239)":"#E5E7EB",color:eN.url.trim()?"white":"#9CA3AF",border:"none",borderRadius:"10px",fontWeight:"600",fontSize:"14px",cursor:eN.url.trim()?"pointer":"not-allowed"},children:"Add Link"})]})]})]})}),ex&&(0,n.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:()=>eg(!1),children:(0,n.jsxs)("div",{style:{background:"white",borderRadius:"16px",maxWidth:"600px",width:"100%",maxHeight:"80vh",display:"flex",flexDirection:"column"},onClick:e=>e.stopPropagation(),children:[(0,n.jsxs)("div",{style:{padding:"24px",borderBottom:"1px solid #E5E7EB",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("h3",{style:{fontSize:"20px",fontWeight:"700",color:"#1F2937",margin:0},children:["Tasks for ",null==em?void 0:em.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})]}),(0,n.jsxs)("p",{style:{fontSize:"14px",color:"#6B7280",margin:"4px 0 0 0"},children:[eh.length," task",1!==eh.length?"s":""]})]}),(0,n.jsx)("button",{onClick:()=>eg(!1),style:{width:"36px",height:"36px",borderRadius:"50%",border:"none",background:"#F3F4F6",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",color:"#6B7280"},children:"\xd7"})]}),(0,n.jsx)("div",{style:{padding:"16px 24px",overflowY:"auto",flex:1},children:0===eh.length?(0,n.jsx)("div",{style:{textAlign:"center",padding:"40px 20px",color:"#9CA3AF"},children:"No tasks for this day"}):(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:eh.map(e=>{var t;return(0,n.jsx)("div",{onClick:()=>{eg(!1),eQ(e)},style:{padding:"16px",background:"#F9FAFB",borderRadius:"12px",borderLeft:"4px solid ".concat(e.color),cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.background="#F3F4F6",e.currentTarget.style.transform="translateX(4px)"},onMouseLeave:e=>{e.currentTarget.style.background="#F9FAFB",e.currentTarget.style.transform="translateX(0)"},children:(0,n.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:"12px"},children:[(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("h4",{style:{fontSize:"15px",fontWeight:"600",color:"#1F2937",margin:"0 0 6px 0"},children:e.title}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",flexWrap:"wrap"},children:[(0,n.jsxs)("span",{style:{fontSize:"12px",color:"#6B7280"},children:[new Date(e.start_date).toLocaleDateString()," - ",new Date(e.end_date).toLocaleDateString()]}),(0,n.jsx)("span",{style:{padding:"2px 8px",borderRadius:"4px",fontSize:"11px",fontWeight:"600",background:"completed"===e.status?"#D1FAE5":"in_progress"===e.status?"#DBEAFE":"review"===e.status?"#FEF3C7":"#F3F4F6",color:"completed"===e.status?"#059669":"in_progress"===e.status?"#2563EB":"review"===e.status?"#D97706":"#6B7280"},children:(null===(t=e.status)||void 0===t?void 0:t.replace("_"," ").toUpperCase())||"PENDING"}),e.priority&&(0,n.jsx)("span",{style:{padding:"2px 8px",borderRadius:"4px",fontSize:"11px",fontWeight:"600",background:"urgent"===e.priority?"#FEE2E2":"high"===e.priority?"#FFEDD5":"#F3F4F6",color:"urgent"===e.priority?"#DC2626":"high"===e.priority?"#EA580C":"#6B7280"},children:e.priority.toUpperCase()})]})]}),(0,n.jsx)("div",{style:{padding:"8px 12px",background:e.color,color:"white",borderRadius:"8px",fontSize:"12px",fontWeight:"600"},children:"View"})]})},e.id)})})})]})})]})}},30622:function(e,t,i){"use strict";var n=i(2265),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,d=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(e,t,i){var n,o={},s=null,p=null;for(n in void 0!==i&&(s=""+i),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(p=t.ref),t)l.call(t,n)&&!a.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===o[n]&&(o[n]=t[n]);return{$$typeof:r,type:e,key:s,ref:p,props:o,_owner:d.current}}t.Fragment=o,t.jsx=s,t.jsxs=s},57437:function(e,t,i){"use strict";e.exports=i(30622)},61396:function(e,t,i){e.exports=i(68326)},24033:function(e,t,i){e.exports=i(50094)},35518:function(e,t,i){"use strict";var n=i(2265);let r=n.forwardRef(function({title:e,titleId:t,...i},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},i),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))});t.Z=r},19874:function(e,t,i){"use strict";var n=i(2265);let r=n.forwardRef(function({title:e,titleId:t,...i},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},i),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))});t.Z=r},87965:function(e,t,i){"use strict";var n=i(2265);let r=n.forwardRef(function({title:e,titleId:t,...i},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},i),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))});t.Z=r},4103:function(e,t,i){"use strict";var n=i(2265);let r=n.forwardRef(function({title:e,titleId:t,...i},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},i),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))});t.Z=r},81253:function(e,t,i){"use strict";var n=i(2265);let r=n.forwardRef(function({title:e,titleId:t,...i},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},i),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))});t.Z=r},80654:function(e,t,i){"use strict";var n=i(2265);let r=n.forwardRef(function({title:e,titleId:t,...i},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},i),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))});t.Z=r},84164:function(e,t,i){"use strict";var n=i(2265);let r=n.forwardRef(function({title:e,titleId:t,...i},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},i),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))});t.Z=r},40013:function(e,t,i){"use strict";var n=i(2265);let r=n.forwardRef(function({title:e,titleId:t,...i},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},i),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))});t.Z=r},3217:function(e,t,i){"use strict";var n=i(2265);let r=n.forwardRef(function({title:e,titleId:t,...i},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},i),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))});t.Z=r},85290:function(e,t,i){"use strict";var n=i(2265);let r=n.forwardRef(function({title:e,titleId:t,...i},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},i),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))});t.Z=r},31205:function(e,t,i){"use strict";var n=i(2265);let r=n.forwardRef(function({title:e,titleId:t,...i},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},i),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))});t.Z=r},74992:function(e,t,i){"use strict";var n=i(2265);let r=n.forwardRef(function({title:e,titleId:t,...i},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},i),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))});t.Z=r},11226:function(e,t,i){"use strict";var n=i(2265);let r=n.forwardRef(function({title:e,titleId:t,...i},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},i),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))});t.Z=r},77150:function(e,t,i){"use strict";var n=i(2265);let r=n.forwardRef(function({title:e,titleId:t,...i},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},i),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"}))});t.Z=r},95255:function(e,t,i){"use strict";var n=i(2265);let r=n.forwardRef(function({title:e,titleId:t,...i},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},i),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))});t.Z=r},77227:function(e,t,i){"use strict";var n=i(2265);let r=n.forwardRef(function({title:e,titleId:t,...i},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},i),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))});t.Z=r},49863:function(e,t,i){"use strict";var n=i(2265);let r=n.forwardRef(function({title:e,titleId:t,...i},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},i),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))});t.Z=r},49649:function(e,t,i){"use strict";var n=i(2265);let r=n.forwardRef(function({title:e,titleId:t,...i},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},i),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))});t.Z=r},96689:function(e,t,i){"use strict";var n=i(2265);let r=n.forwardRef(function({title:e,titleId:t,...i},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},i),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))});t.Z=r}},function(e){e.O(0,[8326,7708,8411,3152,8714,2971,2472,1744],function(){return e(e.s=56098)}),_N_E=e.O()}]);