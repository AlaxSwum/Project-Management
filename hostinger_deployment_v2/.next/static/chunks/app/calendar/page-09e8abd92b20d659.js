(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5329],{2209:function(n,e,t){Promise.resolve().then(t.bind(t,4638))},4638:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return x}});var r=t(7437),a=t(2265),i=t(4033),o=t(3549),s=t(3152),d=t(887),l=t(2929),m=t(1253),c=t(13),f=t(3217),p=t(1809),g=t(4560),h=t(4822),b=t(66);function x(){let n=(0,i.useRouter)(),{user:e,isAuthenticated:t,isLoading:x}=(0,o.useAuth)(),[u,w]=(0,a.useState)([]),[y,v]=(0,a.useState)([]),[k,j]=(0,a.useState)(!0),[z,F]=(0,a.useState)(null),[N,C]=(0,a.useState)(new Date),[M,E]=(0,a.useState)(!1),[S,_]=(0,a.useState)(null),[B,D]=(0,a.useState)(!1),[T,Y]=(0,a.useState)(!1),[A,P]=(0,a.useState)([]),[I,L]=(0,a.useState)(null);(0,a.useEffect)(()=>{let n=()=>{E(window.innerWidth<768)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),(0,a.useEffect)(()=>{if(!x){if(!t){n.push("/login");return}O()}},[t,x,n]);let O=async()=>{try{F(null),console.log("Calendar: Fetching data for user:",null==e?void 0:e.id);let[n,t]=await Promise.all([s.B4.getProjects(),s.OV.getUserTasks()]);console.log("Calendar: Fetched projects:",(null==n?void 0:n.length)||0),console.log("Calendar: Fetched tasks:",(null==t?void 0:t.length)||0);let r=t.filter(n=>{var t,r;let a=n.assignees&&n.assignees.some(n=>n.id===(null==e?void 0:e.id)),i=(null===(t=n.assignee)||void 0===t?void 0:t.id)===(null==e?void 0:e.id),o=(null===(r=n.created_by)||void 0===r?void 0:r.id)===(null==e?void 0:e.id);return a||i||o});console.log("Calendar: Filtered user tasks:",(null==r?void 0:r.length)||0);let a=r.map(e=>{let t=n.find(n=>n.id===e.project_id);return{...e,project_name:(null==t?void 0:t.name)||"Unknown Project",project_color:(null==t?void 0:t.color)||"#6b7280",is_important:"urgent"===e.priority||"high"===e.priority,tags_list:e.tags_list||[],assignee:e.assignee||null}});w(n||[]),v(a||[]),console.log("Calendar: Data loaded successfully")}catch(n){console.error("Calendar: Failed to fetch data:",n),F(n instanceof Error?n.message:"Failed to load calendar data")}finally{j(!1)}},Z=n=>new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),H=n=>new Date(n.getFullYear(),n.getMonth(),1).getDay(),R=n=>{let e=n.toISOString().split("T")[0],t=y.filter(n=>{let t=n.due_date?n.due_date.split("T")[0]:null;return t===e});return t.sort((n,e)=>n.is_important&&!e.is_important?-1:!n.is_important&&e.is_important?1:n.name.localeCompare(e.name))},W=n=>{switch(n){case"urgent":case"high":return(0,r.jsx)(d.Z,{style:{width:"12px",height:"12px",color:"#000000"}});case"medium":return(0,r.jsx)(l.Z,{style:{width:"12px",height:"12px",color:"#000000"}});default:return null}},U=n=>{switch(n){case"done":return"#000000";case"in_progress":return"#6b7280";case"review":return"#9ca3af";default:return"#d1d5db"}},V=n=>!!n&&new Date(n)<new Date,J=async(n,e)=>{try{await s.OV.updateTaskStatus(n,e),v(y.map(t=>t.id===n?{...t,status:e}:t)),S&&S.id===n&&_({...S,status:e})}catch(n){console.error("Failed to update task status:",n)}},q=n=>{B||(_(n),D(!0))},G=()=>{D(!1),_(null)},K=async n=>{try{await s.OV.updateTask(S.id,n),await O()}catch(n){console.error("Failed to update task:",n)}},Q=async n=>{try{await s.OV.deleteTask(n),await O(),G()}catch(n){console.error("Failed to delete task:",n)}},X=(n,e)=>{L(n),P(e),Y(!0)};(0,a.useEffect)(()=>{let n=n=>{"Escape"===n.key&&B&&(D(!1),_(null))};if(B)return document.addEventListener("keydown",n),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",n),document.body.style.overflow="unset"}},[B]);let $=new Date,nn=(0,a.useMemo)(()=>Z(N),[N]),ne=(0,a.useMemo)(()=>H(N),[N]);return x?(0,r.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#ffffff"},children:(0,r.jsx)("div",{style:{width:"32px",height:"32px",border:"3px solid #cccccc",borderTop:"3px solid #000000",borderRadius:"50%",animation:"spin 1s linear infinite"}})}):t?k?(0,r.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#ffffff"},children:(0,r.jsx)("div",{style:{width:"32px",height:"32px",border:"3px solid #cccccc",borderTop:"3px solid #000000",borderRadius:"50%",animation:"spin 1s linear infinite"}})}):z?(0,r.jsxs)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#ffffff",flexDirection:"column",gap:"1rem",padding:"2rem"},children:[(0,r.jsx)(d.Z,{style:{width:"48px",height:"48px",color:"#F87239"}}),(0,r.jsx)("h2",{style:{color:"#1F2937",fontSize:"1.5rem",fontWeight:"600",textAlign:"center"},children:"Calendar Error"}),(0,r.jsx)("p",{style:{color:"#6B7280",textAlign:"center",maxWidth:"400px"},children:z}),(0,r.jsx)("button",{onClick:()=>{F(null),O()},style:{background:"#000000",color:"#ffffff",border:"none",padding:"0.75rem 1.5rem",borderRadius:"8px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},children:"Try Again"})]}):(0,r.jsxs)("div",{className:"calendar-container",children:[M&&(0,r.jsx)(b.Z,{title:"Calendar",isMobile:M}),(0,r.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n        .calendar-container {\n          min-height: 100vh;\n          display: flex;\n          background: #f8fafc;\n          width: 100%;\n          ".concat(M?"flex-direction: column;":"","\n        }\n        \n\n        .main-content {\n          flex: 1;\n          margin-left: ").concat(M?"0":"280px",";\n          background: transparent;\n          position: relative;\n          z-index: 1;\n          padding-top: ").concat(M?"70px":"0",";\n          width: ").concat(M?"100vw":"auto",";\n          min-height: 100vh;\n          ").concat(M?"margin-left: 0 !important; max-width: 100vw; overflow-x: hidden;":"","\n        }\n        \n        .header {\n          background: #ffffff;\n          border-bottom: 1px solid #e5e7eb;\n          padding: 2.5rem 2rem 1.5rem 2rem;\n          position: sticky;\n          top: 0;\n          z-index: 20;\n          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n          transition: all 0.3s ease;\n        }\n        .header-content {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          margin-bottom: 1.5rem;\n          max-width: ").concat(M?"none":"1200px",";\n          margin-left: auto;\n          margin-right: auto;\n          width: ").concat(M?"100%":"auto",";\n        }\n        \n        .header-controls {\n          display: flex;\n          align-items: center;\n          gap: 2rem;\n        }\n        \n        .filter-controls {\n          display: flex;\n          gap: 1rem;\n        }\n        \n        .filter-btn {\n          background: rgba(255, 255, 255, 0.9);\n          backdrop-filter: blur(15px);\n          color: #1F2937;\n          border: 2px solid rgba(255, 179, 51, 0.3);\n          padding: 0.75rem 1.5rem;\n          border-radius: 16px;\n          font-weight: 600;\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          gap: 0.75rem;\n          transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n          font-family: 'Mabry Pro', 'Inter', sans-serif;\n          font-size: 0.875rem;\n          position: relative;\n          overflow: hidden;\n        }\n        \n        .filter-btn::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: -100%;\n          width: 100%;\n          height: 100%;\n          background: linear-gradient(90deg, transparent, rgba(255, 179, 51, 0.1), transparent);\n          transition: left 0.6s ease;\n        }\n        \n        .filter-btn:hover {\n          background: rgba(255, 179, 51, 0.1);\n          border-color: #FFB333;\n          transform: translateY(-3px) scale(1.02);\n          box-shadow: 0 8px 25px rgba(255, 179, 51, 0.25);\n        }\n        \n        .filter-btn:hover::before {\n          left: 100%;\n        }\n        \n        .filter-btn.active {\n          background: linear-gradient(135deg, #FFB333, #FFD480);\n          color: #FFFFFF;\n          border-color: #FFB333;\n          box-shadow: 0 8px 25px rgba(255, 179, 51, 0.35);\n        }\n        .calendar-stats {\n          display: grid;\n          grid-template-columns: repeat(4, 1fr);\n          gap: 1rem;\n          padding-top: 1.5rem;\n          max-width: ").concat(M?"none":"1000px",";\n          margin: 0 auto;\n          width: ").concat(M?"100%":"auto",";\n        }\n        \n        .calendar-stats .stat-item {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 0.5rem;\n          background: #FFFFFF;\n          padding: 1.25rem 1rem;\n          border-radius: 16px;\n          border: 1px solid #E5E7EB;\n          transition: all 0.2s ease;\n          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);\n        }\n        \n        .calendar-stats .stat-item:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n          border-color: #FFB333;\n        }\n        \n        .stat-label {\n          font-size: 0.75rem;\n          color: #6B7280;\n          font-weight: 500;\n          font-family: 'Mabry Pro', 'Inter', sans-serif;\n          text-transform: uppercase;\n          letter-spacing: 0.05em;\n        }\n        \n        .stat-value {\n          font-size: 1.875rem;\n          font-weight: 700;\n          color: #1F2937;\n          font-family: 'Mabry Pro', 'Inter', sans-serif;\n          letter-spacing: -0.01em;\n        }\n        \n        .stat-value.overdue {\n          color: #F87239;\n          font-weight: 700;\n        }\n        .header-title {\n          font-size: 2.5rem;\n          font-weight: 800;\n          color: #1F2937;\n          margin: 0;\n          display: flex;\n          align-items: center;\n          gap: 0.75rem;\n          font-family: 'Mabry Pro', 'Inter', sans-serif;\n          letter-spacing: -0.02em;\n          line-height: 1.2;\n        }\n        .calendar-nav {\n          display: flex;\n          align-items: center;\n          gap: 1.5rem;\n        }\n        \n        .nav-btn {\n          background: #FFFFFF;\n          color: #1F2937;\n          border: 1px solid #E5E7EB;\n          padding: 0.75rem;\n          border-radius: 12px;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);\n        }\n        \n        .nav-btn:hover {\n          background: #F9FAFB;\n          border-color: #FFB333;\n          color: #FFB333;\n          transform: translateY(-1px);\n          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n        }\n        \n        .nav-btn:active {\n          transform: translateY(0);\n        }\n        \n        .month-year {\n          font-size: 1.5rem;\n          font-weight: 600;\n          color: #1F2937;\n          min-width: 200px;\n          text-align: center;\n          font-family: 'Mabry Pro', 'Inter', sans-serif;\n          letter-spacing: -0.01em;\n        }\n        .calendar-content {\n          padding: 2rem;\n          max-width: ").concat(M?"none":"1200px",";\n          margin: 0 auto;\n          display: block;\n          visibility: visible;\n          width: ").concat(M?"100%":"auto",";\n        }\n        \n        .calendar-grid {\n          background: #ffffff;\n          border: 1px solid #e5e7eb;\n          border-radius: 12px;\n          overflow: hidden;\n          box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n        }\n        .calendar-header {\n          display: grid;\n          grid-template-columns: repeat(7, 1fr);\n          background: #f9fafb;\n          border-bottom: 1px solid #e5e7eb;\n        }\n        \n        .calendar-header-cell {\n          padding: 1rem;\n          text-align: center;\n          font-weight: 600;\n          color: #374151;\n          border-right: 1px solid #e5e7eb;\n          font-family: 'Mabry Pro', 'Inter', sans-serif;\n          font-size: 0.75rem;\n          letter-spacing: 0.05em;\n          text-transform: uppercase;\n        }\n        \n        .calendar-header-cell:last-child {\n          border-right: none;\n        }\n          .calendar-body {\n            display: grid;\n            grid-template-columns: repeat(7, 1fr);\n          }\n        .calendar-cell {\n          min-height: 120px;\n          padding: 0.75rem;\n          border-right: 1px solid #E5E7EB;\n          border-bottom: 1px solid #E5E7EB;\n          background: #FFFFFF;\n          transition: all 0.2s ease;\n          cursor: pointer;\n        }\n        \n        .calendar-cell:hover {\n          background: #F9FAFB;\n        }\n        \n        .calendar-cell:nth-child(7n) {\n          border-right: none;\n        }\n        \n        .calendar-cell.other-month {\n          background: #F9FAFB;\n          color: #9CA3AF;\n        }\n        \n        .calendar-cell.today {\n          background: rgba(255, 179, 51, 0.05);\n          border-right: 1px solid #FFB333;\n          border-bottom: 1px solid #FFB333;\n          position: relative;\n        }\n        \n        .calendar-cell.today::after {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 4px;\n          height: 100%;\n          background: #FFB333;\n        }\n        .day-number {\n          font-weight: 600;\n          color: #1F2937;\n          margin-bottom: 0.5rem;\n          font-family: 'Mabry Pro', 'Inter', sans-serif;\n          font-size: 1rem;\n        }\n        \n        .calendar-cell.other-month .day-number {\n          color: #9CA3AF;\n        }\n        \n        .calendar-cell.today .day-number {\n          color: #FFB333;\n          font-weight: 700;\n        }\n          .events-container {\n            display: flex;\n            flex-direction: column;\n            gap: 0.25rem;\n          }\n        .task-item {\n          background: #F8FAFC;\n          border: 1px solid #E2E8F0;\n          border-radius: 8px;\n          padding: 0.5rem;\n          font-size: 0.75rem;\n          margin-bottom: 0.25rem;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          border-left: 3px solid #E2E8F0;\n        }\n        \n        .task-item:hover {\n          background: #F1F5F9;\n          border-color: #FFB333;\n          border-left-color: #FFB333;\n        }\n        \n        .task-item.important {\n          border-left-color: #FFB333;\n          background: rgba(255, 179, 51, 0.05);\n        }\n        \n        .task-item.overdue {\n          border-left-color: #F87239;\n          background: rgba(248, 114, 57, 0.05);\n        }\n          .task-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: flex-start;\n            margin-bottom: 0.25rem;\n          }\n        .task-name {\n          font-weight: 500;\n          color: #1F2937;\n          line-height: 1.3;\n          flex: 1;\n          margin-right: 0.25rem;\n          font-family: 'Mabry Pro', 'Inter', sans-serif;\n        }\n          .task-icons {\n            display: flex;\n            align-items: center;\n            gap: 0.25rem;\n          }\n\n          .task-meta {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            font-size: 0.65rem;\n          }\n          .project-name {\n            font-weight: 500;\n            max-width: 60%;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n          }\n          .assignee {\n            display: flex;\n            align-items: center;\n            gap: 0.125rem;\n            color: #6b7280;\n          }\n        .more-tasks {\n          background: #EEF2FF;\n          border: 1px solid #C7D2FE;\n          border-radius: 6px;\n          padding: 0.375rem 0.5rem;\n          font-size: 0.6875rem;\n          color: #5B21B6;\n          text-align: center;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          font-weight: 500;\n          font-family: 'Mabry Pro', 'Inter', sans-serif;\n        }\n        \n        .more-tasks:hover {\n          background: #E0E7FF;\n          border-color: #A5B4FC;\n        }\n          \n\n          \n          /* Enhanced Task Modal */\n          .modal-overlay {\n            position: fixed;\n            inset: 0;\n            background: rgba(0, 0, 0, 0.8);\n            backdrop-filter: blur(4px);\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: 1rem;\n            z-index: 50;\n            box-sizing: border-box;\n          }\n          .enhanced-task-modal {\n            background: #ffffff;\n            border: 2px solid #000000;\n            border-radius: 12px;\n            width: 100%;\n            max-width: 900px;\n            height: 85vh;\n            max-height: 85vh;\n            min-height: 600px;\n            display: flex;\n            flex-direction: column;\n            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\n            overflow: hidden;\n          }\n          .task-details-section {\n            padding: 1.5rem;\n            border-bottom: 2px solid #e5e7eb;\n            flex-shrink: 0;\n            max-height: 60%;\n            overflow-y: auto;\n          }\n          .interaction-section {\n            flex: 1;\n            display: flex;\n            flex-direction: column;\n            min-height: 250px;\n            background: #ffffff;\n          }\n          .modal-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: flex-start;\n            padding: 1.5rem;\n            border-bottom: 2px solid #000000;\n            background: #f8fafc;\n          }\n          .modal-header h3 {\n            font-size: 1.25rem;\n            font-weight: 600;\n            color: #000000;\n            margin: 0;\n            flex: 1;\n            line-height: 1.3;\n          }\n          .close-btn {\n            background: none;\n            border: none;\n            font-size: 1.5rem;\n            font-weight: bold;\n            color: #6b7280;\n            cursor: pointer;\n            padding: 0;\n            margin-left: 1rem;\n            transition: all 0.2s ease;\n          }\n          .close-btn:hover {\n            color: #000000;\n          }\n          /* Tab Navigation */\n          .tab-navigation {\n            display: flex;\n            border-bottom: 2px solid #000000;\n            background: #f8fafc;\n            flex-shrink: 0;\n            z-index: 1;\n          }\n          .tab-btn {\n            flex: 1;\n            padding: 1rem 1.5rem;\n            background: none;\n            border: none;\n            border-right: 1px solid #e5e7eb;\n            font-weight: 600;\n            color: #6b7280;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 0.5rem;\n            transition: all 0.2s ease;\n            min-height: 60px;\n          }\n          .tab-btn:last-child {\n            border-right: none;\n          }\n          .tab-btn:hover {\n            background: #e5e7eb;\n            color: #000000;\n          }\n          .tab-btn.active {\n            background: #ffffff;\n            color: #000000;\n            border-bottom: 3px solid #000000;\n            margin-bottom: -2px;\n          }\n\n          /* Comments Section */\n          .comments-section {\n            flex: 1;\n            display: flex;\n            flex-direction: column;\n            min-height: 0;\n          }\n          .comments-list {\n            flex: 1;\n            padding: 1.5rem;\n            overflow-y: auto;\n            max-height: 300px;\n          }\n          .empty-comments, .empty-files {\n            text-align: center;\n            padding: 2rem;\n            color: #6b7280;\n          }\n          .empty-comments p, .empty-files p {\n            margin: 0.5rem 0;\n          }\n          .comment-item {\n            margin-bottom: 1.5rem;\n            padding-bottom: 1rem;\n            border-bottom: 1px solid #f3f4f6;\n          }\n          .comment-item:last-child {\n            border-bottom: none;\n            margin-bottom: 0;\n          }\n          .comment-header {\n            display: flex;\n            align-items: center;\n            gap: 0.75rem;\n            margin-bottom: 0.5rem;\n          }\n          .author-avatar, .current-user-avatar {\n            width: 32px;\n            height: 32px;\n            background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);\n            border: 2px solid #000000;\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-size: 0.8rem;\n            font-weight: 600;\n            color: #000000;\n            flex-shrink: 0;\n          }\n          .comment-meta {\n            display: flex;\n            flex-direction: column;\n            gap: 0.125rem;\n          }\n          .author-name {\n            font-weight: 600;\n            color: #000000;\n            font-size: 0.875rem;\n          }\n          .comment-time {\n            font-size: 0.75rem;\n            color: #6b7280;\n          }\n          .comment-content {\n            margin-left: 2.75rem;\n            font-size: 0.875rem;\n            color: #374151;\n            line-height: 1.5;\n          }\n          .add-comment {\n            border-top: 1px solid #e5e7eb;\n            padding: 1.5rem;\n            background: #f8fafc;\n          }\n          .comment-input-container {\n            display: flex;\n            align-items: flex-start;\n            gap: 0.75rem;\n            width: 100%;\n            max-width: 100%;\n            box-sizing: border-box;\n            padding: 0;\n            margin: 0;\n          }\n          .comment-input {\n            flex: 1;\n            padding: 0.75rem;\n            border: 2px solid #e5e7eb;\n            border-radius: 8px;\n            font-size: 0.875rem;\n            line-height: 1.4;\n            resize: vertical;\n            min-height: 80px;\n            max-width: 100%;\n            width: 100%;\n            box-sizing: border-box;\n            transition: all 0.2s ease;\n          }\n          .comment-input:focus {\n            outline: none;\n            border-color: #000000;\n            box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.1);\n          }\n          .send-comment-btn {\n            background: #000000;\n            color: #ffffff;\n            border: none;\n            padding: 0.75rem;\n            border-radius: 8px;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n            transition: all 0.2s ease;\n          }\n          .send-comment-btn:hover:not(:disabled) {\n            background: #374151;\n            transform: translateY(-1px);\n          }\n          .send-comment-btn:disabled {\n            background: #d1d5db;\n            cursor: not-allowed;\n          }\n\n          /* Files Section */\n          .files-section {\n            flex: 1;\n            display: flex;\n            flex-direction: column;\n            min-height: 0;\n          }\n          .files-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            padding: 1.5rem;\n            border-bottom: 1px solid #e5e7eb;\n            background: #f8fafc;\n          }\n          .files-header h4 {\n            font-size: 1rem;\n            font-weight: 600;\n            color: #000000;\n            margin: 0;\n          }\n          .upload-btn {\n            background: #000000;\n            color: #ffffff;\n            border: none;\n            padding: 0.5rem 1rem;\n            border-radius: 8px;\n            font-weight: 600;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n            gap: 0.5rem;\n            transition: all 0.2s ease;\n            font-size: 0.875rem;\n          }\n          .upload-btn:hover {\n            background: #374151;\n            transform: translateY(-1px);\n          }\n          .files-list {\n            flex: 1;\n            padding: 1.5rem;\n            overflow-y: auto;\n            max-height: 300px;\n          }\n          .file-item {\n            display: flex;\n            align-items: center;\n            gap: 1rem;\n            padding: 1rem;\n            border: 1px solid #e5e7eb;\n            border-radius: 8px;\n            margin-bottom: 0.75rem;\n            transition: all 0.2s ease;\n          }\n          .file-item:hover {\n            border-color: #000000;\n            transform: translateY(-1px);\n            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n          }\n          .file-item:last-child {\n            margin-bottom: 0;\n          }\n          .file-icon {\n            width: 40px;\n            height: 40px;\n            background: #f3f4f6;\n            border: 1px solid #d1d5db;\n            border-radius: 8px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #6b7280;\n            flex-shrink: 0;\n          }\n          .file-info {\n            flex: 1;\n            min-width: 0;\n          }\n          .file-name {\n            font-weight: 600;\n            color: #000000;\n            font-size: 0.875rem;\n            margin-bottom: 0.25rem;\n            word-break: break-all;\n          }\n          .file-meta {\n            display: flex;\n            gap: 1rem;\n            font-size: 0.75rem;\n            color: #6b7280;\n          }\n          .file-actions {\n            display: flex;\n            gap: 0.5rem;\n          }\n          .download-btn {\n            background: #ffffff;\n            color: #6b7280;\n            border: 1px solid #d1d5db;\n            padding: 0.5rem;\n            border-radius: 6px;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n            transition: all 0.2s ease;\n          }\n          .download-btn:hover {\n            color: #000000;\n            border-color: #000000;\n            transform: translateY(-1px);\n          }\n          .task-status-row {\n            display: flex;\n            gap: 1rem;\n            margin-bottom: 1.5rem;\n          }\n          .status-badge {\n            padding: 0.3rem 0.8rem;\n            border-radius: 20px;\n            font-size: 0.7rem;\n            font-weight: 600;\n            text-transform: uppercase;\n            border: 1px solid;\n          }\n          .status-todo { background: #ffffff; color: #000000; border-color: #000000; }\n          .status-in_progress { background: #d1d5db; color: #000000; border-color: #000000; }\n          .status-review { background: #9ca3af; color: #ffffff; border-color: #000000; }\n          .status-done { background: #000000; color: #ffffff; border-color: #000000; }\n          .priority-badge {\n            padding: 0.3rem 0.8rem;\n            border-radius: 20px;\n            font-size: 0.7rem;\n            font-weight: 600;\n            display: flex;\n            align-items: center;\n            gap: 0.25rem;\n            border: 1px solid;\n          }\n          .priority-low { background: #ffffff; color: #000000; border-color: #000000; }\n          .priority-medium { background: #d1d5db; color: #000000; border-color: #000000; }\n          .priority-high { background: #6b7280; color: #ffffff; border-color: #000000; }\n          .priority-urgent { background: #000000; color: #ffffff; border-color: #000000; }\n          .description {\n            margin-bottom: 1.5rem;\n          }\n          .description h4 {\n            font-size: 0.9rem;\n            font-weight: 600;\n            color: #000000;\n            margin: 0 0 0.5rem 0;\n          }\n          .description p {\n            font-size: 0.875rem;\n            color: #374151;\n            line-height: 1.5;\n            margin: 0;\n          }\n          .task-metadata {\n            display: flex;\n            flex-direction: column;\n            gap: 0.75rem;\n            margin-bottom: 1.5rem;\n          }\n          .meta-item {\n            display: flex;\n            justify-content: space-between;\n            align-items: flex-start;\n          }\n          .meta-item .label {\n            font-size: 0.8rem;\n            font-weight: 600;\n            color: #6b7280;\n            min-width: 80px;\n          }\n          .meta-item .value {\n            font-size: 0.8rem;\n            color: #000000;\n            text-align: right;\n            flex: 1;\n          }\n          .meta-item .value.overdue {\n            color: #dc2626;\n            font-weight: 600;\n          }\n          .tags {\n            display: flex;\n            flex-wrap: wrap;\n            gap: 0.25rem;\n            justify-content: flex-end;\n          }\n          .tag {\n            background: #f3f4f6;\n            color: #374151;\n            padding: 0.2rem 0.5rem;\n            border-radius: 12px;\n            font-size: 0.7rem;\n            display: flex;\n            align-items: center;\n            gap: 0.2rem;\n            border: 1px solid #d1d5db;\n          }\n\n          .status-change-section {\n            background: #f8fafc;\n            border: 1px solid #e5e7eb;\n            border-radius: 8px;\n            padding: 1.5rem;\n            margin-top: 1rem;\n          }\n          .status-change-title {\n            font-weight: 600;\n            color: #000000;\n            margin-bottom: 1rem;\n            font-size: 0.875rem;\n          }\n          .status-change-buttons {\n            display: flex;\n            gap: 0.75rem;\n            flex-wrap: wrap;\n          }\n          .status-change-btn {\n            display: flex;\n            align-items: center;\n            gap: 0.5rem;\n            padding: 0.5rem 1rem;\n            border: 2px solid #000000;\n            border-radius: 6px;\n            background: #ffffff;\n            cursor: pointer;\n            transition: all 0.2s ease;\n            font-weight: 500;\n            font-size: 0.875rem;\n          }\n          .status-change-btn:hover:not(:disabled) {\n            transform: translateY(-1px);\n            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n          }\n          .status-change-btn.active {\n            background: #000000;\n            color: #ffffff;\n          }\n          .status-change-btn:disabled {\n            opacity: 0.6;\n            cursor: not-allowed;\n            transform: none;\n          }\n          \n          /* Modal Splitter Styles */\n          .modal-splitter {\n            height: 8px;\n            background: linear-gradient(to bottom, #f3f4f6 0%, #e5e7eb 50%, #f3f4f6 100%);\n            border-top: 1px solid #d1d5db;\n            border-bottom: 1px solid #d1d5db;\n            cursor: ns-resize;\n            position: relative;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            transition: all 0.2s ease;\n            user-select: none;\n          }\n          .modal-splitter:hover {\n            background: linear-gradient(to bottom, #e5e7eb 0%, #d1d5db 50%, #e5e7eb 100%);\n            border-color: #9ca3af;\n          }\n          .modal-splitter.dragging {\n            background: linear-gradient(to bottom, #3b82f6 0%, #1d4ed8 50%, #3b82f6 100%);\n            border-color: #1d4ed8;\n          }\n          .splitter-handle {\n            width: 40px;\n            height: 4px;\n            background: #9ca3af;\n            border-radius: 2px;\n            transition: all 0.2s ease;\n          }\n          .modal-splitter:hover .splitter-handle {\n            background: #6b7280;\n            width: 60px;\n          }\n          .modal-splitter.dragging .splitter-handle {\n            background: #ffffff;\n            width: 80px;\n            height: 3px;\n          }\n          \n          .resizable-task-details {\n            overflow-y: auto;\n            flex: none;\n          }\n          \n          .resizable-interaction-section {\n            flex: none;\n            overflow: hidden;\n            display: flex;\n            flex-direction: column;\n          }\n          \n          /* Responsive Design */\n          \n          /* Large desktop styles */\n          @media (max-width: 1400px) {\n            .calendar-cell {\n              min-height: 110px;\n            }\n          }\n          \n          /* Desktop styles */\n          @media (max-width: 1200px) {\n            .calendar-stats {\n              grid-template-columns: repeat(3, 1fr);\n            }\n            .header-controls {\n              flex-direction: column;\n              gap: 1rem;\n            }\n            .calendar-cell {\n              min-height: 100px;\n              padding: 0.75rem;\n            }\n            .task-item {\n              font-size: 0.65rem;\n              padding: 0.4rem;\n            }\n          }\n          \n          /* Tablet styles */\n          @media (max-width: 1024px) {\n            .main-content {\n              margin-left: 0;\n            }\n            .header {\n              padding: 1rem 1.5rem;\n            }\n            .calendar-content {\n              padding: 1.5rem;\n            }\n            .calendar-stats {\n              grid-template-columns: repeat(2, 1fr);\n            }\n            .calendar-cell {\n              min-height: 90px;\n              padding: 0.625rem;\n            }\n            .calendar-header-cell {\n              padding: 0.875rem;\n            }\n            .task-item {\n              font-size: 0.7rem;\n              padding: 0.5rem;\n            }\n            .task-name {\n              font-size: 0.75rem;\n            }\n            .task-meta {\n              font-size: 0.65rem;\n            }\n          }\n          \n          /* Mobile styles */\n          @media (max-width: 768px) {\n            * {\n              box-sizing: border-box !important;\n            }\n            \n            body, html {\n              width: 100% !important;\n              max-width: 100vw !important;\n              overflow-x: hidden !important;\n              margin: 0 !important;\n              padding: 0 !important;\n            }\n            \n            .calendar-container {\n              min-height: 100vh;\n              display: block !important;\n              background: #F5F5ED;\n              width: 100vw !important;\n              max-width: 100vw !important;\n              overflow-x: hidden;\n              margin: 0;\n              padding: 0;\n            }\n            \n            .main-content {\n              margin-left: 0 !important;\n              width: 100vw !important;\n              max-width: 100vw !important;\n              overflow-x: hidden;\n              padding-top: 70px;\n              margin: 0;\n              padding-left: 0;\n              padding-right: 0;\n            }\n            \n            .header {\n              padding: 0.875rem;\n              position: relative;\n              top: 0;\n              background: #ffffff;\n              border-bottom: 1px solid #e5e7eb;\n              z-index: 30;\n              width: 100vw !important;\n              max-width: 100vw !important;\n              box-sizing: border-box;\n              margin: 0;\n              overflow-x: hidden;\n            }\n            .header-title {\n              font-size: 1.375rem;\n            }\n            .header-content {\n              flex-direction: column;\n              gap: 0.875rem;\n              margin-bottom: 0.875rem;\n            }\n            .header-controls {\n              width: 100%;\n              max-width: 100%;\n              display: flex;\n              flex-direction: row;\n              justify-content: space-between;\n              align-items: center;\n              gap: 1rem;\n            }\n            .calendar-nav {\n              display: flex;\n              justify-content: center;\n              align-items: center;\n              gap: 1rem;\n              flex: 1;\n            }\n            .today-nav {\n              flex-shrink: 0;\n            }\n            .month-year {\n              font-size: 1rem;\n              font-weight: 700;\n              color: #000000;\n              text-align: center;\n              flex: 1;\n            }\n            .nav-btn {\n              padding: 0.75rem;\n              min-width: 44px;\n              min-height: 44px;\n              border-radius: 8px;\n              display: flex;\n              align-items: center;\n              justify-content: center;\n            }\n            .filter-btn {\n              display: none;\n            }\n            .calendar-stats {\n              display: grid;\n              grid-template-columns: repeat(4, 1fr);\n              gap: 0.375rem;\n              margin-top: 0.875rem;\n              width: 100%;\n              max-width: 100%;\n              box-sizing: border-box;\n            }\n            .stat-item {\n              padding: 0.625rem 0.25rem;\n              border-radius: 6px;\n              background: rgba(255, 255, 255, 0.95);\n              border: 1px solid #e5e7eb;\n              text-align: center;\n              min-height: 50px;\n              display: flex;\n              flex-direction: column;\n              justify-content: center;\n              box-sizing: border-box;\n              overflow: hidden;\n            }\n            .stat-value {\n              font-size: 1.125rem;\n              font-weight: 800;\n              margin-bottom: 0.125rem;\n              line-height: 1;\n            }\n            .stat-label {\n              font-size: 0.6rem;\n              font-weight: 600;\n              color: #6b7280;\n              line-height: 1.2;\n              word-break: break-word;\n            }\n            .calendar-content {\n              padding: 0.5rem !important;\n              width: 100vw !important;\n              max-width: 100vw !important;\n              box-sizing: border-box;\n              display: block !important;\n              visibility: visible !important;\n              margin: 0 !important;\n              overflow-x: hidden;\n            }\n            \n            .calendar-grid {\n              border-radius: 8px;\n              overflow: visible;\n              box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);\n              border: 1px solid #e5e7eb;\n              width: calc(100vw - 1rem) !important;\n              max-width: calc(100vw - 1rem) !important;\n              box-sizing: border-box;\n              display: block !important;\n              visibility: visible !important;\n              margin: 0 !important;\n            }\n            \n            /* Mobile Calendar Header */\n            .calendar-header {\n              background: #f9fafb;\n              padding: 0;\n              display: grid !important;\n              grid-template-columns: repeat(7, 1fr) !important;\n              width: 100% !important;\n            }\n            .calendar-header-cell {\n              color: #374151;\n              font-weight: 700;\n              font-size: 0.75rem;\n              text-align: center;\n              padding: 0.75rem 0.125rem;\n              border-right: 1px solid #e5e7eb;\n              box-sizing: border-box;\n              overflow: hidden;\n            }\n            .calendar-header-cell:last-child {\n              border-right: none;\n            }\n            \n            /* Mobile Calendar Body */\n            .calendar-body {\n              background: #ffffff;\n              display: grid !important;\n              grid-template-columns: repeat(7, 1fr) !important;\n              width: 100%;\n              visibility: visible !important;\n            }\n            .calendar-cell {\n              min-height: 85px;\n              padding: 0.375rem;\n              border-right: 1px solid #f1f5f9;\n              border-bottom: 1px solid #f1f5f9;\n              background: #ffffff;\n              transition: all 0.2s ease;\n              position: relative;\n              display: flex;\n              flex-direction: column;\n              box-sizing: border-box;\n              overflow: hidden;\n            }\n            .calendar-cell:hover {\n              background: #f8fafc;\n              border-color: #e2e8f0;\n            }\n            .calendar-cell:nth-child(7n) {\n              border-right: none;\n            }\n            .calendar-cell.other-month {\n              background: #f9fafb;\n              opacity: 0.6;\n            }\n            .calendar-cell.other-month .day-number {\n              color: #9ca3af;\n            }\n            .calendar-cell.today {\n              background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);\n              border: 2px solid #000000;\n              box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1);\n            }\n            .calendar-cell.today .day-number {\n              color: #000000;\n              font-weight: 800;\n            }\n            .day-number {\n              font-size: 0.8rem;\n              font-weight: 700;\n              color: #1f2937;\n              margin-bottom: 0.25rem;\n              display: block;\n              text-align: left;\n            }\n            .events-container {\n              flex: 1;\n              display: flex;\n              flex-direction: column;\n              gap: 0.125rem;\n              overflow: hidden;\n            }\n            .task-item {\n              font-size: 0.6rem;\n              padding: 0.25rem;\n              border-radius: 4px;\n              margin-bottom: 0;\n              min-height: auto;\n              line-height: 1.2;\n              cursor: pointer;\n              transition: all 0.2s ease;\n              border: 1px solid transparent;\n              position: relative;\n              overflow: hidden;\n            }\n            .task-item:hover {\n              transform: translateY(-1px);\n              box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n              border-color: rgba(0, 0, 0, 0.1);\n            }\n            .task-header {\n              margin-bottom: 0.125rem;\n              display: flex;\n              justify-content: space-between;\n              align-items: flex-start;\n            }\n            .task-name {\n              font-size: 0.6rem;\n              line-height: 1.2;\n              font-weight: 600;\n              color: #1f2937;\n              flex: 1;\n              margin-right: 0.125rem;\n              display: -webkit-box;\n              -webkit-line-clamp: 2;\n              -webkit-box-orient: vertical;\n              overflow: hidden;\n              word-break: break-word;\n            }\n            .task-icons {\n              display: flex;\n              align-items: center;\n              gap: 0.125rem;\n              flex-shrink: 0;\n            }\n            .task-meta {\n              font-size: 0.5rem;\n              color: #6b7280;\n              line-height: 1.1;\n              display: flex;\n              flex-direction: column;\n              gap: 0.125rem;\n            }\n            .project-name {\n              font-weight: 500;\n              overflow: hidden;\n              text-overflow: ellipsis;\n              white-space: nowrap;\n              width: 100%;\n            }\n            .assignee {\n              display: flex;\n              align-items: center;\n              gap: 0.125rem;\n              font-size: 0.5rem;\n              color: #6b7280;\n            }\n            .more-tasks {\n              padding: 0.1875rem;\n              font-size: 0.55rem;\n              border-radius: 3px;\n              background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);\n              color: #6b7280;\n              text-align: center;\n              font-weight: 600;\n              cursor: pointer;\n              transition: all 0.2s ease;\n              border: 1px solid #d1d5db;\n              margin-top: 0.125rem;\n            }\n            .more-tasks:hover {\n              background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 100%);\n              color: #374151;\n              transform: translateY(-1px);\n            }\n          }\n          \n          /* Small mobile styles */\n          @media (max-width: 480px) {\n            .header {\n              padding: 0.75rem;\n            }\n            .header-title {\n              font-size: 1.25rem;\n            }\n            .header-controls {\n              flex-direction: column !important;\n              gap: 0.75rem !important;\n            }\n            .calendar-nav {\n              width: 100% !important;\n              max-width: none !important;\n              justify-content: space-between !important;\n              flex: none !important;\n            }\n            .today-nav {\n              width: 100% !important;\n            }\n            .today-btn {\n              width: 100% !important;\n              padding: 0.75rem !important;\n              font-size: 0.875rem !important;\n            }\n            .calendar-stats {\n              grid-template-columns: repeat(4, 1fr);\n              gap: 0.25rem;\n            }\n            .stat-item {\n              padding: 0.5rem 0.125rem;\n              min-height: 45px;\n            }\n            .stat-value {\n              font-size: 1rem;\n            }\n            .stat-label {\n              font-size: 0.55rem;\n            }\n            .month-year {\n              font-size: 0.85rem;\n              flex: 1;\n              text-align: center;\n            }\n            .nav-btn {\n              min-width: 36px;\n              min-height: 36px;\n              padding: 0.5rem;\n            }\n            .calendar-content {\n              padding: 0.625rem;\n            }\n            .calendar-header-cell {\n              font-size: 0.65rem;\n              padding: 0.625rem 0.0625rem;\n            }\n            .calendar-cell {\n              min-height: 70px;\n              padding: 0.25rem;\n            }\n            .day-number {\n              font-size: 0.75rem;\n              margin-bottom: 0.1875rem;\n            }\n            .task-item {\n              font-size: 0.55rem;\n              padding: 0.1875rem;\n              border-radius: 3px;\n            }\n            .task-name {\n              font-size: 0.55rem;\n              line-height: 1.1;\n            }\n            .task-meta {\n              font-size: 0.45rem;\n            }\n            .project-name {\n              width: 100%;\n            }\n            .assignee {\n              font-size: 0.45rem;\n            }\n            .more-tasks {\n              font-size: 0.5rem;\n              padding: 0.125rem;\n            }\n          }\n          \n          /* Landscape mobile optimization */\n          @media (max-width: 896px) and (orientation: landscape) {\n            .calendar-stats {\n              grid-template-columns: repeat(4, 1fr);\n            }\n            .calendar-cell {\n              min-height: 60px;\n            }\n          }\n            \n            /* Mobile Modal Styles */\n            .modal-overlay {\n              padding: 0.75rem;\n              align-items: center;\n              justify-content: center;\n              background: rgba(0, 0, 0, 0.6);\n            }\n            .enhanced-task-modal {\n              margin: 0;\n              width: 100%;\n              max-width: calc(100vw - 1.5rem);\n              max-height: calc(100vh - 1.5rem);\n              height: auto;\n              min-height: 80vh;\n              border-radius: 12px;\n              box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);\n              display: flex;\n              flex-direction: column;\n              overflow: hidden;\n            }\n            .modal-header {\n              padding: 1rem;\n              border-bottom: 1px solid #e5e7eb;\n              background: #ffffff;\n              position: relative;\n              flex-shrink: 0;\n            }\n            .modal-header h3 {\n              font-size: 1rem;\n              line-height: 1.3;\n              padding-right: 2.5rem;\n              margin: 0;\n              font-weight: 600;\n            }\n            .close-btn {\n              position: absolute;\n              top: 0.75rem;\n              right: 0.75rem;\n              font-size: 1.125rem;\n              padding: 0.375rem;\n              background: #f8fafc;\n              border-radius: 50%;\n              width: 32px;\n              height: 32px;\n              display: flex;\n              align-items: center;\n              justify-content: center;\n              border: 1px solid #e5e7eb;\n            }\n            .task-details-section {\n              padding: 1rem;\n              flex: 1;\n              overflow-y: auto;\n              background: #ffffff;\n            }\n            .task-status-row {\n              display: flex;\n              gap: 0.5rem;\n              align-items: flex-start;\n              margin-bottom: 1rem;\n              flex-wrap: wrap;\n            }\n            .status-badge, .priority-badge {\n              font-size: 0.7rem;\n              padding: 0.375rem 0.75rem;\n              border-radius: 20px;\n              font-weight: 600;\n            }\n            .description {\n              margin-bottom: 1rem;\n            }\n            .description h4 {\n              font-size: 0.85rem;\n              margin-bottom: 0.5rem;\n            }\n            .description p {\n              font-size: 0.8rem;\n              line-height: 1.4;\n            }\n            .task-metadata {\n              gap: 0.75rem;\n              margin-bottom: 1rem;\n            }\n            .meta-item {\n              display: flex;\n              justify-content: space-between;\n              align-items: flex-start;\n              padding: 0.5rem 0;\n              border-bottom: 1px solid #f3f4f6;\n            }\n            .meta-item:last-child {\n              border-bottom: none;\n            }\n            .meta-item .label {\n              font-size: 0.7rem;\n              color: #6b7280;\n              font-weight: 500;\n              min-width: 60px;\n            }\n            .meta-item .value {\n              font-size: 0.8rem;\n              text-align: right;\n              flex: 1;\n              font-weight: 500;\n            }\n            .meta-item .value.overdue {\n              color: #dc2626;\n              font-weight: 600;\n            }\n            .tags {\n              justify-content: flex-end;\n              flex-wrap: wrap;\n              gap: 0.25rem;\n            }\n            .tag {\n              font-size: 0.65rem;\n              padding: 0.2rem 0.5rem;\n              background: #f3f4f6;\n              border-radius: 12px;\n              border: 1px solid #e5e7eb;\n            }\n            .status-change-section {\n              background: #f8fafc;\n              border: 1px solid #e5e7eb;\n              border-radius: 8px;\n              padding: 1rem;\n              margin-top: 1rem;\n            }\n            .status-change-title {\n              font-size: 0.85rem;\n              font-weight: 600;\n              margin-bottom: 0.75rem;\n              color: #000000;\n            }\n            .status-change-buttons {\n              display: grid;\n              grid-template-columns: 1fr 1fr;\n              gap: 0.5rem;\n            }\n            .status-change-btn {\n              padding: 0.75rem 0.5rem;\n              font-size: 0.75rem;\n              justify-content: center;\n              min-height: 44px;\n              border-radius: 6px;\n              font-weight: 500;\n            }\n            \n            /* Mobile Modal Splitter */\n            .modal-splitter {\n              height: 8px;\n              touch-action: none;\n              background: #f3f4f6;\n              cursor: ns-resize;\n            }\n            .splitter-handle {\n              width: 40px;\n              height: 3px;\n              background: #9ca3af;\n            }\n            \n            /* Mobile Tab Navigation */\n            .tab-navigation {\n              overflow-x: auto;\n              scrollbar-width: none;\n              -ms-overflow-style: none;\n              background: #f8fafc;\n              border-bottom: 1px solid #e5e7eb;\n              flex-shrink: 0;\n            }\n            .tab-navigation::-webkit-scrollbar {\n              display: none;\n            }\n            .tab-btn {\n              padding: 0.875rem 1rem;\n              font-size: 0.8rem;\n              min-width: 100px;\n              white-space: nowrap;\n              min-height: 48px;\n              font-weight: 500;\n            }\n            \n            /* Mobile Comments & Files */\n            .comments-list, .files-list {\n              max-height: 200px;\n              padding: 0.875rem;\n              overflow-y: auto;\n            }\n            .comment-item {\n              margin-bottom: 1rem;\n              padding-bottom: 0.75rem;\n            }\n            .comment-header {\n              gap: 0.5rem;\n              margin-bottom: 0.5rem;\n            }\n            .author-avatar, .current-user-avatar {\n              width: 32px;\n              height: 32px;\n              font-size: 0.8rem;\n            }\n            .comment-content {\n              margin-left: 2.5rem;\n              font-size: 0.85rem;\n              line-height: 1.4;\n            }\n            .add-comment {\n              padding: 1rem;\n              background: #f8fafc;\n              border-top: 1px solid #e5e7eb;\n            }\n            .comment-input-container {\n              display: flex;\n              flex-direction: column;\n              gap: 0.75rem;\n            }\n            .comment-input {\n              min-height: 80px;\n              font-size: 0.9rem;\n              padding: 0.875rem;\n              border-radius: 8px;\n              border: 2px solid #e5e7eb;\n              resize: vertical;\n            }\n            .comment-input:focus {\n              border-color: #000000;\n              outline: none;\n            }\n            .send-comment-btn {\n              align-self: stretch;\n              padding: 0.875rem;\n              justify-content: center;\n              font-size: 0.85rem;\n              min-height: 44px;\n              background: #000000;\n              color: #ffffff;\n              border: none;\n              border-radius: 8px;\n              font-weight: 600;\n            }\n            .files-header {\n              padding: 1rem;\n              background: #f8fafc;\n              border-bottom: 1px solid #e5e7eb;\n            }\n            .files-header h4 {\n              font-size: 0.9rem;\n              font-weight: 600;\n              margin: 0;\n            }\n            .upload-btn {\n              padding: 0.625rem 1rem;\n              font-size: 0.8rem;\n              min-height: 40px;\n              background: #000000;\n              color: #ffffff;\n              border: none;\n              border-radius: 6px;\n              font-weight: 500;\n            }\n            .file-item {\n              padding: 0.875rem;\n              border-bottom: 1px solid #f3f4f6;\n              display: flex;\n              align-items: center;\n              gap: 0.75rem;\n            }\n            .file-item:last-child {\n              border-bottom: none;\n            }\n            .file-icon {\n              width: 40px;\n              height: 40px;\n              background: #f3f4f6;\n              border-radius: 6px;\n              display: flex;\n              align-items: center;\n              justify-content: center;\n              flex-shrink: 0;\n            }\n            .file-info {\n              flex: 1;\n              min-width: 0;\n            }\n            .file-name {\n              font-size: 0.85rem;\n              font-weight: 500;\n              margin-bottom: 0.25rem;\n              word-break: break-word;\n            }\n            .file-meta {\n              font-size: 0.7rem;\n              color: #6b7280;\n              display: flex;\n              gap: 0.5rem;\n            }\n            .file-actions {\n              flex-shrink: 0;\n            }\n            .download-btn {\n              padding: 0.5rem;\n              font-size: 0.8rem;\n              min-height: 36px;\n              min-width: 36px;\n              background: #f8fafc;\n              border: 1px solid #e5e7eb;\n              border-radius: 6px;\n              display: flex;\n              align-items: center;\n              justify-content: center;\n            }\n          }\n          \n          /* Small mobile styles */\n          @media (max-width: 480px) {\n            .calendar-container,\n            .main-content,\n            .header,\n            .header-content,\n            .calendar-content,\n            .calendar-grid,\n            .calendar-header,\n            .calendar-body {\n              width: 100vw !important;\n              max-width: 100vw !important;\n              margin: 0 !important;\n              padding-left: 0.5rem !important;\n              padding-right: 0.5rem !important;\n              box-sizing: border-box !important;\n            }\n            \n            .header {\n              padding: 0.875rem 0.5rem;\n            }\n            .header-title {\n              font-size: 1.375rem;\n            }\n            .calendar-stats {\n              grid-template-columns: 1fr;\n              gap: 0.5rem;\n              width: 100% !important;\n              margin: 0 !important;\n              padding: 0 !important;\n            }\n            .stat-item {\n              padding: 0.75rem;\n            }\n            .calendar-nav {\n              gap: 0.5rem;\n              width: 100% !important;\n            }\n            .month-year {\n              font-size: 0.9rem;\n              flex: 1;\n              text-align: center;\n            }\n            .calendar-content {\n              padding: 0.5rem !important;\n              width: 100vw !important;\n              margin: 0 !important;\n            }\n            .calendar-grid {\n              width: calc(100vw - 1rem) !important;\n              margin: 0 !important;\n            }\n            .calendar-cell {\n              padding: 0.875rem;\n              flex-direction: column;\n              align-items: flex-start;\n            }\n            .day-number {\n              align-self: flex-start;\n              margin-bottom: 0.75rem;\n              margin-right: 0;\n            }\n            .events-container {\n              width: 100%;\n            }\n            .important-tasks-sidebar {\n              margin: 0.75rem;\n            }\n            .important-tasks-list {\n              padding: 0.875rem;\n            }\n            .important-task-item {\n              padding: 0.875rem;\n              flex-direction: column;\n              gap: 0.75rem;\n            }\n            .star-btn-large {\n              align-self: flex-end;\n            }\n            .enhanced-task-modal {\n              border-radius: 8px 8px 0 0;\n              max-height: 95vh;\n              height: 95vh;\n            }\n            .modal-header {\n              padding: 0.875rem;\n            }\n            .modal-header h3 {\n              font-size: 0.9rem;\n              padding-right: 2rem;\n            }\n            .close-btn {\n              width: 28px;\n              height: 28px;\n              top: 0.625rem;\n              right: 0.625rem;\n              font-size: 1rem;\n            }\n            .task-details-section {\n              padding: 0.875rem;\n            }\n            .task-status-row {\n              gap: 0.375rem;\n            }\n            .status-badge, .priority-badge {\n              font-size: 0.65rem;\n              padding: 0.3rem 0.6rem;\n            }\n            .meta-item .label {\n              font-size: 0.65rem;\n              min-width: 50px;\n            }\n            .meta-item .value {\n              font-size: 0.75rem;\n            }\n            .status-change-section {\n              padding: 0.875rem;\n            }\n            .status-change-title {\n              font-size: 0.8rem;\n            }\n            .status-change-buttons {\n              grid-template-columns: 1fr;\n              gap: 0.5rem;\n            }\n            .status-change-btn {\n              padding: 0.75rem;\n              font-size: 0.7rem;\n            }\n            .tab-btn {\n              min-width: 80px;\n              padding: 0.75rem 0.75rem;\n              font-size: 0.75rem;\n              min-height: 44px;\n            }\n            .comment-input {\n              min-height: 70px;\n              font-size: 0.85rem;\n              padding: 0.75rem;\n            }\n            .send-comment-btn {\n              padding: 0.75rem;\n              font-size: 0.8rem;\n              min-height: 40px;\n            }\n          }\n          \n          /* Landscape mobile optimization */\n          @media (max-width: 896px) and (orientation: landscape) {\n            .enhanced-task-modal {\n              height: 90vh;\n              max-height: 90vh;\n              align-items: center;\n              border-radius: 12px;\n            }\n            .modal-overlay {\n              align-items: center;\n              padding: 1rem;\n            }\n            .calendar-stats {\n              grid-template-columns: repeat(4, 1fr);\n            }\n            .important-tasks-sidebar {\n              order: 0;\n            }\n          }\n        ")}}),(0,r.jsxs)("div",{className:"calendar-container",children:[!M&&(0,r.jsx)(g.Z,{projects:u,onCreateProject:()=>{}}),(0,r.jsxs)("div",{className:"main-content",children:[(0,r.jsxs)("header",{className:"header",children:[(0,r.jsxs)("div",{className:"header-content",children:[(0,r.jsxs)("h1",{className:"header-title",children:[(0,r.jsx)(m.Z,{style:{width:"32px",height:"32px"}}),"Calendar"]}),(0,r.jsxs)("div",{className:"header-controls",children:[(0,r.jsxs)("div",{className:"calendar-nav",children:[(0,r.jsx)("button",{onClick:()=>{C(new Date(N.getFullYear(),N.getMonth()-1))},className:"nav-btn",children:(0,r.jsx)(c.Z,{style:{width:"20px",height:"20px"}})}),(0,r.jsxs)("div",{className:"month-year",children:[["January","February","March","April","May","June","July","August","September","October","November","December"][N.getMonth()]," ",N.getFullYear()]}),(0,r.jsx)("button",{onClick:()=>{C(new Date(N.getFullYear(),N.getMonth()+1))},className:"nav-btn",children:(0,r.jsx)(f.Z,{style:{width:"20px",height:"20px"}})})]}),(0,r.jsx)("div",{className:"today-nav",children:(0,r.jsx)("button",{onClick:()=>C(new Date),className:"today-btn",style:{background:"#3b82f6",color:"#ffffff",border:"none",padding:"0.75rem 1.5rem",borderRadius:"8px",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},children:"Today"})})]})]}),(0,r.jsxs)("div",{className:"calendar-stats",children:[(0,r.jsxs)("div",{className:"stat-item",children:[(0,r.jsx)("span",{className:"stat-label",children:"Total Tasks"}),(0,r.jsx)("span",{className:"stat-value",children:y.length})]}),(0,r.jsxs)("div",{className:"stat-item",children:[(0,r.jsx)("span",{className:"stat-label",children:"In Progress"}),(0,r.jsx)("span",{className:"stat-value",children:y.filter(n=>"in_progress"===n.status).length})]}),(0,r.jsxs)("div",{className:"stat-item",children:[(0,r.jsx)("span",{className:"stat-label",children:"Due Today"}),(0,r.jsx)("span",{className:"stat-value",children:R($).length})]}),(0,r.jsxs)("div",{className:"stat-item",children:[(0,r.jsx)("span",{className:"stat-label",children:"Overdue"}),(0,r.jsx)("span",{className:"stat-value overdue",children:y.filter(n=>V(n.due_date)).length})]})]})]}),(0,r.jsxs)("main",{className:"calendar-content",children:[(0,r.jsxs)("div",{className:"calendar-grid",children:[(0,r.jsx)("div",{className:"calendar-header",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(n=>(0,r.jsx)("div",{className:"calendar-header-cell",children:n},n))}),(0,r.jsxs)("div",{className:"calendar-body",children:[Array.from({length:ne},(n,e)=>{let t=new Date(N.getFullYear(),N.getMonth()-1),a=Z(t);return(0,r.jsx)("div",{className:"calendar-cell other-month",children:(0,r.jsx)("div",{className:"day-number",children:a-ne+e+1})},"prev-".concat(e))}),Array.from({length:nn},(n,e)=>{let t=e+1,a=new Date(N.getFullYear(),N.getMonth(),t),i=N.getMonth()===$.getMonth()&&N.getFullYear()===$.getFullYear()&&t===$.getDate(),o=R(a);return(0,r.jsxs)("div",{className:"calendar-cell ".concat(i?"today":""),children:[(0,r.jsx)("div",{className:"day-number",children:t}),(0,r.jsxs)("div",{className:"events-container",children:[(o||[]).slice(0,3).map(n=>(0,r.jsxs)("div",{className:"task-item ".concat(n.is_important?"important":""," ").concat(V(n.due_date)?"overdue":""),style:{borderLeft:"3px solid ".concat(U(n.status))},onClick:()=>q(n),children:[(0,r.jsxs)("div",{className:"task-header",children:[(0,r.jsx)("span",{className:"task-name",children:n.name}),(0,r.jsx)("div",{className:"task-icons",children:W(n.priority)})]}),(0,r.jsxs)("div",{className:"task-meta",children:[(0,r.jsx)("span",{className:"project-name",style:{color:"#000000"},children:n.project_name}),n.assignee&&(0,r.jsxs)("span",{className:"assignee",children:[(0,r.jsx)(p.Z,{style:{width:"10px",height:"10px"}}),n.assignee.name?n.assignee.name.split(" ")[0]:"Unknown"]})]})]},n.id)),(o||[]).length>3&&(0,r.jsxs)("div",{className:"more-tasks",onClick:n=>{n.stopPropagation(),X(a,o||[])},style:{cursor:"pointer"},children:["+",(o||[]).length-3," more"]})]})]},t)}),Array.from({length:42-(ne+nn)},(n,e)=>(0,r.jsx)("div",{className:"calendar-cell other-month",children:(0,r.jsx)("div",{className:"day-number",children:e+1})},"next-".concat(e)))]})]}),B&&S&&(0,r.jsx)(h.Z,{task:S,users:[],onClose:G,onSave:K,onStatusChange:J,onDelete:Q}),T&&I&&(0,r.jsx)("div",{className:"modal-overlay",onClick:()=>{Y(!1),L(null),P([])},children:(0,r.jsxs)("div",{className:"enhanced-task-modal",onClick:n=>n.stopPropagation(),children:[(0,r.jsxs)("div",{className:"modal-header",children:[(0,r.jsxs)("h3",{children:["Tasks for ",I.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]}),(0,r.jsx)("button",{type:"button",onClick:()=>{Y(!1),L(null),P([])},className:"close-btn",children:"\xd7"})]}),(0,r.jsx)("div",{className:"task-details-section",style:{maxHeight:"100%",overflow:"auto"},children:0===A.length?(0,r.jsx)("div",{className:"empty-comments",children:(0,r.jsx)("p",{children:"No tasks scheduled for this day"})}):(0,r.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:A.map(n=>(0,r.jsxs)("div",{className:"task-item",style:{padding:"1rem",border:"2px solid #e5e7eb",borderRadius:"8px",background:"#ffffff",cursor:"pointer",transition:"all 0.2s ease",borderLeft:"4px solid ".concat(U(n.status))},onClick:()=>{Y(!1),L(null),P([]),q(n)},onMouseOver:n=>{n.currentTarget.style.background="#f9fafb",n.currentTarget.style.borderColor="#000000"},onMouseOut:n=>{n.currentTarget.style.background="#ffffff",n.currentTarget.style.borderColor="#e5e7eb"},children:[(0,r.jsxs)("div",{className:"task-status-row",children:[(0,r.jsx)("span",{className:"status-badge status-".concat(n.status),children:n.status.replace("_"," ")}),(0,r.jsxs)("span",{className:"priority-badge priority-".concat(n.priority),children:[W(n.priority),n.priority]})]}),(0,r.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,r.jsx)("h4",{style:{margin:0,fontSize:"1rem",fontWeight:"600",color:"#000000"},children:n.name}),(0,r.jsx)("p",{style:{margin:"0.25rem 0 0 0",fontSize:"0.875rem",color:"#666666"},children:n.project_name})]}),n.description&&(0,r.jsx)("p",{style:{margin:"0.5rem 0",fontSize:"0.875rem",color:"#374151",lineHeight:"1.4"},children:n.description}),(0,r.jsxs)("div",{className:"task-metadata",children:[n.assignee&&(0,r.jsxs)("div",{className:"meta-item",children:[(0,r.jsx)("span",{className:"label",children:"Assigned to:"}),(0,r.jsx)("span",{className:"value",children:n.assignee.name})]}),n.estimated_hours&&(0,r.jsxs)("div",{className:"meta-item",children:[(0,r.jsx)("span",{className:"label",children:"Estimated:"}),(0,r.jsxs)("span",{className:"value",children:[n.estimated_hours,"h"]})]}),n.tags_list&&n.tags_list.length>0&&(0,r.jsxs)("div",{className:"meta-item",children:[(0,r.jsx)("span",{className:"label",children:"Tags:"}),(0,r.jsx)("div",{className:"tags",children:n.tags_list.map((n,e)=>(0,r.jsx)("span",{className:"tag",children:n},e))})]})]})]},n.id))})})]})})]})]})]})]}):null}}},function(n){n.O(0,[8326,7708,2933,1460,8411,4560,3152,66,7514,3813,2971,2472,1744],function(){return n(n.s=2209)}),_N_E=n.O()}]);