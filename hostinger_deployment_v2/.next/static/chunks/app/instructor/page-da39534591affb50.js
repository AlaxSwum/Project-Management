(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6169],{5228:function(e,r,t){Promise.resolve().then(t.bind(t,8114))},8114:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return f},dynamic:function(){return h}});var a=t(7437),n=t(2265),s=t(3549),i=t(8411),o=t(4560),d=t(1253),l=t(2929);let c=n.forwardRef(function({title:e,titleId:r,...t},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},t),e?n.createElement("title",{id:r},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))});var g=t(1205),p=t(9649),m=t(1296),u=t(654),v=t(5255),x=t(6610);let h="force-dynamic";function f(){let{user:e}=(0,s.useAuth)(),[r,t]=(0,n.useState)([]),[h,f]=(0,n.useState)(null),[y,b]=(0,n.useState)("students"),[j,S]=(0,n.useState)([]),[_,w]=(0,n.useState)([]),[k,I]=(0,n.useState)(""),[M,z]=(0,n.useState)(null),[A,R]=(0,n.useState)([]),[W,P]=(0,n.useState)([]),[E,C]=(0,n.useState)(!1),[F,B]=(0,n.useState)(""),[D,T]=(0,n.useState)(null),[L,N]=(0,n.useState)(!1),[Z,q]=(0,n.useState)(new Date().toISOString().split("T")[0]);(0,n.useEffect)(()=>{e&&"instructor"!==e.role&&(window.location.href="/dashboard")},[e]),(0,n.useEffect)(()=>{e&&"instructor"===e.role&&O()},[e]),(0,n.useEffect)(()=>{h&&("students"===y?U():"attendance"===y?G():"kpi"===y&&K())},[h,y]),(0,n.useEffect)(()=>{h&&k&&M&&H()},[h,k,M]);let O=async()=>{try{var r;C(!0),console.log("\uD83D\uDCDA Loading classes for instructor:",null==e?void 0:e.id,null==e?void 0:e.name);let{data:a,error:n}=await i.supabase.from("classes_instructors").select("\n          classes!inner (\n            *,\n            classes_folders(name)\n          )\n        ").eq("instructor_id",null==e?void 0:e.id).eq("is_active",!0);if(n){console.error("❌ Error loading instructor classes:",n),B("Error loading classes: ".concat(n.message));return}console.log("\uD83D\uDD0D Raw instructor classes data:",a);let s=(null==a?void 0:null===(r=a.filter(e=>{var r;let t=!(null===(r=e.classes.class_title)||void 0===r?void 0:r.toLowerCase().includes("general training all staff"));return console.log('\uD83D\uDD0D Class "'.concat(e.classes.class_title,'" - Status: ').concat(e.classes.status,", Include: ").concat(t)),t}))||void 0===r?void 0:r.map(e=>{var r;return{...e.classes,folder_name:(null===(r=e.classes.classes_folders)||void 0===r?void 0:r.name)||"No Folder"}}))||[];console.log("\uD83D\uDD0D Classes after filtering:",s);let o=await Promise.all(s.map(async e=>{let{data:r,error:t}=await i.supabase.from("classes_participants").select("id").eq("class_id",e.id);return{...e,current_participants:(null==r?void 0:r.length)||0}}));console.log("\uD83D\uDCDA Final loaded classes:",o),t(o),B("")}catch(e){console.error("\uD83D\uDCA5 Error in loadInstructorClasses:",e),B("Error loading classes")}finally{C(!1)}},U=async()=>{if(h)try{C(!0);let{data:e,error:r}=await i.supabase.from("classes_participants").select("*").eq("class_id",h.id);if(r){console.error("Error loading students:",r),B("Error loading students");return}S(e||[]),B("")}catch(e){console.error("Error loading students:",e),B("Error loading students")}finally{C(!1)}},G=async()=>{if(h)try{C(!0);let{data:e,error:r}=await i.supabase.from("class_attendance_folders").select("id, class_id, attendance_date").eq("class_id",h.id).order("attendance_date",{ascending:!1});if(r&&"PGRST116"!==r.code){console.error("Error loading attendance folders:",r),B("Error loading attendance data");return}if(!e||0===e.length){w([]),B("");return}let t=await Promise.all(e.map(async e=>{let{data:r}=await i.supabase.from("class_daily_attendance").select("status").eq("folder_id",e.id),t=(null==r?void 0:r.filter(e=>"present"===e.status).length)||0,a=(null==r?void 0:r.filter(e=>"absent"===e.status).length)||0,n=(null==r?void 0:r.filter(e=>"late"===e.status).length)||0;return{id:e.id,attendance_date:e.attendance_date,present_count:t,absent_count:a,late_count:n,total_students:t+a+n}}));w(t),B("")}catch(e){console.error("Error loading attendance folders:",e),B("Error loading attendance data")}finally{C(!1)}},H=async()=>{if(h&&k&&M)try{C(!0);let{data:e,error:r}=await i.supabase.from("class_daily_attendance").select("id, student_id, student_name, status, reason").eq("folder_id",M);if(r){console.error("Error loading attendance records:",r),B("Error loading attendance records");return}R(e||[]),B("")}catch(e){console.error("Error loading attendance records:",e),B("Error loading attendance records")}finally{C(!1)}},K=async()=>{if(h)try{C(!0);let{data:e}=await i.supabase.from("classes_participants").select("*").eq("class_id",h.id);if(!e||0===e.length){P([]);return}let r=await Promise.all(e.map(async e=>{let{data:r}=await i.supabase.from("class_attendance_folders").select("id").eq("class_id",h.id),t=(null==r?void 0:r.length)||0;if(0===t)return{student_id:e.id,student_name:e.student_name,total_classes:0,attended_classes:0,attendance_rate:0,absent_excused:0,absent_unexcused:0,recent_trend:"stable"};let{data:a}=await i.supabase.from("class_daily_attendance").select("status, folder_id").eq("student_id",e.id).in("folder_id",(r||[]).map(e=>e.id)),n=(null==a?void 0:a.filter(e=>"present"===e.status).length)||0,s=(null==a?void 0:a.filter(e=>"late"===e.status).length)||0,o=(null==a?void 0:a.filter(e=>"absent"===e.status).length)||0,d=n+.5*s,l=t>0?d/t*100:0,c="stable";return l>=90?c="improving":l<70&&(c="declining"),{student_id:e.id,student_name:e.student_name,total_classes:t,attended_classes:n,late_classes:s,absent_classes:o,attendance_rate:Math.round(100*l)/100,attendance_score:Math.round(100*d)/100,absent_excused:0,absent_unexcused:o,recent_trend:c}}));P(r),B("")}catch(e){console.error("Error loading student KPIs:",e),B("Error loading student KPIs")}finally{C(!1)}},Y=async()=>{if(h&&Z)try{C(!0);let{data:r,error:t}=await i.supabase.from("class_attendance_folders").insert({class_id:h.id,attendance_date:Z,created_by:null==e?void 0:e.id}).select().single();if(t){console.error("Error creating attendance folder:",t),B("Error creating attendance folder: ".concat(t.message));return}let{data:a}=await i.supabase.from("classes_participants").select("*").eq("class_id",h.id);if(!a||0===a.length){B("No students found in this class");return}let n=a.map(t=>({folder_id:r.id,student_id:t.id,student_name:t.student_name,status:"present",reason:null,recorded_by:null==e?void 0:e.id})),{error:s}=await i.supabase.from("class_daily_attendance").insert(n);if(s){console.error("Error creating attendance records:",s),B("Error creating attendance records: ".concat(s.message));return}B("Attendance folder created successfully"),N(!1),q(new Date().toISOString().split("T")[0]),await G(),z(r.id),I(r.attendance_date),await H()}catch(e){console.error("Error creating attendance folder:",e),B("Error creating attendance folder: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{C(!1)}},V=async(e,r)=>{try{T(e);let t=A.find(r=>r.id===e);if(!t){T(null);return}let a=t.status;R(t=>t.map(t=>t.id===e?{...t,status:r}:t)),w(e=>e.map(e=>{if(e.id===M){let t={...e};return"present"===a?t.present_count--:"late"===a?t.late_count--:"absent"===a&&t.absent_count--,"present"===r?t.present_count++:"late"===r?t.late_count++:"absent"===r&&t.absent_count++,t}return e}));let{error:n}=await i.supabase.from("class_daily_attendance").update({status:r}).eq("id",e);if(n){console.error("Error updating attendance:",n),B("Error updating attendance"),R(r=>r.map(r=>r.id===e?{...r,status:a}:r)),w(e=>e.map(e=>{if(e.id===M){let t={...e};return"present"===r?t.present_count--:"late"===r?t.late_count--:"absent"===r&&t.absent_count--,"present"===a?t.present_count++:"late"===a?t.late_count++:"absent"===a&&t.absent_count++,t}return e})),T(null);return}B(""),T(null)}catch(e){console.error("Error updating attendance:",e),B("Error updating attendance"),T(null)}},J=async e=>{if(confirm("Are you sure you want to delete this attendance day? This will also delete all attendance records for this day."))try{C(!0);let{error:r}=await i.supabase.from("class_attendance_folders").delete().eq("id",e);if(r){console.error("Error deleting attendance folder:",r),B("Error deleting attendance folder");return}B("Attendance day deleted successfully"),M===e&&(z(null),I(""),R([])),G()}catch(e){console.error("Error deleting attendance folder:",e),B("Error deleting attendance folder")}finally{C(!1)}},Q=async e=>{try{B("Generating certificate for ".concat(e.student_name,"...")),setTimeout(()=>{B("Certificate generated successfully for ".concat(e.student_name,"!"))},2e3)}catch(e){console.error("Error generating certificate:",e),B("Error generating certificate")}};return e?"instructor"!==e.role?(0,a.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:"Access denied. Instructor role required."}):(0,a.jsxs)("div",{className:"instructor-dashboard",style:{display:"flex",minHeight:"100vh",background:"var(--background)",fontFamily:"'Mabry Pro', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif"},children:[(0,a.jsx)(o.Z,{projects:[],onCreateProject:()=>{}}),(0,a.jsx)("div",{style:{flex:"1",marginLeft:"16rem",padding:"var(--spacing-xl)"},children:(0,a.jsxs)("div",{style:{background:"var(--surface)",border:"1px solid var(--border)",borderRadius:"var(--radius-2xl)",padding:"var(--spacing-xl)",boxShadow:"var(--shadow-lg)"},children:[(0,a.jsxs)("div",{style:{marginBottom:"var(--spacing-xl)"},children:[(0,a.jsx)("h1",{style:{fontSize:"2rem",fontWeight:"650",color:"var(--text-primary)",marginBottom:"var(--spacing-sm)",fontFamily:"'Mabry Pro', 'Inter', sans-serif",letterSpacing:"-0.025em"},children:"Instructor Dashboard"}),(0,a.jsxs)("p",{style:{color:"var(--text-secondary)",fontSize:"1.125rem",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:["Welcome back, ",e.name,"! Manage your classes and track student progress."]})]}),F&&(0,a.jsx)("div",{style:{padding:"var(--spacing-md)",borderRadius:"var(--radius-lg)",marginBottom:"var(--spacing-lg)",backgroundColor:F.includes("Error")?"rgba(239, 68, 68, 0.15)":"rgba(16, 185, 129, 0.15)",color:F.includes("Error")?"var(--status-blocked)":"var(--status-completed)",border:F.includes("Error")?"1px solid rgba(239, 68, 68, 0.3)":"1px solid rgba(16, 185, 129, 0.3)",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:F}),h?(0,a.jsxs)("div",{children:[(0,a.jsx)("button",{onClick:()=>{f(null),b("students")},className:"btn-outline",style:{marginBottom:"var(--spacing-lg)",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:"← Back to My Classes"}),(0,a.jsxs)("div",{style:{marginBottom:"var(--spacing-lg)"},children:[(0,a.jsx)("h2",{style:{fontSize:"1.5rem",fontWeight:"600",color:"var(--text-primary)",marginBottom:"var(--spacing-sm)",fontFamily:"'Mabry Pro', 'Inter', sans-serif",letterSpacing:"-0.025em"},children:h.class_title}),(0,a.jsxs)("p",{style:{color:"var(--text-secondary)",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:[h.current_participants," students • ",h.class_date," • ",h.start_time," - ",h.end_time]})]}),(0,a.jsx)("div",{style:{display:"flex",gap:"var(--spacing-xs)",marginBottom:"var(--spacing-lg)",backgroundColor:"var(--surface-dark)",padding:"var(--spacing-xs)",borderRadius:"var(--radius-xl)",border:"1px solid var(--border)"},children:[{id:"students",label:"Students",icon:p.Z},{id:"attendance",label:"Attendance",icon:m.Z},{id:"kpi",label:"KPI",icon:u.Z}].map(e=>{let r=e.icon;return(0,a.jsxs)("button",{onClick:()=>b(e.id),style:{flex:"1",display:"flex",alignItems:"center",justifyContent:"center",gap:"var(--spacing-sm)",padding:"var(--spacing-sm) var(--spacing-lg)",borderRadius:"var(--radius-lg)",fontSize:"0.875rem",fontWeight:"600",transition:"all var(--transition-normal)",border:"none",cursor:"pointer",fontFamily:"'Mabry Pro', 'Inter', sans-serif",backgroundColor:y===e.id?"var(--surface)":"transparent",color:y===e.id?"var(--primary)":"var(--text-secondary)",boxShadow:y===e.id?"var(--shadow-sm)":"none"},children:[(0,a.jsx)(r,{style:{height:"1rem",width:"1rem"}}),e.label]},e.id)})}),"students"===y&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:"var(--text-primary)",marginBottom:"var(--spacing-md)",fontFamily:"'Mabry Pro', 'Inter', sans-serif",letterSpacing:"-0.025em"},children:"Student List"}),E?(0,a.jsx)("div",{style:{textAlign:"center",padding:"var(--spacing-xl) 0",color:"var(--text-secondary)",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:"Loading students..."}):0===j.length?(0,a.jsxs)("div",{style:{textAlign:"center",padding:"var(--spacing-2xl) 0",color:"var(--text-muted)",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:[(0,a.jsx)(p.Z,{style:{height:"4rem",width:"4rem",margin:"0 auto var(--spacing-md)",color:"var(--border-dark)"}}),(0,a.jsx)("h4",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"var(--spacing-sm)",color:"var(--text-primary)",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:"No Students Enrolled"}),(0,a.jsx)("p",{children:"No students are currently enrolled in this class."})]}):(0,a.jsxs)("div",{style:{background:"var(--surface)",borderRadius:"var(--radius-2xl)",border:"2px solid var(--border)",overflow:"hidden",boxShadow:"var(--shadow-lg)",margin:"0 auto",maxWidth:"100%"},children:[(0,a.jsx)("div",{style:{background:"var(--surface-light)",padding:"var(--spacing-md)",borderBottom:"2px solid var(--border)"},children:(0,a.jsxs)("h4",{style:{fontSize:"1.125rem",fontWeight:"600",color:"var(--text-primary)",textAlign:"center",margin:"0",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:["Class Students (",j.length,")"]})}),(0,a.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:[(0,a.jsx)("thead",{style:{background:"var(--surface-dark)"},children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{style:{padding:"var(--spacing-md)",textAlign:"center",fontSize:"0.875rem",fontWeight:"600",color:"var(--text-secondary)",borderBottom:"2px solid var(--border)",borderRight:"1px solid var(--border)",textTransform:"uppercase",letterSpacing:"0.025em"},children:"Student Name"}),(0,a.jsx)("th",{style:{padding:"var(--spacing-md)",textAlign:"center",fontSize:"0.875rem",fontWeight:"600",color:"var(--text-secondary)",borderBottom:"2px solid var(--border)",borderRight:"1px solid var(--border)",textTransform:"uppercase",letterSpacing:"0.025em"},children:"Email"}),(0,a.jsx)("th",{style:{padding:"var(--spacing-md)",textAlign:"center",fontSize:"0.875rem",fontWeight:"600",color:"var(--text-secondary)",borderBottom:"2px solid var(--border)",borderRight:"1px solid var(--border)",textTransform:"uppercase",letterSpacing:"0.025em"},children:"Phone"}),(0,a.jsx)("th",{style:{padding:"var(--spacing-md)",textAlign:"center",fontSize:"0.875rem",fontWeight:"600",color:"var(--text-secondary)",borderBottom:"2px solid var(--border)",borderRight:"1px solid var(--border)",textTransform:"uppercase",letterSpacing:"0.025em"},children:"Discord ID"}),(0,a.jsx)("th",{style:{padding:"var(--spacing-md)",textAlign:"center",fontSize:"0.875rem",fontWeight:"600",color:"var(--text-secondary)",borderBottom:"2px solid var(--border)",textTransform:"uppercase",letterSpacing:"0.025em"},children:"Enrolled Date"})]})}),(0,a.jsx)("tbody",{children:j.map((e,r)=>(0,a.jsxs)("tr",{style:{borderBottom:r<j.length-1?"1px solid var(--border)":"none",transition:"background-color var(--transition-normal)",cursor:"default"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="var(--surface-light)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:[(0,a.jsx)("td",{style:{padding:"var(--spacing-md)",textAlign:"center",color:"var(--text-primary)",fontWeight:"500",borderRight:"1px solid var(--border)",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:e.student_name}),(0,a.jsx)("td",{style:{padding:"var(--spacing-md)",textAlign:"center",color:"var(--text-secondary)",borderRight:"1px solid var(--border)",fontFamily:"'Mabry Pro', 'Inter', sans-serif",maxWidth:"280px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:e.email,children:e.email}),(0,a.jsx)("td",{style:{padding:"var(--spacing-md)",textAlign:"center",color:"var(--text-secondary)",borderRight:"1px solid var(--border)",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:e.phone_number?e.phone_number:(0,a.jsx)("span",{style:{background:"var(--surface-dark)",color:"var(--text-secondary)",padding:"0.125rem 0.5rem",borderRadius:"9999px",fontSize:"0.75rem",border:"1px solid var(--border)"},children:"N/A"})}),(0,a.jsx)("td",{style:{padding:"var(--spacing-md)",textAlign:"center",color:"var(--text-secondary)",borderRight:"1px solid var(--border)",fontFamily:"'Mabry Pro', 'Inter', sans-serif",maxWidth:"220px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:e.discord_id||"N/A",children:e.discord_id?e.discord_id:(0,a.jsx)("span",{style:{background:"var(--surface-dark)",color:"var(--text-secondary)",padding:"0.125rem 0.5rem",borderRadius:"9999px",fontSize:"0.75rem",border:"1px solid var(--border)"},children:"N/A"})}),(0,a.jsx)("td",{style:{padding:"var(--spacing-md)",textAlign:"center",color:"var(--text-muted)",fontSize:"0.875rem",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:new Date(e.enrolled_at).toLocaleDateString()})]},e.id))})]})]})]}),"attendance"===y&&(0,a.jsxs)("div",{style:{animation:"fadeIn 0.4s ease-out"},children:[(0,a.jsxs)("div",{style:{background:"var(--surface)",border:"2px solid var(--border)",borderRadius:"var(--radius-2xl)",padding:"var(--spacing-lg)",marginBottom:"var(--spacing-xl)",boxShadow:"var(--shadow-md)",transition:"all var(--transition-normal)"},children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-sm)",marginBottom:"var(--spacing-md)"},children:[(0,a.jsx)(d.Z,{style:{height:"1.25rem",width:"1.25rem",color:"var(--primary)"}}),(0,a.jsx)("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:"var(--text-primary)",margin:0,fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:"Create New Attendance Day"})]}),(0,a.jsxs)("div",{style:{display:"flex",gap:"var(--spacing-md)",alignItems:"center"},children:[(0,a.jsx)("input",{type:"date",value:Z,onChange:e=>q(e.target.value),style:{flex:1,padding:"var(--spacing-md)",borderRadius:"var(--radius-lg)",border:"2px solid var(--border)",background:"var(--surface)",color:"var(--text-primary)",fontSize:"1rem",fontFamily:"'Mabry Pro', 'Inter', sans-serif",transition:"all var(--transition-normal)",boxShadow:"var(--shadow-sm)"},onFocus:e=>{e.target.style.borderColor="var(--primary)",e.target.style.boxShadow="0 0 0 3px rgba(255, 179, 51, 0.1), var(--shadow-md)"},onBlur:e=>{e.target.style.borderColor="var(--border)",e.target.style.boxShadow="var(--shadow-sm)"}}),(0,a.jsxs)("button",{onClick:Y,disabled:E,style:{background:E?"var(--text-muted)":"var(--primary)",color:"var(--text-inverse)",padding:"var(--spacing-md) var(--spacing-lg)",borderRadius:"var(--radius-lg)",border:"none",cursor:E?"not-allowed":"pointer",fontWeight:"600",fontSize:"0.875rem",fontFamily:"'Mabry Pro', 'Inter', sans-serif",transition:"all var(--transition-normal)",boxShadow:"var(--shadow-sm)",display:"flex",alignItems:"center",gap:"var(--spacing-sm)"},onMouseEnter:e=>{E||(e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="var(--shadow-lg)")},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="var(--shadow-sm)"},children:[(0,a.jsx)(v.Z,{style:{height:"1rem",width:"1rem"}}),E?"Creating...":"Create Attendance Day"]})]})]}),(0,a.jsxs)("div",{style:{marginBottom:"var(--spacing-xl)"},children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-sm)",marginBottom:"var(--spacing-lg)"},children:[(0,a.jsx)(g.Z,{style:{height:"1.25rem",width:"1.25rem",color:"var(--primary)"}}),(0,a.jsx)("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:"var(--text-primary)",margin:0,fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:"Attendance History"})]}),0===_.length?(0,a.jsxs)("div",{style:{background:"var(--surface)",border:"2px dashed var(--border)",borderRadius:"var(--radius-xl)",padding:"var(--spacing-2xl)",textAlign:"center",color:"var(--text-muted)"},children:[(0,a.jsx)(m.Z,{style:{height:"3rem",width:"3rem",margin:"0 auto var(--spacing-md)",color:"var(--text-muted)"}}),(0,a.jsx)("p",{style:{fontSize:"1rem",fontWeight:"500",marginBottom:"var(--spacing-sm)",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:"No attendance days created yet"}),(0,a.jsx)("p",{style:{fontSize:"0.875rem",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:"Create your first attendance day to start tracking student presence."})]}):(0,a.jsx)("div",{style:{background:"var(--surface)",borderRadius:"var(--radius-2xl)",border:"2px solid var(--border)",overflow:"hidden",boxShadow:"var(--shadow-lg)"},children:(0,a.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:[(0,a.jsx)("thead",{style:{background:"var(--surface-dark)"},children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{style:{padding:"var(--spacing-lg)",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.025em"},children:"Date"}),(0,a.jsx)("th",{style:{padding:"var(--spacing-lg)",textAlign:"center",fontSize:"0.875rem",fontWeight:"600",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.025em"},children:"Day"}),(0,a.jsx)("th",{style:{padding:"var(--spacing-lg)",textAlign:"center",fontSize:"0.875rem",fontWeight:"600",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.025em"},children:"Present"}),(0,a.jsx)("th",{style:{padding:"var(--spacing-lg)",textAlign:"center",fontSize:"0.875rem",fontWeight:"600",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.025em"},children:"Late"}),(0,a.jsx)("th",{style:{padding:"var(--spacing-lg)",textAlign:"center",fontSize:"0.875rem",fontWeight:"600",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.025em"},children:"Absent"}),(0,a.jsx)("th",{style:{padding:"var(--spacing-lg)",textAlign:"center",fontSize:"0.875rem",fontWeight:"600",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.025em"},children:"Actions"})]})}),(0,a.jsx)("tbody",{children:_.map((e,r)=>(0,a.jsxs)("tr",{style:{borderBottom:r<_.length-1?"1px solid var(--border)":"none",transition:"background-color var(--transition-normal)",animation:"fadeIn 0.4s ease-out ".concat(.05*r,"s both")},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="var(--surface-light)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:[(0,a.jsx)("td",{style:{padding:"var(--spacing-lg)",fontSize:"1rem",fontWeight:"500",color:"var(--text-primary)"},children:new Date(e.attendance_date).toLocaleDateString()}),(0,a.jsx)("td",{style:{padding:"var(--spacing-lg)",textAlign:"center",fontSize:"0.875rem",color:"var(--text-secondary)"},children:new Date(e.attendance_date).toLocaleDateString("en-US",{weekday:"long"})}),(0,a.jsx)("td",{style:{padding:"var(--spacing-lg)",textAlign:"center"},children:(0,a.jsx)("span",{style:{padding:"var(--spacing-xs) var(--spacing-sm)",borderRadius:"var(--radius-full)",background:"rgba(16, 185, 129, 0.1)",color:"var(--status-completed)",fontWeight:"600",fontSize:"0.875rem"},children:e.present_count})}),(0,a.jsx)("td",{style:{padding:"var(--spacing-lg)",textAlign:"center"},children:(0,a.jsx)("span",{style:{padding:"var(--spacing-xs) var(--spacing-sm)",borderRadius:"var(--radius-full)",background:"rgba(255, 179, 51, 0.1)",color:"var(--status-in-progress)",fontWeight:"600",fontSize:"0.875rem"},children:e.late_count})}),(0,a.jsx)("td",{style:{padding:"var(--spacing-lg)",textAlign:"center"},children:(0,a.jsx)("span",{style:{padding:"var(--spacing-xs) var(--spacing-sm)",borderRadius:"var(--radius-full)",background:"rgba(239, 68, 68, 0.1)",color:"var(--status-blocked)",fontWeight:"600",fontSize:"0.875rem"},children:e.absent_count})}),(0,a.jsx)("td",{style:{padding:"var(--spacing-lg)",textAlign:"center"},children:(0,a.jsxs)("div",{style:{display:"inline-flex",gap:"var(--spacing-sm)"},children:[(0,a.jsx)("button",{onClick:()=>{z(e.id),I(e.attendance_date)},style:{padding:"var(--spacing-sm) var(--spacing-md)",borderRadius:"var(--radius-lg)",border:"1px solid var(--primary)",background:"var(--primary-soft)",color:"var(--primary)",cursor:"pointer",fontWeight:"600",fontSize:"0.75rem",transition:"all var(--transition-normal)"},onMouseEnter:e=>{e.target.style.background="var(--primary)",e.target.style.color="white"},onMouseLeave:e=>{e.target.style.background="var(--primary-soft)",e.target.style.color="var(--primary)"},children:"View"}),(0,a.jsx)("button",{onClick:()=>J(e.id),style:{padding:"var(--spacing-sm) var(--spacing-md)",borderRadius:"var(--radius-lg)",border:"1px solid var(--status-blocked)",background:"rgba(239, 68, 68, 0.1)",color:"var(--status-blocked)",cursor:"pointer",fontWeight:"600",fontSize:"0.75rem",transition:"all var(--transition-normal)"},onMouseEnter:e=>{e.target.style.background="var(--status-blocked)",e.target.style.color="white"},onMouseLeave:e=>{e.target.style.background="rgba(239, 68, 68, 0.1)",e.target.style.color="var(--status-blocked)"},children:"Delete"})]})})]},e.id))})]})})]}),M&&(0,a.jsxs)("div",{style:{background:"var(--surface)",borderRadius:"var(--radius-2xl)",border:"2px solid var(--border)",overflow:"hidden",boxShadow:"var(--shadow-lg)",animation:"slideUp 0.4s ease-out"},children:[(0,a.jsx)("div",{style:{background:"linear-gradient(135deg, var(--primary), var(--primary-light))",padding:"var(--spacing-lg)",borderBottom:"2px solid var(--border)"},children:(0,a.jsxs)("h4",{style:{margin:0,textAlign:"center",color:"white",fontSize:"1.25rem",fontWeight:"600",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:[new Date(k).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})," - Class Attendance"]})}),E?(0,a.jsx)("div",{style:{padding:"var(--spacing-2xl)",textAlign:"center",color:"var(--text-secondary)"},children:"Loading attendance records..."}):(0,a.jsx)("div",{style:{overflow:"auto"},children:(0,a.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:[(0,a.jsx)("thead",{style:{background:"var(--surface-dark)"},children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{style:{padding:"var(--spacing-lg)",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.025em"},children:"Student Name"}),(0,a.jsx)("th",{style:{padding:"var(--spacing-lg)",textAlign:"center",fontSize:"0.875rem",fontWeight:"600",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.025em"},children:"Current Status"}),(0,a.jsx)("th",{style:{padding:"var(--spacing-lg)",textAlign:"center",fontSize:"0.875rem",fontWeight:"600",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.025em"},children:"Update Status"})]})}),(0,a.jsx)("tbody",{children:A.map((e,r)=>(0,a.jsxs)("tr",{style:{borderBottom:r<A.length-1?"1px solid var(--border)":"none",transition:"background-color var(--transition-normal)",animation:"fadeIn 0.4s ease-out ".concat(.05*r,"s both")},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="var(--surface-light)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:[(0,a.jsx)("td",{style:{padding:"var(--spacing-lg)",fontSize:"1rem",fontWeight:"500",color:"var(--text-primary)"},children:e.student_name}),(0,a.jsx)("td",{style:{padding:"var(--spacing-lg)",textAlign:"center"},children:(0,a.jsx)("span",{style:{padding:"var(--spacing-sm) var(--spacing-md)",borderRadius:"var(--radius-full)",border:"2px solid",background:"present"===e.status?"rgba(16, 185, 129, 0.1)":"late"===e.status?"rgba(255, 179, 51, 0.1)":"rgba(239, 68, 68, 0.1)",borderColor:"present"===e.status?"var(--status-completed)":"late"===e.status?"var(--status-in-progress)":"var(--status-blocked)",color:"present"===e.status?"var(--status-completed)":"late"===e.status?"var(--status-in-progress)":"var(--status-blocked)",fontWeight:"600",fontSize:"0.875rem",textTransform:"uppercase",letterSpacing:"0.025em"},children:e.status})}),(0,a.jsxs)("td",{style:{padding:"var(--spacing-lg)",textAlign:"center"},children:[(0,a.jsxs)("select",{value:e.status,onChange:r=>{r.preventDefault(),V(e.id,r.target.value)},disabled:D===e.id,style:{padding:"var(--spacing-sm) var(--spacing-md)",borderRadius:"var(--radius-lg)",border:"2px solid var(--border)",background:D===e.id?"var(--surface-dark)":"var(--surface)",color:D===e.id?"var(--text-muted)":"var(--text-primary)",cursor:D===e.id?"wait":"pointer",fontWeight:"600",fontSize:"0.875rem",fontFamily:"'Mabry Pro', 'Inter', sans-serif",transition:"all var(--transition-normal)",boxShadow:"var(--shadow-sm)",minWidth:"100px",opacity:D===e.id?.7:1},onFocus:r=>{D!==e.id&&(r.target.style.borderColor="var(--primary)",r.target.style.boxShadow="0 0 0 3px rgba(255, 179, 51, 0.1), var(--shadow-md)")},onBlur:e=>{e.target.style.borderColor="var(--border)",e.target.style.boxShadow="var(--shadow-sm)"},children:[(0,a.jsx)("option",{value:"present",children:"Present"}),(0,a.jsx)("option",{value:"late",children:"Late"}),(0,a.jsx)("option",{value:"absent",children:"Absent"})]}),D===e.id&&(0,a.jsx)("div",{style:{position:"absolute",marginLeft:"var(--spacing-sm)",fontSize:"0.75rem",color:"var(--primary)",fontWeight:"500"},children:"Updating..."})]})]},e.id))})]})})]})]}),"kpi"===y&&(0,a.jsxs)("div",{style:{animation:"fadeIn 0.4s ease-out"},children:[(0,a.jsxs)("div",{style:{background:"linear-gradient(135deg, var(--primary), var(--primary-light))",borderRadius:"var(--radius-2xl)",padding:"var(--spacing-xl)",marginBottom:"var(--spacing-xl)",boxShadow:"var(--shadow-lg)",border:"1px solid var(--border)"},children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)",marginBottom:"var(--spacing-sm)"},children:[(0,a.jsx)(u.Z,{style:{height:"2rem",width:"2rem",color:"white"}}),(0,a.jsx)("h3",{style:{fontSize:"1.75rem",fontWeight:"700",color:"white",margin:0,fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:"Student Performance Analytics"})]}),(0,a.jsx)("p",{style:{fontSize:"1rem",color:"rgba(255, 255, 255, 0.9)",margin:0,fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:"Individual student attendance tracking with automated grading and certificate eligibility"})]}),(0,a.jsxs)("div",{style:{background:"var(--surface)",border:"2px solid var(--border)",borderRadius:"var(--radius-xl)",padding:"var(--spacing-lg)",marginBottom:"var(--spacing-xl)",boxShadow:"var(--shadow-sm)"},children:[(0,a.jsx)("h4",{style:{fontSize:"1.125rem",fontWeight:"600",color:"var(--text-primary)",marginBottom:"var(--spacing-md)",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:"Grading Criteria"}),(0,a.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"var(--spacing-md)"},children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-sm)",padding:"var(--spacing-sm)",borderRadius:"var(--radius-lg)",background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.3)"},children:[(0,a.jsx)("div",{style:{width:"12px",height:"12px",borderRadius:"50%",background:"var(--status-completed)"}}),(0,a.jsx)("span",{style:{fontSize:"0.875rem",fontWeight:"600",color:"var(--status-completed)",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:"Present = 1.0 point"})]}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-sm)",padding:"var(--spacing-sm)",borderRadius:"var(--radius-lg)",background:"rgba(255, 179, 51, 0.1)",border:"1px solid rgba(255, 179, 51, 0.3)"},children:[(0,a.jsx)("div",{style:{width:"12px",height:"12px",borderRadius:"50%",background:"var(--status-in-progress)"}}),(0,a.jsx)("span",{style:{fontSize:"0.875rem",fontWeight:"600",color:"var(--status-in-progress)",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:"Late = 0.5 points"})]}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-sm)",padding:"var(--spacing-sm)",borderRadius:"var(--radius-lg)",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)"},children:[(0,a.jsx)("div",{style:{width:"12px",height:"12px",borderRadius:"50%",background:"var(--status-blocked)"}}),(0,a.jsx)("span",{style:{fontSize:"0.875rem",fontWeight:"600",color:"var(--status-blocked)",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:"Absent = 0.0 points"})]})]})]}),E?(0,a.jsx)("div",{style:{background:"var(--surface)",borderRadius:"var(--radius-2xl)",border:"2px solid var(--border)",padding:"var(--spacing-2xl)",textAlign:"center",boxShadow:"var(--shadow-lg)"},children:(0,a.jsx)("div",{style:{fontSize:"1.125rem",color:"var(--text-secondary)",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:"Loading student performance data..."})}):0===W.length?(0,a.jsxs)("div",{style:{background:"var(--surface)",border:"2px dashed var(--border)",borderRadius:"var(--radius-2xl)",padding:"var(--spacing-2xl)",textAlign:"center",color:"var(--text-muted)"},children:[(0,a.jsx)(u.Z,{style:{height:"4rem",width:"4rem",margin:"0 auto var(--spacing-md)",color:"var(--text-muted)"}}),(0,a.jsx)("p",{style:{fontSize:"1.125rem",fontWeight:"500",marginBottom:"var(--spacing-sm)",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:"No attendance data available"}),(0,a.jsx)("p",{style:{fontSize:"0.875rem",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:"Create attendance days to start tracking student performance."})]}):(0,a.jsxs)("div",{style:{background:"var(--surface)",borderRadius:"var(--radius-2xl)",border:"2px solid var(--border)",overflow:"hidden",boxShadow:"var(--shadow-lg)"},children:[(0,a.jsx)("div",{style:{background:"var(--surface-dark)",padding:"var(--spacing-lg)",borderBottom:"2px solid var(--border)"},children:(0,a.jsx)("h4",{style:{margin:0,textAlign:"center",fontSize:"1.25rem",fontWeight:"600",color:"var(--text-primary)",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:"Individual Student Performance Report"})}),(0,a.jsx)("div",{style:{overflow:"auto"},children:(0,a.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:[(0,a.jsx)("thead",{style:{background:"var(--surface-light)"},children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{style:{padding:"var(--spacing-lg)",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.025em",borderBottom:"1px solid var(--border)",borderRight:"1px solid var(--border)"},children:"Student Name"}),(0,a.jsx)("th",{style:{padding:"var(--spacing-lg)",textAlign:"center",fontSize:"0.875rem",fontWeight:"600",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.025em",borderBottom:"1px solid var(--border)",borderRight:"1px solid var(--border)"},children:"Total Days"}),(0,a.jsx)("th",{style:{padding:"var(--spacing-lg)",textAlign:"center",fontSize:"0.875rem",fontWeight:"600",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.025em",borderBottom:"1px solid var(--border)",borderRight:"1px solid var(--border)"},children:"Present"}),(0,a.jsx)("th",{style:{padding:"var(--spacing-lg)",textAlign:"center",fontSize:"0.875rem",fontWeight:"600",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.025em",borderBottom:"1px solid var(--border)",borderRight:"1px solid var(--border)"},children:"Late"}),(0,a.jsx)("th",{style:{padding:"var(--spacing-lg)",textAlign:"center",fontSize:"0.875rem",fontWeight:"600",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.025em",borderBottom:"1px solid var(--border)",borderRight:"1px solid var(--border)"},children:"Absent"}),(0,a.jsx)("th",{style:{padding:"var(--spacing-lg)",textAlign:"center",fontSize:"0.875rem",fontWeight:"600",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.025em",borderBottom:"1px solid var(--border)",borderRight:"1px solid var(--border)"},children:"Score"}),(0,a.jsx)("th",{style:{padding:"var(--spacing-lg)",textAlign:"center",fontSize:"0.875rem",fontWeight:"600",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.025em",borderBottom:"1px solid var(--border)",borderRight:"1px solid var(--border)"},children:"Percentage"}),(0,a.jsx)("th",{style:{padding:"var(--spacing-lg)",textAlign:"center",fontSize:"0.875rem",fontWeight:"600",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.025em",borderBottom:"1px solid var(--border)"},children:"Actions"})]})}),(0,a.jsx)("tbody",{children:W.map((e,r)=>(0,a.jsxs)("tr",{style:{borderBottom:r<W.length-1?"1px solid var(--border)":"none",transition:"background-color var(--transition-normal)",animation:"fadeIn 0.4s ease-out ".concat(.05*r,"s both")},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="var(--surface-light)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:[(0,a.jsx)("td",{style:{padding:"var(--spacing-lg)",fontSize:"1rem",fontWeight:"500",color:"var(--text-primary)",borderRight:"1px solid var(--border)"},children:e.student_name}),(0,a.jsx)("td",{style:{padding:"var(--spacing-lg)",textAlign:"center",borderRight:"1px solid var(--border)",fontSize:"0.875rem",color:"var(--text-secondary)"},children:e.total_classes}),(0,a.jsx)("td",{style:{padding:"var(--spacing-lg)",textAlign:"center",borderRight:"1px solid var(--border)"},children:(0,a.jsx)("span",{style:{padding:"var(--spacing-xs) var(--spacing-sm)",borderRadius:"var(--radius-full)",background:"rgba(16, 185, 129, 0.1)",color:"var(--status-completed)",fontWeight:"600",fontSize:"0.875rem"},children:e.attended_classes})}),(0,a.jsx)("td",{style:{padding:"var(--spacing-lg)",textAlign:"center",borderRight:"1px solid var(--border)"},children:(0,a.jsx)("span",{style:{padding:"var(--spacing-xs) var(--spacing-sm)",borderRadius:"var(--radius-full)",background:"rgba(255, 179, 51, 0.1)",color:"var(--status-in-progress)",fontWeight:"600",fontSize:"0.875rem"},children:e.late_classes||0})}),(0,a.jsx)("td",{style:{padding:"var(--spacing-lg)",textAlign:"center",borderRight:"1px solid var(--border)"},children:(0,a.jsx)("span",{style:{padding:"var(--spacing-xs) var(--spacing-sm)",borderRadius:"var(--radius-full)",background:"rgba(239, 68, 68, 0.1)",color:"var(--status-blocked)",fontWeight:"600",fontSize:"0.875rem"},children:e.absent_classes||0})}),(0,a.jsxs)("td",{style:{padding:"var(--spacing-lg)",textAlign:"center",borderRight:"1px solid var(--border)",fontSize:"0.875rem",fontWeight:"600",color:"var(--text-primary)"},children:[e.attendance_score||0," / ",e.total_classes]}),(0,a.jsx)("td",{style:{padding:"var(--spacing-lg)",textAlign:"center",borderRight:"1px solid var(--border)"},children:(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"var(--spacing-xs)"},children:[(0,a.jsxs)("span",{style:{fontSize:"1.125rem",fontWeight:"700",color:e.attendance_rate>=85?"var(--status-completed)":e.attendance_rate>=70?"var(--status-in-progress)":"var(--status-blocked)"},children:[e.attendance_rate.toFixed(1),"%"]}),(0,a.jsx)("div",{style:{width:"60px",height:"6px",borderRadius:"var(--radius-full)",background:"var(--border-light)",overflow:"hidden"},children:(0,a.jsx)("div",{style:{width:"".concat(Math.min(e.attendance_rate,100),"%"),height:"100%",background:e.attendance_rate>=85?"var(--status-completed)":e.attendance_rate>=70?"var(--status-in-progress)":"var(--status-blocked)",transition:"width var(--transition-normal)"}})})]})}),(0,a.jsx)("td",{style:{padding:"var(--spacing-lg)",textAlign:"center"},children:e.attendance_rate>=85?(0,a.jsxs)("button",{onClick:()=>Q(e),style:{padding:"var(--spacing-sm) var(--spacing-md)",borderRadius:"var(--radius-lg)",border:"1px solid var(--status-completed)",background:"rgba(16, 185, 129, 0.1)",color:"var(--status-completed)",cursor:"pointer",fontWeight:"600",fontSize:"0.75rem",transition:"all var(--transition-normal)",display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},onMouseEnter:e=>{e.target.style.background="var(--status-completed)",e.target.style.color="white"},onMouseLeave:e=>{e.target.style.background="rgba(16, 185, 129, 0.1)",e.target.style.color="var(--status-completed)"},children:[(0,a.jsx)(x.Z,{style:{height:"1rem",width:"1rem"}}),"Certificate"]}):(0,a.jsx)("span",{style:{padding:"var(--spacing-sm) var(--spacing-md)",borderRadius:"var(--radius-lg)",background:"var(--surface-dark)",color:"var(--text-muted)",fontSize:"0.75rem",fontWeight:"500"},children:"Need 85%+"})})]},e.student_id))})]})})]})]})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{style:{fontSize:"1.75rem",fontWeight:"600",color:"var(--text-primary)",marginBottom:"var(--spacing-lg)",fontFamily:"'Mabry Pro', 'Inter', sans-serif",letterSpacing:"-0.025em"},children:"My Classes"}),E?(0,a.jsx)("div",{style:{textAlign:"center",padding:"var(--spacing-xl) 0",fontFamily:"'Mabry Pro', 'Inter', sans-serif",color:"var(--text-secondary)"},children:"Loading classes..."}):0===r.length?(0,a.jsxs)("div",{style:{textAlign:"center",padding:"var(--spacing-2xl) 0",color:"var(--text-muted)",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:[(0,a.jsx)("div",{style:{fontSize:"3rem",marginBottom:"var(--spacing-md)"},children:"\uD83D\uDCDA"}),(0,a.jsx)("h3",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"var(--spacing-sm)",color:"var(--text-primary)",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:"No Classes Assigned"}),(0,a.jsx)("p",{children:"You don't have any classes assigned yet. Contact your administrator."})]}):(0,a.jsx)("div",{className:"grid-responsive-3",style:{gap:"var(--spacing-lg)"},children:r.map(e=>(0,a.jsxs)("div",{onClick:()=>f(e),className:"card-hover",style:{background:"var(--surface)",border:"1px solid var(--border)",borderRadius:"var(--radius-xl)",padding:"var(--spacing-lg)",boxShadow:"var(--shadow-sm)",cursor:"pointer",transition:"all var(--transition-normal)",fontFamily:"'Mabry Pro', 'Inter', sans-serif",position:"relative",overflow:"hidden"},children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"var(--spacing-sm)"},children:[(0,a.jsx)("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:"var(--text-primary)",lineHeight:"1.25",flex:"1",marginRight:"var(--spacing-sm)",fontFamily:"'Mabry Pro', 'Inter', sans-serif",letterSpacing:"-0.025em"},children:e.class_title}),(0,a.jsx)("span",{className:"status-badge",style:{fontSize:"0.75rem",fontWeight:"600",color:"var(--text-secondary)",backgroundColor:"var(--surface-dark)",padding:"var(--spacing-xs) var(--spacing-sm)",borderRadius:"var(--radius-full)",border:"1px solid var(--border)",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:e.status})]}),(0,a.jsxs)("div",{style:{marginBottom:"var(--spacing-md)"},children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",fontSize:"0.875rem",color:"var(--text-secondary)",marginBottom:"var(--spacing-sm)",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:[(0,a.jsx)(d.Z,{style:{height:"1rem",width:"1rem",marginRight:"var(--spacing-sm)"}}),e.class_date]}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",fontSize:"0.875rem",color:"var(--text-secondary)",marginBottom:"var(--spacing-sm)",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:[(0,a.jsx)(l.Z,{style:{height:"1rem",width:"1rem",marginRight:"var(--spacing-sm)"}}),e.start_time," - ",e.end_time]}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",fontSize:"0.875rem",color:"var(--text-secondary)",marginBottom:"var(--spacing-sm)",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:[(0,a.jsx)(c,{style:{height:"1rem",width:"1rem",marginRight:"var(--spacing-sm)"}}),e.location]}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",fontSize:"0.875rem",color:"var(--text-secondary)",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:[(0,a.jsx)(g.Z,{style:{height:"1rem",width:"1rem",marginRight:"var(--spacing-sm)"}}),e.folder_name]})]}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,a.jsxs)("div",{style:{fontSize:"0.875rem",color:"var(--text-primary)",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:[(0,a.jsx)("span",{style:{fontWeight:"600"},children:e.current_participants}),(0,a.jsxs)("span",{style:{color:"var(--text-muted)"},children:[" / ",e.max_participants," students"]})]}),(0,a.jsx)("button",{className:"btn-primary-solid",style:{background:"var(--primary)",color:"var(--text-inverse)",padding:"var(--spacing-sm) var(--spacing-md)",borderRadius:"var(--radius-lg)",fontSize:"0.875rem",fontWeight:"600",border:"none",cursor:"pointer",transition:"all var(--transition-normal)",fontFamily:"'Mabry Pro', 'Inter', sans-serif",boxShadow:"var(--shadow-sm)"},children:"Manage"})]})]},e.id))})]})]})})]}):(0,a.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:"Loading..."})}},9649:function(e,r,t){"use strict";var a=t(2265);let n=a.forwardRef(function({title:e,titleId:r,...t},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?a.createElement("title",{id:r},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))});r.Z=n}},function(e){e.O(0,[8326,7708,2933,1460,8411,4560,2971,2472,1744],function(){return e(e.s=5228)}),_N_E=e.O()}]);