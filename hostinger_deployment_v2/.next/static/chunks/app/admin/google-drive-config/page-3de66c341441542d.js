(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6198],{8378:function(e,s,l){Promise.resolve().then(l.bind(l,7053))},7053:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return d}});var o=l(7437),t=l(2265),r=l(8938);function d(){let[e,s]=(0,t.useState)({allowedFolderIds:[],allowedFolderNames:[],allowRootAccess:!0,defaultFolderId:void 0}),[l,d]=(0,t.useState)(""),[n,a]=(0,t.useState)(""),[i,c]=(0,t.useState)(!1);(0,t.useEffect)(()=>{let e=r.NY.getConfig();s(e)},[]);let u=e=>{s(s=>({...s,allowedFolderIds:s.allowedFolderIds.filter(s=>s!==e)}))},m=e=>{s(s=>({...s,allowedFolderNames:s.allowedFolderNames.filter(s=>s!==e)}))};return(0,o.jsx)("div",{className:"min-h-screen p-8 bg-gray-50",children:(0,o.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,o.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Google Drive Access Control Configuration"}),(0,o.jsxs)("div",{className:"mb-6 p-4 bg-green-100 border border-green-400 rounded-lg",children:[(0,o.jsx)("h2",{className:"text-lg font-semibold text-green-800 mb-2",children:"✅ Currently Configured for Internal Use"}),(0,o.jsxs)("p",{className:"text-green-700",children:[(0,o.jsx)("strong",{children:"Full Access Mode:"})," All users can access the entire Google Drive, browse all folders, and upload files anywhere. Perfect for internal team collaboration."]})]}),(0,o.jsxs)("div",{className:"mb-8 p-6 bg-blue-50 rounded-lg",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Root Access"}),(0,o.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,o.jsx)("input",{type:"checkbox",id:"allowRootAccess",checked:e.allowRootAccess,onChange:e=>s(s=>({...s,allowRootAccess:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,o.jsx)("label",{htmlFor:"allowRootAccess",className:"text-gray-700",children:"Allow users to access the root Google Drive folder"})]}),(0,o.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"If disabled, users will only see the folders you specify below."})]}),(0,o.jsxs)("div",{className:"mb-8 p-6 bg-green-50 rounded-lg",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Allowed Folder IDs"}),(0,o.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Add specific Google Drive folder IDs that users can access. You can find folder IDs in the URL when viewing a folder in Google Drive."}),(0,o.jsxs)("div",{className:"flex space-x-2 mb-4",children:[(0,o.jsx)("input",{type:"text",value:l,onChange:e=>d(e.target.value),placeholder:"Enter folder ID (e.g., 1ABC123DEF456GHI789JKL0MNO)",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,o.jsx)("button",{onClick:()=>{l.trim()&&!e.allowedFolderIds.includes(l.trim())&&(s(e=>({...e,allowedFolderIds:[...e.allowedFolderIds,l.trim()]})),d(""))},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Add"})]}),(0,o.jsxs)("div",{className:"space-y-2",children:[e.allowedFolderIds.map((e,s)=>(0,o.jsxs)("div",{className:"flex items-center justify-between bg-white p-3 rounded border",children:[(0,o.jsx)("span",{className:"font-mono text-sm",children:e}),(0,o.jsx)("button",{onClick:()=>u(e),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Remove"})]},s)),0===e.allowedFolderIds.length&&(0,o.jsx)("p",{className:"text-gray-500 text-sm italic",children:"No folder IDs configured"})]})]}),(0,o.jsxs)("div",{className:"mb-8 p-6 bg-yellow-50 rounded-lg",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Allowed Folder Names"}),(0,o.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Add folder names that users can access. This is easier than using IDs but less secure (folder names can change)."}),(0,o.jsxs)("div",{className:"flex space-x-2 mb-4",children:[(0,o.jsx)("input",{type:"text",value:n,onChange:e=>a(e.target.value),placeholder:"Enter folder name (e.g., Project Files)",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,o.jsx)("button",{onClick:()=>{n.trim()&&!e.allowedFolderNames.includes(n.trim())&&(s(e=>({...e,allowedFolderNames:[...e.allowedFolderNames,n.trim()]})),a(""))},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Add"})]}),(0,o.jsxs)("div",{className:"space-y-2",children:[e.allowedFolderNames.map((e,s)=>(0,o.jsxs)("div",{className:"flex items-center justify-between bg-white p-3 rounded border",children:[(0,o.jsx)("span",{children:e}),(0,o.jsx)("button",{onClick:()=>m(e),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Remove"})]},s)),0===e.allowedFolderNames.length&&(0,o.jsx)("p",{className:"text-gray-500 text-sm italic",children:"No folder names configured"})]})]}),(0,o.jsxs)("div",{className:"mb-8 p-6 bg-purple-50 rounded-lg",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Default Folder"}),(0,o.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"If root access is disabled, users will be redirected to this folder by default."}),(0,o.jsx)("input",{type:"text",value:e.defaultFolderId||"",onChange:e=>s(s=>({...s,defaultFolderId:e.target.value||void 0})),placeholder:"Enter default folder ID (optional)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,o.jsx)("p",{children:(0,o.jsx)("strong",{children:"Current Policy:"})}),(0,o.jsx)("p",{children:0===e.allowedFolderIds.length&&0===e.allowedFolderNames.length?"\uD83D\uDD13 No restrictions - users can access all folders":"\uD83D\uDD12 Restricted access - users can only access specified folders"})]}),(0,o.jsxs)("div",{className:"flex items-center space-x-4",children:[i&&(0,o.jsx)("span",{className:"text-green-600 font-medium",children:"✅ Configuration saved!"}),(0,o.jsx)("button",{onClick:()=>{r.NY.updateConfig(e),c(!0),setTimeout(()=>c(!1),3e3)},className:"px-6 py-3 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 font-medium",children:"Save Configuration"})]})]}),(0,o.jsxs)("div",{className:"mt-8 p-6 bg-gray-100 rounded-lg",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"How to Find Google Drive Folder IDs"}),(0,o.jsxs)("ol",{className:"list-decimal list-inside space-y-2 text-sm text-gray-700",children:[(0,o.jsx)("li",{children:"Open Google Drive in your browser"}),(0,o.jsx)("li",{children:"Navigate to the folder you want to allow access to"}),(0,o.jsx)("li",{children:'Look at the URL - the folder ID is the part after "/folders/"'}),(0,o.jsxs)("li",{children:["Example: https://drive.google.com/drive/folders/",(0,o.jsx)("strong",{children:"1ABC123DEF456GHI789JKL0MNO"})]}),(0,o.jsx)("li",{children:'Copy the highlighted part and paste it in the "Allowed Folder IDs" section above'})]})]})]})})})}},8938:function(e,s,l){"use strict";l.d(s,{NY:function(){return r}});let o={allowedFolderIds:[],allowedFolderNames:[],allowRootAccess:!0,defaultFolderId:void 0};class t{canAccessFolder(e,s){return 0===this.config.allowedFolderIds.length&&0===this.config.allowedFolderNames.length||("root"===e||null===e?this.config.allowRootAccess:!!(this.config.allowedFolderIds.includes(e)||s&&this.config.allowedFolderNames.includes(s)))}filterAccessibleFiles(e){return e.filter(e=>"application/vnd.google-apps.folder"!==e.mimeType||this.canAccessFolder(e.id,e.name))}getAccessibleFolderId(e){return e||this.config.allowRootAccess||!this.config.defaultFolderId?e:this.config.defaultFolderId}getAccessDeniedMessage(e){return"root"===e?"Access to root folder is restricted. Please use the designated project folders.":"Access to this folder is restricted. Please contact your project administrator."}updateConfig(e){this.config={...this.config,...e}}getConfig(){return{...this.config}}constructor(e){this.config={...o,...e}}}let r=new t},622:function(e,s,l){"use strict";var o=l(2265),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,n=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function i(e,s,l){var o,r={},i=null,c=null;for(o in void 0!==l&&(i=""+l),void 0!==s.key&&(i=""+s.key),void 0!==s.ref&&(c=s.ref),s)d.call(s,o)&&!a.hasOwnProperty(o)&&(r[o]=s[o]);if(e&&e.defaultProps)for(o in s=e.defaultProps)void 0===r[o]&&(r[o]=s[o]);return{$$typeof:t,type:e,key:i,ref:c,props:r,_owner:n.current}}s.Fragment=r,s.jsx=i,s.jsxs=i},7437:function(e,s,l){"use strict";e.exports=l(622)}},function(e){e.O(0,[2971,2472,1744],function(){return e(e.s=8378)}),_N_E=e.O()}]);