(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3626],{60894:function(e,r,t){Promise.resolve().then(t.bind(t,18929))},18929:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return A}});var n=t(57437),o=t(2265),i=t(24033),s=t(3549),l=t(3152),a=t(78411),d=t(31205),c=t(95255),m=t(77227),g=t(6180),u=t(80640),p=t(80654),h=t(81253),x=t(20307),y=t(74020),f=t(15969),b=t(62125),F=t(96689),D=t(22954),j=t(82929),v=t(68714),k=t(67201);let w=[{value:"todo",label:"To Do",color:"#EF4444"},{value:"in_progress",label:"In Progress",color:"#3B82F6"},{value:"review",label:"Review",color:"#F59E0B"},{value:"done",label:"Complete",color:"#10B981"}];function A(){var e,r,A,S,C,B,T,_,z,R;let W=(0,i.useParams)(),M=(0,i.useRouter)(),{user:E,isAuthenticated:I,isLoading:L}=(0,s.useAuth)(),[P,Z]=(0,o.useState)(null),[Y,H]=(0,o.useState)([]),[N,U]=(0,o.useState)([]),[O,q]=(0,o.useState)(!0),[K,X]=(0,o.useState)(!1),[G,Q]=(0,o.useState)(null),[V,J]=(0,o.useState)(null),[$,ee]=(0,o.useState)(""),[er,et]=(0,o.useState)("kanban"),[en,eo]=(0,o.useState)([]),[ei,es]=(0,o.useState)(!1),[el,ea]=(0,o.useState)({status:[],priority:[],assignee:[],tags:[]}),[ed,ec]=(0,o.useState)(!1),[em,eg]=(0,o.useState)({name:"",type:"text",width:150}),[eu,ep]=(0,o.useState)(()=>{let e=new Date;return new Date(e.getFullYear(),e.getMonth(),1)}),[eh,ex]=(0,o.useState)(null),[ey,ef]=(0,o.useState)(!1),[eb,eF]=(0,o.useState)([]),[eD,ej]=(0,o.useState)([]),[ev,ek]=(0,o.useState)([]),[ew,eA]=(0,o.useState)([]),[eS,eC]=(0,o.useState)(""),[eB,eT]=(0,o.useState)(""),[e_,ez]=(0,o.useState)(!1),[eR,eW]=(0,o.useState)({name:"",description:"",priority:"",status:"",due_date:""}),[eM,eE]=(0,o.useState)(""),[eI,eL]=(0,o.useState)(""),[eP,eZ]=(0,o.useState)("subtask"),[eY,eH]=(0,o.useState)({name:"",description:"",priority:"medium",tags:"",assignee_ids:[],report_to_ids:[],start_date:"",due_date:""}),[eN,eU]=(0,o.useState)([]),[eO,eq]=(0,o.useState)(""),[eK,eX]=(0,o.useState)(!1),[eG,eQ]=(0,o.useState)(null),[eV,eJ]=(0,o.useState)(""),[e$,e0]=(0,o.useState)(""),[e1,e5]=(0,o.useState)(!1),[e2,e7]=(0,o.useState)([]),[e4,e8]=(0,o.useState)(null),[e6,e3]=(0,o.useState)("Member"),[e9,re]=(0,o.useState)(""),[rr,rt]=(0,o.useState)("month"),[rn,ro]=(0,o.useState)(null),[ri,rs]=(0,o.useState)("kanban"),[rl,ra]=(0,o.useState)([]),[rd,rc]=(0,o.useState)(null),[rm,rg]=(0,o.useState)(!1),[ru,rp]=(0,o.useState)(!1);(0,o.useEffect)(()=>{let e=()=>ef(window.innerWidth<768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,o.useEffect)(()=>{if(!L){if(!I){M.push("/login");return}rh()}},[I,L,null==W?void 0:W.id,M]);let rh=async()=>{try{if(!(null==E?void 0:E.id)){q(!1);return}let[e,r]=await Promise.all([l.projectService.getProject(Number(null==W?void 0:W.id)),l.taskService.getProjectTasks(Number(null==W?void 0:W.id))]);if(e&&e.members&&Array.isArray(e.members)){let r=e.members.some(e=>e.id===E.id);if(!r){console.log("User not a member, redirecting to dashboard"),M.push("/dashboard");return}}Z(e),H(r),U([])}catch(r){var e;(null===(e=r.response)||void 0===e?void 0:e.status)===404&&M.push("/dashboard")}finally{q(!1)}},[rx,ry]=(0,o.useState)(!1),rf=async e=>{if(e.preventDefault(),!rx){ry(!0);try{let e={name:eY.name.trim(),description:eY.description.trim(),priority:eY.priority,status:"todo",assignee_ids:eY.assignee_ids,report_to_ids:eY.report_to_ids,tags:eY.tags.trim(),start_date:eY.start_date||null,due_date:eY.due_date||null},r=await l.taskService.createTask(Number(null==W?void 0:W.id),e);if(eN.length>0){let{supabase:e}=await Promise.resolve().then(t.bind(t,78411)),n=eN.map((e,t)=>({task_id:r.id,title:e,position:t,created_by_id:null==E?void 0:E.id}));await e.from("task_subtasks").insert(n)}H([...Y,r]),eH({name:"",description:"",priority:"medium",tags:"",assignee_ids:[],report_to_ids:[],start_date:"",due_date:""}),eU([]),eq(""),X(!1),rh()}catch(e){console.error("Error creating task:",e)}finally{ry(!1)}}},rb=()=>{eO.trim()&&(eU([...eN,eO.trim()]),eq(""))},rF=e=>{eU(eN.filter((r,t)=>t!==e))},rD=(e,r)=>{Q(r),e.dataTransfer.effectAllowed="move"},rj=(e,r)=>{e.preventDefault(),J(r)},rv=()=>{J(null)},rk=async(e,r)=>{if(e.preventDefault(),J(null),!G||G.status===r)return;let n=G.status;try{if(await l.taskService.updateTask(G.id,{status:r}),H(Y.map(e=>e.id===G.id?{...e,status:r}:e)),(null==E?void 0:E.id)&&G){let{supabase:e}=await Promise.resolve().then(t.bind(t,78411)),{data:o}=await e.from("projects_task").select("assignee_ids, report_to_ids, name, project_id").eq("id",G.id).single();if(o){let t=new Set;o.report_to_ids&&Array.isArray(o.report_to_ids)&&o.report_to_ids.forEach(e=>{e!==E.id&&t.add(e)});let i={backlog:"moved to backlog",in_progress:"started working on",done:"completed",archived:"archived"}[r]||"changed status to ".concat(r),s=Array.from(t).map(e=>({task_id:G.id,project_id:o.project_id,recipient_id:e,sender_id:E.id,notification_type:"status_changed",message:"".concat((null==E?void 0:E.name)||"Someone"," ").concat(i," task: ").concat(o.name),task_name:o.name,task_status:r,old_status:n,new_status:r}));s.length>0&&await e.from("task_notifications").insert(s)}}}catch(e){console.error("Error updating task:",e)}Q(null)},rw=new Date;rw.setMonth(rw.getMonth()-1);let rA=Y.filter(e=>{if("kanban"===er){let r=new Date(e.updated_at);if(r<rw)return!1}return!0}),rS=("kanban"===er?rA:Y).filter(e=>{var r;let t=e.name.toLowerCase().includes($.toLowerCase())||(null===(r=e.description)||void 0===r?void 0:r.toLowerCase().includes($.toLowerCase())),n=0===el.status.length||el.status.includes(e.status),o=0===el.priority.length||el.priority.includes(e.priority),i=0===el.assignee.length||e.assignees&&e.assignees.some(e=>el.assignee.includes(e.id)),s=e.tags_list||(e.tags?e.tags.split(",").map(e=>e.trim()).filter(Boolean):[]),l=0===el.tags.length||s.some(e=>el.tags.includes(e));return t&&n&&o&&i&&l}),rC=o.useMemo(()=>{let e={};return rS.forEach(r=>{let t="No Due Date";r.due_date&&(t=new Date(r.due_date).toLocaleString("default",{month:"long",year:"numeric"})),e[t]||(e[t]=[]),e[t].push(r)}),e},[rS]);(0,o.useEffect)(()=>{if(0===en.length&&Object.keys(rC).length>0){let e=Object.keys(rC).sort((e,r)=>"No Due Date"===e?1:"No Due Date"===r?-1:new Date(r).getTime()-new Date(e).getTime()),r=e[0],t=w.map(e=>"".concat(r,"-").concat(e.value));eo([r,...t])}},[rC]),(0,o.useEffect)(()=>{let e=async()=>{if(!eh){eF([]),ej([]),ek([]),eA([]);return}try{let{supabase:e}=await Promise.resolve().then(t.bind(t,78411)),[r,n,o,i]=await Promise.all([e.from("task_subtasks").select("*").eq("task_id",eh.id).order("position"),e.from("task_activity_log").select("*").eq("task_id",eh.id).order("created_at",{ascending:!1}).limit(20),e.from("task_attachment_links").select("*").eq("task_id",eh.id).order("created_at",{ascending:!1}),e.from("task_comments").select("\n            id,\n            task_id,\n            user_id,\n            comment,\n            created_at,\n            auth_user!task_comments_user_id_fkey(name)\n          ").eq("task_id",eh.id).order("created_at",{ascending:!1})]);eF(r.data||[]),ej(n.data||[]),ek(o.data||[]);let s=(i.data||[]).map(e=>{var r;return{...e,user_name:(null===(r=e.auth_user)||void 0===r?void 0:r.name)||"User",comment_text:e.comment}});eA(s)}catch(e){}};e()},[eh]);let rB=async()=>{if(eS.trim()&&eh)try{let{supabase:e}=await Promise.resolve().then(t.bind(t,78411)),{data:r,error:n}=await e.from("task_subtasks").insert([{task_id:eh.id,title:eS.trim(),created_by_id:null==E?void 0:E.id,position:eb.length}]).select().single();!n&&r&&(eF([...eb,r]),eC(""))}catch(e){}},rT=async(e,r)=>{try{let{supabase:n}=await Promise.resolve().then(t.bind(t,78411));await n.from("task_subtasks").update({is_completed:!r,completed_by_id:r?null:null==E?void 0:E.id,completed_at:r?null:new Date().toISOString()}).eq("id",e),eF(eb.map(t=>t.id===e?{...t,is_completed:!r}:t))}catch(e){}},r_=async()=>{if(eM.trim()&&eh)try{let{supabase:e}=await Promise.resolve().then(t.bind(t,78411)),{data:r,error:n}=await e.from("task_attachment_links").insert([{task_id:eh.id,project_id:eh.project_id,user_id:null==E?void 0:E.id,user_name:(null==E?void 0:E.name)||"User",attachment_url:eM.trim(),attachment_name:eI.trim()||"Link"}]).select().single();!n&&r&&(ek([r,...ev]),eE(""),eL(""))}catch(e){}},rz=async e=>{try{let{supabase:r}=await Promise.resolve().then(t.bind(t,78411)),{error:n}=await r.from("task_attachment_links").delete().eq("id",e);n||ek(ev.filter(r=>r.id!==e))}catch(e){console.error("Error deleting attachment:",e)}},[rR,rW]=(0,o.useState)(null),[rM,rE]=(0,o.useState)(""),[rI,rL]=(0,o.useState)(""),rP=e=>{rW(e.id),rE(e.attachment_name),rL(e.attachment_url)},rZ=async()=>{if(rR)try{let{supabase:e}=await Promise.resolve().then(t.bind(t,78411)),{error:r}=await e.from("task_attachment_links").update({attachment_name:rM.trim(),attachment_url:rI.trim()}).eq("id",rR);r||(ek(ev.map(e=>e.id===rR?{...e,attachment_name:rM.trim(),attachment_url:rI.trim()}:e)),rW(null))}catch(e){console.error("Error editing attachment:",e)}},rY=async e=>{try{let{supabase:r}=await Promise.resolve().then(t.bind(t,78411)),{error:n}=await r.from("task_comments").delete().eq("id",e);n||eA(ew.filter(r=>r.id!==e))}catch(e){console.error("Error deleting comment:",e)}},rH=async(e,r,n,o,i)=>{if((null==E?void 0:E.id)&&eh)try{let{supabase:s}=await Promise.resolve().then(t.bind(t,78411)),l=new Set;eh.report_to_ids&&Array.isArray(eh.report_to_ids)&&eh.report_to_ids.forEach(e=>{e!==E.id&&l.add(e)});let a=Array.from(l).map(t=>({task_id:e,project_id:eh.project_id,recipient_id:t,sender_id:E.id,notification_type:r,message:n,task_name:eh.name,task_status:i||eh.status,old_status:o,new_status:i}));a.length>0&&await s.from("task_notifications").insert(a)}catch(e){console.error("Error creating notification:",e)}},rN=async()=>{if(eB.trim()&&eh)try{let{supabase:e}=await Promise.resolve().then(t.bind(t,78411)),{data:r,error:n}=await e.from("task_comments").insert({task_id:eh.id,user_id:null==E?void 0:E.id,comment:eB.trim()}).select().single();!n&&r?(eA([{...r,user_name:(null==E?void 0:E.name)||"User"},...ew]),eT(""),await rH(eh.id,"comment_added","".concat((null==E?void 0:E.name)||"Someone"," commented on task: ").concat(eh.name))):console.error("Comment error:",n)}catch(e){console.error("Error adding comment:",e)}},rU=async()=>{if(!eh||!eR.name.trim())return;let e=eh.status,r=eR.status;try{if(await l.taskService.updateTask(eh.id,{name:eR.name.trim(),description:eR.description.trim(),priority:eR.priority,status:eR.status,due_date:eR.due_date||null}),H(Y.map(e=>e.id===eh.id?{...e,name:eR.name.trim(),description:eR.description.trim(),priority:eR.priority,status:eR.status,due_date:eR.due_date||null}:e)),ex({...eh,name:eR.name.trim(),description:eR.description.trim(),priority:eR.priority,status:eR.status,due_date:eR.due_date||null}),e!==r){let t={backlog:"moved to backlog",in_progress:"started working on",done:"completed",archived:"archived"}[r]||"changed status to ".concat(r);await rH(eh.id,"status_changed","".concat((null==E?void 0:E.name)||"Someone"," ").concat(t," task: ").concat(eh.name),e,r)}ez(!1)}catch(e){alert("Error updating task")}},rO=async()=>{if(P)try{let{data:r,error:t}=await a.supabase.from("auth_user").select("id, name, email").order("name");if(!t&&r){var e;let t=(null===(e=P.members)||void 0===e?void 0:e.map(e=>e.id))||[],n=r.filter(e=>!t.includes(e.id)).map(e=>({...e,role:"Member"}));e7(n)}}catch(e){console.error("Error fetching users:",e)}},rq=async()=>{if(e4&&P)try{await l.projectService.addProjectMember(P.id,e4),await rh(),e5(!1),e8(null),e3("Member"),re("")}catch(e){console.error("Error adding member:",e),alert("Failed to add member. Please try again.")}},rK=async e=>{if(P&&confirm("Remove this member from the project?"))try{await l.projectService.removeProjectMember(P.id,e),await rh()}catch(e){console.error("Error removing member:",e),alert("Failed to remove member. Please try again.")}},rX=async()=>{if(P&&E&&confirm("Are you sure you want to leave this project?"))try{await l.projectService.removeProjectMember(P.id,E.id),M.push("/dashboard")}catch(e){console.error("Error leaving project:",e),alert("Failed to leave project. Please try again.")}},rG=async()=>{if(P&&E){rp(!0);try{await a.supabase.from("project_members").delete().eq("project_id",P.id),await a.supabase.from("projects_task").delete().eq("project_id",P.id);let{error:e}=await a.supabase.from("projects_project").delete().eq("id",P.id);if(e)throw e;M.push("/dashboard")}catch(e){console.error("Error deleting project:",e),alert("Failed to delete project. Please try again.")}rp(!1)}};return L||O?(0,n.jsxs)("div",{style:{minHeight:"100vh",background:"#0D0D0D",display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,n.jsx)("div",{style:{width:"40px",height:"40px",border:"4px solid rgba(16, 185, 129, 0.2)",borderTop:"4px solid #10B981",borderRadius:"50%",animation:"spin 1s linear infinite"}}),(0,n.jsx)("style",{dangerouslySetInnerHTML:{__html:"@keyframes spin { to { transform: rotate(360deg); } }"}})]}):I&&P?(0,n.jsxs)("div",{style:{minHeight:"100vh",background:"#0D0D0D",display:"flex"},children:[(0,n.jsx)(v.Z,{projects:N,onCreateProject:()=>{}}),(0,n.jsxs)("div",{className:"page-main",style:{flex:1,marginLeft:ey?0:"280px",display:"flex",flexDirection:"column",background:"#0D0D0D"},children:[(0,n.jsxs)("div",{style:{padding:ey?"1rem":"1.25rem 1.5rem",borderBottom:"1px solid #1F1F1F"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:ey?"flex-start":"center",flexDirection:ey?"column":"row",justifyContent:"space-between",marginBottom:"1rem",gap:ey?"1rem":"0"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",width:ey?"100%":"auto"},children:[(0,n.jsx)("div",{style:{width:ey?"36px":"40px",height:ey?"36px":"40px",borderRadius:"0.5rem",background:"#1A1A1A",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)(d.Z,{style:{width:ey?"18px":"20px",height:ey?"18px":"20px",color:"#10B981"}})}),(0,n.jsx)("h1",{style:{fontSize:ey?"1.25rem":"1.5rem",fontWeight:700,color:"#FFFFFF",margin:0},children:P.name})]}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",width:ey?"100%":"auto"},children:["n              ",(0,n.jsx)("button",{onClick:()=>eX(!0),style:{display:"flex",alignItems:"center",background:"transparent",border:"none",cursor:"pointer",padding:0},children:(0,n.jsx)("div",{style:{display:"flex"},children:(0,n.jsx)(k.H,{users:P.members||[],max:3,size:"md"})})}),(0,n.jsxs)("button",{onClick:()=>X(!0),style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",background:"#3B82F6",color:"#FFFFFF",border:"none",borderRadius:"0.5rem",fontWeight:500,fontSize:"0.875rem",cursor:"pointer",transition:"background 0.2s",width:ey?"100%":"auto",justifyContent:"center"},onMouseEnter:e=>e.currentTarget.style.background="#2563EB",onMouseLeave:e=>e.currentTarget.style.background="#3B82F6",children:[(0,n.jsx)(c.Z,{style:{width:"16px",height:"16px"}}),"New Task"]}),(0,n.jsxs)("button",{onClick:()=>rg(!0),style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",background:"transparent",color:"#EF4444",border:"1px solid #EF4444",borderRadius:"0.5rem",fontWeight:500,fontSize:"0.875rem",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="#EF4444",e.currentTarget.style.color="#FFFFFF"},onMouseLeave:e=>{e.currentTarget.style.background="transparent",e.currentTarget.style.color="#EF4444"},children:[(0,n.jsx)(m.Z,{style:{width:"16px",height:"16px"}}),"Delete"]})]})]}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:ey?"stretch":"center",justifyContent:"space-between",flexDirection:ey?"column":"row",gap:ey?"0.75rem":"0"},children:[(0,n.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",background:"#1A1A1A",borderRadius:"0.5rem",padding:"0.25rem",width:ey?"100%":"auto",overflowX:"auto"},children:[{id:"kanban",label:"Kanban",icon:g.Z},{id:"list",label:"List",icon:u.Z},{id:"gantt",label:"Gantt",icon:p.Z},{id:"calendar",label:"Calendar",icon:h.Z},{id:"growth",label:"Growth Map",icon:x.Z}].map(e=>(0,n.jsxs)("button",{onClick:()=>{et(e.id),rs(e.id)},style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",background:er===e.id?"#2D2D2D":"transparent",color:er===e.id?"#FFFFFF":"#71717A",border:"none",borderRadius:"0.375rem",fontSize:"0.875rem",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:r=>{er!==e.id&&(r.currentTarget.style.color="#FFFFFF")},onMouseLeave:r=>{er!==e.id&&(r.currentTarget.style.color="#71717A")},children:[(0,n.jsx)(e.icon,{style:{width:"16px",height:"16px"}}),e.label]},e.id))}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",width:ey?"100%":"auto"},children:[(0,n.jsxs)("div",{style:{position:"relative",flex:ey?1:"none"},children:[(0,n.jsx)(y.Z,{style:{width:"16px",height:"16px",position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#52525B",pointerEvents:"none"}}),(0,n.jsx)("input",{type:"text",placeholder:"Search...",value:$,onChange:e=>ee(e.target.value),style:{width:ey?"100%":"200px",paddingLeft:"2.25rem",paddingRight:"1rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",background:"#1A1A1A",border:"1px solid #2D2D2D",borderRadius:"0.5rem",fontSize:"0.875rem",color:"#FFFFFF",outline:"none",transition:"border 0.2s"},onFocus:e=>e.currentTarget.style.borderColor="#3D3D3D",onBlur:e=>e.currentTarget.style.borderColor="#2D2D2D"})]}),(0,n.jsxs)("button",{onClick:()=>es(!ei),style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 0.75rem",background:ei?"#10B981":"#1A1A1A",border:"1px solid",borderColor:ei?"#10B981":"#2D2D2D",borderRadius:"0.5rem",fontSize:"0.875rem",color:ei?"#FFFFFF":"#A1A1AA",cursor:"pointer",transition:"all 0.2s",whiteSpace:"nowrap"},children:[(0,n.jsx)(f.Z,{style:{width:"16px",height:"16px"}}),!ey&&"Filter",(el.status.length>0||el.priority.length>0||el.assignee.length>0||el.tags.length>0)&&(0,n.jsx)("span",{style:{width:"18px",height:"18px",background:"#EF4444",color:"#FFFFFF",fontSize:"0.7rem",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:600},children:el.status.length+el.priority.length+el.assignee.length+el.tags.length})]})]})]}),ei&&(0,n.jsxs)("div",{style:{margin:"1rem 1.5rem 0",padding:"1.5rem",background:"#141414",border:"1px solid #2D2D2D",borderRadius:"1rem",boxShadow:"0 4px 20px rgba(0,0,0,0.3)"},children:[(0,n.jsxs)("div",{style:{display:"flex",gap:"2rem"},children:[(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"0.6875rem",fontWeight:600,color:"#52525B",marginBottom:"0.75rem",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Status"}),(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:w.map(e=>(0,n.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",cursor:"pointer",padding:"0.5rem 0.75rem",borderRadius:"0.5rem",background:el.status.includes(e.value)?"#1F1F1F":"transparent",transition:"background 0.2s"},onMouseEnter:r=>{el.status.includes(e.value)||(r.currentTarget.style.background="#1A1A1A")},onMouseLeave:r=>{el.status.includes(e.value)||(r.currentTarget.style.background="transparent")},children:[(0,n.jsx)("input",{type:"checkbox",checked:el.status.includes(e.value),onChange:r=>{r.target.checked?ea({...el,status:[...el.status,e.value]}):ea({...el,status:el.status.filter(r=>r!==e.value)})},style:{width:"16px",height:"16px",cursor:"pointer",accentColor:e.color}}),(0,n.jsx)("div",{style:{width:"10px",height:"10px",borderRadius:"50%",backgroundColor:e.color}}),(0,n.jsx)("span",{style:{fontSize:"0.875rem",color:"#E5E5E5"},children:e.label})]},e.value))})]}),(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"0.6875rem",fontWeight:600,color:"#52525B",marginBottom:"0.75rem",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Priority"}),(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[{value:"low",color:"#22C55E"},{value:"medium",color:"#F59E0B"},{value:"high",color:"#EF4444"},{value:"urgent",color:"#DC2626"}].map(e=>(0,n.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",cursor:"pointer",padding:"0.5rem 0.75rem",borderRadius:"0.5rem",background:el.priority.includes(e.value)?"#1F1F1F":"transparent",transition:"background 0.2s"},onMouseEnter:r=>{el.priority.includes(e.value)||(r.currentTarget.style.background="#1A1A1A")},onMouseLeave:r=>{el.priority.includes(e.value)||(r.currentTarget.style.background="transparent")},children:[(0,n.jsx)("input",{type:"checkbox",checked:el.priority.includes(e.value),onChange:r=>{r.target.checked?ea({...el,priority:[...el.priority,e.value]}):ea({...el,priority:el.priority.filter(r=>r!==e.value)})},style:{width:"16px",height:"16px",cursor:"pointer",accentColor:e.color}}),(0,n.jsx)("div",{style:{width:"10px",height:"10px",borderRadius:"50%",backgroundColor:e.color}}),(0,n.jsx)("span",{style:{fontSize:"0.875rem",color:"#E5E5E5",textTransform:"capitalize"},children:e.value})]},e.value))})]}),(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"0.6875rem",fontWeight:600,color:"#52525B",marginBottom:"0.75rem",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Assignee"}),(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",maxHeight:"180px",overflowY:"auto"},children:null===(e=P.members)||void 0===e?void 0:e.map((e,r)=>(0,n.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",cursor:"pointer",padding:"0.5rem 0.75rem",borderRadius:"0.5rem",background:el.assignee.includes(e.id)?"#1F1F1F":"transparent",transition:"background 0.2s"},onMouseEnter:r=>{el.assignee.includes(e.id)||(r.currentTarget.style.background="#1A1A1A")},onMouseLeave:r=>{el.assignee.includes(e.id)||(r.currentTarget.style.background="transparent")},children:[(0,n.jsx)("input",{type:"checkbox",checked:el.assignee.includes(e.id),onChange:r=>{r.target.checked?ea({...el,assignee:[...el.assignee,e.id]}):ea({...el,assignee:el.assignee.filter(r=>r!==e.id)})},style:{width:"16px",height:"16px",cursor:"pointer",accentColor:"#3B82F6"}}),(0,n.jsx)(k.Z,{user:e,size:"sm"}),(0,n.jsx)("span",{style:{fontSize:"0.875rem",color:"#E5E5E5"},children:e.name})]},e.id))})]})]}),(el.status.length>0||el.priority.length>0||el.assignee.length>0||el.tags.length>0)&&(0,n.jsx)("button",{onClick:()=>ea({status:[],priority:[],assignee:[],tags:[]}),style:{marginTop:"1.25rem",padding:"0.625rem 1.25rem",background:"#EF4444",color:"#FFFFFF",border:"none",borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:500,cursor:"pointer",transition:"background 0.2s"},onMouseEnter:e=>e.currentTarget.style.background="#DC2626",onMouseLeave:e=>e.currentTarget.style.background="#EF4444",children:"Clear All Filters"})]})]}),(0,n.jsx)("div",{style:{flex:1,padding:ey?"1rem":"1.5rem",overflowX:"auto",background:"#0D0D0D"},children:"calendar"===er?(0,n.jsxs)("div",{style:{background:"#1A1A1A",border:"1px solid #2D2D2D",borderRadius:"0.75rem",padding:"1.5rem"},children:[(0,n.jsxs)("div",{style:{marginBottom:"1.5rem",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,n.jsx)("h3",{style:{fontSize:"1.25rem",fontWeight:600,color:"#FFFFFF",margin:0},children:new Date().toLocaleDateString("en-US",{month:"long",year:"numeric"})}),(0,n.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,n.jsx)("button",{style:{padding:"0.5rem",background:"#2D2D2D",border:"none",borderRadius:"0.375rem",color:"#FFFFFF",cursor:"pointer"},children:"←"}),(0,n.jsx)("button",{style:{padding:"0.5rem",background:"#2D2D2D",border:"none",borderRadius:"0.375rem",color:"#FFFFFF",cursor:"pointer"},children:"→"})]})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"1px",background:"#2D2D2D",border:"1px solid #2D2D2D",borderRadius:"0.5rem",overflow:"hidden"},children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,n.jsx)("div",{style:{padding:"0.75rem",background:"#141414",textAlign:"center",fontSize:"0.75rem",fontWeight:600,color:"#71717A"},children:e},e)),Array.from({length:35},(e,r)=>{let t=rS.filter(e=>{if(!e.due_date)return!1;let t=new Date(e.due_date).getDate();return t===r-2});return(0,n.jsxs)("div",{style:{minHeight:"100px",padding:"0.5rem",background:"#1A1A1A",borderTop:r>6?"1px solid #2D2D2D":"none"},children:[(0,n.jsx)("div",{style:{fontSize:"0.8125rem",color:"#71717A",marginBottom:"0.375rem"},children:r+1}),t.slice(0,2).map(e=>{var r;return(0,n.jsx)("div",{style:{fontSize:"0.75rem",color:"#FFFFFF",background:"#0D0D0D",padding:"0.25rem 0.375rem",borderRadius:"0.25rem",marginBottom:"0.25rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",borderLeft:"2px solid",borderLeftColor:(null===(r=w.find(r=>r.value===e.status))||void 0===r?void 0:r.color)||"#71717A"},children:e.name},e.id)})]},r)})]})]}):"gantt"===er?(0,n.jsxs)("div",{style:{display:"flex",gap:"1rem",height:"100%"},children:[(0,n.jsxs)("div",{style:{flex:1,background:"#1A1A1A",border:"1px solid #2D2D2D",borderRadius:"1rem",overflow:"hidden",display:"flex",flexDirection:"column"},children:[(0,n.jsxs)("div",{style:{padding:"1rem 1.5rem",background:"#141414",borderBottom:"1px solid #2D2D2D",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,n.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#0D0D0D",padding:"0.25rem",borderRadius:"0.5rem"},children:["week","month"].map(e=>(0,n.jsx)("button",{onClick:()=>rt(e),style:{padding:"0.5rem 1rem",background:rr===e?"#3B82F6":"transparent",border:"none",borderRadius:"0.375rem",color:rr===e?"#FFFFFF":"#71717A",fontSize:"0.8125rem",fontWeight:500,cursor:"pointer",transition:"all 0.2s",textTransform:"capitalize"},children:e},e))}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,n.jsx)("button",{onClick:()=>{let e=new Date(eu);"week"===rr?e.setDate(e.getDate()-7):e.setMonth(e.getMonth()-1),ep(e)},style:{width:"36px",height:"36px",background:"#2D2D2D",border:"none",borderRadius:"0.5rem",color:"#A1A1AA",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="#3D3D3D",e.currentTarget.style.color="#FFFFFF"},onMouseLeave:e=>{e.currentTarget.style.background="#2D2D2D",e.currentTarget.style.color="#A1A1AA"},children:(0,n.jsx)("svg",{style:{width:"16px",height:"16px"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,n.jsx)("button",{onClick:()=>ep(new Date),style:{padding:"0.5rem 1rem",background:"#10B981",border:"none",borderRadius:"0.5rem",color:"#FFFFFF",fontSize:"0.8125rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>e.currentTarget.style.background="#059669",onMouseLeave:e=>e.currentTarget.style.background="#10B981",children:"Today"}),(0,n.jsx)("button",{onClick:()=>{let e=new Date(eu);"week"===rr?e.setDate(e.getDate()+7):e.setMonth(e.getMonth()+1),ep(e)},style:{width:"36px",height:"36px",background:"#2D2D2D",border:"none",borderRadius:"0.5rem",color:"#A1A1AA",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="#3D3D3D",e.currentTarget.style.color="#FFFFFF"},onMouseLeave:e=>{e.currentTarget.style.background="#2D2D2D",e.currentTarget.style.color="#A1A1AA"},children:(0,n.jsx)("svg",{style:{width:"16px",height:"16px"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),(0,n.jsx)("div",{style:{padding:"0.5rem 1rem",background:"#2D2D2D",borderRadius:"0.5rem",marginLeft:"0.5rem"},children:(0,n.jsx)("span",{style:{color:"#FFFFFF",fontSize:"0.875rem",fontWeight:600},children:eu.toLocaleDateString("en-US",{month:"long",year:"numeric"})})})]})]}),(0,n.jsx)("div",{style:{flex:1,overflow:"auto"},children:"week"===rr?(0,n.jsxs)("div",{style:{display:"flex",minHeight:"100%"},children:[(0,n.jsxs)("div",{style:{width:"100px",flexShrink:0,background:"#141414",borderRight:"1px solid #2D2D2D"},children:[(0,n.jsx)("div",{style:{height:"48px",borderBottom:"1px solid #2D2D2D"}}),Array.from({length:7},(e,r)=>{let t=new Date(eu);t.setDate(t.getDate()-t.getDay()+r);let o=t.toDateString()===new Date().toDateString();return(0,n.jsxs)("div",{style:{height:"80px",padding:"0.75rem",borderBottom:"1px solid #2D2D2D",display:"flex",flexDirection:"column",justifyContent:"center",background:o?"#3B82F610":"transparent"},children:[(0,n.jsx)("span",{style:{color:o?"#3B82F6":"#FFFFFF",fontSize:"0.875rem",fontWeight:600},children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][r]}),(0,n.jsxs)("span",{style:{color:o?"#3B82F6":"#71717A",fontSize:"0.75rem"},children:[t.getDate(),"/",t.getMonth()+1]})]},r)})]}),(0,n.jsxs)("div",{style:{flex:1,minWidth:"800px"},children:[(0,n.jsx)("div",{style:{display:"flex",height:"48px",borderBottom:"1px solid #2D2D2D",background:"#141414"},children:Array.from({length:12},(e,r)=>(0,n.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",borderRight:"1px solid #2D2D2D"},children:(0,n.jsxs)("span",{style:{color:"#71717A",fontSize:"0.75rem",fontWeight:500},children:[7+r,":00"]})},r))}),Array.from({length:7},(e,r)=>{let t=new Date(eu);t.setDate(t.getDate()-t.getDay()+r);let o=t.toDateString()===new Date().toDateString(),i=rS.filter(e=>{if(!e.due_date)return!1;let r=new Date(e.due_date);return r.toDateString()===t.toDateString()}),s=["#06B6D4","#F97316","#8B5CF6","#EC4899","#10B981","#F59E0B","#EF4444"];return(0,n.jsxs)("div",{style:{display:"flex",height:"80px",borderBottom:"1px solid #2D2D2D",position:"relative",background:o?"#3B82F608":"transparent"},children:[Array.from({length:12},(e,r)=>(0,n.jsx)("div",{style:{flex:1,borderRight:"1px solid #1F1F1F"}},r)),i.map((e,r)=>{var t;let o=s[r%s.length];return(0,n.jsxs)("div",{onClick:()=>ex(e),style:{position:"absolute",top:"50%",transform:"translateY(-50%)",left:"".concat(10+r%3*25,"%"),width:"".concat(40+r%2*20,"%"),height:"40px",background:o,borderRadius:"0.5rem",display:"flex",alignItems:"center",padding:"0 0.75rem",gap:"0.5rem",cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",zIndex:r+1,transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-50%) scale(1.02)",e.currentTarget.style.zIndex="100"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(-50%)",e.currentTarget.style.zIndex=String(r+1)},children:[(null===(t=e.assignees)||void 0===t?void 0:t[0])&&(0,n.jsx)(k.Z,{user:e.assignees[0],size:"sm"}),(0,n.jsx)("span",{style:{color:"#FFFFFF",fontSize:"0.75rem",fontWeight:600,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.name})]},e.id)}),o&&(0,n.jsx)("div",{style:{position:"absolute",left:"".concat((new Date().getHours()-7)/12*100,"%"),top:0,bottom:0,width:"2px",background:"#EF4444",zIndex:50},children:(0,n.jsx)("div",{style:{position:"absolute",top:"-6px",left:"50%",transform:"translateX(-50%)",width:"12px",height:"12px",borderRadius:"50%",background:"#EF4444"}})})]},r)})]})]}):(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%",padding:"1rem"},children:[(0,n.jsx)("div",{style:{display:"flex",alignItems:"flex-end",gap:0,marginBottom:"0.5rem",paddingBottom:"0.5rem",borderBottom:"1px solid #2D2D2D"},children:(()=>{let e=new Date,r=new Date(eu.getFullYear(),eu.getMonth()+1,0).getDate(),t=["S","M","T","W","T","F","S"];return Array.from({length:r},(r,o)=>{let i=o+1,s=new Date(eu.getFullYear(),eu.getMonth(),i),l=s.getDay(),a=i===e.getDate()&&eu.getMonth()===e.getMonth()&&eu.getFullYear()===e.getFullYear(),d=0===l||6===l;return(0,n.jsxs)("div",{style:{flex:1,minWidth:"40px",display:"flex",flexDirection:"column",alignItems:"center",gap:"0.25rem"},children:[(0,n.jsx)("span",{style:{color:d?"#52525B":"#71717A",fontSize:"0.6875rem",fontWeight:500},children:t[l]}),(0,n.jsx)("span",{style:{color:a?"#FFFFFF":d?"#52525B":"#A1A1AA",fontSize:"0.8125rem",fontWeight:a?700:500,background:a?"#3B82F6":"transparent",width:"28px",height:"28px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:i})]},o)})})()}),(0,n.jsxs)("div",{style:{flex:1,position:"relative",minHeight:"400px",background:"#141414",borderRadius:"0.75rem",overflow:"hidden"},children:[(()=>{let e=new Date,r=new Date(eu.getFullYear(),eu.getMonth()+1,0).getDate(),t=eu.getMonth()===e.getMonth()&&eu.getFullYear()===e.getFullYear();if(!t)return null;let o=(e.getDate()-.5)/r*100;return(0,n.jsx)("div",{style:{position:"absolute",left:"".concat(o,"%"),top:0,bottom:0,width:"2px",background:"#3B82F6",zIndex:100},children:(0,n.jsx)("div",{style:{position:"absolute",top:0,left:"50%",transform:"translateX(-50%)",background:"#3B82F6",color:"#FFFFFF",fontSize:"0.625rem",padding:"0.125rem 0.375rem",borderRadius:"0.25rem",fontWeight:600,whiteSpace:"nowrap"},children:e.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})})})})(),(0,n.jsx)("div",{style:{position:"absolute",inset:0,display:"flex",pointerEvents:"none"},children:(()=>{let e=new Date(eu.getFullYear(),eu.getMonth()+1,0).getDate();return Array.from({length:e},(e,r)=>(0,n.jsx)("div",{style:{flex:1,minWidth:"40px",borderRight:"1px solid #1F1F1F"}},r))})()}),(()=>{let e=new Date(eu.getFullYear(),eu.getMonth()+1,0).getDate(),r=["#10B981","#F97316","#8B5CF6","#EC4899","#06B6D4","#F59E0B","#EF4444","#3B82F6"],t=rS.filter(e=>{if(!e.due_date&&!e.start_date)return!1;let r=new Date(e.due_date?e.due_date:e.start_date);return r.getMonth()===eu.getMonth()&&r.getFullYear()===eu.getFullYear()}),o=[];return t.forEach((r,t)=>{let n=new Date(r.due_date?r.due_date:r.start_date),i=new Date(r.start_date?r.start_date:n.getTime()-2592e5),s=Math.max(1,i.getMonth()===eu.getMonth()?i.getDate():1),l=Math.min(e,n.getMonth()===eu.getMonth()?n.getDate():e),a=0;for(;o.some(e=>e.row===a&&!(l<e.startDay||s>e.endDay));)a++;o.push({task:r,row:a,startDay:s,endDay:l})}),o.map((t,o)=>{let{task:i,row:s,startDay:l,endDay:a}=t,d=r[o%r.length],c=(l-1)/e*100,m=Math.max((a-l+1)/e*100,5);return(0,n.jsxs)("div",{onClick:()=>ex(i),style:{position:"absolute",top:"".concat(20+60*s,"px"),left:"".concat(c,"%"),width:"".concat(m,"%"),minWidth:"80px",height:"44px",background:d,borderRadius:"9999px",display:"flex",alignItems:"center",padding:"0 0.75rem",gap:"0.5rem",cursor:"pointer",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:o+1,transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.02)",e.currentTarget.style.zIndex="200",e.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.25)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)",e.currentTarget.style.zIndex=String(o+1),e.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)"},children:[(0,n.jsx)("span",{style:{color:"#FFFFFF",fontSize:"0.8125rem",fontWeight:600,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1},children:i.name}),(0,n.jsx)("div",{style:{display:"flex",marginLeft:"auto",flexShrink:0},children:(0,n.jsx)(k.H,{users:i.assignees||[],max:3,size:"sm"})})]},i.id)})})(),0===rS.filter(e=>{if(!e.due_date&&!e.start_date)return!1;let r=new Date(e.due_date?e.due_date:e.start_date);return r.getMonth()===eu.getMonth()&&r.getFullYear()===eu.getFullYear()}).length&&(0,n.jsx)("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)("span",{style:{color:"#52525B",fontSize:"0.875rem"},children:"No tasks this month"})})]})]})})]}),(0,n.jsxs)("div",{style:{width:"260px",flexShrink:0,display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,n.jsxs)("div",{style:{background:"#1A1A1A",borderRadius:"1rem",padding:"1rem",border:"1px solid #2D2D2D"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[(0,n.jsx)("button",{onClick:()=>{let e=new Date(eu);e.setMonth(e.getMonth()-1),ep(e)},style:{background:"none",border:"none",color:"#71717A",cursor:"pointer",padding:"0.25rem"},children:(0,n.jsx)("svg",{style:{width:"16px",height:"16px"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,n.jsx)("span",{style:{color:"#FFFFFF",fontSize:"0.875rem",fontWeight:600},children:eu.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),(0,n.jsx)("button",{onClick:()=>{let e=new Date(eu);e.setMonth(e.getMonth()+1),ep(e)},style:{background:"none",border:"none",color:"#71717A",cursor:"pointer",padding:"0.25rem"},children:(0,n.jsx)("svg",{style:{width:"16px",height:"16px"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),(0,n.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"0.25rem",marginBottom:"0.5rem"},children:["S","M","T","W","T","F","S"].map((e,r)=>(0,n.jsx)("div",{style:{textAlign:"center",fontSize:"0.625rem",color:"#52525B",fontWeight:600},children:e},r))}),(0,n.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"0.25rem"},children:(()=>{let e=new Date(eu.getFullYear(),eu.getMonth(),1),r=e.getDay(),t=new Date(eu.getFullYear(),eu.getMonth()+1,0).getDate(),o=new Date;return Array.from({length:42},(e,i)=>{let s=i-r+1,l=s>0&&s<=t,a=l&&s===o.getDate()&&eu.getMonth()===o.getMonth()&&eu.getFullYear()===o.getFullYear();return(0,n.jsx)("div",{style:{width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",color:a?"#FFFFFF":l?"#A1A1AA":"#3D3D3D",background:a?"#3B82F6":"transparent",borderRadius:"0.375rem",fontWeight:a?600:400,cursor:l?"pointer":"default"},children:l?s:""},i)})})()})]}),(0,n.jsxs)("div",{style:{background:"#1A1A1A",borderRadius:"1rem",padding:"1rem",border:"1px solid #2D2D2D",flex:1},children:[(0,n.jsx)("h4",{style:{color:"#71717A",fontSize:"0.6875rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.75rem"},children:"Upcoming"}),(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.625rem"},children:rS.filter(e=>e.due_date&&new Date(e.due_date)>=new Date).slice(0,5).map((e,r)=>{let t=["#06B6D4","#F97316","#8B5CF6","#EC4899","#10B981"];return(0,n.jsxs)("div",{onClick:()=>ex(e),style:{display:"flex",alignItems:"center",gap:"0.625rem",padding:"0.5rem",borderRadius:"0.5rem",cursor:"pointer",transition:"background 0.2s"},onMouseEnter:e=>e.currentTarget.style.background="#252525",onMouseLeave:e=>e.currentTarget.style.background="transparent",children:[(0,n.jsx)("div",{style:{width:"4px",height:"32px",background:t[r%t.length],borderRadius:"2px"}}),(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("div",{style:{color:"#FFFFFF",fontSize:"0.8125rem",fontWeight:500},children:e.name.length>20?e.name.substring(0,20)+"...":e.name}),(0,n.jsx)("div",{style:{color:"#71717A",fontSize:"0.6875rem"},children:new Date(e.due_date).toLocaleDateString()})]})]},e.id)})})]})]})]}):"list"===er?(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:Object.entries(rC).sort((e,r)=>{let[t]=e,[n]=r;return"No Due Date"===t?1:"No Due Date"===n?-1:new Date(n).getTime()-new Date(t).getTime()}).map((e,r)=>{let[t,o]=e,i=en.includes(t),s=w.map(e=>({...e,count:o.filter(r=>r.status===e.value).length})).filter(e=>e.count>0);return(0,n.jsxs)("div",{style:{background:"#1A1A1A",borderRadius:"0.75rem",overflow:"hidden",border:"1px solid #2D2D2D"},children:[(0,n.jsxs)("div",{onClick:()=>{i?eo(en.filter(e=>e!==t)):eo([...en,t])},style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem 1.25rem",cursor:"pointer",borderBottom:i?"1px solid #2D2D2D":"none",background:"#141414"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[(0,n.jsx)("svg",{style:{width:"18px",height:"18px",color:"#71717A",transform:i?"rotate(90deg)":"none",transition:"transform 0.2s"},fill:"currentColor",viewBox:"0 0 20 20",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),(0,n.jsx)(h.Z,{style:{width:"20px",height:"20px",color:"#3B82F6"}}),(0,n.jsx)("span",{style:{color:"#FFFFFF",fontSize:"1rem",fontWeight:600},children:t}),(0,n.jsxs)("span",{style:{padding:"0.25rem 0.625rem",background:"#2D2D2D",borderRadius:"0.375rem",fontSize:"0.75rem",color:"#A1A1AA",fontWeight:600},children:[o.length," ",1===o.length?"task":"tasks"]})]}),(0,n.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:s.map(e=>(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.375rem"},children:[(0,n.jsx)("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:e.color}}),(0,n.jsxs)("span",{style:{fontSize:"0.8125rem",color:"#A1A1AA",fontWeight:500},children:[e.count," ",e.label]})]},e.value))})]}),i&&(0,n.jsxs)("div",{style:{padding:"0"},children:[w.map(e=>{let r=o.filter(r=>r.status===e.value);if(0===r.length)return null;let i="".concat(t,"-").concat(e.value),s=en.includes(i);return(0,n.jsxs)("div",{style:{borderBottom:"1px solid #2D2D2D"},children:[(0,n.jsxs)("div",{onClick:()=>{s?eo(en.filter(e=>e!==i)):eo([...en,i])},style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem 1.25rem 0.75rem 2.5rem",cursor:"pointer",background:"#0D0D0D"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.625rem"},children:[(0,n.jsx)("svg",{style:{width:"14px",height:"14px",color:"#52525B",transform:s?"rotate(90deg)":"none",transition:"transform 0.2s"},fill:"currentColor",viewBox:"0 0 20 20",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),(0,n.jsx)("span",{style:{color:e.color,fontSize:"0.875rem",fontWeight:600},children:e.label}),(0,n.jsx)("span",{style:{padding:"0.125rem 0.5rem",background:"".concat(e.color,"20"),borderRadius:"0.375rem",fontSize:"0.6875rem",color:e.color,fontWeight:600},children:r.length})]}),(0,n.jsx)("button",{onClick:e=>{e.stopPropagation(),X(!0)},style:{width:"22px",height:"22px",background:"transparent",border:"none",color:"#52525B",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"0.25rem",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.color="#FFFFFF",e.currentTarget.style.background="#2D2D2D"},onMouseLeave:e=>{e.currentTarget.style.color="#52525B",e.currentTarget.style.background="transparent"},children:(0,n.jsx)(c.Z,{style:{width:"14px",height:"14px"}})})]}),s&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1.5fr 1.5fr 160px 120px 100px 80px 80px",padding:"0.75rem 1.5rem",background:"#0A0A0A",borderBottom:"1px solid #1F1F1F",gap:"1rem"},children:[(0,n.jsx)("div",{style:{fontSize:"0.6875rem",fontWeight:600,color:"#52525B",textTransform:"uppercase",letterSpacing:"0.05em",display:"flex",alignItems:"center"},children:"Task Name"}),(0,n.jsx)("div",{style:{fontSize:"0.6875rem",fontWeight:600,color:"#52525B",textTransform:"uppercase",letterSpacing:"0.05em",display:"flex",alignItems:"center"},children:"Description"}),(0,n.jsx)("div",{style:{fontSize:"0.6875rem",fontWeight:600,color:"#52525B",textTransform:"uppercase",letterSpacing:"0.05em",display:"flex",alignItems:"center"},children:"Due Date"}),(0,n.jsx)("div",{style:{fontSize:"0.6875rem",fontWeight:600,color:"#52525B",textTransform:"uppercase",letterSpacing:"0.05em",display:"flex",alignItems:"center"},children:"Type"}),(0,n.jsx)("div",{style:{fontSize:"0.6875rem",fontWeight:600,color:"#52525B",textTransform:"uppercase",letterSpacing:"0.05em",display:"flex",alignItems:"center"},children:"Assignee"}),(0,n.jsx)("div",{style:{fontSize:"0.6875rem",fontWeight:600,color:"#52525B",textTransform:"uppercase",letterSpacing:"0.05em",display:"flex",alignItems:"center"},children:"Priority"}),(0,n.jsx)("div",{style:{fontSize:"0.6875rem",fontWeight:600,color:"#52525B",textTransform:"uppercase",letterSpacing:"0.05em",display:"flex",alignItems:"center",justifyContent:"center"},children:"Actions"})]}),r.map(r=>{let t=r.tags_list||(r.tags?r.tags.split(",").map(e=>e.trim()).filter(Boolean):[]),o=t.length>0?t[0]:"General",i=o.toLowerCase().includes("dashboard")?"#3B82F6":o.toLowerCase().includes("mobile")?"#8B5CF6":o.toLowerCase().includes("api")?"#EC4899":"#71717A";return(0,n.jsxs)("div",{onClick:()=>ex(r),style:{display:"grid",gridTemplateColumns:"1.5fr 1.5fr 160px 120px 100px 80px 80px",padding:"0.875rem 1.5rem",borderBottom:"1px solid #1F1F1F",cursor:"pointer",transition:"all 0.15s",gap:"1rem",alignItems:"center"},onMouseEnter:e=>{e.currentTarget.style.background="#1A1A1A"},onMouseLeave:e=>{e.currentTarget.style.background="transparent"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[(0,n.jsx)("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:e.color,flexShrink:0}}),(0,n.jsx)("span",{style:{color:"#FFFFFF",fontSize:"0.875rem",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:r.name})]}),(0,n.jsx)("div",{style:{color:"#71717A",fontSize:"0.8125rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:r.description||"-"}),(0,n.jsx)("div",{style:{color:"#A1A1AA",fontSize:"0.8125rem"},children:r.due_date?new Date(r.due_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):(0,n.jsx)("span",{style:{color:"#52525B"},children:"No date"})}),(0,n.jsx)("div",{children:(0,n.jsx)("span",{style:{padding:"0.25rem 0.625rem",borderRadius:"9999px",fontSize:"0.6875rem",fontWeight:500,backgroundColor:"".concat(i,"20"),color:i},children:o})}),(0,n.jsx)("div",{style:{display:"flex",alignItems:"center"},children:r.assignees&&r.assignees.length>0?(0,n.jsx)(k.H,{users:r.assignees,max:3,size:"sm"}):(0,n.jsx)("span",{style:{color:"#52525B",fontSize:"0.8125rem"},children:"-"})}),(0,n.jsx)("div",{children:(0,n.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.375rem",padding:"0.25rem 0.5rem",borderRadius:"9999px",fontSize:"0.6875rem",fontWeight:500,backgroundColor:"high"===r.priority?"#EF444420":"medium"===r.priority?"#F59E0B20":"#22C55E20",color:"high"===r.priority?"#EF4444":"medium"===r.priority?"#F59E0B":"#22C55E"},children:[(0,n.jsx)("span",{style:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:"high"===r.priority?"#EF4444":"medium"===r.priority?"#F59E0B":"#22C55E"}}),r.priority?r.priority.charAt(0).toUpperCase()+r.priority.slice(1):"Low"]})}),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"0.375rem"},children:[(0,n.jsx)("button",{onClick:e=>{e.stopPropagation(),ex(r)},style:{width:"30px",height:"30px",background:"#1F1F1F",border:"1px solid #2D2D2D",color:"#71717A",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"0.5rem",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.color="#3B82F6",e.currentTarget.style.borderColor="#3B82F6"},onMouseLeave:e=>{e.currentTarget.style.color="#71717A",e.currentTarget.style.borderColor="#2D2D2D"},title:"Edit task",children:(0,n.jsx)(b.Z,{style:{width:"14px",height:"14px"}})}),(0,n.jsx)("button",{onClick:async e=>{if(e.stopPropagation(),confirm("Delete this task?"))try{await l.taskService.deleteTask(r.id),H(Y.filter(e=>e.id!==r.id)),rh()}catch(e){alert("Error deleting task")}},style:{width:"30px",height:"30px",background:"#1F1F1F",border:"1px solid #2D2D2D",color:"#71717A",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"0.5rem",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.color="#EF4444",e.currentTarget.style.borderColor="#EF4444"},onMouseLeave:e=>{e.currentTarget.style.color="#71717A",e.currentTarget.style.borderColor="#2D2D2D"},title:"Delete task",children:(0,n.jsx)(m.Z,{style:{width:"14px",height:"14px"}})})]})]},r.id)})]})]},e.value)}),(0,n.jsx)("div",{style:{padding:"0.75rem 1.25rem 0.75rem 2.5rem",background:"#0D0D0D"},children:(0,n.jsxs)("button",{onClick:()=>X(!0),style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#52525B",background:"none",border:"none",cursor:"pointer",fontSize:"0.8125rem",fontWeight:500,transition:"color 0.2s"},onMouseEnter:e=>e.currentTarget.style.color="#FFFFFF",onMouseLeave:e=>e.currentTarget.style.color="#52525B",children:[(0,n.jsx)(c.Z,{style:{width:"14px",height:"14px"}}),"Add task"]})})]})]},t)})}):"kanban"===er?(0,n.jsx)("div",{style:{display:"grid",gridTemplateColumns:ey?"1fr":"repeat(4, minmax(280px, 1fr))",gap:"1.25rem",maxWidth:"100%"},children:w.map(e=>{let r=rS.filter(r=>r.status===e.value);return(0,n.jsxs)("div",{style:{width:"100%",minWidth:ey?"100%":"280px",display:"flex",flexDirection:"column",transition:"all 0.2s",borderRadius:"0.75rem",border:V===e.value?"2px solid #10B981":"2px solid transparent"},onDragOver:r=>rj(r,e.value),onDragLeave:rv,onDrop:r=>rk(r,e.value),children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem",padding:"0 0.25rem"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,n.jsx)("div",{style:{width:"10px",height:"10px",borderRadius:"50%",backgroundColor:e.color}}),(0,n.jsx)("span",{style:{color:"#FFFFFF",fontSize:"0.875rem",fontWeight:600},children:e.label}),(0,n.jsx)("span",{style:{padding:"0.125rem 0.5rem",background:"#2D2D2D",borderRadius:"0.375rem",fontSize:"0.75rem",color:"#A1A1AA",fontWeight:600},children:r.length})]}),(0,n.jsx)("button",{onClick:()=>X(!0),style:{width:"24px",height:"24px",background:"none",border:"none",color:"#52525B",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"0.25rem",transition:"all 0.2s"},onMouseEnter:e=>e.currentTarget.style.color="#FFFFFF",onMouseLeave:e=>e.currentTarget.style.color="#52525B",children:(0,n.jsx)(c.Z,{style:{width:"20px",height:"20px"}})})]}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem",minHeight:"200px"},children:[r.map(e=>{e.tags_list||e.tags&&e.tags.split(",").map(e=>e.trim()).filter(Boolean);let r=(()=>{let r={backlog:{bg:"linear-gradient(135deg, #3B82F6 0%, #2563EB 100%)",text:"#FFFFFF"},in_progress:{bg:"linear-gradient(135deg, #06B6D4 0%, #0891B2 100%)",text:"#FFFFFF"},done:{bg:"linear-gradient(135deg, #10B981 0%, #059669 100%)",text:"#FFFFFF"},archived:{bg:"linear-gradient(135deg, #52525B 0%, #3F3F46 100%)",text:"#FFFFFF"}};return r[e.status]?r[e.status]:"high"===e.priority?{bg:"linear-gradient(135deg, #F59E0B 0%, #D97706 100%)",text:"#FFFFFF"}:"medium"===e.priority?{bg:"linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%)",text:"#FFFFFF"}:{bg:"linear-gradient(135deg, #EC4899 0%, #DB2777 100%)",text:"#FFFFFF"}})();return(0,n.jsxs)("div",{draggable:!0,onDragStart:r=>rD(r,e),onClick:()=>ex(e),style:{background:r.bg,border:"none",borderRadius:"14px",padding:"14px 16px",cursor:"pointer",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",minHeight:"150px",maxHeight:"150px",display:"flex",flexDirection:"column",boxShadow:"0 4px 12px rgba(0,0,0,0.25)"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-3px)",e.currentTarget.style.boxShadow="0 8px 20px rgba(0,0,0,0.35)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.25)"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"10px",marginBottom:"12px"},children:[(0,n.jsx)("div",{onClick:e=>{e.stopPropagation()},style:{width:"18px",height:"18px",borderRadius:"5px",border:"2px solid rgba(255,255,255,0.9)",background:"rgba(255,255,255,0.15)",cursor:"pointer",flexShrink:0,marginTop:"2px"}}),(0,n.jsx)("h3",{style:{color:"#FFFFFF",fontWeight:600,fontSize:"14px",lineHeight:1.4,margin:0,flex:1,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:e.name}),(0,n.jsx)("button",{onClick:async r=>{if(r.stopPropagation(),confirm("Are you sure you want to delete this task?"))try{await l.taskService.deleteTask(e.id),await rh()}catch(e){console.error("Error deleting task:",e),alert("Failed to delete task")}},style:{width:"24px",height:"24px",borderRadius:"6px",border:"none",background:"rgba(239, 68, 68, 0.2)",color:"#EF4444",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,transition:"all 0.2s",opacity:.8},onMouseEnter:e=>{e.currentTarget.style.background="#EF4444",e.currentTarget.style.color="#FFFFFF",e.currentTarget.style.opacity="1"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(239, 68, 68, 0.2)",e.currentTarget.style.color="#EF4444",e.currentTarget.style.opacity="0.8"},children:(0,n.jsx)(m.Z,{style:{width:"14px",height:"14px"}})})]}),e.due_date&&(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"10px",color:"rgba(255,255,255,0.85)",fontSize:"12px",fontWeight:500},children:[(0,n.jsx)(h.Z,{style:{width:"14px",height:"14px"}}),new Date(e.due_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]}),e.priority&&(0,n.jsx)("div",{style:{marginBottom:"12px"},children:(0,n.jsxs)("span",{style:{padding:"4px 10px",borderRadius:"6px",fontSize:"11px",fontWeight:600,background:"rgba(255,255,255,0.2)",color:"#FFFFFF",textTransform:"capitalize"},children:[e.priority," priority"]})}),(0,n.jsx)("div",{style:{flex:1}}),(0,n.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:(0,n.jsx)(k.H,{users:e.assignees||[],max:3,size:"sm"})})]},e.id)}),0===r.length&&(0,n.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",minHeight:"150px",border:"2px dashed #2D2D2D",borderRadius:"0.75rem",background:"transparent"},children:(0,n.jsx)("span",{style:{color:"#52525B",fontSize:"0.875rem"},children:"No tasks"})}),(0,n.jsxs)("button",{onClick:()=>{ro(e.value),X(!0)},style:{width:"100%",padding:"0.75rem",background:"transparent",border:"1px dashed #2D2D2D",borderRadius:"0.5rem",color:"#71717A",cursor:"pointer",fontSize:"0.875rem",fontWeight:500,transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginTop:"0.5rem"},onMouseEnter:e=>{e.currentTarget.style.background="#1A1A1A",e.currentTarget.style.borderColor="#3D3D3D",e.currentTarget.style.color="#FFFFFF"},onMouseLeave:e=>{e.currentTarget.style.background="transparent",e.currentTarget.style.borderColor="#2D2D2D",e.currentTarget.style.color="#71717A"},children:[(0,n.jsx)(c.Z,{style:{width:"16px",height:"16px"}}),"Add New Task"]})]})]},e.value)})}):(0,n.jsxs)("div",{style:{display:"flex",gap:"1.5rem",height:"100%",padding:"0.5rem"},children:[(0,n.jsxs)("div",{style:{width:"220px",flexShrink:0,display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,n.jsxs)("div",{style:{background:"linear-gradient(135deg, #1F1F1F 0%, #141414 100%)",borderRadius:"1rem",padding:"1.25rem",border:"1px solid #2D2D2D"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem"},children:[(0,n.jsx)("div",{style:{width:"44px",height:"44px",borderRadius:"0.75rem",background:"linear-gradient(135deg, #10B981 0%, #059669 100%)",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)(d.Z,{style:{width:"22px",height:"22px",color:"#FFFFFF"}})}),(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("h3",{style:{color:"#FFFFFF",fontSize:"0.9375rem",fontWeight:600,margin:0},children:P.name}),(0,n.jsx)("p",{style:{color:"#71717A",fontSize:"0.6875rem",margin:"0.25rem 0 0"},children:"Project tasks overview"})]})]}),(0,n.jsx)("p",{style:{color:"#52525B",fontSize:"0.625rem",marginBottom:"0.625rem",textTransform:"uppercase",letterSpacing:"0.1em",fontWeight:600},children:"Team members"}),(0,n.jsx)(k.H,{users:P.members||[],max:4,size:"sm"})]}),(()=>{let e=new Date(eu.getFullYear(),eu.getMonth(),1),r=new Date(eu.getFullYear(),eu.getMonth()+1,0),t=t=>{let n=t.due_date?new Date(t.due_date):null,o=t.start_date?new Date(t.start_date):null;return!!n&&n>=e&&n<=r||!!o&&o>=e&&o<=r||!!o&&!!n&&o<=r&&n>=e},o=Y.filter(e=>"in_progress"===e.status&&t(e)),i=Y.filter(e=>"done"===e.status&&t(e)),s=Y.filter(e=>"todo"===e.status&&t(e));return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{style:{background:"#141414",borderRadius:"0.75rem",padding:"0.875rem",border:"1px solid #2D2D2D"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:o.length>0?"0.625rem":0},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,n.jsx)("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#3B82F6"}}),(0,n.jsx)("span",{style:{color:"#FFFFFF",fontSize:"0.8125rem",fontWeight:500},children:"In Progress"})]}),(0,n.jsx)("span",{style:{color:"#3B82F6",fontSize:"0.75rem",fontWeight:600},children:o.length})]}),o.length>0&&(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.375rem"},children:o.slice(0,2).map(e=>(0,n.jsxs)("div",{onClick:()=>ex(e),style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.375rem",borderRadius:"0.375rem",cursor:"pointer",background:"#1A1A1A",transition:"all 0.2s"},onMouseEnter:e=>e.currentTarget.style.background="#252525",onMouseLeave:e=>e.currentTarget.style.background="#1A1A1A",children:[(0,n.jsx)("div",{style:{width:"24px",height:"24px",borderRadius:"0.375rem",background:"#2D2D2D",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.625rem",color:"#A1A1AA"},children:e.name.charAt(0)}),(0,n.jsx)("span",{style:{color:"#A1A1AA",fontSize:"0.75rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1},children:e.name})]},e.id))})]}),(0,n.jsx)("div",{style:{background:"#141414",borderRadius:"0.75rem",padding:"0.875rem",border:"1px solid #2D2D2D"},children:(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,n.jsx)("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#10B981"}}),(0,n.jsx)("span",{style:{color:"#FFFFFF",fontSize:"0.8125rem",fontWeight:500},children:"Completed"})]}),(0,n.jsx)("span",{style:{color:"#10B981",fontSize:"0.75rem",fontWeight:600},children:i.length})]})}),(0,n.jsx)("div",{style:{background:"#141414",borderRadius:"0.75rem",padding:"0.875rem",border:"1px solid #2D2D2D"},children:(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,n.jsx)("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#EF4444"}}),(0,n.jsx)("span",{style:{color:"#FFFFFF",fontSize:"0.8125rem",fontWeight:500},children:"To Do"})]}),(0,n.jsx)("span",{style:{color:"#EF4444",fontSize:"0.75rem",fontWeight:600},children:s.length})]})})]})})()]}),(0,n.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",minWidth:0},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{style:{color:"#FFFFFF",fontSize:"1.375rem",fontWeight:700,margin:0,letterSpacing:"-0.02em"},children:"My growth map"}),(0,n.jsx)("p",{style:{color:"#52525B",fontSize:"0.8125rem",margin:"0.25rem 0 0"},children:"Track your team progress for the month"})]}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,n.jsx)("button",{onClick:()=>{let e=new Date(eu);e.setMonth(e.getMonth()-1),ep(e)},style:{width:"36px",height:"36px",background:"#1A1A1A",border:"1px solid #2D2D2D",borderRadius:"0.5rem",color:"#71717A",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="#2D2D2D",e.currentTarget.style.color="#FFFFFF"},onMouseLeave:e=>{e.currentTarget.style.background="#1A1A1A",e.currentTarget.style.color="#71717A"},children:(0,n.jsx)("svg",{style:{width:"16px",height:"16px"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.625rem 1rem",background:"#1A1A1A",border:"1px solid #2D2D2D",borderRadius:"0.5rem"},children:[(0,n.jsx)(h.Z,{style:{width:"16px",height:"16px",color:"#71717A"}}),(0,n.jsx)("span",{style:{color:"#FFFFFF",fontSize:"0.875rem",fontWeight:500},children:eu.toLocaleString("default",{month:"long",year:"numeric"})})]}),(0,n.jsx)("button",{onClick:()=>{let e=new Date(eu);e.setMonth(e.getMonth()+1),ep(e)},style:{width:"36px",height:"36px",background:"#1A1A1A",border:"1px solid #2D2D2D",borderRadius:"0.5rem",color:"#71717A",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="#2D2D2D",e.currentTarget.style.color="#FFFFFF"},onMouseLeave:e=>{e.currentTarget.style.background="#1A1A1A",e.currentTarget.style.color="#71717A"},children:(0,n.jsx)("svg",{style:{width:"16px",height:"16px"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),(0,n.jsxs)("div",{style:{flex:1,background:"#141414",borderRadius:"1rem",padding:"1.5rem",border:"1px solid #1F1F1F",overflow:"auto"},children:[(0,n.jsx)("div",{style:{display:"flex",marginBottom:"1.25rem",paddingLeft:"200px"},children:["Week 1","Week 2","Week 3","Week 4","Week 5"].map((e,r)=>{let t=new Date,o=Math.ceil(t.getDate()/7),i=r+1===o&&eu.getMonth()===t.getMonth()&&eu.getFullYear()===t.getFullYear();return(0,n.jsxs)("div",{style:{flex:1,textAlign:"center",position:"relative"},children:[(0,n.jsx)("span",{style:{color:i?"#10B981":"#52525B",fontSize:"0.75rem",fontWeight:500,textTransform:"uppercase",letterSpacing:"0.05em"},children:e}),i&&(0,n.jsx)("div",{style:{position:"absolute",top:"1.75rem",left:"50%",transform:"translateX(-50%)",width:"2px",height:"calc(100vh - 400px)",background:"linear-gradient(180deg, #EF4444 0%, transparent 100%)",zIndex:10},children:(0,n.jsx)("div",{style:{position:"absolute",top:"-0.625rem",left:"50%",transform:"translateX(-50%)",padding:"0.25rem 0.5rem",background:"#10B981",borderRadius:"0.25rem",color:"#FFF",fontSize:"0.5625rem",fontWeight:600,whiteSpace:"nowrap",textTransform:"uppercase"},children:"Today"})})]},e)})}),(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:null===(r=P.members)||void 0===r?void 0:r.map((e,r)=>{var t;let o=["#8B5CF6","#EC4899","#3B82F6","#10B981","#F59E0B","#EF4444","#06B6D4","#84CC16"],i=o[r%o.length],s=new Date(eu.getFullYear(),eu.getMonth(),1),l=new Date(eu.getFullYear(),eu.getMonth()+1,0),a=Y.filter(r=>{var t;if(!(null===(t=r.assignees)||void 0===t?void 0:t.some(r=>r.id===e.id)))return!1;let n=r.due_date?new Date(r.due_date):null,o=r.start_date?new Date(r.start_date):null;return!!n&&n>=s&&n<=l||!!o&&o>=s&&o<=l||!!o&&!!n&&o<=l&&n>=s}),d=a.filter(e=>"done"===e.status).length,c=a.length,m=c>0?Math.round(d/c*100):0;return(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",padding:"0.75rem 0",borderBottom:r<((null===(t=P.members)||void 0===t?void 0:t.length)||0)-1?"1px solid #1F1F1F":"none"},children:[(0,n.jsxs)("div",{style:{width:"200px",flexShrink:0,display:"flex",alignItems:"center",gap:"0.75rem",paddingRight:"1rem"},children:[(0,n.jsx)(k.Z,{user:e,size:"lg"}),(0,n.jsxs)("div",{style:{overflow:"hidden"},children:[(0,n.jsx)("span",{style:{color:"#FFFFFF",fontSize:"0.875rem",fontWeight:500,display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.name.length>12?e.name.substring(0,12)+"...":e.name}),(0,n.jsxs)("span",{style:{color:"#52525B",fontSize:"0.6875rem"},children:[d,"/",c," done"]})]})]}),(0,n.jsxs)("div",{style:{flex:1,display:"flex",alignItems:"center",gap:"1rem"},children:[(0,n.jsxs)("div",{style:{flex:1,height:"32px",background:"#1F1F1F",borderRadius:"9999px",overflow:"hidden",position:"relative"},children:[(0,n.jsx)("div",{style:{position:"absolute",left:0,top:0,height:"100%",width:"".concat(m,"%"),background:"linear-gradient(90deg, ".concat(i," 0%, ").concat(i,"AA 100%)"),borderRadius:"9999px",display:"flex",alignItems:"center",paddingLeft:"0.75rem",transition:"width 0.5s ease"},children:m>15&&(0,n.jsxs)("span",{style:{color:"#FFFFFF",fontSize:"0.75rem",fontWeight:600},children:[m,"% Complete"]})}),m<=15&&m>0&&(0,n.jsxs)("span",{style:{position:"absolute",left:"calc(".concat(m,"% + 0.5rem)"),top:"50%",transform:"translateY(-50%)",color:"#A1A1AA",fontSize:"0.75rem",fontWeight:500},children:[m,"%"]}),0===m&&(0,n.jsx)("span",{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#52525B",fontSize:"0.75rem"},children:"No tasks completed"})]}),(0,n.jsx)("div",{style:{minWidth:"48px",padding:"0.375rem 0.625rem",background:m>=80?"#10B98120":m>=50?"#F59E0B20":m>0?"#3B82F620":"#2D2D2D",borderRadius:"9999px",textAlign:"center"},children:(0,n.jsxs)("span",{style:{color:m>=80?"#10B981":m>=50?"#F59E0B":m>0?"#3B82F6":"#52525B",fontSize:"0.8125rem",fontWeight:700},children:[m,"%"]})})]})]},e.id)})})]})]}),(0,n.jsxs)("div",{style:{width:"220px",flexShrink:0,display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,n.jsxs)("div",{style:{background:"linear-gradient(135deg, #1F1F1F 0%, #141414 100%)",borderRadius:"1rem",padding:"1.25rem",border:"1px solid #2D2D2D"},children:[(0,n.jsx)("h4",{style:{color:"#52525B",fontSize:"0.625rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"0.375rem"},children:"Overview"}),(0,n.jsx)("p",{style:{color:"#FFFFFF",fontSize:"0.875rem",fontWeight:600,marginBottom:"1rem"},children:P.name}),(()=>{let e=new Date(eu.getFullYear(),eu.getMonth(),1),r=new Date(eu.getFullYear(),eu.getMonth()+1,0),t=Y.filter(t=>{let n=t.due_date?new Date(t.due_date):null,o=t.start_date?new Date(t.start_date):null;return!!n&&n>=e&&n<=r||!!o&&o>=e&&o<=r||!!o&&!!n&&o<=r&&n>=e}),o=t.filter(e=>"done"===e.status).length,i=t.filter(e=>"in_progress"===e.status).length,s=Math.max(t.length,1);return(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"1rem"},children:(0,n.jsxs)("div",{style:{position:"relative",width:"120px",height:"120px"},children:[(0,n.jsxs)("svg",{viewBox:"0 0 100 100",style:{transform:"rotate(-90deg)",width:"100%",height:"100%"},children:[(0,n.jsx)("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#1F1F1F",strokeWidth:"10"}),(0,n.jsx)("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#10B981",strokeWidth:"10",strokeDasharray:"".concat(o/s*251.2," 251.2"),strokeLinecap:"round"}),(0,n.jsx)("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#F59E0B",strokeWidth:"10",strokeDasharray:"".concat(i/s*251.2," 251.2"),strokeDashoffset:"".concat(-(251.2*(o/s))),strokeLinecap:"round"})]}),(0,n.jsxs)("div",{style:{position:"absolute",inset:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,n.jsxs)("span",{style:{color:"#FFFFFF",fontSize:"1.5rem",fontWeight:700},children:[Math.round(o/s*100),"%"]}),(0,n.jsx)("span",{style:{color:"#52525B",fontSize:"0.625rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Complete"})]})]})})})(),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"1rem",fontSize:"0.6875rem"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.375rem"},children:[(0,n.jsx)("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#10B981"}}),(0,n.jsx)("span",{style:{color:"#71717A"},children:"Done"})]}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.375rem"},children:[(0,n.jsx)("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#F59E0B"}}),(0,n.jsx)("span",{style:{color:"#71717A"},children:"Active"})]})]})]}),(0,n.jsxs)("div",{style:{background:"#141414",borderRadius:"1rem",padding:"1.25rem",border:"1px solid #2D2D2D",flex:1},children:[(0,n.jsx)("h4",{style:{color:"#52525B",fontSize:"0.625rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"1rem"},children:"Reminder"}),(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.875rem"},children:Y.filter(e=>"done"!==e.status&&e.due_date).slice(0,4).map((e,r)=>{let t=["#86EFAC","#FDE047","#FDA4AF","#A5B4FC"];return(0,n.jsx)("div",{onClick:()=>ex(e),style:{cursor:"pointer",padding:"0.625rem",borderRadius:"0.5rem",background:"#1A1A1A",transition:"background 0.2s"},onMouseEnter:e=>e.currentTarget.style.background="#252525",onMouseLeave:e=>e.currentTarget.style.background="#1A1A1A",children:(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.625rem"},children:[(0,n.jsx)("div",{style:{width:"32px",height:"32px",borderRadius:"0.375rem",background:t[r%t.length],display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,fontSize:"0.6875rem",fontWeight:600,color:"#000"},children:e.name.charAt(0)}),(0,n.jsxs)("div",{style:{flex:1,overflow:"hidden"},children:[(0,n.jsx)("p",{style:{color:"#FFFFFF",fontSize:"0.75rem",fontWeight:500,margin:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.name}),(0,n.jsxs)("p",{style:{color:"#3B82F6",fontSize:"0.6875rem",margin:"0.125rem 0 0",display:"flex",alignItems:"center",gap:"0.25rem"},children:[e.due_date?new Date(e.due_date).toLocaleDateString():"No date",(0,n.jsx)("svg",{style:{width:"10px",height:"10px"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})},e.id)})})]})]})]})})]}),eK&&(0,n.jsx)("div",{style:{position:"fixed",inset:0,zIndex:50,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0, 0, 0, 0.7)",backdropFilter:"blur(4px)",padding:"1rem"},onClick:()=>eX(!1),children:(0,n.jsxs)("div",{style:{background:"#1A1A1A",border:"1px solid #2D2D2D",borderRadius:"1rem",width:"100%",maxWidth:"32rem",maxHeight:"85vh",display:"flex",flexDirection:"column",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.5)",overflow:"hidden"},onClick:e=>e.stopPropagation(),children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1.25rem 1.5rem",borderBottom:"1px solid #2D2D2D"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{style:{fontSize:"1.125rem",fontWeight:600,color:"#FFFFFF",margin:0},children:"Team Members"}),(0,n.jsxs)("p",{style:{fontSize:"0.8125rem",color:"#71717A",margin:"0.25rem 0 0"},children:[(null===(A=P.members)||void 0===A?void 0:A.length)||0," members in this project"]})]}),(0,n.jsx)("button",{onClick:()=>eX(!1),style:{width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"0.5rem",background:"transparent",border:"none",color:"#71717A",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="#2D2D2D",e.currentTarget.style.color="#FFFFFF"},onMouseLeave:e=>{e.currentTarget.style.background="transparent",e.currentTarget.style.color="#71717A"},children:(0,n.jsx)(F.Z,{style:{width:"20px",height:"20px"}})})]}),(0,n.jsx)("div",{style:{flex:1,overflowY:"auto",padding:"1rem 1.5rem"},children:(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:null===(S=P.members)||void 0===S?void 0:S.map((e,r)=>{let t=Y.filter(r=>{var t;return null===(t=r.assignees)||void 0===t?void 0:t.some(r=>r.id===e.id)}),o=t.filter(e=>"done"===e.status).length,i=eG===e.id,s=["Admin","Manager","Member","Developer","Designer","QA","Viewer"];return(0,n.jsxs)("div",{style:{padding:"1rem",background:i?"#1F1F1F":"#141414",borderRadius:"0.75rem",border:i?"1px solid #3B82F6":"1px solid #2D2D2D",transition:"all 0.2s"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,n.jsx)(k.Z,{user:e,size:"lg"}),(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.25rem"},children:[(0,n.jsx)("span",{style:{color:"#FFFFFF",fontSize:"0.9375rem",fontWeight:500},children:e.name}),!i&&(0,n.jsx)("span",{style:{padding:"0.125rem 0.5rem",background:"admin"===e.role||"Admin"===e.role?"#3B82F620":"Manager"===e.role?"#8B5CF620":"#71717A20",borderRadius:"0.25rem",fontSize:"0.6875rem",color:"admin"===e.role||"Admin"===e.role?"#3B82F6":"Manager"===e.role?"#8B5CF6":"#71717A",fontWeight:500,textTransform:"capitalize"},children:e.role||"Member"})]}),(0,n.jsx)("div",{style:{color:"#71717A",fontSize:"0.8125rem"},children:e.email}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginTop:"0.5rem",fontSize:"0.75rem"},children:[(0,n.jsxs)("span",{style:{color:"#A1A1AA"},children:[t.length," tasks"]}),(0,n.jsxs)("span",{style:{color:"#10B981"},children:[o," done"]})]})]}),!i&&(0,n.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,n.jsxs)("button",{onClick:r=>{r.stopPropagation(),eQ(e.id),eJ(e.role||"Member")},style:{padding:"0.5rem 0.875rem",background:"#2D2D2D",border:"none",borderRadius:"0.5rem",color:"#A1A1AA",fontSize:"0.75rem",fontWeight:500,cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.375rem"},onMouseEnter:e=>{e.currentTarget.style.background="#3B82F6",e.currentTarget.style.color="#FFFFFF"},onMouseLeave:e=>{e.currentTarget.style.background="#2D2D2D",e.currentTarget.style.color="#A1A1AA"},children:[(0,n.jsx)(b.Z,{style:{width:"14px",height:"14px"}}),"Edit"]}),e.id!==(null==E?void 0:E.id)&&(0,n.jsxs)("button",{onClick:r=>{r.stopPropagation(),rK(e.id)},style:{padding:"0.5rem 0.875rem",background:"#2D2D2D",border:"none",borderRadius:"0.5rem",color:"#A1A1AA",fontSize:"0.75rem",fontWeight:500,cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.375rem"},onMouseEnter:e=>{e.currentTarget.style.background="#EF4444",e.currentTarget.style.color="#FFFFFF"},onMouseLeave:e=>{e.currentTarget.style.background="#2D2D2D",e.currentTarget.style.color="#A1A1AA"},children:[(0,n.jsx)(m.Z,{style:{width:"14px",height:"14px"}}),"Remove"]})]})]}),i&&(0,n.jsxs)("div",{style:{marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid #2D2D2D"},children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"0.6875rem",fontWeight:600,color:"#71717A",marginBottom:"0.5rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Select Role"}),(0,n.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"1rem"},children:s.map(e=>(0,n.jsx)("button",{onClick:()=>{eJ(e),e0("")},style:{padding:"0.5rem 0.875rem",background:eV===e?"#3B82F6":"#2D2D2D",border:eV===e?"1px solid #3B82F6":"1px solid #3D3D3D",borderRadius:"0.5rem",color:eV===e?"#FFFFFF":"#A1A1AA",fontSize:"0.75rem",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:r=>{eV!==e&&(r.currentTarget.style.background="#3D3D3D",r.currentTarget.style.color="#FFFFFF")},onMouseLeave:r=>{eV!==e&&(r.currentTarget.style.background="#2D2D2D",r.currentTarget.style.color="#A1A1AA")},children:e},e))}),(0,n.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"0.6875rem",fontWeight:600,color:"#71717A",marginBottom:"0.375rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Or enter custom role"}),(0,n.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,n.jsx)("input",{type:"text",value:e$,onChange:e=>e0(e.target.value),placeholder:"e.g. Product Owner, Scrum Master...",style:{flex:1,padding:"0.625rem 0.875rem",background:"#141414",border:"1px solid #3D3D3D",borderRadius:"0.5rem",color:"#FFFFFF",fontSize:"0.8125rem",outline:"none"},onFocus:e=>e.currentTarget.style.borderColor="#3B82F6",onBlur:e=>e.currentTarget.style.borderColor="#3D3D3D"}),(0,n.jsx)("button",{onClick:()=>{e$.trim()&&eJ(e$.trim())},disabled:!e$.trim(),style:{padding:"0.625rem 1rem",background:e$.trim()?"#3B82F6":"#2D2D2D",border:"none",borderRadius:"0.5rem",color:e$.trim()?"#FFFFFF":"#52525B",fontSize:"0.8125rem",fontWeight:500,cursor:e$.trim()?"pointer":"not-allowed",transition:"all 0.2s"},children:"Apply"})]}),eV&&!s.includes(eV)&&(0,n.jsxs)("p",{style:{color:"#10B981",fontSize:"0.75rem",marginTop:"0.375rem"},children:["Custom role selected: ",eV]})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[(0,n.jsx)("button",{onClick:()=>{eQ(null),eJ(""),e0("")},style:{padding:"0.5rem 1rem",background:"transparent",border:"1px solid #3D3D3D",borderRadius:"0.5rem",color:"#A1A1AA",fontSize:"0.8125rem",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.borderColor="#71717A",e.currentTarget.style.color="#FFFFFF"},onMouseLeave:e=>{e.currentTarget.style.borderColor="#3D3D3D",e.currentTarget.style.color="#A1A1AA"},children:"Cancel"}),(0,n.jsx)("button",{onClick:async()=>{try{alert("Role updates are not yet supported. To change a member's role, please remove them and add them back with the new role."),eQ(null),eJ(""),e0("")}catch(e){console.error("Error updating role:",e),alert("Failed to update role. Please try again.")}},style:{padding:"0.5rem 1.25rem",background:"#10B981",border:"none",borderRadius:"0.5rem",color:"#FFFFFF",fontSize:"0.8125rem",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>e.currentTarget.style.background="#059669",onMouseLeave:e=>e.currentTarget.style.background="#10B981",children:"Save Role"})]})]})]},e.id)})})}),(0,n.jsxs)("div",{style:{padding:"1rem 1.5rem",borderTop:"1px solid #2D2D2D",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsxs)("button",{onClick:()=>{rO(),e5(!0)},style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.625rem 1rem",background:"transparent",border:"1px solid #3B82F6",borderRadius:"0.5rem",color:"#3B82F6",fontSize:"0.875rem",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="#3B82F6",e.currentTarget.style.color="#FFFFFF"},onMouseLeave:e=>{e.currentTarget.style.background="transparent",e.currentTarget.style.color="#3B82F6"},children:[(0,n.jsx)(c.Z,{style:{width:"16px",height:"16px"}}),"Add Member"]}),(0,n.jsx)("button",{onClick:rX,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.625rem 1rem",background:"transparent",border:"1px solid #EF4444",borderRadius:"0.5rem",color:"#EF4444",fontSize:"0.875rem",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="#EF4444",e.currentTarget.style.color="#FFFFFF"},onMouseLeave:e=>{e.currentTarget.style.background="transparent",e.currentTarget.style.color="#EF4444"},children:"Leave Project"}),(0,n.jsx)("button",{onClick:()=>eX(!1),style:{padding:"0.625rem 1.25rem",background:"#2D2D2D",border:"none",borderRadius:"0.5rem",color:"#FFFFFF",fontSize:"0.875rem",fontWeight:500,cursor:"pointer",transition:"background 0.2s"},onMouseEnter:e=>e.currentTarget.style.background="#3D3D3D",onMouseLeave:e=>e.currentTarget.style.background="#2D2D2D",children:"Close"})]})]})}),e1&&(0,n.jsx)("div",{style:{position:"fixed",inset:0,zIndex:60,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0, 0, 0, 0.7)",backdropFilter:"blur(4px)",padding:"1rem"},onClick:()=>e5(!1),children:(0,n.jsxs)("div",{style:{background:"#1A1A1A",border:"1px solid #2D2D2D",borderRadius:"1rem",width:"100%",maxWidth:"28rem",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.5)"},onClick:e=>e.stopPropagation(),children:[(0,n.jsxs)("div",{style:{padding:"1.25rem 1.5rem",borderBottom:"1px solid #2D2D2D"},children:[(0,n.jsx)("h2",{style:{fontSize:"1.125rem",fontWeight:600,color:"#FFFFFF",margin:0},children:"Add Team Member"}),(0,n.jsx)("p",{style:{fontSize:"0.8125rem",color:"#71717A",margin:"0.25rem 0 0"},children:"Select a user to add to this project"})]}),(0,n.jsxs)("div",{style:{padding:"1.5rem"},children:[(0,n.jsxs)("div",{style:{marginBottom:"1.25rem"},children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"0.6875rem",fontWeight:600,color:"#71717A",marginBottom:"0.5rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Search User"}),(0,n.jsx)("input",{type:"text",value:e9,onChange:e=>re(e.target.value),placeholder:"Type user name...",style:{width:"100%",padding:"0.75rem 1rem",background:"#141414",border:"1px solid #3D3D3D",borderRadius:"0.5rem",color:"#FFFFFF",fontSize:"0.875rem",outline:"none"},onFocus:e=>e.currentTarget.style.borderColor="#3B82F6",onBlur:e=>e.currentTarget.style.borderColor="#3D3D3D"}),e9&&(0,n.jsx)("div",{style:{marginTop:"0.5rem",maxHeight:"200px",overflowY:"auto",background:"#141414",border:"1px solid #2D2D2D",borderRadius:"0.5rem",padding:"0.5rem"},children:e2.filter(e=>e.name.toLowerCase().includes(e9.toLowerCase())).slice(0,10).map(e=>(0,n.jsxs)("div",{onClick:()=>{e8(e.id),re(e.name)},style:{padding:"0.75rem 1rem",borderRadius:"0.375rem",cursor:"pointer",transition:"background 0.2s",background:e4===e.id?"#3B82F6":"transparent",color:e4===e.id?"#FFFFFF":"#E4E4E7"},onMouseEnter:r=>{e4!==e.id&&(r.currentTarget.style.background="#2D2D2D")},onMouseLeave:r=>{e4!==e.id&&(r.currentTarget.style.background="transparent")},children:[(0,n.jsx)("div",{style:{fontWeight:500},children:e.name}),(0,n.jsx)("div",{style:{fontSize:"0.75rem",color:"#71717A",marginTop:"0.125rem"},children:e.email})]},e.id))})]}),(0,n.jsxs)("div",{style:{marginBottom:"1.25rem"},children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"0.6875rem",fontWeight:600,color:"#71717A",marginBottom:"0.5rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Assign Role"}),(0,n.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:["Admin","Manager","Member","Developer","Designer","QA","Viewer"].map(e=>(0,n.jsx)("button",{onClick:()=>e3(e),style:{padding:"0.5rem 0.875rem",background:e6===e?"#3B82F6":"#2D2D2D",border:e6===e?"1px solid #3B82F6":"1px solid #3D3D3D",borderRadius:"0.5rem",color:e6===e?"#FFFFFF":"#A1A1AA",fontSize:"0.75rem",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},children:e},e))})]})]}),(0,n.jsxs)("div",{style:{padding:"1rem 1.5rem",borderTop:"1px solid #2D2D2D",display:"flex",justifyContent:"flex-end",gap:"0.75rem"},children:[(0,n.jsx)("button",{onClick:()=>{e5(!1),e8(null),e3("Member"),re("")},style:{padding:"0.625rem 1.25rem",background:"transparent",border:"1px solid #3D3D3D",borderRadius:"0.5rem",color:"#A1A1AA",fontSize:"0.875rem",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.borderColor="#71717A",e.currentTarget.style.color="#FFFFFF"},onMouseLeave:e=>{e.currentTarget.style.borderColor="#3D3D3D",e.currentTarget.style.color="#A1A1AA"},children:"Cancel"}),(0,n.jsx)("button",{onClick:rq,disabled:!e4,style:{padding:"0.625rem 1.5rem",background:e4?"#10B981":"#2D2D2D",border:"none",borderRadius:"0.5rem",color:e4?"#FFFFFF":"#52525B",fontSize:"0.875rem",fontWeight:500,cursor:e4?"pointer":"not-allowed",transition:"all 0.2s"},onMouseEnter:e=>{e4&&(e.currentTarget.style.background="#059669")},onMouseLeave:e=>{e4&&(e.currentTarget.style.background="#10B981")},children:"Add Member"})]})]})}),K&&(0,n.jsx)("div",{style:{position:"fixed",inset:0,zIndex:50,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0, 0, 0, 0.7)",backdropFilter:"blur(4px)",padding:"1rem"},children:(0,n.jsxs)("div",{style:{background:"#1A1A1A",border:"1px solid #2D2D2D",borderRadius:"1rem",width:"100%",maxWidth:"40rem",maxHeight:"90vh",display:"flex",flexDirection:"column",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.5)"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1.25rem 1.5rem",borderBottom:"1px solid #2D2D2D"},children:[(0,n.jsx)("h2",{style:{fontSize:"1.125rem",fontWeight:600,color:"#FFFFFF",margin:0},children:"Create New Task"}),(0,n.jsx)("button",{onClick:()=>X(!1),style:{width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"0.5rem",background:"transparent",border:"none",color:"#71717A",cursor:"pointer",fontSize:"1.5rem",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="#2D2D2D",e.currentTarget.style.color="#FFFFFF"},onMouseLeave:e=>{e.currentTarget.style.background="transparent",e.currentTarget.style.color="#71717A"},children:(0,n.jsx)(F.Z,{style:{width:"20px",height:"20px"}})})]}),(0,n.jsxs)("form",{onSubmit:rf,style:{display:"flex",flexDirection:"column",flex:1,overflow:"hidden"},children:[(0,n.jsxs)("div",{style:{flex:1,overflowY:"auto",padding:"1.5rem",display:"flex",flexDirection:"column",gap:"1.25rem"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,color:"#A1A1AA",marginBottom:"0.5rem"},children:"Task Name *"}),(0,n.jsx)("input",{type:"text",required:!0,value:eY.name,onChange:e=>eH({...eY,name:e.target.value}),style:{width:"100%",padding:"0.75rem 1rem",background:"#0D0D0D",border:"1px solid #2D2D2D",borderRadius:"0.5rem",color:"#FFFFFF",fontSize:"0.875rem",outline:"none",transition:"border 0.2s"},placeholder:"Enter task name...",onFocus:e=>e.currentTarget.style.borderColor="#10B981",onBlur:e=>e.currentTarget.style.borderColor="#2D2D2D"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,color:"#A1A1AA",marginBottom:"0.5rem"},children:"Description"}),(0,n.jsx)("textarea",{value:eY.description,onChange:e=>eH({...eY,description:e.target.value}),style:{width:"100%",padding:"0.75rem 1rem",background:"#0D0D0D",border:"1px solid #2D2D2D",borderRadius:"0.5rem",color:"#FFFFFF",fontSize:"0.875rem",outline:"none",resize:"none",transition:"border 0.2s"},rows:3,placeholder:"Describe the task...",onFocus:e=>e.currentTarget.style.borderColor="#10B981",onBlur:e=>e.currentTarget.style.borderColor="#2D2D2D"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,color:"#A1A1AA",marginBottom:"0.5rem"},children:"Tags (comma separated)"}),(0,n.jsx)("input",{type:"text",value:eY.tags,onChange:e=>eH({...eY,tags:e.target.value}),style:{width:"100%",padding:"0.75rem 1rem",background:"#0D0D0D",border:"1px solid #2D2D2D",borderRadius:"0.5rem",color:"#FFFFFF",fontSize:"0.875rem",outline:"none",transition:"border 0.2s"},placeholder:"Design, Frontend, API...",onFocus:e=>e.currentTarget.style.borderColor="#10B981",onBlur:e=>e.currentTarget.style.borderColor="#2D2D2D"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,color:"#A1A1AA",marginBottom:"0.5rem"},children:"Priority"}),(0,n.jsxs)("select",{value:eY.priority,onChange:e=>eH({...eY,priority:e.target.value}),style:{width:"100%",padding:"0.75rem 1rem",background:"#0D0D0D",border:"1px solid #2D2D2D",borderRadius:"0.5rem",color:"#FFFFFF",fontSize:"0.875rem",outline:"none",cursor:"pointer",transition:"border 0.2s"},onFocus:e=>e.currentTarget.style.borderColor="#10B981",onBlur:e=>e.currentTarget.style.borderColor="#2D2D2D",children:[(0,n.jsx)("option",{value:"low",children:"Low"}),(0,n.jsx)("option",{value:"medium",children:"Medium"}),(0,n.jsx)("option",{value:"high",children:"High"}),(0,n.jsx)("option",{value:"urgent",children:"Urgent"})]})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,color:"#A1A1AA",marginBottom:"0.5rem"},children:"Start Date"}),(0,n.jsx)("input",{type:"date",value:eY.start_date,onChange:e=>eH({...eY,start_date:e.target.value}),onClick:e=>{var r,t;return null===(r=(t=e.target).showPicker)||void 0===r?void 0:r.call(t)},style:{width:"100%",padding:"0.75rem 1rem",background:"#0D0D0D",border:"1px solid #2D2D2D",borderRadius:"0.5rem",color:"#FFFFFF",fontSize:"0.875rem",outline:"none",cursor:"pointer",transition:"border 0.2s",colorScheme:"dark"},onFocus:e=>e.currentTarget.style.borderColor="#10B981",onBlur:e=>e.currentTarget.style.borderColor="#2D2D2D"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,color:"#A1A1AA",marginBottom:"0.5rem"},children:"Due Date"}),(0,n.jsx)("input",{type:"date",value:eY.due_date,onChange:e=>eH({...eY,due_date:e.target.value}),onClick:e=>{var r,t;return null===(r=(t=e.target).showPicker)||void 0===r?void 0:r.call(t)},style:{width:"100%",padding:"0.75rem 1rem",background:"#0D0D0D",border:"1px solid #2D2D2D",borderRadius:"0.5rem",color:"#FFFFFF",fontSize:"0.875rem",outline:"none",cursor:"pointer",transition:"border 0.2s",colorScheme:"dark"},onFocus:e=>e.currentTarget.style.borderColor="#10B981",onBlur:e=>e.currentTarget.style.borderColor="#2D2D2D"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,color:"#A1A1AA",marginBottom:"0.75rem"},children:"Assign To"}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",maxHeight:"200px",overflowY:"auto",padding:"0.5rem",background:"#0D0D0D",border:"1px solid #2D2D2D",borderRadius:"0.5rem"},children:[null===(C=P.members)||void 0===C?void 0:C.map((e,r)=>{let t=eY.assignee_ids.includes(e.id);return(0,n.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",background:t?"#1A1A1A":"transparent",border:"1px solid",borderColor:t?"#3D3D3D":"#2D2D2D",borderRadius:"0.5rem",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{t||(e.currentTarget.style.background="#1A1A1A")},onMouseLeave:e=>{t||(e.currentTarget.style.background="transparent")},children:[(0,n.jsx)("input",{type:"checkbox",checked:t,onChange:r=>{r.target.checked?eH({...eY,assignee_ids:[...eY.assignee_ids,e.id]}):eH({...eY,assignee_ids:eY.assignee_ids.filter(r=>r!==e.id)})},style:{width:"18px",height:"18px",cursor:"pointer",accentColor:"#10B981"}}),(0,n.jsx)(k.Z,{user:e,size:"md"}),(0,n.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,n.jsx)("div",{style:{fontSize:"0.875rem",fontWeight:500,color:"#FFFFFF",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.name}),(0,n.jsx)("div",{style:{fontSize:"0.75rem",color:"#71717A",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.email})]})]},e.id)}),(!P.members||0===P.members.length)&&(0,n.jsx)("div",{style:{padding:"1rem",textAlign:"center",color:"#71717A",fontSize:"0.875rem"},children:"No team members available"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,color:"#A1A1AA",marginBottom:"0.75rem"},children:["Report To",(0,n.jsx)("span",{style:{fontSize:"0.75rem",color:"#71717A",fontWeight:400,marginLeft:"0.5rem"},children:"(These users will receive notifications)"})]}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",maxHeight:"200px",overflowY:"auto",padding:"0.5rem",background:"#0D0D0D",border:"1px solid #2D2D2D",borderRadius:"0.5rem"},children:[null===(B=P.members)||void 0===B?void 0:B.map((e,r)=>{let t=eY.report_to_ids.includes(e.id);return(0,n.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",background:t?"#1A1A1A":"transparent",border:"1px solid",borderColor:t?"#3B82F6":"#2D2D2D",borderRadius:"0.5rem",cursor:"pointer",transition:"all 0.2s",position:"relative"},onMouseEnter:e=>{t||(e.currentTarget.style.background="#1A1A1A")},onMouseLeave:e=>{t||(e.currentTarget.style.background="transparent")},children:[(0,n.jsx)("input",{type:"checkbox",checked:t,onChange:r=>{r.target.checked?eH({...eY,report_to_ids:[...eY.report_to_ids,e.id]}):eH({...eY,report_to_ids:eY.report_to_ids.filter(r=>r!==e.id)})},style:{width:"18px",height:"18px",cursor:"pointer",accentColor:"#3B82F6"}}),(0,n.jsx)(k.Z,{user:e,size:"md"}),(0,n.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,n.jsx)("div",{style:{fontSize:"0.875rem",fontWeight:500,color:"#FFFFFF",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.name}),(0,n.jsx)("div",{style:{fontSize:"0.75rem",color:"#71717A",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.email})]}),t&&(0,n.jsx)("div",{style:{position:"absolute",top:"0.5rem",right:"0.5rem",width:"6px",height:"6px",background:"#3B82F6",borderRadius:"50%",boxShadow:"0 0 8px rgba(59, 130, 246, 0.5)"}})]},e.id)}),(!P.members||0===P.members.length)&&(0,n.jsx)("div",{style:{padding:"1rem",textAlign:"center",color:"#71717A",fontSize:"0.875rem"},children:"No team members available"})]}),eY.report_to_ids.length>0&&(0,n.jsxs)("div",{style:{marginTop:"0.75rem",padding:"0.75rem",background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"0.5rem"},children:[(0,n.jsxs)("div",{style:{fontSize:"0.75rem",color:"#71717A",marginBottom:"0.5rem"},children:[eY.report_to_ids.length," ",1===eY.report_to_ids.length?"user":"users"," will be notified"]}),(0,n.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.375rem"},children:eY.report_to_ids.map(e=>{var r;let t=null===(r=P.members)||void 0===r?void 0:r.find(r=>r.id===e);return t?(0,n.jsx)("span",{style:{fontSize:"0.75rem",color:"#3B82F6",fontWeight:500},children:t.name},e):null}).reduce((e,r,t)=>0===t?[r]:[...e,(0,n.jsx)("span",{style:{color:"#71717A"},children:","},"sep-".concat(t)),r],[])})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,color:"#A1A1AA",marginBottom:"0.5rem"},children:"Subtasks"}),eN.length>0&&(0,n.jsx)("div",{style:{marginBottom:"0.75rem",display:"flex",flexDirection:"column",gap:"0.5rem"},children:eN.map((e,r)=>(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.625rem 0.875rem",background:"#0D0D0D",border:"1px solid #2D2D2D",borderRadius:"0.375rem"},children:[(0,n.jsx)("span",{style:{width:"16px",height:"16px",border:"2px solid #52525B",borderRadius:"0.25rem",flexShrink:0}}),(0,n.jsx)("span",{style:{flex:1,color:"#FFFFFF",fontSize:"0.875rem"},children:e}),(0,n.jsx)("button",{type:"button",onClick:()=>rF(r),style:{background:"none",border:"none",color:"#71717A",cursor:"pointer",padding:0},children:(0,n.jsx)(F.Z,{style:{width:"16px",height:"16px"}})})]},r))}),(0,n.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,n.jsx)("input",{type:"text",value:eO,onChange:e=>eq(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),rb())},placeholder:"Add a subtask...",style:{flex:1,padding:"0.75rem 1rem",background:"#0D0D0D",border:"1px solid #2D2D2D",borderRadius:"0.5rem",color:"#FFFFFF",fontSize:"0.875rem",outline:"none",transition:"border 0.2s"},onFocus:e=>e.currentTarget.style.borderColor="#10B981",onBlur:e=>e.currentTarget.style.borderColor="#2D2D2D"}),(0,n.jsx)("button",{type:"button",onClick:rb,style:{padding:"0.75rem 1.25rem",background:"#2D2D2D",color:"#FFFFFF",border:"none",borderRadius:"0.5rem",fontWeight:500,cursor:"pointer",fontSize:"0.875rem",transition:"background 0.2s"},onMouseEnter:e=>e.currentTarget.style.background="#3D3D3D",onMouseLeave:e=>e.currentTarget.style.background="#2D2D2D",children:"Add"})]})]})]}),(0,n.jsxs)("div",{style:{padding:"1rem 1.5rem",borderTop:"1px solid #2D2D2D",display:"flex",gap:"0.75rem"},children:[(0,n.jsx)("button",{type:"button",onClick:()=>X(!1),style:{flex:1,padding:"0.75rem",background:"#2D2D2D",color:"#A1A1AA",border:"none",borderRadius:"0.5rem",fontWeight:500,cursor:"pointer",fontSize:"0.875rem",transition:"all 0.2s"},onMouseEnter:e=>e.currentTarget.style.background="#3D3D3D",onMouseLeave:e=>e.currentTarget.style.background="#2D2D2D",children:"Cancel"}),(0,n.jsx)("button",{type:"submit",style:{flex:1,padding:"0.75rem",background:"#10B981",color:"#FFFFFF",border:"none",borderRadius:"0.5rem",fontWeight:600,cursor:"pointer",fontSize:"0.875rem",transition:"background 0.2s"},onMouseEnter:e=>e.currentTarget.style.background="#059669",onMouseLeave:e=>e.currentTarget.style.background="#10B981",children:"Create Task"})]})]})]})}),eh&&(0,n.jsx)("div",{style:{position:"fixed",inset:0,zIndex:50,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(4px)",padding:"1rem"},onClick:()=>ex(null),children:(0,n.jsxs)("div",{style:{background:"#1A1A1A",border:"1px solid #2D2D2D",borderRadius:"1rem",width:"100%",maxWidth:"75rem",maxHeight:"90vh",display:"flex",flexDirection:"column",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.7)"},onClick:e=>e.stopPropagation(),children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1.25rem 1.5rem",borderBottom:"1px solid #2D2D2D"},children:[(0,n.jsx)("h2",{style:{fontSize:"1.25rem",fontWeight:600,color:"#FFFFFF",margin:0},children:e_?"Edit Task":"Task Detail"}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e_?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{onClick:()=>ez(!1),style:{padding:"0.5rem 1rem",background:"transparent",border:"1px solid #2D2D2D",color:"#A1A1AA",cursor:"pointer",borderRadius:"0.5rem",fontSize:"0.8125rem",fontWeight:500,transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.borderColor="#71717A",e.currentTarget.style.color="#FFFFFF"},onMouseLeave:e=>{e.currentTarget.style.borderColor="#2D2D2D",e.currentTarget.style.color="#A1A1AA"},children:"Cancel"}),(0,n.jsx)("button",{onClick:rU,style:{padding:"0.5rem 1rem",background:"#10B981",border:"none",color:"#FFFFFF",cursor:"pointer",borderRadius:"0.5rem",fontSize:"0.8125rem",fontWeight:500,transition:"all 0.2s"},onMouseEnter:e=>e.currentTarget.style.background="#059669",onMouseLeave:e=>e.currentTarget.style.background="#10B981",children:"Save Changes"})]}):(0,n.jsxs)("button",{onClick:()=>{eh&&(eW({name:eh.name||"",description:eh.description||"",priority:eh.priority||"low",status:eh.status||"todo",due_date:eh.due_date?eh.due_date.split("T")[0]:""}),ez(!0))},style:{padding:"0.5rem 1rem",background:"#3B82F6",border:"none",color:"#FFFFFF",cursor:"pointer",borderRadius:"0.5rem",fontSize:"0.8125rem",fontWeight:500,display:"flex",alignItems:"center",gap:"0.375rem",transition:"all 0.2s"},onMouseEnter:e=>e.currentTarget.style.background="#2563EB",onMouseLeave:e=>e.currentTarget.style.background="#3B82F6",children:[(0,n.jsx)(b.Z,{style:{width:"14px",height:"14px"}}),"Edit"]}),(0,n.jsx)("button",{onClick:()=>{ex(null),ez(!1)},style:{padding:"0.5rem",background:"none",border:"none",color:"#71717A",cursor:"pointer",borderRadius:"0.375rem",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="#2D2D2D",e.currentTarget.style.color="#FFFFFF"},onMouseLeave:e=>{e.currentTarget.style.background="transparent",e.currentTarget.style.color="#71717A"},children:(0,n.jsx)(F.Z,{style:{width:"20px",height:"20px"}})})]})]}),(0,n.jsxs)("div",{style:{display:"flex",flex:1,overflow:"hidden"},children:[(0,n.jsxs)("div",{style:{flex:1,padding:"1.5rem",overflowY:"auto",borderRight:"1px solid #2D2D2D"},children:[e_?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("input",{type:"text",value:eR.name,onChange:e=>eW({...eR,name:e.target.value}),placeholder:"Task name",style:{width:"100%",fontSize:"1.5rem",fontWeight:700,color:"#FFFFFF",background:"#0D0D0D",border:"1px solid #2D2D2D",borderRadius:"0.5rem",padding:"0.75rem 1rem",marginBottom:"1rem",outline:"none"}}),(0,n.jsx)("textarea",{value:eR.description,onChange:e=>eW({...eR,description:e.target.value}),placeholder:"Task description",rows:3,style:{width:"100%",color:"#A1A1AA",fontSize:"0.9375rem",lineHeight:1.6,background:"#0D0D0D",border:"1px solid #2D2D2D",borderRadius:"0.5rem",padding:"0.75rem 1rem",marginBottom:"1.5rem",outline:"none",resize:"vertical"}})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h1",{style:{fontSize:"1.75rem",fontWeight:700,color:"#FFFFFF",marginBottom:"1rem"},children:eh.name}),(0,n.jsx)("p",{style:{color:"#A1A1AA",fontSize:"0.9375rem",lineHeight:1.6,marginBottom:"2rem"},children:eh.description||"No description provided"})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1.5rem",marginBottom:"2rem"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"0.8125rem",fontWeight:500,color:"#71717A",marginBottom:"0.5rem"},children:"Status"}),e_?(0,n.jsx)("select",{value:eR.status,onChange:e=>eW({...eR,status:e.target.value}),style:{width:"100%",padding:"0.5rem 0.75rem",background:"#0D0D0D",border:"1px solid #2D2D2D",borderRadius:"0.375rem",color:"#FFFFFF",fontSize:"0.875rem",outline:"none",cursor:"pointer"},children:w.map(e=>(0,n.jsx)("option",{value:e.value,children:e.label},e.value))}):(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 0.75rem",background:"#0D0D0D",border:"1px solid #2D2D2D",borderRadius:"0.375rem"},children:[(0,n.jsx)("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:null===(T=w.find(e=>e.value===eh.status))||void 0===T?void 0:T.color}}),(0,n.jsx)("span",{style:{fontSize:"0.875rem",color:"#FFFFFF",fontWeight:500},children:null===(_=w.find(e=>e.value===eh.status))||void 0===_?void 0:_.label})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"0.8125rem",fontWeight:500,color:"#71717A",marginBottom:"0.5rem"},children:"Assigned to"}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flexWrap:"wrap"},children:[(eh.assignees||[]).map(e=>(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.375rem",padding:"0.375rem 0.625rem",background:"#0D0D0D",border:"1px solid #2D2D2D",borderRadius:"0.375rem"},children:[(0,n.jsx)(k.Z,{user:e,size:"xs"}),(0,n.jsx)("span",{style:{fontSize:"0.8125rem",color:"#FFFFFF",fontWeight:500},children:e.name})]},e.id)),(!eh.assignees||0===eh.assignees.length)&&(0,n.jsx)("span",{style:{fontSize:"0.875rem",color:"#52525B"},children:"No assignees"})]})]}),eh.start_date&&(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"0.8125rem",fontWeight:500,color:"#71717A",marginBottom:"0.5rem"},children:"Start date"}),(0,n.jsx)("div",{style:{padding:"0.5rem 0.75rem",background:"#0D0D0D",border:"1px solid #2D2D2D",borderRadius:"0.375rem"},children:(0,n.jsx)("span",{style:{fontSize:"0.875rem",color:"#FFFFFF"},children:new Date(eh.start_date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"0.8125rem",fontWeight:500,color:"#71717A",marginBottom:"0.5rem"},children:"Due date"}),e_?(0,n.jsx)("input",{type:"date",value:eR.due_date,onChange:e=>eW({...eR,due_date:e.target.value}),style:{width:"100%",padding:"0.5rem 0.75rem",background:"#0D0D0D",border:"1px solid #2D2D2D",borderRadius:"0.375rem",color:"#FFFFFF",fontSize:"0.875rem",outline:"none"}}):eh.due_date?(0,n.jsx)("div",{style:{padding:"0.5rem 0.75rem",background:"#0D0D0D",border:"1px solid #2D2D2D",borderRadius:"0.375rem"},children:(0,n.jsx)("span",{style:{fontSize:"0.875rem",color:"#FFFFFF"},children:new Date(eh.due_date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})}):(0,n.jsx)("div",{style:{padding:"0.5rem 0.75rem",background:"#0D0D0D",border:"1px solid #2D2D2D",borderRadius:"0.375rem"},children:(0,n.jsx)("span",{style:{fontSize:"0.875rem",color:"#52525B"},children:"No due date"})})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"0.8125rem",fontWeight:500,color:"#71717A",marginBottom:"0.5rem"},children:"Priority"}),e_?(0,n.jsxs)("select",{value:eR.priority,onChange:e=>eW({...eR,priority:e.target.value}),style:{width:"100%",padding:"0.5rem 0.75rem",background:"#0D0D0D",border:"1px solid #2D2D2D",borderRadius:"0.375rem",color:"#FFFFFF",fontSize:"0.875rem",outline:"none",cursor:"pointer"},children:[(0,n.jsx)("option",{value:"low",children:"Low"}),(0,n.jsx)("option",{value:"medium",children:"Medium"}),(0,n.jsx)("option",{value:"high",children:"High"})]}):(0,n.jsx)("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.375rem",padding:"0.375rem 0.75rem",background:"high"===eh.priority?"rgba(239, 68, 68, 0.2)":"medium"===eh.priority?"rgba(245, 158, 11, 0.2)":"rgba(16, 185, 129, 0.2)",borderRadius:"9999px",border:"1px solid #2D2D2D"},children:(0,n.jsx)("span",{style:{fontSize:"0.875rem",color:"high"===eh.priority?"#EF4444":"medium"===eh.priority?"#F59E0B":"#10B981",fontWeight:500,textTransform:"capitalize"},children:eh.priority||"Low"})})]})]}),(0,n.jsxs)("div",{style:{marginTop:"2rem"},children:[(0,n.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:(0,n.jsxs)("h3",{style:{fontSize:"1rem",fontWeight:600,color:"#FFFFFF",margin:0},children:["subtask"===eP&&"Subtask (".concat(eb.filter(e=>e.is_completed).length,"/").concat(eb.length,")"),"attachment"===eP&&"Attachments (".concat(ev.length,")"),"comments"===eP&&"Comments (".concat(ew.length,")")]})}),(0,n.jsx)("div",{style:{display:"flex",gap:"1.5rem",borderBottom:"1px solid #2D2D2D",marginBottom:"1rem"},children:[{id:"subtask",label:"Subtask",count:eb.length},{id:"attachment",label:"Attachment",count:ev.length},{id:"comments",label:"Comments",count:ew.length}].map(e=>(0,n.jsx)("button",{onClick:()=>eZ(e.id),style:{padding:"0.75rem 0",fontSize:"0.875rem",fontWeight:500,color:eP===e.id?"#10B981":"#71717A",borderBottom:eP===e.id?"2px solid #10B981":"none",background:"none",border:"none",cursor:"pointer",transition:"color 0.2s"},children:e.label},e.id))}),(0,n.jsxs)("div",{children:["subtask"===eP&&(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",marginBottom:"1rem"},children:eb.map(e=>(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",background:"#0D0D0D",borderRadius:"0.5rem",border:"1px solid #2D2D2D"},children:[(0,n.jsx)("input",{type:"checkbox",checked:e.is_completed,onChange:()=>rT(e.id,e.is_completed),style:{width:"18px",height:"18px",cursor:"pointer",accentColor:"#10B981"}}),(0,n.jsx)("span",{style:{flex:1,color:e.is_completed?"#52525B":"#FFFFFF",fontSize:"0.9375rem",textDecoration:e.is_completed?"line-through":"none"},children:e.title})]},e.id))}),(0,n.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,n.jsx)("input",{type:"text",value:eS,onChange:e=>eC(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),rB())},placeholder:"+ Add subtask",style:{flex:1,padding:"0.625rem 0.875rem",background:"#0D0D0D",border:"1px solid #2D2D2D",borderRadius:"0.375rem",fontSize:"0.875rem",color:"#FFFFFF",outline:"none"}}),(0,n.jsx)("button",{onClick:rB,type:"button",style:{padding:"0.625rem 1rem",background:"#10B981",color:"#FFFFFF",border:"none",borderRadius:"0.375rem",fontSize:"0.875rem",fontWeight:500,cursor:"pointer"},children:"Add"})]})]}),"attachment"===eP&&(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",marginBottom:"1rem"},children:ev.map(e=>(0,n.jsx)("div",{style:{padding:"0.75rem",background:"#0D0D0D",borderRadius:"0.5rem",border:"1px solid #2D2D2D"},children:rR===e.id?(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[(0,n.jsx)("input",{value:rM,onChange:e=>rE(e.target.value),placeholder:"Attachment name",style:{padding:"0.5rem",background:"#141414",border:"1px solid #3D3D3D",borderRadius:"0.375rem",color:"#FFFFFF",fontSize:"0.875rem",outline:"none"}}),(0,n.jsx)("input",{value:rI,onChange:e=>rL(e.target.value),placeholder:"URL",style:{padding:"0.5rem",background:"#141414",border:"1px solid #3D3D3D",borderRadius:"0.375rem",color:"#FFFFFF",fontSize:"0.875rem",outline:"none"}}),(0,n.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,n.jsx)("button",{onClick:rZ,style:{padding:"0.375rem 0.75rem",background:"#10B981",color:"#fff",border:"none",borderRadius:"0.375rem",fontSize:"0.8rem",fontWeight:500,cursor:"pointer",minHeight:"auto",minWidth:"auto"},children:"Save"}),(0,n.jsx)("button",{onClick:()=>rW(null),style:{padding:"0.375rem 0.75rem",background:"#2D2D2D",color:"#A1A1AA",border:"none",borderRadius:"0.375rem",fontSize:"0.8rem",fontWeight:500,cursor:"pointer",minHeight:"auto",minWidth:"auto"},children:"Cancel"})]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[(0,n.jsx)(D.Z,{style:{width:"16px",height:"16px",color:"#10B981",flexShrink:0}}),(0,n.jsx)("a",{href:e.attachment_url,target:"_blank",rel:"noopener noreferrer",style:{flex:1,color:"#10B981",fontSize:"0.9375rem",fontWeight:500,textDecoration:"none"},children:e.attachment_name}),(0,n.jsx)("button",{onClick:()=>rP(e),style:{padding:"4px",background:"none",border:"none",cursor:"pointer",color:"#71717A",borderRadius:"4px",minHeight:"auto",minWidth:"auto"},title:"Edit",children:(0,n.jsx)(b.Z,{style:{width:"14px",height:"14px"}})}),(0,n.jsx)("button",{onClick:()=>rz(e.id),style:{padding:"4px",background:"none",border:"none",cursor:"pointer",color:"#EF4444",borderRadius:"4px",minHeight:"auto",minWidth:"auto"},title:"Delete",children:(0,n.jsx)(m.Z,{style:{width:"14px",height:"14px"}})})]}),(0,n.jsxs)("div",{style:{fontSize:"0.75rem",color:"#71717A",marginLeft:"1.75rem"},children:["Added by ",e.user_name," • ",new Date(e.created_at).toLocaleDateString()]})]})},e.id))}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[(0,n.jsx)("input",{type:"text",value:eI,onChange:e=>eL(e.target.value),placeholder:"Attachment name (e.g., Design mockup)",style:{padding:"0.625rem 0.875rem",background:"#0D0D0D",border:"1px solid #2D2D2D",borderRadius:"0.375rem",fontSize:"0.875rem",color:"#FFFFFF",outline:"none"}}),(0,n.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,n.jsx)("input",{type:"url",value:eM,onChange:e=>eE(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),r_())},placeholder:"Paste link URL (https://...)",style:{flex:1,padding:"0.625rem 0.875rem",background:"#0D0D0D",border:"1px solid #2D2D2D",borderRadius:"0.375rem",fontSize:"0.875rem",color:"#FFFFFF",outline:"none"}}),(0,n.jsx)("button",{onClick:r_,type:"button",style:{padding:"0.625rem 1rem",background:"#10B981",color:"#FFFFFF",border:"none",borderRadius:"0.375rem",fontSize:"0.875rem",fontWeight:500,cursor:"pointer"},children:"Add Link"})]})]})]}),"comments"===eP&&(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",marginBottom:"1rem"},children:ew.map(e=>(0,n.jsx)("div",{style:{padding:"1rem",background:"#0D0D0D",borderRadius:"0.5rem",border:"1px solid #2D2D2D"},children:(0,n.jsxs)("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[(0,n.jsx)(k.Z,{user:{id:e.user_id,name:e.user_name||"User",avatar_url:e.user_avatar_url},size:"md"}),(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsxs)("div",{style:{marginBottom:"0.5rem",display:"flex",alignItems:"center"},children:[(0,n.jsx)("span",{style:{fontSize:"0.875rem",fontWeight:600,color:"#FFFFFF"},children:e.user_name||"User"}),(0,n.jsxs)("span",{style:{fontSize:"0.75rem",color:"#71717A",marginLeft:"0.5rem",flex:1},children:[new Date(e.created_at).toLocaleDateString()," at ",new Date(e.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),e.user_id===(null==E?void 0:E.id)&&(0,n.jsx)("button",{onClick:()=>rY(e.id),style:{padding:"4px",background:"none",border:"none",cursor:"pointer",color:"#EF4444",borderRadius:"4px",minHeight:"auto",minWidth:"auto"},title:"Delete comment",children:(0,n.jsx)(m.Z,{style:{width:"14px",height:"14px"}})})]}),(0,n.jsx)("p",{style:{color:"#A1A1AA",fontSize:"0.9375rem",lineHeight:1.5,margin:0},children:e.comment_text})]})]})},e.id))}),(0,n.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,n.jsx)("textarea",{value:eB,onChange:e=>eT(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),rN())},placeholder:"Write a comment...",style:{flex:1,padding:"0.625rem 0.875rem",background:"#0D0D0D",border:"1px solid #2D2D2D",borderRadius:"0.375rem",fontSize:"0.875rem",color:"#FFFFFF",outline:"none",resize:"none",minHeight:"80px"}}),(0,n.jsx)("button",{onClick:rN,type:"button",style:{padding:"0.625rem 1rem",background:"#10B981",color:"#FFFFFF",border:"none",borderRadius:"0.375rem",fontSize:"0.875rem",fontWeight:500,cursor:"pointer",alignSelf:"flex-end"},children:"Send"})]})]})]})]}),(0,n.jsxs)("div",{style:{marginTop:"2rem",padding:"1rem",background:"#0D0D0D",borderRadius:"0.5rem",border:"1px solid #2D2D2D"},children:[(0,n.jsx)("div",{style:{fontSize:"0.8125rem",color:"#71717A",marginBottom:"0.5rem"},children:"Created by"}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,n.jsx)(k.Z,{user:eh.created_by||{name:"Unknown"},size:"sm"}),(0,n.jsx)("span",{style:{fontSize:"0.875rem",color:"#FFFFFF",fontWeight:500},children:(null===(z=eh.created_by)||void 0===z?void 0:z.name)||"Unknown"})]})]})]}),(0,n.jsxs)("div",{style:{width:"380px",background:"#0D0D0D",padding:"1.5rem",overflowY:"auto",borderLeft:"1px solid #2D2D2D"},children:[(0,n.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,n.jsx)("h3",{style:{fontSize:"0.875rem",fontWeight:600,color:"#71717A",marginBottom:"1rem"},children:"Project Status"}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem",padding:"0.75rem",background:"#1A1A1A",borderRadius:"0.5rem",border:"1px solid #2D2D2D"},children:[(0,n.jsx)("div",{style:{width:"28px",height:"28px",borderRadius:"0.375rem",background:"#3B82F6",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)(j.Z,{style:{width:"16px",height:"16px",color:"#FFFFFF"}})}),(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("div",{style:{fontSize:"0.875rem",fontWeight:600,color:"#FFFFFF"},children:"Time Remaining"}),(0,n.jsx)("div",{style:{fontSize:"0.75rem",color:"#71717A"},children:eh.due_date?Math.max(0,Math.ceil((new Date(eh.due_date).getTime()-new Date().getTime())/864e5))+"d":"No due date"})]})]}),(0,n.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.375rem"},children:[(0,n.jsx)("span",{style:{fontSize:"0.8125rem",color:"#71717A"},children:"Progress"}),(0,n.jsxs)("span",{style:{fontSize:"0.8125rem",fontWeight:600,color:"#10B981"},children:[eb.length>0?Math.round(eb.filter(e=>e.is_completed).length/eb.length*100):0,"%"]})]}),(0,n.jsx)("div",{style:{height:"8px",background:"#2D2D2D",borderRadius:"9999px",overflow:"hidden"},children:(0,n.jsx)("div",{style:{width:"".concat(eb.length>0?eb.filter(e=>e.is_completed).length/eb.length*100:0,"%"),height:"100%",background:"#10B981",borderRadius:"9999px",transition:"width 0.3s"}})})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:(0,n.jsx)("h3",{style:{fontSize:"0.875rem",fontWeight:600,color:"#71717A",margin:0},children:"Activities"})}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[eD.map(e=>(0,n.jsxs)("div",{style:{display:"flex",gap:"0.75rem"},children:[(0,n.jsx)(k.Z,{user:{name:e.user_name},size:"md"}),(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsxs)("div",{style:{marginBottom:"0.25rem"},children:[(0,n.jsxs)("span",{style:{fontSize:"0.875rem",fontWeight:600,color:"#FFFFFF"},children:[e.user_name," "]}),(0,n.jsx)("span",{style:{fontSize:"0.875rem",color:"#A1A1AA"},children:e.description})]}),(0,n.jsxs)("div",{style:{fontSize:"0.75rem",color:"#71717A"},children:[new Date(e.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})," at ",new Date(e.created_at).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})]}),"status_changed"===e.activity_type&&(0,n.jsxs)("div",{style:{marginTop:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,n.jsx)("span",{style:{padding:"0.25rem 0.5rem",background:"rgba(239, 68, 68, 0.2)",color:"#EF4444",fontSize:"0.75rem",borderRadius:"0.25rem",fontWeight:500},children:"To Do"}),(0,n.jsx)("span",{style:{fontSize:"0.75rem",color:"#71717A"},children:"→"}),(0,n.jsx)("span",{style:{padding:"0.25rem 0.5rem",background:"rgba(245, 158, 11, 0.2)",color:"#F59E0B",fontSize:"0.75rem",borderRadius:"0.25rem",fontWeight:500},children:"In Progress"})]})]})]},e.id)),0===eD.length&&(0,n.jsxs)("div",{style:{display:"flex",gap:"0.75rem"},children:[(0,n.jsx)(k.Z,{user:eh.created_by||{name:"User"},size:"md"}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{style:{marginBottom:"0.25rem"},children:[(0,n.jsxs)("span",{style:{fontSize:"0.875rem",fontWeight:600,color:"#FFFFFF"},children:[(null===(R=eh.created_by)||void 0===R?void 0:R.name)||"User"," "]}),(0,n.jsx)("span",{style:{fontSize:"0.875rem",color:"#A1A1AA"},children:"created task"})]}),(0,n.jsxs)("div",{style:{fontSize:"0.75rem",color:"#71717A"},children:[new Date(eh.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})," at ",new Date(eh.created_at).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})]})]})]})]})]})]})]})]})}),ed&&(0,n.jsx)("div",{style:{position:"fixed",inset:0,zIndex:50,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0, 0, 0, 0.7)",backdropFilter:"blur(4px)",padding:"1rem"},onClick:()=>ec(!1),children:(0,n.jsxs)("div",{style:{background:"#1A1A1A",border:"1px solid #2D2D2D",borderRadius:"1rem",width:"100%",maxWidth:"32rem",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.5)"},onClick:e=>e.stopPropagation(),children:[(0,n.jsxs)("div",{style:{padding:"1.25rem 1.5rem",borderBottom:"1px solid #2D2D2D",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,n.jsx)("h3",{style:{fontSize:"1.125rem",fontWeight:600,color:"#FFFFFF",margin:0},children:"Add Custom Column"}),(0,n.jsx)("button",{onClick:()=>ec(!1),style:{width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"0.5rem",background:"transparent",border:"none",color:"#71717A",cursor:"pointer",transition:"all 0.2s"},children:(0,n.jsx)(F.Z,{style:{width:"20px",height:"20px"}})})]}),(0,n.jsxs)("div",{style:{padding:"1.5rem"},children:[(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1.25rem"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,color:"#A1A1AA",marginBottom:"0.5rem"},children:"Column Name"}),(0,n.jsx)("input",{type:"text",value:em.name,onChange:e=>eg({...em,name:e.target.value}),placeholder:"e.g., Budget, Phase, Designer",style:{width:"100%",padding:"0.75rem 1rem",background:"#0D0D0D",border:"1px solid #2D2D2D",borderRadius:"0.5rem",color:"#FFFFFF",fontSize:"0.875rem",outline:"none"}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,color:"#A1A1AA",marginBottom:"0.5rem"},children:"Column Type"}),(0,n.jsxs)("select",{value:em.type,onChange:e=>eg({...em,type:e.target.value}),style:{width:"100%",padding:"0.75rem 1rem",background:"#0D0D0D",border:"1px solid #2D2D2D",borderRadius:"0.5rem",color:"#FFFFFF",fontSize:"0.875rem",outline:"none",cursor:"pointer"},children:[(0,n.jsx)("option",{value:"text",children:"Text"}),(0,n.jsx)("option",{value:"number",children:"Number"}),(0,n.jsx)("option",{value:"date",children:"Date"}),(0,n.jsx)("option",{value:"status",children:"Status"}),(0,n.jsx)("option",{value:"person",children:"Person"}),(0,n.jsx)("option",{value:"dropdown",children:"Dropdown"}),(0,n.jsx)("option",{value:"checkbox",children:"Checkbox"}),(0,n.jsx)("option",{value:"url",children:"URL"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,color:"#A1A1AA",marginBottom:"0.5rem"},children:"Column Width (px)"}),(0,n.jsx)("input",{type:"number",value:em.width,onChange:e=>eg({...em,width:parseInt(e.target.value)||150}),min:"100",max:"400",style:{width:"100%",padding:"0.75rem 1rem",background:"#0D0D0D",border:"1px solid #2D2D2D",borderRadius:"0.5rem",color:"#FFFFFF",fontSize:"0.875rem",outline:"none"}})]})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"0.75rem",marginTop:"1.5rem"},children:[(0,n.jsx)("button",{onClick:()=>ec(!1),style:{flex:1,padding:"0.75rem",background:"#2D2D2D",color:"#A1A1AA",border:"none",borderRadius:"0.5rem",fontWeight:500,cursor:"pointer",fontSize:"0.875rem"},children:"Cancel"}),(0,n.jsx)("button",{onClick:async()=>{if(em.name.trim())try{let{supabase:e}=await Promise.resolve().then(t.bind(t,78411));await e.rpc("add_project_custom_column",{p_project_id:P.id,p_column_name:em.name.trim(),p_column_type:em.type,p_column_width:em.width}),eg({name:"",type:"text",width:150}),ec(!1),rh()}catch(e){}},style:{flex:1,padding:"0.75rem",background:"#10B981",color:"#FFFFFF",border:"none",borderRadius:"0.5rem",fontWeight:600,cursor:"pointer",fontSize:"0.875rem"},children:"Add Column"})]})]})]})}),rm&&(0,n.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:100},onClick:()=>rg(!1),children:(0,n.jsxs)("div",{style:{background:"#1A1A1A",borderRadius:"16px",padding:"24px",width:"400px",maxWidth:"90vw",border:"1px solid #2D2D2D"},onClick:e=>e.stopPropagation(),children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[(0,n.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"rgba(239, 68, 68, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)(m.Z,{style:{width:"24px",height:"24px",color:"#EF4444"}})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{style:{color:"#FFFFFF",fontSize:"1.125rem",fontWeight:600,margin:0},children:"Delete Project"}),(0,n.jsx)("p",{style:{color:"#71717A",fontSize:"0.875rem",margin:"4px 0 0"},children:"This action cannot be undone"})]})]}),(0,n.jsxs)("p",{style:{color:"#A1A1AA",fontSize:"0.9375rem",lineHeight:1.6,marginBottom:"20px"},children:["Are you sure you want to delete ",(0,n.jsx)("strong",{style:{color:"#FFFFFF"},children:null==P?void 0:P.name}),"? All tasks, comments, and data associated with this project will be permanently deleted."]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,n.jsx)("button",{onClick:()=>rg(!1),style:{flex:1,padding:"12px 20px",background:"#2D2D2D",border:"none",borderRadius:"8px",color:"#FFFFFF",fontSize:"0.875rem",fontWeight:500,cursor:"pointer",transition:"background 0.2s"},onMouseEnter:e=>e.currentTarget.style.background="#3D3D3D",onMouseLeave:e=>e.currentTarget.style.background="#2D2D2D",children:"Cancel"}),(0,n.jsx)("button",{onClick:rG,disabled:ru,style:{flex:1,padding:"12px 20px",background:"#EF4444",border:"none",borderRadius:"8px",color:"#FFFFFF",fontSize:"0.875rem",fontWeight:500,cursor:ru?"not-allowed":"pointer",transition:"background 0.2s",opacity:ru?.7:1},onMouseEnter:e=>{ru||(e.currentTarget.style.background="#DC2626")},onMouseLeave:e=>{ru||(e.currentTarget.style.background="#EF4444")},children:ru?"Deleting...":"Delete Project"})]})]})})]}):null}},67201:function(e,r,t){"use strict";t.d(r,{H:function(){return l},Z:function(){return s}});var n=t(57437);t(2265);let o={xs:{avatar:"20px",text:"0.6rem"},sm:{avatar:"24px",text:"0.6875rem"},md:{avatar:"32px",text:"0.75rem"},lg:{avatar:"40px",text:"0.875rem"},xl:{avatar:"48px",text:"1rem"}},i=["#8B5CF6","#EC4899","#3B82F6","#10B981","#F59E0B","#EF4444","#06B6D4","#F97316"];function s(e){var r,t;let{user:s,size:l="md",showName:a=!1,className:d=""}=e,c=o[l],m=(null===(t=s.name)||void 0===t?void 0:null===(r=t.charAt(0))||void 0===r?void 0:r.toUpperCase())||"U",g=(s.id||s.name.length)%i.length,u=i[g];return(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:a?"0.5rem":"0"},className:d,children:[(0,n.jsx)("div",{style:{width:c.avatar,height:c.avatar,borderRadius:"50%",background:s.avatar_url?"url(".concat(s.avatar_url,") center/cover"):u,display:"flex",alignItems:"center",justifyContent:"center",color:"#FFFFFF",fontSize:c.text,fontWeight:600,flexShrink:0,border:"2px solid #1F1F1F"},title:s.name,children:!s.avatar_url&&m}),a&&(0,n.jsx)("span",{style:{fontSize:c.text,color:"#E4E4E7",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:s.name})]})}function l(e){let{users:r,max:t=3,size:i="sm"}=e,l=o[i],a=r.slice(0,t),d=r.length-t;return(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",marginLeft:"xs"===i?"-4px":"-6px"},children:[a.map((e,r)=>(0,n.jsx)("div",{style:{marginLeft:0===r?0:"xs"===i?"-8px":"-10px",position:"relative",zIndex:a.length-r},children:(0,n.jsx)(s,{user:e,size:i})},e.id||r)),d>0&&(0,n.jsxs)("div",{style:{marginLeft:"xs"===i?"-8px":"-10px",width:l.avatar,height:l.avatar,borderRadius:"50%",background:"#3D3D3D",border:"2px solid #1F1F1F",display:"flex",alignItems:"center",justifyContent:"center",color:"#A1A1AA",fontSize:l.text,fontWeight:600,zIndex:0},title:"".concat(d," more"),children:["+",d]})]})}}},function(e){e.O(0,[8326,7708,1106,8411,3152,8714,2971,2472,1744],function(){return e(e.s=60894)}),_N_E=e.O()}]);