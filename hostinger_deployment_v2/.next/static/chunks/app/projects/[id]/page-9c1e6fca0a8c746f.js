(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[948,514],{5638:function(e,n,t){Promise.resolve().then(t.bind(t,4590))},4590:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return B}});var r=t(7437),a=t(2265),o=t(4033),i=t(3549),s=t(3152),l=t(1809),d=t(7227),c=t(5255),m=t(6180),p=t(640),f=t(2929),g=t(654),u=t(1296),x=t(9186),b=t(5969),h=t(13),y=t(3217),v=t(4560),w=t(7840),j=t(6689),k=t(4020),_=t(2558),F=t(2569);function N(e){let{projectId:n,currentMembers:t,onClose:o,onMembersUpdate:i}=e,[l,d]=(0,a.useState)([]),[c,m]=(0,a.useState)(""),[p,f]=(0,a.useState)(!1),[g,u]=(0,a.useState)("");(0,a.useEffect)(()=>{x()},[]);let x=async()=>{try{let e=await s.B4.getUsers();d(e)}catch(e){u("Failed to fetch users")}},b=l.filter(e=>e.name.toLowerCase().includes(c.toLowerCase())||e.email.toLowerCase().includes(c.toLowerCase())),h=b.filter(e=>!t.some(n=>n.id===e.id)),y=async e=>{f(!0),u("");try{await s.B4.addProjectMember(n,e),i()}catch(e){console.error("Failed to add member:",e),u("Failed to add member: ".concat(e.message||e.toString()))}finally{f(!1)}},v=async e=>{f(!0),u("");try{await s.B4.removeProjectMember(n,e),i()}catch(e){console.error("Failed to remove member:",e),u("Failed to remove member: ".concat(e.message||e.toString()))}finally{f(!1)}};return(0,r.jsxs)("div",{className:"modal-overlay",onClick:o,children:[(0,r.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n          .members-modal-overlay {\n            position: fixed;\n            inset: 0;\n            background: rgba(0, 0, 0, 0.8);\n            backdrop-filter: blur(4px);\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: 1rem;\n            z-index: 50;\n            animation: fadeIn 0.3s ease-out;\n          }\n          .members-modal-content {\n            background: #ffffff;\n            border: 2px solid #000000;\n            border-radius: 12px;\n            width: 100%;\n            max-width: 600px;\n            max-height: 80vh;\n            overflow: hidden;\n            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\n            animation: slideIn 0.3s ease-out;\n            position: relative;\n          }\n          .members-modal-header {\n            padding: 1.5rem 2rem;\n            border-bottom: 2px solid #e5e7eb;\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n          }\n          .members-modal-title {\n            font-size: 1.5rem;\n            font-weight: bold;\n            color: #000000;\n          }\n          .members-modal-body {\n            padding: 2rem;\n            max-height: 60vh;\n            overflow-y: auto;\n          }\n          .search-section {\n            margin-bottom: 2rem;\n          }\n          .search-box {\n            position: relative;\n          }\n          .search-input {\n            width: 100%;\n            padding: 0.75rem 0.75rem 0.75rem 2.5rem;\n            border: 2px solid #e5e7eb;\n            border-radius: 8px;\n            font-size: 1rem;\n            transition: all 0.2s ease;\n          }\n          .search-input:focus {\n            outline: none;\n            border-color: #000000;\n            box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.1);\n          }\n          .search-icon {\n            position: absolute;\n            left: 0.75rem;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #9ca3af;\n          }\n          .members-section {\n            margin-bottom: 2rem;\n          }\n          .section-title {\n            font-size: 1.1rem;\n            font-weight: 600;\n            color: #000000;\n            margin-bottom: 1rem;\n            display: flex;\n            align-items: center;\n            gap: 0.5rem;\n          }\n          .member-count {\n            background: #f3f4f6;\n            color: #374151;\n            padding: 0.25rem 0.5rem;\n            border-radius: 12px;\n            font-size: 0.8rem;\n            font-weight: 500;\n          }\n          .user-list {\n            display: flex;\n            flex-direction: column;\n            gap: 0.75rem;\n          }\n          .user-item {\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n            padding: 1rem;\n            border: 2px solid #e5e7eb;\n            border-radius: 8px;\n            transition: all 0.2s ease;\n          }\n          .user-item:hover {\n            border-color: #d1d5db;\n            background: #f9fafb;\n          }\n          .user-info {\n            display: flex;\n            align-items: center;\n            gap: 0.75rem;\n          }\n          .user-avatar {\n            width: 40px;\n            height: 40px;\n            background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);\n            border: 2px solid #000000;\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-size: 1rem;\n            font-weight: 600;\n            color: #000000;\n          }\n          .user-details {\n            flex: 1;\n          }\n          .user-name {\n            font-weight: 600;\n            color: #000000;\n            margin-bottom: 0.25rem;\n          }\n          .user-email {\n            font-size: 0.875rem;\n            color: #6b7280;\n          }\n          .user-role {\n            font-size: 0.75rem;\n            color: #9ca3af;\n            text-transform: uppercase;\n            font-weight: 500;\n          }\n          .action-btn {\n            padding: 0.5rem;\n            border: 2px solid;\n            border-radius: 6px;\n            background: #ffffff;\n            cursor: pointer;\n            transition: all 0.2s ease;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n          }\n          .action-btn:hover {\n            transform: translateY(-1px);\n          }\n          .action-btn:disabled {\n            opacity: 0.5;\n            cursor: not-allowed;\n            transform: none;\n          }\n          .add-btn {\n            border-color: #10b981;\n            color: #10b981;\n          }\n          .add-btn:hover:not(:disabled) {\n            background: #10b981;\n            color: #ffffff;\n          }\n          .remove-btn {\n            border-color: #ef4444;\n            color: #ef4444;\n          }\n          .remove-btn:hover:not(:disabled) {\n            background: #ef4444;\n            color: #ffffff;\n          }\n          .close-btn {\n            border: none;\n            background: none;\n            cursor: pointer;\n            padding: 0.5rem;\n            border-radius: 6px;\n            transition: all 0.2s ease;\n          }\n          .close-btn:hover {\n            background: #f3f4f6;\n          }\n          .error-message {\n            background: #fef2f2;\n            border: 1px solid #fecaca;\n            color: #dc2626;\n            padding: 0.75rem;\n            border-radius: 6px;\n            margin-bottom: 1rem;\n            font-size: 0.875rem;\n          }\n          .empty-state {\n            text-align: center;\n            padding: 2rem;\n            color: #6b7280;\n          }\n          @keyframes fadeIn {\n            from { opacity: 0; }\n            to { opacity: 1; }\n          }\n          @keyframes slideIn {\n            from { transform: translateY(-20px); opacity: 0; }\n            to { transform: translateY(0); opacity: 1; }\n          }\n        "}}),(0,r.jsxs)("div",{className:"members-modal-content",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"members-modal-header",children:[(0,r.jsx)("h2",{className:"members-modal-title",children:"Manage Team Members"}),(0,r.jsx)("button",{onClick:o,className:"close-btn",children:(0,r.jsx)(j.Z,{style:{width:"20px",height:"20px"}})})]}),(0,r.jsxs)("div",{className:"members-modal-body",children:[g&&(0,r.jsx)("div",{className:"error-message",children:g}),(0,r.jsx)("div",{className:"search-section",children:(0,r.jsxs)("div",{className:"search-box",children:[(0,r.jsx)(k.Z,{className:"search-icon",style:{width:"20px",height:"20px"}}),(0,r.jsx)("input",{type:"text",placeholder:"Search users by name or email...",value:c,onChange:e=>m(e.target.value),className:"search-input"})]})}),(0,r.jsxs)("div",{className:"members-section",children:[(0,r.jsxs)("h3",{className:"section-title",children:["Current Members",(0,r.jsx)("span",{className:"member-count",children:t.length})]}),(0,r.jsx)("div",{className:"user-list",children:0===t.length?(0,r.jsx)("div",{className:"empty-state",children:(0,r.jsx)("p",{children:"No members yet"})}):t.map(e=>(0,r.jsxs)("div",{className:"user-item",children:[(0,r.jsxs)("div",{className:"user-info",children:[(0,r.jsx)("div",{className:"user-avatar",children:e.name.charAt(0).toUpperCase()}),(0,r.jsxs)("div",{className:"user-details",children:[(0,r.jsx)("div",{className:"user-name",children:e.name}),(0,r.jsx)("div",{className:"user-email",children:e.email}),e.role&&(0,r.jsx)("div",{className:"user-role",children:e.role})]})]}),(0,r.jsx)("button",{onClick:()=>v(e.id),disabled:p,className:"action-btn remove-btn",title:"Remove member",children:(0,r.jsx)(_.Z,{style:{width:"18px",height:"18px"}})})]},e.id))})]}),(0,r.jsxs)("div",{className:"members-section",children:[(0,r.jsxs)("h3",{className:"section-title",children:["Add New Members",c&&(0,r.jsxs)("span",{className:"member-count",children:[h.length," found"]})]}),(0,r.jsx)("div",{className:"user-list",children:c?0===h.length?(0,r.jsxs)("div",{className:"empty-state",children:[(0,r.jsxs)("p",{children:['No users found matching "',c,'"']}),(0,r.jsx)("p",{style:{fontSize:"0.875rem",marginTop:"0.5rem",color:"#9ca3af"},children:"Try searching by full name or email address"})]}):h.map(e=>(0,r.jsxs)("div",{className:"user-item",children:[(0,r.jsxs)("div",{className:"user-info",children:[(0,r.jsx)("div",{className:"user-avatar",children:e.name.charAt(0).toUpperCase()}),(0,r.jsxs)("div",{className:"user-details",children:[(0,r.jsx)("div",{className:"user-name",children:e.name}),(0,r.jsx)("div",{className:"user-email",children:e.email}),e.role&&(0,r.jsx)("div",{className:"user-role",children:e.role})]})]}),(0,r.jsx)("button",{onClick:()=>y(e.id),disabled:p,className:"action-btn add-btn",title:"Add member",children:(0,r.jsx)(F.Z,{style:{width:"18px",height:"18px"}})})]},e.id)):(0,r.jsxs)("div",{className:"empty-state",children:[(0,r.jsx)("p",{children:"\uD83D\uDD0D Search by name or email to find team members"}),(0,r.jsx)("p",{style:{fontSize:"0.875rem",marginTop:"0.5rem",color:"#9ca3af"},children:"For privacy, team members are only shown when searched"})]})})]})]})]})]})}var z=t(1253),C=t(7805),E=t(2125);function S(e){let{projectId:n,projectMembers:t}=e,{user:o}=(0,i.useAuth)(),[l,f]=(0,a.useState)([]),[g,u]=(0,a.useState)(!0),[x,b]=(0,a.useState)(""),[h,y]=(0,a.useState)("list"),[v,w]=(0,a.useState)("all"),[j,k]=(0,a.useState)("created_at"),[_,F]=(0,a.useState)("desc"),[N,S]=(0,a.useState)(!1),[D,T]=(0,a.useState)(null),[A,B]=(0,a.useState)(new Set),[I,P]=(0,a.useState)(!1),[M,R]=(0,a.useState)({title:"",description:"",due_date:""});(0,a.useEffect)(()=>{let e=async()=>{if(!n||!o){u(!1);return}try{u(!0);let e=await s.KH.getTodos(n);f(e),b("")}catch(e){console.error("Error loading todos:",e),b("Failed to load todos"),f([])}finally{u(!1)}};e()},[n,o]);let U=l.filter(e=>("pending"!==v||!e.completed)&&("completed"!==v||!!e.completed)).sort((e,n)=>{let t=0;switch(j){case"title":t=e.title.localeCompare(n.title);break;case"due_date":let r=e.due_date?new Date(e.due_date).getTime():1/0,a=n.due_date?new Date(n.due_date).getTime():1/0;t=r-a;break;default:t=new Date(e.created_at).getTime()-new Date(n.created_at).getTime()}return"asc"===_?t:-t}),L=async()=>{if(M.title.trim())try{let e=await s.KH.createTodo(n,{title:M.title.trim(),description:M.description.trim()||void 0,due_date:M.due_date||void 0});f([e,...l]),R({title:"",description:"",due_date:""}),S(!1),b("")}catch(e){console.error("Error creating todo:",e),b("Failed to create todo")}},O=async e=>{let n=l.find(n=>n.id===e);if(n)try{let t=await s.KH.toggleTodoComplete(e,!n.completed);f(l.map(n=>n.id===e?t:n)),b("")}catch(e){console.error("Error toggling todo:",e),b("Failed to update todo")}},W=async e=>{try{await s.KH.deleteTodo(e),f(l.filter(n=>n.id!==e)),b("")}catch(e){console.error("Error deleting todo:",e),b("Failed to delete todo")}},q=e=>{T(e),R({title:e.title,description:e.description||"",due_date:e.due_date||""}),S(!0)},Y=async()=>{if(D&&M.title.trim())try{let e=await s.KH.updateTodo(D.id,{title:M.title.trim(),description:M.description.trim()||void 0,due_date:M.due_date||void 0,completed:D.completed});f(l.map(n=>n.id===D.id?e:n)),T(null),R({title:"",description:"",due_date:""}),S(!1),b("")}catch(e){console.error("Error updating todo:",e),b("Failed to update todo")}},Z=async()=>{try{let e=Array.from(A).map(e=>s.KH.toggleTodoComplete(e,!0)),n=await Promise.all(e);f(l.map(e=>{let t=n.find(n=>n.id===e.id);return t||e})),B(new Set),P(!1),b("")}catch(e){console.error("Error bulk completing todos:",e),b("Failed to complete some todos")}},H=async()=>{try{let e=Array.from(A).map(e=>s.KH.deleteTodo(e));await Promise.all(e),f(l.filter(e=>!A.has(e.id))),B(new Set),P(!1),b("")}catch(e){console.error("Error bulk deleting todos:",e),b("Failed to delete some todos")}},G=e=>{let n=new Set(A);n.has(e)?n.delete(e):n.add(e),B(n),P(n.size>0)},V=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),J=e=>!!e&&new Date(e)<new Date,X=l.filter(e=>e.completed).length,K=l.length-X,Q=l.filter(e=>!e.completed&&J(e.due_date)).length;return g?(0,r.jsx)("div",{style:{padding:"3rem",textAlign:"center"},children:(0,r.jsx)("div",{style:{width:"32px",height:"32px",border:"3px solid #cccccc",borderTop:"3px solid #000000",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}})}):(0,r.jsxs)("div",{className:"todo-list-container",children:[(0,r.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n          .todo-list-container {\n            background: #ffffff;\n            border: 2px solid #000000;\n            border-radius: 12px;\n            overflow: hidden;\n          }\n          \n          .todo-header {\n            background: #f9fafb;\n            border-bottom: 2px solid #e5e7eb;\n            padding: 1.5rem;\n          }\n          \n          .todo-stats {\n            display: flex;\n            gap: 2rem;\n            margin-bottom: 1.5rem;\n            flex-wrap: wrap;\n          }\n          \n          .stat-card {\n            background: #ffffff;\n            border: 2px solid #e5e7eb;\n            border-radius: 8px;\n            padding: 1rem 1.5rem;\n            min-width: 120px;\n            text-align: center;\n          }\n          \n          .stat-value {\n            font-size: 1.5rem;\n            font-weight: bold;\n            color: #000000;\n            margin-bottom: 0.25rem;\n          }\n          \n          .stat-label {\n            font-size: 0.875rem;\n            color: #6b7280;\n            font-weight: 500;\n          }\n          \n          .stat-card.overdue {\n            border-color: #ef4444;\n            background: #fef2f2;\n          }\n          \n          .stat-card.overdue .stat-value {\n            color: #dc2626;\n          }\n          \n          .todo-controls {\n            display: flex;\n            gap: 1rem;\n            align-items: center;\n            flex-wrap: wrap;\n            justify-content: space-between;\n          }\n          \n          .control-group {\n            display: flex;\n            gap: 0.75rem;\n            align-items: center;\n            flex-wrap: wrap;\n          }\n          \n          .control-btn {\n            display: flex;\n            align-items: center;\n            gap: 0.5rem;\n            padding: 0.5rem 1rem;\n            border: 2px solid #e5e7eb;\n            border-radius: 6px;\n            background: #ffffff;\n            cursor: pointer;\n            font-size: 0.875rem;\n            font-weight: 500;\n            transition: all 0.2s ease;\n          }\n          \n          .control-btn:hover {\n            border-color: #000000;\n            transform: translateY(-1px);\n          }\n          \n          .control-btn.active {\n            background: #000000;\n            color: #ffffff;\n            border-color: #000000;\n          }\n          \n          .control-btn.primary {\n            background: #000000;\n            color: #ffffff;\n            border-color: #000000;\n          }\n          \n          .search-box {\n            position: relative;\n            min-width: 250px;\n          }\n          \n          .search-input {\n            width: 100%;\n            padding: 0.5rem 0.5rem 0.5rem 2.5rem;\n            border: 2px solid #e5e7eb;\n            border-radius: 6px;\n            font-size: 0.875rem;\n          }\n          \n          .search-input:focus {\n            outline: none;\n            border-color: #000000;\n          }\n          \n          .search-icon {\n            position: absolute;\n            left: 0.75rem;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #6b7280;\n          }\n          \n          .filter-select {\n            padding: 0.5rem;\n            border: 2px solid #e5e7eb;\n            border-radius: 6px;\n            font-size: 0.875rem;\n            font-weight: 500;\n            background: #ffffff;\n            cursor: pointer;\n          }\n          \n          .filter-select:focus {\n            outline: none;\n            border-color: #000000;\n          }\n          \n          .todo-content {\n            padding: 1.5rem;\n          }\n          \n          .bulk-actions {\n            background: #fff7ed;\n            border: 2px solid #fb923c;\n            border-radius: 8px;\n            padding: 1rem;\n            margin-bottom: 1.5rem;\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n          }\n          \n          .bulk-actions-text {\n            font-weight: 600;\n            color: #ea580c;\n          }\n          \n          .bulk-actions-buttons {\n            display: flex;\n            gap: 0.75rem;\n          }\n          \n          .bulk-btn {\n            padding: 0.375rem 0.75rem;\n            border-radius: 4px;\n            font-size: 0.875rem;\n            font-weight: 500;\n            cursor: pointer;\n            border: none;\n            transition: all 0.2s ease;\n          }\n          \n          .bulk-btn.complete {\n            background: #10b981;\n            color: #ffffff;\n          }\n          \n          .bulk-btn.delete {\n            background: #ef4444;\n            color: #ffffff;\n          }\n          \n          .bulk-btn.cancel {\n            background: #e5e7eb;\n            color: #374151;\n          }\n          \n          .todo-list {\n            display: flex;\n            flex-direction: column;\n            gap: 0.75rem;\n          }\n          \n          .todo-grid {\n            display: grid;\n            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n            gap: 1rem;\n          }\n          \n          .todo-item {\n            border: 2px solid #e5e7eb;\n            border-radius: 8px;\n            padding: 1rem;\n            transition: all 0.2s ease;\n            background: #ffffff;\n          }\n          \n          .todo-item:hover {\n            border-color: #d1d5db;\n            transform: translateY(-1px);\n            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n          }\n          \n          .todo-item.completed {\n            opacity: 0.7;\n            background: #f9fafb;\n          }\n          \n          .todo-item.overdue {\n            border-color: #fecaca;\n            background: #fef2f2;\n          }\n          \n          .todo-item-header {\n            display: flex;\n            align-items: flex-start;\n            gap: 0.75rem;\n            margin-bottom: 0.75rem;\n          }\n          \n          .todo-checkbox {\n            margin-top: 0.125rem;\n            cursor: pointer;\n          }\n          \n          .todo-checkbox input {\n            width: 18px;\n            height: 18px;\n            cursor: pointer;\n          }\n          \n          .todo-content-main {\n            flex: 1;\n            min-width: 0;\n          }\n          \n          .todo-title {\n            font-weight: 600;\n            color: #000000;\n            margin-bottom: 0.25rem;\n            line-height: 1.4;\n          }\n          \n          .todo-title.completed {\n            text-decoration: line-through;\n            color: #6b7280;\n          }\n          \n          .todo-description {\n            font-size: 0.875rem;\n            color: #6b7280;\n            margin-bottom: 0.75rem;\n            line-height: 1.4;\n          }\n          \n          .todo-meta {\n            display: flex;\n            flex-wrap: wrap;\n            gap: 0.5rem;\n            margin-bottom: 0.75rem;\n          }\n          \n          .todo-badge {\n            display: flex;\n            align-items: center;\n            gap: 0.25rem;\n            padding: 0.25rem 0.5rem;\n            border-radius: 4px;\n            font-size: 0.75rem;\n            font-weight: 500;\n          }\n          \n\n          \n          .due-date-badge {\n            background: #eff6ff;\n            color: #1d4ed8;\n            border: 1px solid #dbeafe;\n          }\n          \n          .due-date-badge.overdue {\n            background: #fef2f2;\n            color: #dc2626;\n            border-color: #fecaca;\n          }\n          \n          .todo-actions {\n            display: flex;\n            gap: 0.5rem;\n            justify-content: flex-end;\n          }\n          \n          .action-btn {\n            padding: 0.375rem;\n            border: 1px solid #e5e7eb;\n            border-radius: 4px;\n            background: #ffffff;\n            cursor: pointer;\n            transition: all 0.2s ease;\n          }\n          \n          .action-btn:hover {\n            border-color: #000000;\n            transform: translateY(-1px);\n          }\n          \n          .action-btn.edit {\n            color: #6b7280;\n          }\n          \n          .action-btn.delete {\n            color: #ef4444;\n          }\n          \n          .empty-state {\n            text-align: center;\n            padding: 3rem;\n            color: #6b7280;\n          }\n          \n          .empty-state h3 {\n            font-size: 1.125rem;\n            font-weight: 600;\n            color: #000000;\n            margin-bottom: 0.5rem;\n          }\n          \n          .quick-add-form {\n            background: #f9fafb;\n            border: 2px solid #e5e7eb;\n            border-radius: 8px;\n            padding: 1.5rem;\n            margin-bottom: 1.5rem;\n          }\n          \n          .form-row {\n            display: flex;\n            gap: 1rem;\n            margin-bottom: 1rem;\n            flex-wrap: wrap;\n          }\n          \n          .form-group {\n            display: flex;\n            flex-direction: column;\n            gap: 0.5rem;\n            flex: 1;\n            min-width: 200px;\n          }\n          \n          .form-label {\n            font-size: 0.875rem;\n            font-weight: 600;\n            color: #000000;\n          }\n          \n          .form-input, .form-textarea, .form-select {\n            padding: 0.5rem;\n            border: 2px solid #e5e7eb;\n            border-radius: 4px;\n            font-size: 0.875rem;\n          }\n          \n          .form-input:focus, .form-textarea:focus, .form-select:focus {\n            outline: none;\n            border-color: #000000;\n          }\n          \n          .form-textarea {\n            resize: vertical;\n            min-height: 60px;\n            font-family: inherit;\n          }\n          \n          .form-actions {\n            display: flex;\n            gap: 0.75rem;\n            justify-content: flex-end;\n          }\n          \n          .form-btn {\n            padding: 0.5rem 1rem;\n            border-radius: 4px;\n            font-size: 0.875rem;\n            font-weight: 500;\n            cursor: pointer;\n            border: 2px solid;\n            transition: all 0.2s ease;\n          }\n          \n          .form-btn.primary {\n            background: #000000;\n            color: #ffffff;\n            border-color: #000000;\n          }\n          \n          .form-btn.secondary {\n            background: #ffffff;\n            color: #374151;\n            border-color: #e5e7eb;\n          }\n          \n          .form-btn:hover {\n            transform: translateY(-1px);\n          }\n          \n          @media (max-width: 768px) {\n            .todo-controls {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 1rem;\n            }\n            \n            .control-group {\n              justify-content: center;\n            }\n            \n            .search-box {\n              min-width: auto;\n              width: 100%;\n            }\n            \n            .todo-grid {\n              grid-template-columns: 1fr;\n            }\n            \n            .form-row {\n              flex-direction: column;\n            }\n            \n            .form-group {\n              min-width: auto;\n            }\n            \n            .form-actions {\n              flex-direction: column;\n            }\n          }\n        "}}),(0,r.jsxs)("div",{className:"todo-header",children:[(0,r.jsxs)("div",{className:"todo-stats",children:[(0,r.jsxs)("div",{className:"stat-card",children:[(0,r.jsx)("div",{className:"stat-value",children:l.length}),(0,r.jsx)("div",{className:"stat-label",children:"Total"})]}),(0,r.jsxs)("div",{className:"stat-card",children:[(0,r.jsx)("div",{className:"stat-value",children:K}),(0,r.jsx)("div",{className:"stat-label",children:"Pending"})]}),(0,r.jsxs)("div",{className:"stat-card",children:[(0,r.jsx)("div",{className:"stat-value",children:X}),(0,r.jsx)("div",{className:"stat-label",children:"Completed"})]}),Q>0&&(0,r.jsxs)("div",{className:"stat-card overdue",children:[(0,r.jsx)("div",{className:"stat-value",children:Q}),(0,r.jsx)("div",{className:"stat-label",children:"Overdue"})]})]}),(0,r.jsxs)("div",{className:"todo-controls",children:[(0,r.jsxs)("div",{className:"control-group",children:[(0,r.jsxs)("button",{onClick:()=>S(!N),className:"control-btn primary",children:[(0,r.jsx)(c.Z,{style:{width:"16px",height:"16px"}}),"Add Todo"]}),(0,r.jsxs)("div",{className:"control-group",children:[(0,r.jsxs)("button",{onClick:()=>y("list"),className:"control-btn ".concat("list"===h?"active":""),children:[(0,r.jsx)(p.Z,{style:{width:"16px",height:"16px"}}),"List"]}),(0,r.jsxs)("button",{onClick:()=>y("grid"),className:"control-btn ".concat("grid"===h?"active":""),children:[(0,r.jsx)(m.Z,{style:{width:"16px",height:"16px"}}),"Grid"]})]})]}),(0,r.jsxs)("div",{className:"control-group",children:[(0,r.jsxs)("select",{value:v,onChange:e=>w(e.target.value),className:"filter-select",children:[(0,r.jsx)("option",{value:"all",children:"All Todos"}),(0,r.jsx)("option",{value:"pending",children:"Pending"}),(0,r.jsx)("option",{value:"completed",children:"Completed"})]}),(0,r.jsxs)("select",{value:"".concat(j,"-").concat(_),onChange:e=>{let[n,t]=e.target.value.split("-");k(n),F(t)},className:"filter-select",children:[(0,r.jsx)("option",{value:"created_at-desc",children:"Latest First"}),(0,r.jsx)("option",{value:"created_at-asc",children:"Oldest First"}),(0,r.jsx)("option",{value:"due_date-asc",children:"Due Date (Earliest)"}),(0,r.jsx)("option",{value:"due_date-desc",children:"Due Date (Latest)"}),(0,r.jsx)("option",{value:"title-asc",children:"Title (A-Z)"}),(0,r.jsx)("option",{value:"title-desc",children:"Title (Z-A)"})]})]})]})]}),(0,r.jsxs)("div",{className:"todo-content",children:[x&&(0,r.jsx)("div",{style:{background:"#fef2f2",border:"2px solid #ef4444",borderRadius:"8px",padding:"1rem",marginBottom:"1.5rem",color:"#dc2626",fontWeight:"500"},children:x}),N&&(0,r.jsxs)("div",{className:"quick-add-form",children:[(0,r.jsx)("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.125rem",fontWeight:"600"},children:D?"Edit Todo":"Add New Todo"}),(0,r.jsxs)("div",{className:"form-row",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Title *"}),(0,r.jsx)("input",{type:"text",value:M.title,onChange:e=>R({...M,title:e.target.value}),placeholder:"What needs to be done?",className:"form-input",autoFocus:!0})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Due Date"}),(0,r.jsx)("input",{type:"date",value:M.due_date,onChange:e=>R({...M,due_date:e.target.value}),className:"form-input"})]})]}),(0,r.jsx)("div",{className:"form-row",children:(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Description"}),(0,r.jsx)("textarea",{value:M.description,onChange:e=>R({...M,description:e.target.value}),placeholder:"Additional details...",className:"form-textarea"})]})}),(0,r.jsxs)("div",{className:"form-actions",children:[(0,r.jsx)("button",{onClick:()=>{S(!1),T(null),R({title:"",description:"",due_date:""})},className:"form-btn secondary",children:"Cancel"}),(0,r.jsx)("button",{onClick:D?Y:L,className:"form-btn primary",disabled:!M.title.trim(),children:D?"Update Todo":"Add Todo"})]})]}),I&&(0,r.jsxs)("div",{className:"bulk-actions",children:[(0,r.jsxs)("span",{className:"bulk-actions-text",children:[A.size," todo",1!==A.size?"s":""," selected"]}),(0,r.jsxs)("div",{className:"bulk-actions-buttons",children:[(0,r.jsx)("button",{onClick:Z,className:"bulk-btn complete",children:"Mark Complete"}),(0,r.jsx)("button",{onClick:H,className:"bulk-btn delete",children:"Delete"}),(0,r.jsx)("button",{onClick:()=>{B(new Set),P(!1)},className:"bulk-btn cancel",children:"Cancel"})]})]}),0===U.length?(0,r.jsxs)("div",{className:"empty-state",children:[(0,r.jsx)("h3",{children:"No todos found"}),(0,r.jsx)("p",{children:"all"!==v?"Try adjusting your filters":"Create your first todo to get started!"})]}):(0,r.jsx)("div",{className:"grid"===h?"todo-grid":"todo-list",children:U.map(e=>{let n=J(e.due_date);return(0,r.jsx)("div",{className:"todo-item ".concat(e.completed?"completed":""," ").concat(n?"overdue":""),children:(0,r.jsxs)("div",{className:"todo-item-header",children:[(0,r.jsx)("div",{className:"todo-checkbox",children:(0,r.jsx)("input",{type:"checkbox",checked:A.has(e.id),onChange:()=>G(e.id)})}),(0,r.jsxs)("div",{className:"todo-content-main",children:[(0,r.jsx)("h4",{className:"todo-title ".concat(e.completed?"completed":""),children:e.title}),e.description&&(0,r.jsx)("p",{className:"todo-description",children:e.description}),e.due_date&&(0,r.jsx)("div",{className:"todo-meta",children:(0,r.jsxs)("span",{className:"todo-badge due-date-badge ".concat(n?"overdue":""),children:[(0,r.jsx)(z.Z,{style:{width:"12px",height:"12px"}}),V(e.due_date)]})})]}),(0,r.jsxs)("div",{className:"todo-actions",children:[(0,r.jsx)("button",{onClick:()=>O(e.id),className:"action-btn",title:e.completed?"Mark as pending":"Mark as complete",children:(0,r.jsx)(C.Z,{style:{width:"16px",height:"16px"}})}),(0,r.jsx)("button",{onClick:()=>q(e),className:"action-btn edit",title:"Edit todo",children:(0,r.jsx)(E.Z,{style:{width:"16px",height:"16px"}})}),(0,r.jsx)("button",{onClick:()=>W(e.id),className:"action-btn delete",title:"Delete todo",children:(0,r.jsx)(d.Z,{style:{width:"16px",height:"16px"}})})]})]})},e.id)})})]})]})}var D=t(66);let T=[{value:"todo",label:"To Do",color:"#f3f4f6",icon:""},{value:"in_progress",label:"In Progress",color:"#dbeafe",icon:""},{value:"review",label:"Review",color:"#fef3c7",icon:""},{value:"done",label:"Done",color:"#d1fae5",icon:""}],A=[{value:"low",label:"Low",color:"#10b981",icon:""},{value:"medium",label:"Medium",color:"#f59e0b",icon:""},{value:"high",label:"High",color:"#ef4444",icon:""},{value:"urgent",label:"Urgent",color:"#dc2626",icon:""}];function B(){let e=(0,o.useParams)(),n=(0,o.useRouter)(),{user:j,isAuthenticated:k,isLoading:_}=(0,i.useAuth)(),[F,z]=(0,a.useState)(null),[C,E]=(0,a.useState)([]),[B,I]=(0,a.useState)([]),[P,M]=(0,a.useState)(!0),[R,U]=(0,a.useState)(""),[L,O]=(0,a.useState)("board"),[W,q]=(0,a.useState)("task"),[Y,Z]=(0,a.useState)(()=>{let e=new Date;return new Date(e.getFullYear(),0,1)}),[H,G]=(0,a.useState)(!1),[V,J]=(0,a.useState)(null),[X,K]=(0,a.useState)(null),[Q,$]=(0,a.useState)(null),[ee,en]=(0,a.useState)(null),[et,er]=(0,a.useState)(!1),[ea,eo]=(0,a.useState)(!1),[ei,es]=(0,a.useState)(!1),[el,ed]=(0,a.useState)(!1),[ec,em]=(0,a.useState)({name:"",description:"",assignee_ids:[],priority:"medium",start_date:"",due_date:"",tags:""});(0,a.useEffect)(()=>{let e=()=>{ed(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,a.useEffect)(()=>{if(!_){if(!k){n.push("/login");return}ep()}},[k,_,null==e?void 0:e.id,n]),(0,a.useEffect)(()=>{"gantt"===W&&setTimeout(()=>{let e=eD(new Date),n=document.querySelector(".gantt-timeline-enhanced");n&&(n.scrollLeft=Math.max(0,(e-1)*50-300))},100)},[W,C]);let ep=async()=>{try{let[n,t,r]=await Promise.all([s.B4.getProject(Number(null==e?void 0:e.id)),s.OV.getProjectTasks(Number(null==e?void 0:e.id)),s.B4.getProjects()]);z(n),E(t),I(r)}catch(e){var t;U("Failed to fetch project"),(null===(t=e.response)||void 0===t?void 0:t.status)===404&&n.push("/dashboard")}finally{M(!1)}},ef=async n=>{n.preventDefault();try{let n={name:ec.name.trim(),description:ec.description.trim(),priority:ec.priority,status:"todo"};ec.assignee_ids&&ec.assignee_ids.length>0?(n.assignee_ids=ec.assignee_ids,console.log("Using assignee_ids array:",n.assignee_ids)):(n.assignee_ids=[],console.log("No assignees selected, using empty array")),ec.start_date&&""!==ec.start_date.trim()&&(n.start_date=ec.start_date),ec.due_date&&""!==ec.due_date.trim()&&(n.due_date=ec.due_date),ec.tags&&""!==ec.tags.trim()&&(n.tags=ec.tags.trim());let r=await s.OV.createTask(Number(null==e?void 0:e.id),n);if(E([...C,r]),n.assignee_ids&&n.assignee_ids.length>0&&j&&F)try{let{notificationService:e}=await t.e(273).then(t.bind(t,4273));for(let t of n.assignee_ids)await e.sendTaskAssignmentNotification(r.id,t,j.id,n.name)}catch(e){console.error("Failed to send task assignment notifications:",e)}em({name:"",description:"",assignee_ids:[],priority:"medium",start_date:"",due_date:"",tags:""}),G(!1),U("")}catch(e){U("Failed to create task")}},eg=async(e,n)=>{try{let r=C.find(n=>n.id===e),a=(null==r?void 0:r.status)||"";if(await s.OV.updateTaskStatus(e,n),E(C.map(t=>t.id===e?{...t,status:n}:t)),Q&&Q.id===e&&$({...Q,status:n}),r&&j&&F&&a!==n)try{let{notificationService:e}=await t.e(273).then(t.bind(t,4273));if(r.assignees&&r.assignees.length>0)for(let t of r.assignees)await e.sendTaskUpdateNotification(r.id,t.id,j.id,r.name,"status changed from ".concat(a," to ").concat(n))}catch(e){console.error("Failed to send task status change notifications:",e)}}catch(e){U("Failed to update task status")}},eu=async e=>{if(Q)try{var n;let r=(null===(n=Q.assignees)||void 0===n?void 0:n.map(e=>e.id))||[],a=e.assignee_ids||[],o=await s.OV.updateTask(Q.id,e);E(C.map(e=>e.id===Q.id?o:e)),$(o);let i=a.filter(e=>!r.includes(e));if(i.length>0&&j&&F)try{let{notificationService:e}=await t.e(273).then(t.bind(t,4273));for(let n of i)await e.sendTaskAssignmentNotification(o.id,n,j.id,o.name)}catch(e){console.error("Failed to send task assignment notifications:",e)}U("")}catch(e){throw U("Failed to update task"),e}},ex=(e,n)=>{V||(n.stopPropagation(),$(e),er(!0))},eb=async()=>{await ep()},eh=async e=>{try{await s.OV.deleteTask(e),E(C.filter(n=>n.id!==e)),U("")}catch(e){throw U("Failed to delete task"),e}},ey=async()=>{try{await s.B4.deleteProject(F.id),n.push("/dashboard")}catch(e){U("Failed to delete project"),es(!1)}},ev=(e,n)=>{J(n),e.dataTransfer.effectAllowed="move"},ew=(e,n)=>{e.preventDefault(),e.dataTransfer.dropEffect="move",K(n)},ej=()=>{K(null)},ek=async(e,n)=>{e.preventDefault(),K(null),V&&V.status!==n&&await eg(V.id,n),J(null)},e_=e=>e.sort((e,n)=>{var t,r;let a={urgent:0,high:1,medium:2,low:3},o=null!==(t=a[e.priority])&&void 0!==t?t:4,i=null!==(r=a[n.priority])&&void 0!==r?r:4;if(o!==i)return o-i;if(e.due_date&&n.due_date){let t=new Date(e.due_date).getTime(),r=new Date(n.due_date).getTime();if(t!==r)return t-r}else if(e.due_date&&!n.due_date)return -1;else if(!e.due_date&&n.due_date)return 1;let s=new Date(e.created_at).getTime(),l=new Date(n.created_at).getTime();return s!==l?s-l:e.name.localeCompare(n.name)}),eF=e=>{let n=C.filter(n=>n.status===e);return e_(n)},eN=e=>A.find(n=>n.value===e)||A[1],ez=e=>T.find(n=>n.value===e)||T[0],eC=e=>!!e&&new Date(e)<new Date,eE=e=>{if(!e)return null;let n=new Date,t=new Date(e),r=t.getTime()-n.getTime();return Math.ceil(r/864e5)},eS=()=>{if(!C||0===C.length)return Y;let e=C.map(e=>e.start_date?new Date(e.start_date):null).filter(e=>null!==e).sort((e,n)=>e.getTime()-n.getTime());if(e.length>0){let n=e[0];return new Date(n.getFullYear(),0,1)}return Y},eD=e=>{let n=new Date(e.getFullYear(),0,1),t=n.getDay(),r=new Date(e.getFullYear(),0,1+(0===t?1:8-t));if(e<r)return 1;let a=e.getTime()-r.getTime();return Math.floor(Math.floor(a/864e5)/7)+1},eT=(e,n)=>{let t=new Date(e,0,1),r=t.getDay(),a=new Date(e,0,1+(0===r?1:8-r)),o=new Date(a);return o.setDate(a.getDate()+(n-1)*7),o},eA=e=>{switch(e){case"todo":return"#6366F1";case"in_progress":return"#3B82F6";case"review":return"#F59E0B";case"done":return"#10B981";default:return"#6B7280"}},eB=e=>{switch(e){case"todo":return"linear-gradient(135deg, #6366F1 0%, #8B5CF6 100%)";case"in_progress":return"linear-gradient(135deg, #3B82F6 0%, #06B6D4 100%)";case"review":return"linear-gradient(135deg, #F59E0B 0%, #EF4444 100%)";case"done":return"linear-gradient(135deg, #10B981 0%, #059669 100%)";default:return"linear-gradient(135deg, #6B7280 0%, #4B5563 100%)"}};return _?(0,r.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#ffffff"},children:(0,r.jsx)("div",{style:{width:"32px",height:"32px",border:"3px solid #cccccc",borderTop:"3px solid #000000",borderRadius:"50%",animation:"spin 1s linear infinite"}})}):k?P?(0,r.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#ffffff"},children:(0,r.jsx)("div",{style:{width:"32px",height:"32px",border:"3px solid #cccccc",borderTop:"3px solid #000000",borderRadius:"50%",animation:"spin 1s linear infinite"}})}):F?(0,r.jsxs)("div",{children:[(0,r.jsx)(D.Z,{title:F?"Project: ".concat(F.name):"Project Details",isMobile:el}),(0,r.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n          @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');\n          \n          @keyframes spin {\n            to { transform: rotate(360deg); }\n          }\n\n          @keyframes pulse {\n            0%, 100% { opacity: 1; }\n            50% { opacity: 0.7; }\n          }\n          \n          @keyframes float {\n            0%, 100% { transform: translateY(0px); }\n            50% { transform: translateY(-10px); }\n          }\n          \n          @keyframes shimmer {\n            0% { background-position: -200px 0; }\n            100% { background-position: calc(200px + 100%) 0; }\n          }\n          \n          @keyframes glow {\n            0%, 100% { box-shadow: 0 0 20px rgba(255, 179, 51, 0.3); }\n            50% { box-shadow: 0 0 30px rgba(255, 179, 51, 0.5); }\n          }\n          \n          body {\n            margin: 0;\n            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\n            background: #F5F5ED;\n            overflow-x: hidden;\n            max-width: 100vw;\n          }\n          \n          .project-container {\n            min-height: 100vh;\n            display: flex;\n            background: linear-gradient(135deg, #F5F5ED 0%, #FAFAF2 100%);\n            overflow-x: hidden;\n            max-width: 100vw;\n            position: relative;\n          }\n          \n          .project-container::before {\n            content: '';\n            position: fixed;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: \n              radial-gradient(circle at 20% 80%, rgba(255, 179, 51, 0.1) 0%, transparent 50%),\n              radial-gradient(circle at 80% 20%, rgba(196, 131, 217, 0.1) 0%, transparent 50%),\n              radial-gradient(circle at 40% 40%, rgba(88, 132, 253, 0.05) 0%, transparent 50%);\n            pointer-events: none;\n            z-index: 0;\n          }\n          \n          .main-content {\n            flex: 1;\n            margin-left: ".concat(el?"0":"256px",";\n            background: transparent;\n            overflow-x: hidden;\n            max-width: ").concat(el?"100vw":"calc(100vw - 256px)",";\n            position: relative;\n            z-index: 1;\n            padding-top: ").concat(el?"70px":"0",";\n            padding-left: ").concat(el?"12px":"0",";\n            padding-right: ").concat(el?"12px":"0",";\n          }\n          \n          .header {\n            background: rgba(255, 255, 255, 0.9);\n            backdrop-filter: blur(20px);\n            border-bottom: 1px solid rgba(255, 179, 51, 0.2);\n            padding: 2rem 3rem;\n            position: sticky;\n            top: 0;\n            z-index: 20;\n            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n            border-radius: 0 0 24px 24px;\n            margin: 0 1rem;\n          }\n          .header-content {\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n            margin-bottom: 1.5rem;\n          }\n          \n          .header-title {\n            font-size: 2rem;\n            font-weight: 700;\n            color: #FFB333;\n            margin: 0;\n            letter-spacing: -0.025em;\n            line-height: 1.2;\n            position: relative;\n            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);\n          }\n          \n          .header-title:hover {\n            color: #F87239;\n            transform: translateX(8px);\n          }\n          \n          .header-title::after {\n            content: '';\n            position: absolute;\n            bottom: -6px;\n            left: 0;\n            width: 60px;\n            height: 3px;\n            background: #C483D9;\n            border-radius: 2px;\n            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);\n          }\n          \n          .header-title:hover::after {\n            width: 120px;\n            background: #5884FD;\n          }\n          \n          .header-subtitle {\n            color: #6B7280;\n            text-transform: capitalize;\n            font-size: 1rem;\n            font-weight: 500;\n            margin-top: 0.75rem;\n            letter-spacing: 0.025em;\n            transition: all 0.3s ease;\n          }\n          \n          .header-actions {\n            display: flex;\n            align-items: center;\n            gap: 1.5rem;\n          }\n          \n          .action-buttons-grid {\n            display: grid;\n            grid-template-columns: repeat(3, 1fr);\n            gap: 1rem;\n            min-width: 360px;\n          }\n          \n          .action-btn {\n            padding: 1rem 1.5rem;\n            border-radius: 12px;\n            font-weight: 600;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 0.75rem;\n            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);\n            font-size: 0.875rem;\n            position: relative;\n            background: rgba(255, 255, 255, 0.95);\n            border: 2px solid transparent;\n            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);\n          }\n          \n          .action-btn:hover {\n            transform: translateY(-6px);\n            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);\n          }\n          \n          .action-btn:active {\n            transform: translateY(-2px) scale(0.98);\n          }\n          .view-toggle {\n            display: flex;\n            align-items: center;\n            background: rgba(255, 255, 255, 0.95);\n            border-radius: 12px;\n            padding: 0.5rem;\n            border: 2px solid #F5F5ED;\n            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);\n          }\n          \n          .todo-view {\n              padding: 0 !important;\n              background: transparent !important;\n              min-height: auto !important;\n          }\n          \n          .todo-container {\n              max-width: 100% !important;\n              margin: 0 auto !important;\n              padding: 0 !important;\n            }\n            \n            .todo-stats-grid {\n              display: grid !important;\n              grid-template-columns: repeat(3, 1fr) !important;\n              gap: 0.375rem !important;\n              margin-bottom: 0.75rem !important;\n            }\n            \n            .todo-stat-card {\n              background: #ffffff !important;\n              border: 2px solid #000000 !important;\n              border-radius: 6px !important;\n              padding: 0.5rem 0.25rem !important;\n              text-align: center !important;\n              min-height: 45px !important;\n              display: flex !important;\n              flex-direction: column !important;\n              justify-content: center !important;\n              align-items: center !important;\n            }\n            \n            .todo-stat-number {\n              font-size: 1rem !important;\n              font-weight: 700 !important;\n              color: #000000 !important;\n              margin: 0 !important;\n              line-height: 1 !important;\n            }\n            \n            .todo-stat-label {\n              font-size: 0.6rem !important;\n              font-weight: 600 !important;\n              color: #6b7280 !important;\n              margin-top: 0.2rem !important;\n              text-transform: uppercase !important;\n              letter-spacing: 0.025em !important;\n              line-height: 1.1 !important;\n            }\n            \n            .todo-controls {\n              display: flex !important;\n              flex-direction: column !important;\n              gap: 0.75rem !important;\n              margin-bottom: 1rem !important;\n            }\n            \n            .todo-add-btn {\n              background: #000000 !important;\n              color: #ffffff !important;\n              border: 2px solid #000000 !important;\n              border-radius: 8px !important;\n              padding: 0.75rem !important;\n              font-weight: 600 !important;\n              font-size: 0.9rem !important;\n              cursor: pointer !important;\n              transition: all 0.2s ease !important;\n              text-align: center !important;\n              touch-action: manipulation !important;\n              -webkit-tap-highlight-color: transparent !important;\n            }\n            \n            .todo-add-btn:hover {\n              transform: translateY(-1px) !important;\n              box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1) !important;\n            }\n            \n            .todo-view-toggle {\n              display: flex !important;\n              gap: 0.25rem !important;\n              background: #ffffff !important;\n              border: 2px solid #000000 !important;\n              border-radius: 8px !important;\n              padding: 0.25rem !important;\n            }\n            \n            .todo-view-btn {\n              flex: 1 !important;\n              padding: 0.5rem !important;\n              border: none !important;\n              background: transparent !important;\n              color: #6b7280 !important;\n              border-radius: 4px !important;\n              cursor: pointer !important;\n              font-size: 0.8rem !important;\n              font-weight: 600 !important;\n              transition: all 0.2s ease !important;\n              text-align: center !important;\n            }\n            \n            .todo-view-btn.active {\n              background: #000000 !important;\n              color: #ffffff !important;\n            }\n            \n            .todo-filters {\n              display: flex !important;\n              flex-direction: column !important;\n              gap: 0.5rem !important;\n              margin-bottom: 1rem !important;\n            }\n            \n            .todo-filter-select {\n              padding: 0.75rem !important;\n              border: 2px solid #000000 !important;\n              border-radius: 8px !important;\n              background: #ffffff !important;\n              color: #000000 !important;\n              font-size: 0.9rem !important;\n              font-weight: 500 !important;\n              cursor: pointer !important;\n            }\n            \n            .todo-empty-state {\n              text-align: center !important;\n              padding: 3rem 1rem !important;\n              background: #ffffff !important;\n              border: 2px solid #000000 !important;\n              border-radius: 12px !important;\n              color: #6b7280 !important;\n            }\n            \n            .todo-empty-state h3 {\n              font-size: 1.1rem !important;\n              font-weight: 600 !important;\n              color: #000000 !important;\n              margin: 0 0 0.5rem 0 !important;\n            }\n            \n            .todo-empty-state p {\n              font-size: 0.9rem !important;\n              margin: 0 !important;\n              font-style: italic !important;\n          }\n          .view-btn {\n            padding: 0.75rem 1rem;\n            border: none;\n            background: transparent;\n            border-radius: 8px;\n            cursor: pointer;\n            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);\n            color: #6B7280;\n            font-weight: 600;\n            font-size: 0.875rem;\n            position: relative;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 0.5rem;\n            flex-direction: column;\n            min-height: 60px;\n          }\n          \n          .view-btn svg {\n            width: 20px;\n            height: 20px;\n            transition: all 0.3s ease;\n            opacity: 0.7;\n          }\n          \n          .view-btn:hover {\n            color: #FFB333;\n            transform: translateY(-2px);\n          }\n          \n          .view-btn:hover svg {\n            opacity: 1;\n            transform: scale(1.1);\n          }\n          \n          .view-btn.active {\n            background: #FFB333;\n            color: #FFFFFF;\n            transform: translateY(-2px);\n            box-shadow: 0 8px 24px rgba(255, 179, 51, 0.3);\n          }\n          \n          .view-btn.active svg {\n            opacity: 1;\n            color: #FFFFFF;\n            transform: scale(1.05);\n          }\n          \n          .members-btn {\n            background: rgba(255, 255, 255, 0.95);\n            color: #5884FD;\n            border-color: #5884FD;\n          }\n          \n          .members-btn:hover {\n            background: #5884FD;\n            color: #FFFFFF;\n            border-color: #5884FD;\n          }\n          \n          .delete-btn {\n            background: rgba(255, 255, 255, 0.95);\n            color: #EF4444;\n            border-color: #EF4444;\n          }\n          \n          .delete-btn:hover {\n            background: #EF4444;\n            color: #FFFFFF;\n            border-color: #EF4444;\n          }\n          \n          .add-task-btn {\n            background: #FFB333;\n            color: #FFFFFF;\n            border-color: #FFB333;\n          }\n          \n          .add-task-btn:hover {\n            background: #F87239;\n            border-color: #F87239;\n          }\n          .project-stats {\n            display: flex;\n            align-items: center;\n            gap: 3rem;\n            flex-wrap: wrap;\n            margin-top: 1rem;\n          }\n          \n          .stat-item {\n            display: flex;\n            align-items: center;\n            gap: 0.75rem;\n            font-size: 1rem;\n            color: #374151;\n            font-weight: 600;\n            padding: 0.75rem 1.25rem;\n            background: rgba(255, 255, 255, 0.8);\n            border-radius: 16px;\n            border: 1px solid rgba(255, 179, 51, 0.2);\n            backdrop-filter: blur(10px);\n            transition: all 0.3s ease;\n          }\n          \n          .stat-item:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);\n            border-color: rgba(255, 179, 51, 0.4);\n          }\n          \n          .members-display {\n            display: flex;\n            align-items: center;\n            gap: 1rem;\n            padding: 0.75rem 1.25rem;\n            background: rgba(255, 255, 255, 0.8);\n            border-radius: 16px;\n            border: 1px solid rgba(196, 131, 217, 0.2);\n            backdrop-filter: blur(10px);\n            transition: all 0.3s ease;\n          }\n          \n          .members-display:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);\n            border-color: rgba(196, 131, 217, 0.4);\n          }\n          \n          .members-avatars {\n            display: flex;\n            align-items: center;\n            margin: 0;\n            gap: -8px;\n          }\n          \n          .member-avatar {\n            width: 40px;\n            height: 40px;\n            background: #FFB333;\n            color: #FFFFFF;\n            border: 3px solid #FFFFFF;\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-size: 0.875rem;\n            font-weight: 700;\n            position: relative;\n            z-index: 1;\n            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n            margin-left: -8px;\n            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);\n          }\n          \n          .member-avatar:first-child {\n            margin-left: 0;\n          }\n          \n          .member-avatar:nth-child(2) {\n            background: #F87239;\n          }\n          \n          .member-avatar:nth-child(3) {\n            background: #C483D9;\n          }\n          \n          .member-avatar:nth-child(4) {\n            background: #5884FD;\n          }\n          \n          .member-avatar:hover {\n            transform: translateY(-4px) scale(1.1);\n            z-index: 2;\n            box-shadow: 0 8px 20px rgba(255, 179, 51, 0.3);\n          }\n          \n          .member-avatar.more-members {\n            background: #6B7280;\n            font-size: 0.75rem;\n            z-index: 0;\n          }\n          \n          .members-count {\n            font-size: 0.925rem;\n            color: #6B7280;\n            font-weight: 600;\n            margin-left: 0.5rem;\n          }\n          \n          /* Modal and Form Styling */\n          .modal-overlay {\n            position: fixed;\n            inset: 0;\n            background: rgba(0, 0, 0, 0.8);\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: 1rem;\n            z-index: 1000;\n            backdrop-filter: blur(8px);\n            animation: fadeIn 0.3s ease-out;\n          }\n          \n          @keyframes fadeIn {\n            from { opacity: 0; }\n            to { opacity: 1; }\n          }\n          \n          @keyframes slideUp {\n            from { \n              opacity: 0;\n              transform: translateY(20px) scale(0.95);\n            }\n            to { \n              opacity: 1;\n              transform: translateY(0) scale(1);\n            }\n          }\n          \n          .modal-content {\n            background: rgba(255, 255, 255, 0.98);\n            border: 2px solid #FFB333;\n            border-radius: 16px;\n            padding: 2rem;\n            width: 100%;\n            max-width: 800px;\n            max-height: 90vh;\n            overflow-y: auto;\n            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n            backdrop-filter: blur(20px);\n            animation: slideUp 0.4s cubic-bezier(0.23, 1, 0.32, 1);\n            position: relative;\n          }\n          \n          .modal-content::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            height: 4px;\n            background: linear-gradient(90deg, #FFB333, #F87239, #C483D9, #5884FD);\n            border-radius: 16px 16px 0 0;\n          }\n          \n          .modal-title {\n            font-size: 1.75rem;\n            font-weight: 700;\n            color: #374151;\n            margin: 0 0 1.5rem 0;\n            letter-spacing: -0.025em;\n          }\n          \n          .form-group {\n            display: flex;\n            flex-direction: column;\n            gap: 0.5rem;\n            margin-bottom: 1.5rem;\n          }\n          \n          .form-label {\n            font-size: 0.925rem;\n            font-weight: 600;\n            color: #374151;\n            letter-spacing: 0.025em;\n          }\n          \n          .form-input, .form-textarea, .form-select {\n            width: 100%;\n            padding: 0.875rem 1rem;\n            border: 2px solid rgba(245, 245, 237, 0.8);\n            border-radius: 8px;\n            font-size: 0.925rem;\n            background: rgba(255, 255, 255, 0.9);\n            transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);\n            backdrop-filter: blur(10px);\n          }\n          \n          .form-input:focus, .form-textarea:focus, .form-select:focus {\n            outline: none;\n            border-color: #FFB333;\n            box-shadow: 0 0 0 3px rgba(255, 179, 51, 0.1);\n            background: #FFFFFF;\n          }\n          \n          .form-textarea {\n            resize: vertical;\n            min-height: 100px;\n          }\n          \n          .button-group {\n            display: flex;\n            gap: 1rem;\n            margin-top: 2rem;\n            padding-top: 1.5rem;\n            border-top: 2px solid rgba(245, 245, 237, 0.6);\n          }\n          \n          .btn-primary, .btn-secondary {\n            flex: 1;\n            padding: 1rem 1.5rem;\n            border: none;\n            border-radius: 8px;\n            font-size: 0.925rem;\n            font-weight: 600;\n            cursor: pointer;\n            transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);\n            position: relative;\n            overflow: hidden;\n          }\n          \n          .btn-primary {\n            background: #FFB333;\n            color: #FFFFFF;\n            border: 2px solid #FFB333;\n          }\n          \n          .btn-primary:hover {\n            background: #F87239;\n            border-color: #F87239;\n            transform: translateY(-2px);\n            box-shadow: 0 8px 24px rgba(255, 179, 51, 0.3);\n          }\n          \n          .btn-secondary {\n            background: rgba(255, 255, 255, 0.9);\n            color: #6B7280;\n            border: 2px solid #E5E7EB;\n          }\n          \n          .btn-secondary:hover {\n            background: #F9FAFB;\n            color: #374151;\n            border-color: #D1D5DB;\n            transform: translateY(-2px);\n          }\n          \n          /* Enhanced seamless flow animations */\n          .main-content-area > * {\n            animation: fadeInUp 0.6s cubic-bezier(0.23, 1, 0.32, 1) forwards;\n          }\n          \n          @keyframes fadeInUp {\n            from {\n              opacity: 0;\n              transform: translateY(20px);\n            }\n            to {\n              opacity: 1;\n              transform: translateY(0);\n            }\n          }\n          \n          .status-column:nth-child(1) { animation-delay: 0.1s; }\n          .status-column:nth-child(2) { animation-delay: 0.2s; }\n          .status-column:nth-child(3) { animation-delay: 0.3s; }\n          .status-column:nth-child(4) { animation-delay: 0.4s; }\n          \n          .task-card {\n            animation: slideInTask 0.5s cubic-bezier(0.23, 1, 0.32, 1) forwards;\n            opacity: 0;\n          }\n          \n          @keyframes slideInTask {\n            from {\n              opacity: 0;\n              transform: translateX(-20px);\n            }\n            to {\n              opacity: 1;\n              transform: translateX(0);\n            }\n          }\n          /* Mobile Responsive Styles */\n          @media (max-width: 768px) {\n            .main-content {\n              margin-left: 0;\n            }\n            \n            .project-stats {\n              display: none !important;\n            }\n            \n            .stat-item {\n              display: none !important;\n            }\n            \n            .members-display {\n              display: none !important;\n            }\n            \n            .header {\n              padding: 1rem 1rem 0.5rem 1rem;\n              position: relative;\n            }\n            \n            .header-title {\n              font-size: 1.5rem;\n              margin-bottom: 0.25rem;\n            }\n            \n            .header-subtitle {\n              font-size: 0.85rem;\n              margin-bottom: 1rem;\n            }\n            \n            .header-content {\n              flex-direction: column;\n              gap: 0;\n              align-items: stretch;\n            }\n            \n            .header-actions {\n              display: flex;\n              flex-direction: column;\n              gap: 0.75rem;\n              width: 100%;\n            }\n            \n            .action-buttons-grid {\n              order: 1;\n              display: grid;\n              grid-template-columns: repeat(3, 1fr);\n              gap: 0.5rem;\n              width: 100%;\n              min-width: unset;\n            }\n            \n            .view-toggle {\n              order: 2;\n              width: 100%;\n              justify-content: center;\n              padding: 0.25rem;\n              background: #ffffff;\n              border: 2px solid #000000;\n              border-radius: 8px;\n              margin-bottom: 0;\n            }\n            \n            .view-btn {\n              flex: 1;\n              padding: 0.5rem 0.375rem;\n              font-size: 0.75rem;\n              display: flex;\n              flex-direction: column;\n              align-items: center;\n              gap: 0.2rem;\n              min-height: 50px;\n            }\n            \n            .view-btn svg {\n              width: 20px;\n              height: 20px;\n            }\n            \n            .view-btn.active {\n              background: #000000;\n              color: #ffffff;\n            }\n            \n            .action-btn {\n              padding: 0.875rem 0.5rem;\n              font-size: 0.8rem;\n              gap: 0.5rem;\n              flex-direction: column;\n              min-height: 60px;\n            }\n            \n            .action-btn svg {\n              width: 18px;\n              height: 18px;\n            }\n            \n            .members-btn {\n              background: #ffffff;\n              border: 2px solid #6b7280;\n              color: #374151;\n            }\n            \n            .delete-btn {\n              background: #ffffff;\n              border: 2px solid #ef4444;\n              color: #ef4444;\n            }\n            \n            .add-task-btn {\n              background: #000000;\n              color: #ffffff;\n              border: 2px solid #000000;\n              font-weight: 600;\n            }\n            \n\n            \n\n            \n            .main-content-area {\n              padding: 1rem;\n            }\n            \n            .view-description {\n              padding: 1rem;\n              margin-bottom: 1rem;\n            }\n            \n            .view-description h3 {\n              font-size: 1.1rem;\n              margin-bottom: 0.5rem;\n            }\n            \n            .view-description p {\n              font-size: 0.85rem;\n              line-height: 1.4;\n            }\n            \n            .board-grid {\n              grid-template-columns: 1fr;\n              gap: 1rem;\n            }\n            \n            .status-column {\n              padding: 1rem;\n              min-height: auto;\n            }\n            \n            .status-header {\n              margin-bottom: 1rem;\n              padding-bottom: 0.75rem;\n            }\n            \n            .status-title {\n              font-size: 1rem;\n            }\n            \n            .status-count {\n              padding: 0.25rem 0.75rem;\n              font-size: 0.75rem;\n            }\n            \n            .task-card {\n              padding: 1rem;\n              margin-bottom: 0.75rem;\n              border-radius: 8px;\n            }\n            \n            .task-title {\n              font-size: 0.95rem;\n              line-height: 1.3;\n            }\n            \n            .task-meta-item {\n              padding: 0.5rem;\n              font-size: 0.8rem;\n              border-radius: 4px;\n            }\n            \n            .assignee-avatar {\n              width: 20px;\n              height: 20px;\n              font-size: 0.65rem;\n            }\n            \n            .modal-content {\n              background: #ffffff;\n              border: 2px solid #000000;\n              padding: 2rem !important;\n              width: 100%;\n              max-width: 95vw;\n              padding: 1.5rem !important;\n              margin: 0.5rem;\n              border-radius: 8px !important;\n            }\n            \n            .modal-title {\n              font-size: 1.25rem;\n              margin-bottom: 1rem !important;\n            }\n            \n            .form-group {\n              margin-bottom: 1.25rem !important;\n            }\n            \n            .form-label {\n              font-size: 0.9rem;\n              margin-bottom: 0.4rem !important;\n            }\n            \n            .form-input, .form-textarea, .form-select {\n              padding: 1rem;\n              font-size: 1rem;\n              border-radius: 6px;\n            }\n            \n            .button-group {\n              flex-direction: column;\n              gap: 0.75rem;\n              margin-top: 1.25rem !important;\n            }\n            \n            .btn-primary, .btn-secondary {\n              padding: 1rem;\n              font-size: 1rem;\n              border-radius: 6px;\n            }\n          }\n          \n          @media (max-width: 480px) {\n            .header {\n              padding: 0.75rem 0.75rem 0.25rem 0.75rem;\n            }\n            \n            .project-stats {\n              display: none !important;\n            }\n            \n            .stat-item {\n              display: none !important;\n            }\n            \n            .members-display {\n              display: none !important;\n            }\n            \n            .header-title {\n              font-size: 1.25rem;\n              text-align: center;\n            }\n            \n            .header-subtitle {\n              font-size: 0.8rem;\n              text-align: center;\n              margin-bottom: 1rem;\n            }\n            \n            .main-content-area {\n              padding: 0.75rem;\n            }\n            \n            .view-toggle {\n              padding: 0.2rem;\n              margin-bottom: 0;\n            }\n            \n            .view-btn {\n              padding: 0.5rem 0.25rem;\n              font-size: 0.7rem;\n              min-height: 45px;\n              gap: 0.15rem;\n            }\n            \n            .view-btn svg {\n              width: 16px;\n              height: 16px;\n            }\n            \n            .action-btn {\n              padding: 0.75rem 0.375rem;\n              font-size: 0.75rem;\n              gap: 0.375rem;\n              min-height: 55px;\n            }\n            \n            .action-btn svg {\n              width: 16px;\n              height: 16px;\n            }\n            \n            .project-stats {\n              gap: 0.5rem;\n              padding: 0.75rem;\n              margin-top: 0.75rem;\n            }\n            \n\n            \n            .view-description {\n              padding: 0.75rem;\n            }\n            \n            .view-description h3 {\n              font-size: 1rem;\n            }\n            \n            .view-description p {\n              font-size: 0.8rem;\n            }\n            \n            .status-column {\n              padding: 0.75rem;\n            }\n            \n            .status-title {\n              font-size: 0.9rem;\n            }\n            \n            .task-card {\n              padding: 0.75rem;\n            }\n            \n            .task-title {\n              font-size: 0.9rem !important;\n              word-wrap: break-word !important;\n              overflow-wrap: break-word !important;\n              word-break: break-word !important;\n              white-space: normal !important;\n              hyphens: auto !important;\n              max-width: 100% !important;\n              display: block !important;\n            }\n            \n            .task-meta-item {\n              padding: 0.375rem;\n              font-size: 0.75rem;\n            }\n            \n            .assignee-avatar {\n              width: 18px;\n              height: 18px;\n              font-size: 0.6rem;\n            }\n            \n            .modal-content {\n              max-width: 98vw;\n              padding: 1.25rem !important;\n              margin: 0.25rem;\n            }\n            \n            .modal-title {\n              font-size: 1.1rem;\n              margin-bottom: 0.75rem !important;\n            }\n            \n            .form-group {\n              margin-bottom: 1rem !important;\n            }\n            \n            .form-input, .form-textarea, .form-select {\n              padding: 0.875rem;\n              font-size: 0.9rem;\n              border-radius: 6px;\n            }\n            \n            .button-group {\n              gap: 0.625rem;\n              margin-top: 1rem !important;\n            }\n            \n            .btn-primary, .btn-secondary {\n              padding: 0.875rem;\n              font-size: 0.9rem;\n              border-radius: 6px;\n            }\n          }\n          \n          /* Ultra-small mobile screens */\n          @media (max-width: 360px) {\n            .header {\n              padding: 0.5rem;\n            }\n            \n            .header-title {\n              font-size: 1.1rem;\n            }\n            \n            .header-subtitle {\n              font-size: 0.75rem;\n            }\n            \n            .main-content-area {\n              padding: 0.5rem;\n            }\n            \n            .view-toggle {\n              padding: 0.2rem;\n            }\n            \n            .view-btn {\n              padding: 0.5rem 0.25rem;\n              font-size: 0.7rem;\n              min-height: 45px;\n            }\n            \n            .view-btn svg {\n              width: 14px;\n              height: 14px;\n            }\n            \n            .members-btn, .delete-btn, .add-task-btn {\n              padding: 0.75rem;\n              font-size: 0.8rem;\n            }\n            \n            .project-stats {\n              padding: 0.5rem;\n            }\n            \n            .stat-item {\n              padding: 0.5rem;\n              font-size: 0.75rem;\n            }\n            \n            .view-description {\n              padding: 0.5rem;\n            }\n            \n            .status-column {\n              padding: 0.5rem;\n            }\n            \n            .task-card {\n              padding: 0.5rem;\n            }\n            \n            .modal-content {\n              padding: 1rem;\n              margin: 0.1rem;\n            }\n          }\n          \n          .project-stats {\n            display: flex;\n            align-items: center;\n            gap: 2rem;\n            font-size: 0.9rem;\n            color: #666666;\n          }\n          .stat-item {\n            display: flex;\n            align-items: center;\n            gap: 0.5rem;\n            background: rgba(255, 255, 255, 0.8);\n            padding: 0.5rem 1rem;\n            border-radius: 8px;\n            border: 1px solid #e5e7eb;\n          }\n          .main-content-area {\n            padding: 2rem 3rem;\n            overflow-x: auto;\n            max-width: 100%;\n            position: relative;\n          }\n          \n          .main-content-area::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: \n              radial-gradient(circle at 25% 25%, rgba(255, 179, 51, 0.03) 0%, transparent 50%),\n              radial-gradient(circle at 75% 75%, rgba(196, 131, 217, 0.03) 0%, transparent 50%);\n            pointer-events: none;\n            z-index: 0;\n          }\n          \n          .error-message {\n            background: rgba(255, 255, 255, 0.95);\n            border: 2px solid #EF4444;\n            color: #DC2626;\n            padding: 1.25rem 1.5rem;\n            border-radius: 12px;\n            margin-bottom: 1.5rem;\n            font-weight: 600;\n            box-shadow: 0 8px 24px rgba(239, 68, 68, 0.1);\n            backdrop-filter: blur(10px);\n            position: relative;\n            z-index: 1;\n          }\n          \n          .board-grid {\n            display: grid;\n            grid-template-columns: repeat(4, 1fr);\n            gap: 1.5rem;\n            min-height: 600px;\n            position: relative;\n            z-index: 1;\n          }\n          \n          .status-column {\n            background: rgba(255, 255, 255, 0.95);\n            border: 2px solid #F5F5ED;\n            border-radius: 16px;\n            padding: 1.5rem;\n            min-height: 600px;\n            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);\n            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);\n            backdrop-filter: blur(20px);\n            position: relative;\n            overflow: hidden;\n          }\n          \n          .status-column::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            height: 4px;\n            background: #FFB333;\n            transition: all 0.4s ease;\n          }\n          \n          .status-column:nth-child(2)::before {\n            background: #5884FD;\n          }\n          \n          .status-column:nth-child(3)::before {\n            background: #F87239;\n          }\n          \n          .status-column:nth-child(4)::before {\n            background: #C483D9;\n          }\n          \n          .status-column:hover {\n            transform: translateY(-4px);\n            box-shadow: 0 16px 48px rgba(0, 0, 0, 0.12);\n            border-color: rgba(255, 179, 51, 0.3);\n          }\n          \n          .status-column.drag-over {\n            border-color: #FFB333;\n            background: rgba(255, 179, 51, 0.05);\n            transform: translateY(-4px) scale(1.02);\n            box-shadow: 0 20px 60px rgba(255, 179, 51, 0.2);\n          }\n          .status-header {\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n            margin-bottom: 1.5rem;\n            padding-bottom: 1rem;\n            border-bottom: 2px solid rgba(245, 245, 237, 0.6);\n            position: relative;\n            z-index: 1;\n          }\n          \n          .status-title-wrapper {\n            display: flex;\n            align-items: center;\n            gap: 0.75rem;\n          }\n          \n          .status-icon {\n            font-size: 1.25rem;\n            transition: all 0.3s ease;\n          }\n          \n          .status-title {\n            font-weight: 700;\n            color: #374151;\n            font-size: 1.1rem;\n            letter-spacing: -0.025em;\n            transition: all 0.3s ease;\n          }\n          \n          .status-count {\n            background: rgba(255, 179, 51, 0.1);\n            border: 2px solid #FFB333;\n            padding: 0.375rem 0.75rem;\n            border-radius: 20px;\n            font-size: 0.75rem;\n            font-weight: 700;\n            color: #FFB333;\n            min-width: 24px;\n            text-align: center;\n            transition: all 0.3s ease;\n          }\n          .tasks-list {\n            display: flex;\n            flex-direction: column;\n            gap: 1rem;\n            min-height: 400px;\n          }\n          .task-card {\n            background: rgba(255, 255, 255, 0.9);\n            border: 2px solid rgba(245, 245, 237, 0.8);\n            border-radius: 12px;\n            padding: 1.25rem;\n            cursor: grab;\n            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);\n            position: relative;\n            overflow: hidden;\n            min-height: 80px;\n            backdrop-filter: blur(10px);\n            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.05);\n          }\n          \n          .task-card::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 4px;\n            height: 100%;\n            background: #FFB333;\n            opacity: 0;\n            transition: all 0.3s ease;\n          }\n          \n          .task-card:hover {\n            transform: translateY(-6px);\n            box-shadow: 0 16px 40px rgba(0, 0, 0, 0.12);\n            border-color: rgba(255, 179, 51, 0.4);\n          }\n          \n          .task-card:hover::before {\n            opacity: 1;\n          }\n          \n          .task-card:active {\n            cursor: grabbing;\n          }\n          \n          .task-card.dragging {\n            opacity: 0.6;\n            transform: rotate(5deg) scale(1.05);\n            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.15);\n          }\n          .task-header {\n            margin-bottom: 0.75rem;\n          }\n          .task-title {\n            font-weight: 600 !important;\n            color: #374151 !important;\n            font-size: 1rem !important;\n            line-height: 1.4 !important;\n            flex: 1 !important;\n            margin-right: 0.5rem !important;\n            letter-spacing: -0.025em !important;\n            transition: all 0.3s ease !important;\n            word-wrap: break-word !important;\n            overflow-wrap: break-word !important;\n            word-break: break-word !important;\n            white-space: normal !important;\n            hyphens: auto !important;\n            max-width: 100% !important;\n            display: block !important;\n          }\n          \n          .task-card:hover .task-title {\n            color: #FFB333;\n          }\n          .task-actions {\n            display: flex;\n            align-items: center;\n            gap: 0.5rem;\n          }\n          .task-priority {\n            font-size: 1.1rem;\n            filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));\n          }\n          .task-menu-btn {\n            background: none;\n            border: none;\n            padding: 0.25rem;\n            border-radius: 4px;\n            cursor: pointer;\n            color: #9ca3af;\n            transition: all 0.2s ease;\n          }\n          .task-menu-btn:hover {\n            background: #f3f4f6;\n            color: #000000;\n          }\n          .task-description {\n            font-size: 0.875rem;\n            color: #6b7280;\n            margin-bottom: 1rem;\n            line-height: 1.5;\n          }\n          .task-meta {\n            display: flex;\n            flex-direction: column;\n            gap: 0.75rem;\n          }\n          .task-meta-item {\n            display: flex;\n            align-items: center;\n            gap: 0.5rem;\n            font-size: 0.8rem;\n            color: #6b7280;\n            background: #f9fafb;\n            padding: 0.5rem;\n            border-radius: 6px;\n            border: 1px solid #e5e7eb;\n          }\n          .task-meta-item.overdue {\n            background: #fef2f2;\n            border-color: #fecaca;\n            color: #dc2626;\n            animation: pulse 2s infinite;\n          }\n          .task-meta-item.urgent {\n            background: #fff7ed;\n            border-color: #fed7aa;\n            color: #ea580c;\n          }\n          .assignee-avatar {\n            width: 24px;\n            height: 24px;\n            background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);\n            border: 2px solid #000000;\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-size: 0.7rem;\n            font-weight: 600;\n            color: #000000;\n          }\n          .modal-overlay {\n            position: fixed;\n            inset: 0;\n            background: rgba(0, 0, 0, 0.8);\n            backdrop-filter: blur(4px);\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: 1rem;\n            z-index: 50;\n            animation: fadeIn 0.3s ease-out;\n          }\n          @keyframes fadeIn {\n            from { opacity: 0; }\n            to { opacity: 1; }\n          }\n          .modal-content {\n            background: #ffffff;\n            border: 2px solid #000000;\n            padding: 2rem !important;\n            width: 100%;\n            max-width: 600px;\n            border-radius: 12px !important;\n            max-height: 90vh;\n            height: auto;\n            overflow-y: auto !important;\n            overflow-x: hidden;\n            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\n            animation: slideIn 0.3s ease-out;\n            display: flex;\n            flex-direction: column;\n            box-sizing: border-box;\n            /* Enhanced scrolling support for all devices */\n            -webkit-overflow-scrolling: touch; /* iOS smooth scrolling */\n            scrollbar-width: thin; /* Firefox */\n            scrollbar-color: #000000 #f1f1f1; /* Firefox */\n          }\n          /* Custom scrollbar styling for webkit browsers */\n          .modal-content::-webkit-scrollbar {\n            width: 8px;\n          }\n          .modal-content::-webkit-scrollbar-track {\n            background: #f1f1f1;\n            border-radius: 4px;\n          }\n          .modal-content::-webkit-scrollbar-thumb {\n            background: #000000;\n            border-radius: 4px;\n          }\n          .modal-content::-webkit-scrollbar-thumb:hover {\n            background: #333333;\n          }\n          /* Enhanced mobile support */\n          @media (max-width: 768px) {\n            .modal-content {\n              max-height: 95vh !important;\n              margin: 0.5rem;\n              padding: 1.5rem !important;\n              max-width: calc(100vw - 1rem);\n            }\n          }\n          @media (max-height: 600px) {\n            .modal-content {\n              max-height: 98vh !important;\n              padding: 1rem !important;\n            }\n          }\n          @keyframes slideIn {\n            from { transform: translateY(-20px); opacity: 0; }\n            to { transform: translateY(0); opacity: 1; }\n          }\n          .modal-title {\n            font-size: 1.5rem;\n            font-weight: bold;\n            color: #000000;\n            margin-bottom: 1.5rem !important;\n            text-align: center;\n          }\n          /* Enhanced form layout for scrollable modal */\n          .modal-content form {\n            flex: 1;\n            display: flex;\n            flex-direction: column;\n            min-height: 0; /* Allow shrinking */\n          }\n          .form-group {\n            margin-bottom: 1.5rem !important;\n            flex-shrink: 0; /* Prevent form groups from shrinking */\n          }\n          .form-label {\n            display: block;\n            font-weight: 600;\n            color: #000000;\n            margin-bottom: 0.5rem !important;\n            font-size: 0.9rem;\n          }\n          .form-input {\n            width: 100%;\n            padding: 0.875rem;\n            border: 2px solid #e5e7eb;\n            border-radius: 8px;\n            font-size: 1rem;\n            box-sizing: border-box;\n            background: #ffffff;\n            color: #000000;\n            transition: all 0.2s ease;\n          }\n          .form-input:focus {\n            outline: none;\n            border-color: #000000;\n            background: #f9fafb;\n            box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.1);\n          }\n          .form-textarea {\n            width: 100%;\n            padding: 0.875rem;\n            border: 2px solid #e5e7eb;\n            border-radius: 8px;\n            font-size: 1rem;\n            box-sizing: border-box;\n            background: #ffffff;\n            color: #000000;\n            resize: vertical;\n            font-family: inherit;\n            transition: all 0.2s ease;\n          }\n          .form-textarea:focus {\n            outline: none;\n            border-color: #000000;\n            background: #f9fafb;\n            box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.1);\n          }\n          .form-select {\n            width: 100%;\n            padding: 0.875rem;\n            border: 2px solid #e5e7eb;\n            border-radius: 8px;\n            font-size: 1rem;\n            box-sizing: border-box;\n            background: #ffffff;\n            color: #000000;\n            transition: all 0.2s ease;\n          }\n          .form-select:focus {\n            outline: none;\n            border-color: #000000;\n            box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.1);\n          }\n          .button-group {\n            display: flex;\n            gap: 1rem;\n            margin-top: 1.5rem !important;\n            flex-shrink: 0; /* Keep buttons at bottom */\n            position: sticky;\n            bottom: 0;\n            background: #ffffff;\n            padding-top: 1rem;\n            border-top: 1px solid #e5e7eb;\n          }\n          .btn-primary {\n            flex: 1;\n            background: linear-gradient(135deg, #000000 0%, #333333 100%);\n            color: #ffffff;\n            border: none;\n            padding: 1rem;\n            border-radius: 8px;\n            font-weight: 600;\n            cursor: pointer;\n            transition: all 0.2s ease;\n            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n          }\n          .btn-primary:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 15px -3px rgba(0, 0, 0, 0.1);\n          }\n          .btn-secondary {\n            flex: 1;\n            background: #ffffff;\n            color: #000000;\n            border: 2px solid #000000;\n            padding: 1rem;\n            border-radius: 8px;\n            font-weight: 600;\n            cursor: pointer;\n            transition: all 0.2s ease;\n          }\n          .btn-secondary:hover {\n            background: #f9fafb;\n            transform: translateY(-1px);\n          }\n          .empty-state {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            padding: 3rem 1rem;\n            text-align: center;\n            color: #9ca3af;\n            font-style: italic;\n          }\n\n          /* View Description Styles */\n          .view-description {\n            background: #ffffff;\n            border: 2px solid #000000;\n            border-radius: 12px;\n            padding: 1.5rem;\n            margin-bottom: 1rem;\n            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n          }\n          .view-description h3 {\n            font-size: 1.25rem;\n            font-weight: 600;\n            color: #000000;\n            margin: 0 0 0.5rem 0;\n          }\n          .view-description p {\n            font-size: 0.9rem;\n            color: #6b7280;\n            margin: 0;\n            line-height: 1.5;\n          }\n\n          /* View Container Styles */\n          .board-view, .list-view, .timeline-view, .gantt-view {\n            display: flex;\n            flex-direction: column;\n            gap: 1.5rem;\n          }\n\n          /* Timeline View Styles */\n          .timeline-view {\n            display: flex;\n            flex-direction: column;\n            gap: 1.5rem;\n          }\n          .timeline-header-controls {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n          }\n          .timeline-stats {\n            display: grid;\n            grid-template-columns: repeat(4, 1fr);\n            gap: 1rem;\n          }\n          .stat-card {\n            background: #ffffff;\n            border: 2px solid #000000;\n            border-radius: 8px;\n            padding: 1rem;\n            text-align: center;\n            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n          }\n          .stat-label {\n            font-size: 0.75rem;\n            color: #6b7280;\n            margin-bottom: 0.25rem;\n            font-weight: 500;\n          }\n          .stat-value {\n            font-size: 1.5rem;\n            font-weight: bold;\n            color: #000000;\n          }\n          .timeline-grid {\n            background: #ffffff;\n            border: 2px solid #000000;\n            border-radius: 12px;\n            overflow: hidden;\n            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n          }\n          .timeline-grid-header {\n            display: grid;\n            grid-template-columns: 300px 1fr;\n            background: #f8fafc;\n            border-bottom: 2px solid #000000;\n            font-weight: 600;\n            color: #000000;\n          }\n          .timeline-task-column, .timeline-chart-column {\n            padding: 1rem 1.5rem;\n            border-right: 1px solid #e5e7eb;\n          }\n          .timeline-chart-column {\n            border-right: none;\n          }\n          .timeline-grid-body {\n            min-height: 400px;\n          }\n          .timeline-row {\n            display: grid;\n            grid-template-columns: 300px 1fr;\n            border-bottom: 1px solid #e5e7eb;\n            align-items: center;\n            min-height: 80px;\n          }\n          .timeline-row:last-child {\n            border-bottom: none;\n          }\n          .timeline-task-info {\n            padding: 1rem 1.5rem;\n            border-right: 1px solid #e5e7eb;\n          }\n          .task-name {\n            font-weight: 600;\n            color: #000000;\n            margin-bottom: 0.5rem;\n          }\n          .task-details {\n            display: flex;\n            align-items: center;\n            gap: 0.5rem;\n            flex-wrap: wrap;\n          }\n          .task-status-badge {\n            padding: 0.2rem 0.5rem;\n            border-radius: 12px;\n            font-size: 0.75rem;\n            font-weight: 500;\n            text-transform: capitalize;\n            border: 1px solid;\n          }\n          .status-todo { background: #f3f4f6; color: #374151; border-color: #d1d5db; }\n          .status-in_progress { background: #dbeafe; color: #1e40af; border-color: #3b82f6; }\n          .status-review { background: #fef3c7; color: #92400e; border-color: #f59e0b; }\n          .status-done { background: #d1fae5; color: #065f46; border-color: #10b981; }\n          .task-assignee {\n            display: flex;\n            align-items: center;\n            gap: 0.25rem;\n            font-size: 0.75rem;\n            color: #6b7280;\n          }\n          .assignee-avatar-sm {\n            width: 16px;\n            height: 16px;\n            background: #f3f4f6;\n            border: 1px solid #000000;\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-size: 0.6rem;\n            font-weight: 600;\n            color: #000000;\n          }\n          .task-priority {\n            font-size: 0.75rem;\n            padding: 0.1rem 0.3rem;\n            border-radius: 8px;\n            text-transform: capitalize;\n          }\n          .priority-low { background: #d1fae5; color: #065f46; }\n          .priority-medium { background: #fef3c7; color: #92400e; }\n          .priority-high { background: #fecaca; color: #991b1b; }\n          .priority-urgent { background: #fecaca; color: #991b1b; font-weight: 600; }\n          .timeline-chart {\n            padding: 1rem 1.5rem;\n            position: relative;\n          }\n          .timeline-bar-container {\n            position: relative;\n          }\n          .timeline-bar {\n            height: 20px;\n            background: #e5e7eb;\n            border-radius: 10px;\n            position: relative;\n            overflow: hidden;\n            border: 1px solid #d1d5db;\n          }\n          .timeline-progress {\n            height: 100%;\n            border-radius: 10px;\n            transition: all 0.3s ease;\n            position: relative;\n          }\n          .timeline-dates {\n            display: flex;\n            justify-content: space-between;\n            margin-top: 0.5rem;\n            font-size: 0.7rem;\n            color: #6b7280;\n          }\n          .due-date.overdue {\n            color: #dc2626;\n            font-weight: 600;\n          }\n\n          /* Gantt Chart Styles */\n          .gantt-view {\n            display: flex;\n            flex-direction: column;\n            gap: 1.5rem;\n            margin-bottom: 2rem;\n            background: #ffffff;\n            padding: 1rem;\n            border-radius: 8px;\n            border: 2px solid #000000;\n          }\n          .gantt-header-controls {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            background: #ffffff;\n            padding: 1rem;\n            border-radius: 6px;\n            border: 2px solid #000000;\n          }\n          .gantt-controls {\n            display: flex;\n            align-items: center;\n            gap: 1rem;\n          }\n          .gantt-btn {\n            background: #000000;\n            color: #ffffff;\n            border: 2px solid #000000;\n            padding: 0.5rem 1rem;\n            border-radius: 6px;\n            font-weight: 600;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n            gap: 0.5rem;\n            transition: all 0.2s ease;\n            font-size: 0.875rem;\n          }\n          .gantt-btn:hover {\n            background: #ffffff;\n            color: #000000;\n            transform: translateY(-1px);\n          }\n          .date-range-controls {\n            display: flex;\n            align-items: center;\n            gap: 0.5rem;\n            background: #ffffff;\n            padding: 0.25rem;\n            border-radius: 4px;\n            border: 2px solid #000000;\n          }\n          .nav-btn {\n            background: #ffffff;\n            color: #000000;\n            border: 1px solid #000000;\n            padding: 0.5rem;\n            border-radius: 4px;\n            cursor: pointer;\n            transition: all 0.2s ease;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n          }\n          .nav-btn:hover {\n            background: #000000;\n            color: #ffffff;\n          }\n          .date-range {\n            font-weight: 600;\n            color: #000000;\n            min-width: 150px;\n            text-align: center;\n            font-size: 0.9rem;\n          }\n          .gantt-chart {\n            background: #ffffff;\n            border: 2px solid #000000;\n            border-radius: 12px;\n            overflow: hidden;\n            display: flex;\n            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n          }\n          .gantt-sidebar {\n            width: 300px;\n            border-right: 2px solid #000000;\n            background: #f8fafc;\n          }\n          .gantt-sidebar-header {\n            padding: 1rem 1.5rem;\n            font-weight: 600;\n            color: #000000;\n            border-bottom: 2px solid #000000;\n            background: #ffffff;\n          }\n          .gantt-tasks {\n            min-height: 400px;\n          }\n          .gantt-task-row {\n            border-bottom: 1px solid #e5e7eb;\n            padding: 1rem 1.5rem;\n            min-height: 60px;\n            display: flex;\n            align-items: center;\n          }\n          .gantt-task-row:last-child {\n            border-bottom: none;\n          }\n          .gantt-task-info {\n            width: 100%;\n          }\n          .gantt-task-name {\n            font-weight: 600;\n            color: #000000;\n            margin-bottom: 0.25rem;\n            font-size: 0.9rem;\n          }\n          .gantt-task-meta {\n            display: flex;\n            align-items: center;\n            gap: 0.5rem;\n          }\n          .assignee-avatar-xs {\n            width: 14px;\n            height: 14px;\n            background: #ffffff;\n            border: 1px solid #000000;\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-size: 0.5rem;\n            font-weight: 600;\n            color: #000000;\n          }\n          .priority-dot {\n            width: 8px;\n            height: 8px;\n            border-radius: 50%;\n            border: 1px solid #000000;\n          }\n          .priority-dot.priority-low { background: #10b981; }\n          .priority-dot.priority-medium { background: #f59e0b; }\n          .priority-dot.priority-high { background: #ef4444; }\n          .priority-dot.priority-urgent { background: #dc2626; }\n          .gantt-timeline {\n            flex: 1;\n            background: #ffffff;\n          }\n          .gantt-timeline-header {\n            border-bottom: 2px solid #000000;\n            background: #f8fafc;\n            padding: 1rem;\n          }\n          .gantt-dates {\n            display: grid;\n            grid-template-columns: repeat(30, 1fr);\n            gap: 0.25rem;\n            text-align: center;\n            font-size: 0.75rem;\n            font-weight: 500;\n            color: #000000;\n          }\n          .gantt-date {\n            padding: 0.25rem;\n            border-radius: 4px;\n            background: #ffffff;\n            border: 1px solid #e5e7eb;\n          }\n          .gantt-bars {\n            padding: 1rem;\n            min-height: 400px;\n          }\n          .gantt-bar-row {\n            margin-bottom: 1rem;\n            height: 40px;\n            display: flex;\n            align-items: center;\n          }\n          .gantt-bar {\n            height: 24px;\n            border-radius: 12px;\n            position: relative;\n            min-width: 60px;\n            border: 2px solid #000000;\n            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n            transition: all 0.2s ease;\n          }\n          .gantt-bar:hover {\n            transform: translateY(-1px);\n            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n          }\n          .gantt-bar-content {\n            height: 100%;\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n            padding: 0 0.5rem;\n          }\n          .gantt-bar-text {\n            font-size: 0.75rem;\n            font-weight: 600;\n            color: #000000;\n            white-space: nowrap;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            flex: 1;\n          }\n          .gantt-bar-duration {\n            font-size: 0.65rem;\n            font-weight: 500;\n            color: #374151;\n            white-space: nowrap;\n            margin-left: 0.25rem;\n          }\n\n          /* Enhanced Gantt Chart Styles - Simple Black & White */\n          .gantt-chart-enhanced {\n            background: #ffffff;\n            border: 2px solid #000000;\n            border-radius: 8px;\n            overflow: hidden;\n            display: flex;\n            margin-top: 1rem;\n            max-width: 100%;\n            width: 100%;\n            box-sizing: border-box;\n          }\n          \n          .gantt-sidebar-enhanced {\n            width: 350px;\n            min-width: 350px;\n            border-right: 2px solid #000000;\n            background: #ffffff;\n            display: flex;\n            flex-direction: column;\n          }\n          \n          .gantt-sidebar-header-enhanced {\n            display: grid;\n            grid-template-columns: 2fr 80px 80px;\n            gap: 0;\n            background: #000000;\n            font-weight: 600;\n            color: #ffffff;\n            border-bottom: 2px solid #000000;\n          }\n          \n          .task-header-cell, .duration-header-cell, .assignee-header-cell {\n            background: #000000;\n            padding: 0.75rem;\n            font-size: 0.8rem;\n            text-align: center;\n            border-right: 1px solid #ffffff;\n            font-weight: 600;\n            text-transform: uppercase;\n            letter-spacing: 0.05em;\n            color: #ffffff;\n          }\n          \n          .task-header-cell {\n            text-align: left;\n            padding-left: 1rem;\n          }\n          \n          .gantt-tasks-enhanced {\n            flex: 1;\n            overflow-y: auto;\n            min-height: 200px;\n          }\n          \n          .gantt-empty-state {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 200px;\n            color: #6b7280;\n          }\n          \n          .gantt-task-row-enhanced {\n            border-bottom: 1px solid #000000;\n            background: #ffffff;\n            transition: all 0.2s ease;\n          }\n          \n          .gantt-task-row-enhanced:hover {\n            background: #f0f0f0;\n          }\n          \n          .gantt-task-info-enhanced {\n            display: grid;\n            grid-template-columns: 2fr 80px 80px;\n            gap: 0;\n            align-items: center;\n            min-height: 60px;\n            padding: 0.5rem 0;\n          }\n          \n          .gantt-task-name-enhanced {\n            padding: 0 0.75rem !important;\n            display: flex !important;\n            align-items: center !important;\n            gap: 0.5rem !important;\n            flex: 1 !important;\n            overflow: visible !important;\n            word-wrap: break-word !important;\n            overflow-wrap: break-word !important;\n            word-break: break-word !important;\n            white-space: normal !important;\n            hyphens: auto !important;\n          }\n          \n          .task-title {\n            font-weight: 600 !important;\n            color: #000000 !important;\n            font-size: 0.85rem !important;\n            flex: 1 !important;\n            word-wrap: break-word !important;\n            overflow-wrap: break-word !important;\n            word-break: break-word !important;\n            white-space: normal !important;\n            hyphens: auto !important;\n            line-height: 1.3 !important;\n            max-width: 180px !important;\n          }\n          \n          .task-status-indicator {\n            width: 8px;\n            height: 8px;\n            border-radius: 2px;\n            border: 1px solid #9ca3af;\n            flex-shrink: 0;\n            position: relative;\n          }\n          \n          .task-status-indicator.status-todo { \n            background: #ffffff; \n            border-style: dashed;\n          }\n          .task-status-indicator.status-in_progress { \n            background: #6b7280; \n            border-radius: 50%;\n          }\n          .task-status-indicator.status-review { \n            background: #374151;\n            border-radius: 2px;\n          }\n          .task-status-indicator.status-done { \n            background: #111827;\n            border-radius: 2px;\n          }\n          \n          .priority-indicator {\n            width: 16px;\n            height: 2px;\n            flex-shrink: 0;\n            background: #d1d5db;\n            position: relative;\n          }\n          \n          .priority-indicator.priority-low { \n            width: 8px;\n            background: #9ca3af;\n          }\n          .priority-indicator.priority-medium { \n            width: 12px;\n            background: #6b7280;\n          }\n          .priority-indicator.priority-high { \n            width: 16px;\n            background: #374151;\n          }\n          .priority-indicator.priority-urgent { \n            width: 16px;\n            background: #111827;\n            height: 3px;\n          }\n          \n          .gantt-task-duration {\n            text-align: center;\n            font-size: 0.8rem;\n            color: #6b7280;\n            font-weight: 500;\n            padding: 0 0.5rem;\n          }\n          \n          .gantt-task-assignee {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            padding: 0 0.5rem;\n          }\n          \n          .assignee-avatar-enhanced {\n            width: 20px;\n            height: 20px;\n            background: #f3f4f6;\n            border: 1px solid #9ca3af;\n            border-radius: 4px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-size: 0.6rem;\n            font-weight: 700;\n            color: #374151;\n          }\n          \n          .unassigned {\n            color: #9ca3af;\n            font-size: 0.8rem;\n          }\n          \n          .gantt-timeline-enhanced {\n            flex: 1;\n            background: #ffffff;\n            display: flex;\n            flex-direction: column;\n            overflow-x: auto;\n            overflow-y: hidden;\n            max-width: 100%;\n            min-width: 0;\n            position: relative;\n            box-sizing: border-box;\n          }\n          \n          .gantt-timeline-header-enhanced {\n            border-bottom: 2px solid #000000;\n            background: #ffffff;\n          }\n          \n          .gantt-month-header {\n            background: #000000;\n            border-bottom: 2px solid #000000;\n            padding: 0.75rem 1rem;\n            text-align: center;\n          }\n          \n          .month-label {\n            font-weight: 600;\n            color: #ffffff;\n            font-size: 1rem;\n            letter-spacing: 0.05em;\n          }\n          \n          .gantt-week-headers {\n            display: flex;\n            background: #f0f0f0;\n            border-bottom: 2px solid #000000;\n            min-width: max-content;\n          }\n          \n          .week-header {\n            padding: 0.5rem;\n            text-align: center;\n            font-size: 0.7rem;\n            font-weight: 600;\n            color: #000000;\n            border-right: 1px solid #000000;\n            text-transform: uppercase;\n            letter-spacing: 0.05em;\n            background: #f0f0f0;\n            min-width: 200px;\n            flex: 0 0 200px;\n          }\n          \n          .week-header:last-child {\n            border-right: none;\n          }\n          \n          .gantt-date-grid {\n            display: flex;\n            background: #ffffff;\n            min-width: max-content;\n          }\n          \n          .gantt-date-cell {\n            padding: 0.5rem 0.25rem;\n            text-align: center;\n            border-right: 1px solid #000000;\n            transition: background-color 0.2s ease;\n            min-width: 40px;\n            flex: 0 0 40px;\n          }\n          \n          .gantt-date-cell:last-child {\n            border-right: none;\n          }\n          \n          .gantt-date-cell.today {\n            background: #000000;\n            color: #ffffff;\n            font-weight: 700;\n          }\n          \n          .gantt-date-cell.weekend {\n            background: #f0f0f0;\n            opacity: 0.7;\n            color: #666666;\n          }\n          \n          .date-number {\n            font-size: 0.85rem;\n            font-weight: 600;\n            color: #111827;\n            line-height: 1;\n          }\n          \n          .date-day {\n            font-size: 0.55rem;\n            color: #9ca3af;\n            text-transform: uppercase;\n            margin-top: 0.2rem;\n            letter-spacing: 0.05em;\n          }\n          \n          .gantt-grid-container {\n            flex: 1;\n            position: relative;\n            overflow-y: auto;\n            overflow-x: visible;\n            background: #ffffff;\n            width: 100%;\n          }\n          \n          .gantt-vertical-grid {\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            display: grid;\n            grid-template-columns: repeat(30, 1fr);\n            pointer-events: none;\n            z-index: 1;\n          }\n          \n          .grid-line-vertical {\n            border-right: 1px solid #f3f4f6;\n            height: 100%;\n          }\n          \n          .grid-line-vertical:nth-child(7n) {\n            border-right: 1px solid #e5e7eb;\n          }\n          \n          .gantt-bars-enhanced {\n            position: relative;\n            z-index: 2;\n            padding: 0.5rem;\n            min-height: 200px;\n          }\n          \n          .gantt-bars-empty {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 100px;\n            color: #6b7280;\n          }\n          \n          .gantt-bar-row-enhanced {\n            margin-bottom: 0.5rem;\n            height: 40px;\n            position: relative;\n          }\n          \n          .gantt-horizontal-grid-line {\n            position: absolute;\n            top: 50%;\n            left: 0;\n            right: 0;\n            border-top: 1px solid #f3f4f6;\n            z-index: 1;\n          }\n          \n          .gantt-bar-enhanced {\n            height: 24px;\n            border-radius: 4px;\n            position: relative;\n            min-width: 60px;\n            border: 1px solid #d1d5db;\n            background: #f9fafb;\n            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);\n            transition: all 0.2s ease;\n            cursor: pointer;\n            z-index: 3;\n            overflow: hidden;\n          }\n          \n          .gantt-bar-enhanced:hover {\n            transform: translateY(-1px);\n            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n            border-color: #9ca3af;\n          }\n          \n          .gantt-bar-enhanced.status-todo {\n            background: #ffffff;\n            border-style: dashed;\n            border-color: #000000;\n            border-width: 2px;\n          }\n          \n          .gantt-bar-enhanced.status-in_progress {\n            background: #f0f0f0;\n            border-color: #000000;\n            border-width: 2px;\n          }\n          \n          .gantt-bar-enhanced.status-review {\n            background: #e0e0e0;\n            border-color: #000000;\n            border-width: 2px;\n          }\n          \n          .gantt-bar-enhanced.status-done {\n            background: #000000;\n            border-color: #000000;\n            border-width: 2px;\n          }\n          \n          .gantt-bar-enhanced.overdue {\n            border-color: #000000 !important;\n            background: #f0f0f0 !important;\n            border-width: 3px;\n            border-style: solid !important;\n          }\n          \n          .gantt-bar-content-enhanced {\n            height: 100%;\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n            padding: 0 0.5rem;\n            position: relative;\n            z-index: 2;\n          }\n          \n          .gantt-bar-fill {\n            position: absolute;\n            top: 0;\n            left: 0;\n            height: 100%;\n            border-radius: 2px;\n            background: repeating-linear-gradient(\n              45deg,\n              transparent,\n              transparent 2px,\n              rgba(0, 0, 0, 0.2) 2px,\n              rgba(0, 0, 0, 0.2) 4px\n            );\n            z-index: 1;\n          }\n          \n          .gantt-bar-text-enhanced {\n            font-size: 0.65rem;\n            font-weight: 600;\n            word-wrap: break-word;\n            overflow-wrap: break-word;\n            word-break: break-word;\n            white-space: normal;\n            hyphens: auto;\n            line-height: 1.2;\n            flex: 1;\n            z-index: 2;\n            position: relative;\n          }\n          \n          .gantt-bar-enhanced.status-done .gantt-bar-text-enhanced {\n            color: #ffffff;\n          }\n          \n          .gantt-bar-enhanced.status-todo .gantt-bar-text-enhanced,\n          .gantt-bar-enhanced.status-in_progress .gantt-bar-text-enhanced,\n          .gantt-bar-enhanced.status-review .gantt-bar-text-enhanced {\n            color: #000000;\n          }\n          \n          .gantt-bar-duration-enhanced {\n            font-size: 0.55rem;\n            font-weight: 500;\n            word-wrap: break-word;\n            overflow-wrap: break-word;\n            word-break: break-word;\n            white-space: normal;\n            hyphens: auto;\n            margin-left: 0.25rem;\n            z-index: 2;\n            position: relative;\n            padding: 0 0.2rem;\n            border-radius: 2px;\n            border: 1px solid #000000;\n            background: #ffffff;\n            color: #000000;\n          }\n          \n          .overdue-indicator {\n            position: absolute;\n            top: -4px;\n            right: -4px;\n            background: #111827;\n            color: #ffffff;\n            border-radius: 2px;\n            width: 12px;\n            height: 12px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-size: 0.5rem;\n            z-index: 4;\n            font-weight: 700;\n          }\n          \n          .gantt-legend {\n            background: #ffffff;\n            border: 2px solid #000000;\n            border-radius: 8px;\n            padding: 1.5rem;\n            margin-top: 1.5rem;\n            display: grid;\n            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n            gap: 1.5rem;\n          }\n          \n          .legend-section h4 {\n            font-size: 0.8rem;\n            font-weight: 600;\n            color: #000000;\n            margin: 0 0 0.75rem 0;\n            text-transform: uppercase;\n            letter-spacing: 0.05em;\n            border-bottom: 2px solid #000000;\n            padding-bottom: 0.5rem;\n          }\n          \n          .legend-items {\n            display: flex;\n            flex-wrap: wrap;\n            gap: 0.5rem;\n          }\n          \n          .legend-item {\n            display: flex;\n            align-items: center;\n            gap: 0.5rem;\n            font-size: 0.75rem;\n            color: #000000;\n            padding: 0.25rem 0.5rem;\n            background: #ffffff;\n            border-radius: 4px;\n            border: 1px solid #000000;\n            font-weight: 500;\n            transition: all 0.2s ease;\n          }\n          \n          .legend-item:hover {\n            background: #f0f0f0;\n          }\n          \n          .legend-color {\n            width: 12px;\n            height: 12px;\n            border-radius: 2px;\n            border: 1px solid #d1d5db;\n            flex-shrink: 0;\n          }\n          \n          .legend-priority-dot {\n            width: 12px;\n            height: 2px;\n            flex-shrink: 0;\n            background: #d1d5db;\n          }\n          \n          .progress-example {\n            width: 24px;\n            height: 8px;\n            background: #f3f4f6;\n            border-radius: 4px;\n            overflow: hidden;\n            position: relative;\n          }\n          \n          .progress-bar {\n            height: 100%;\n            border-radius: 4px;\n          }\n          \n          .overdue-example {\n            font-size: 0.8rem;\n          }\n\n          @media (max-width: 1200px) {\n            .board-grid {\n              grid-template-columns: repeat(2, 1fr);\n              gap: 0.75rem;\n            }\n            .timeline-stats {\n              grid-template-columns: repeat(2, 1fr);\n            }\n            .timeline-grid-header, .timeline-row {\n              grid-template-columns: 250px 1fr;\n            }\n            .gantt-sidebar {\n              width: 250px;\n            }\n          }\n          @media (max-width: 768px) {\n            .main-content {\n              margin-left: 0;\n            }\n            .board-grid {\n              grid-template-columns: 1fr;\n              gap: 0.75rem;\n            }\n            .header {\n              padding: 1rem;\n            }\n            .main-content-area {\n              padding: 1rem;\n            }\n            .timeline-stats {\n              display: grid !important;\n              grid-template-columns: repeat(4, 1fr) !important;\n              gap: 0.5rem !important;\n              width: 100% !important;\n              margin-bottom: 1rem !important;\n            }\n            \n            .stat-card {\n              background: #ffffff !important;\n              border: 2px solid #000000 !important;\n              border-radius: 8px !important;\n              padding: 0.75rem 0.5rem !important;\n              text-align: center !important;\n              display: flex !important;\n              flex-direction: column !important;\n              align-items: center !important;\n              justify-content: center !important;\n              min-height: 60px !important;\n              box-shadow: none !important;\n            }\n            \n            .stat-label {\n              font-size: 0.65rem !important;\n              font-weight: 600 !important;\n              color: #6b7280 !important;\n              margin-bottom: 0.25rem !important;\n              text-transform: uppercase !important;\n              letter-spacing: 0.025em !important;\n              line-height: 1.2 !important;\n            }\n            \n            .stat-value {\n              font-size: 1.25rem !important;\n              font-weight: 700 !important;\n              color: #000000 !important;\n              margin: 0 !important;\n              line-height: 1 !important;\n            }\n            .timeline-grid-header, .timeline-row {\n              grid-template-columns: 1fr;\n            }\n            .timeline-task-info {\n              border-right: none;\n              border-bottom: 1px solid #e5e7eb;\n            }\n            .gantt-chart {\n              flex-direction: column;\n            }\n            .gantt-sidebar {\n              width: 100%;\n              border-right: none;\n              border-bottom: 2px solid #000000;\n            }\n            .gantt-chart-enhanced {\n              flex-direction: column;\n            }\n            .gantt-sidebar-enhanced {\n              width: 100%;\n              border-right: none;\n              border-bottom: 2px solid #000000;\n            }\n            .gantt-sidebar-header-enhanced {\n              display: grid !important;\n              grid-template-columns: 2fr 0.8fr 1.2fr 0.8fr 0.8fr !important;\n              gap: 0 !important;\n            }\n            .gantt-task-info-enhanced {\n              display: grid !important;\n              grid-template-columns: 2fr 0.8fr 1.2fr 0.8fr 0.8fr !important;\n              gap: 0 !important;\n            }\n            \n            .gantt-sidebar-enhanced {\n              width: 100% !important;\n              overflow-x: auto !important;\n              scrollbar-width: thin !important;\n              -ms-overflow-style: none !important;\n            }\n            \n            .gantt-sidebar-enhanced::-webkit-scrollbar {\n              height: 4px !important;\n            }\n            \n            .gantt-sidebar-enhanced::-webkit-scrollbar-track {\n              background: #f1f1f1 !important;\n            }\n            \n            .gantt-sidebar-enhanced::-webkit-scrollbar-thumb {\n              background: #888 !important;\n              border-radius: 2px !important;\n            }\n            .gantt-week-headers {\n              grid-template-columns: repeat(2, 1fr);\n            }\n            .gantt-legend {\n              grid-template-columns: 1fr;\n              gap: 1rem;\n            }\n          }\n          \n          /* Enhanced Mobile Responsive Styles */\n          @media (max-width: 768px) {\n            body {\n              overflow-x: hidden !important;\n            }\n            \n            .project-container {\n              flex-direction: column !important;\n              overflow-x: hidden !important;\n            }\n            \n            .main-content {\n              margin-left: 0 !important;\n              max-width: 100vw !important;\n              overflow-x: hidden !important;\n              width: 100% !important;\n            }\n            \n            .header {\n              padding: 1rem 0.75rem 0.5rem 0.75rem !important;\n              position: relative !important;\n              overflow-x: hidden !important;\n              border-bottom: 2px solid #000000 !important;\n              background: #ffffff !important;\n            }\n            \n            .header-content {\n              flex-direction: column !important;\n              gap: 1rem !important;\n              align-items: stretch !important;\n              margin-bottom: 0 !important;\n            }\n            \n            .header-title {\n              font-size: 1.25rem !important;\n              margin-bottom: 0.25rem !important;\n              text-align: center !important;\n              word-break: break-word !important;\n              line-height: 1.3 !important;\n              padding: 0 0.5rem !important;\n            }\n            \n            .header-subtitle {\n              font-size: 0.8rem !important;\n              margin-bottom: 0 !important;\n              text-align: center !important;\n              color: #666666 !important;\n            }\n            \n            .header-actions {\n              display: flex !important;\n              flex-direction: column !important;\n              gap: 0.75rem !important;\n              width: 100% !important;\n            }\n            \n            .action-buttons-grid {\n              display: grid !important;\n              grid-template-columns: repeat(3, 1fr) !important;\n              gap: 0.375rem !important;\n              width: 100% !important;\n              min-width: unset !important;\n            }\n            \n            .action-btn {\n              padding: 0.75rem 0.25rem !important;\n              font-size: 0.7rem !important;\n              gap: 0.25rem !important;\n              flex-direction: column !important;\n              min-height: 55px !important;\n              touch-action: manipulation !important;\n              -webkit-tap-highlight-color: transparent !important;\n              text-align: center !important;\n              justify-content: center !important;\n              align-items: center !important;\n              box-shadow: none !important;\n              border-radius: 6px !important;\n            }\n            \n            .action-btn svg {\n              width: 16px !important;\n              height: 16px !important;\n              margin-bottom: 0.125rem !important;\n            }\n            \n            .action-btn:hover {\n              transform: none !important;\n              box-shadow: none !important;\n            }\n            \n            .members-btn {\n              background: #ffffff !important;\n              border: 2px solid #000000 !important;\n              color: #000000 !important;\n            }\n            \n            .delete-btn {\n              background: #ffffff !important;\n              border: 2px solid #ef4444 !important;\n              color: #ef4444 !important;\n            }\n            \n            .add-task-btn {\n              background: #000000 !important;\n              color: #ffffff !important;\n              border: 2px solid #000000 !important;\n              font-weight: 600 !important;\n            }\n            \n            .view-toggle {\n              display: flex !important;\n              align-items: center !important;\n              width: 100% !important;\n              justify-content: space-between !important;\n              padding: 0.25rem !important;\n              background: #ffffff !important;\n              border: 2px solid #000000 !important;\n              border-radius: 8px !important;\n              margin-bottom: 0 !important;\n              overflow-x: auto !important;\n              scrollbar-width: none !important;\n              -ms-overflow-style: none !important;\n              box-shadow: none !important;\n            }\n            \n            .view-toggle::-webkit-scrollbar {\n              display: none !important;\n            }\n            \n            .view-btn {\n              flex: 1 !important;\n              padding: 0.5rem 0.25rem !important;\n              font-size: 0.65rem !important;\n              display: flex !important;\n              flex-direction: column !important;\n              align-items: center !important;\n              justify-content: center !important;\n              gap: 0.2rem !important;\n              min-height: 48px !important;\n              min-width: 58px !important;\n              white-space: nowrap !important;\n              border: none !important;\n              background: transparent !important;\n              color: #666666 !important;\n              border-radius: 4px !important;\n              transition: all 0.2s ease !important;\n              cursor: pointer !important;\n            }\n            \n            .view-btn svg {\n              width: 18px !important;\n              height: 18px !important;\n              margin-bottom: 0.125rem !important;\n            }\n            \n            .view-btn.active {\n              background: #000000 !important;\n              color: #ffffff !important;\n              transform: none !important;\n            }\n            \n            .view-btn:hover {\n              transform: none !important;\n            }\n            \n            .main-content-area {\n              padding: 0.75rem !important;\n              overflow-x: hidden !important;\n              max-width: 100vw !important;\n              box-sizing: border-box !important;\n              width: 100% !important;\n            }\n            \n            .timeline-view {\n              padding: 0 !important;\n              background: transparent !important;\n            }\n            \n            .timeline-header-controls {\n              padding: 0 !important;\n              margin-bottom: 1rem !important;\n              background: transparent !important;\n            }\n            \n            .timeline-grid {\n              background: #ffffff !important;\n              border: 2px solid #000000 !important;\n              border-radius: 12px !important;\n              overflow: hidden !important;\n              margin-bottom: 1rem !important;\n            }\n            \n            .timeline-grid-header {\n              background: #f9fafb !important;\n              border-bottom: 2px solid #000000 !important;\n              padding: 0.75rem !important;\n              font-weight: 700 !important;\n              font-size: 0.8rem !important;\n              text-transform: uppercase !important;\n              letter-spacing: 0.025em !important;\n            }\n            \n            .timeline-row {\n              border-bottom: 1px solid #e5e7eb !important;\n              padding: 0.75rem !important;\n              transition: all 0.2s ease !important;\n            }\n            \n            .timeline-row:hover {\n              background: #f9fafb !important;\n            }\n            \n            .timeline-row:last-child {\n              border-bottom: none !important;\n            }\n            \n            .timeline-task-info {\n              margin-bottom: 0.5rem !important;\n            }\n            \n            .task-name {\n              font-size: 0.9rem !important;\n              font-weight: 600 !important;\n              color: #000000 !important;\n              margin-bottom: 0.375rem !important;\n              line-height: 1.3 !important;\n            }\n            \n            .task-details {\n              display: flex !important;\n              flex-wrap: wrap !important;\n              gap: 0.375rem !important;\n              align-items: center !important;\n            }\n            \n            .task-status-badge {\n              padding: 0.25rem 0.5rem !important;\n              border-radius: 4px !important;\n              font-size: 0.65rem !important;\n              font-weight: 600 !important;\n              text-transform: uppercase !important;\n              letter-spacing: 0.025em !important;\n              border: 1px solid #000000 !important;\n              background: #ffffff !important;\n              color: #000000 !important;\n            }\n            \n            .task-assignee {\n              display: flex !important;\n              align-items: center !important;\n              gap: 0.25rem !important;\n              font-size: 0.75rem !important;\n              color: #6b7280 !important;\n            }\n            \n            .assignee-avatar-sm {\n              width: 16px !important;\n              height: 16px !important;\n              border-radius: 50% !important;\n              background: #f3f4f6 !important;\n              border: 1px solid #000000 !important;\n              display: flex !important;\n              align-items: center !important;\n              justify-content: center !important;\n              font-size: 0.6rem !important;\n              font-weight: 600 !important;\n              color: #000000 !important;\n            }\n            \n            .task-priority {\n              padding: 0.25rem 0.5rem !important;\n              border-radius: 4px !important;\n              font-size: 0.65rem !important;\n              font-weight: 600 !important;\n              text-transform: uppercase !important;\n              letter-spacing: 0.025em !important;\n              border: 1px solid #000000 !important;\n              background: #ffffff !important;\n              color: #000000 !important;\n            }\n            \n            .timeline-chart {\n              margin-top: 0.5rem !important;\n            }\n            \n            .timeline-bar-container {\n              position: relative !important;\n              background: #f3f4f6 !important;\n              border: 1px solid #e5e7eb !important;\n              border-radius: 6px !important;\n              overflow: hidden !important;\n              height: 24px !important;\n              margin-bottom: 0.375rem !important;\n            }\n            \n            .timeline-bar {\n              height: 100% !important;\n              position: relative !important;\n              border-radius: 6px !important;\n              background: #e5e7eb !important;\n              transition: all 0.3s ease !important;\n            }\n            \n            .timeline-progress {\n              height: 100% !important;\n              border-radius: 6px !important;\n              transition: all 0.3s ease !important;\n            }\n            \n            .timeline-dates {\n              display: flex !important;\n              justify-content: space-between !important;\n              align-items: center !important;\n              font-size: 0.7rem !important;\n              color: #6b7280 !important;\n            }\n            \n            .start-date {\n              font-weight: 500 !important;\n            }\n            \n            .due-date {\n              font-weight: 500 !important;\n            }\n            \n            .due-date.overdue {\n              color: #ef4444 !important;\n              font-weight: 600 !important;\n            }\n            \n            .info-card {\n              margin: 1rem 0 !important;\n              padding: 0.875rem !important;\n              background: #ffffff !important;\n              border: 2px solid #000000 !important;\n              border-radius: 8px !important;\n            }\n            \n            .info-card h4 {\n              font-size: 0.85rem !important;\n              font-weight: 600 !important;\n              color: #000000 !important;\n              margin: 0 0 0.375rem 0 !important;\n            }\n            \n            .info-card p {\n              font-size: 0.75rem !important;\n              color: #6b7280 !important;\n              margin: 0 !important;\n              line-height: 1.4 !important;\n            }\n            \n            .view-description {\n              padding: 0.875rem !important;\n              margin-bottom: 1rem !important;\n              border-radius: 8px !important;\n              overflow-wrap: break-word !important;\n              background: #ffffff !important;\n              border: 2px solid #000000 !important;\n              box-shadow: none !important;\n            }\n            \n            .view-description h3 {\n              font-size: 1rem !important;\n              margin-bottom: 0.5rem !important;\n              color: #000000 !important;\n              font-weight: 600 !important;\n            }\n            \n            .view-description p {\n              font-size: 0.8rem !important;\n              line-height: 1.4 !important;\n              color: #6b7280 !important;\n              margin: 0 !important;\n            }\n            \n            .board-view {\n              display: flex !important;\n              flex-direction: column !important;\n              gap: 1rem !important;\n              width: 100% !important;\n              overflow-x: hidden !important;\n            }\n            \n            .board-grid {\n              display: grid !important;\n              grid-template-columns: 1fr !important;\n              gap: 1rem !important;\n              width: 100% !important;\n              overflow-x: hidden !important;\n              min-height: auto !important;\n            }\n            \n            .status-column {\n              padding: 0.875rem !important;\n              min-height: auto !important;\n              width: 100% !important;\n              box-sizing: border-box !important;\n              background: #ffffff !important;\n              border: 2px solid #000000 !important;\n              border-radius: 12px !important;\n              box-shadow: none !important;\n            }\n            \n            .status-header {\n              display: flex !important;\n              align-items: center !important;\n              justify-content: space-between !important;\n              margin-bottom: 0.875rem !important;\n              padding-bottom: 0.75rem !important;\n              border-bottom: 2px solid #f3f4f6 !important;\n            }\n            \n            .status-title {\n              font-size: 0.95rem !important;\n              font-weight: 700 !important;\n              color: #000000 !important;\n            }\n            \n            .status-count {\n              background: #f3f4f6 !important;\n              border: 2px solid #000000 !important;\n              padding: 0.2rem 0.6rem !important;\n              border-radius: 20px !important;\n              font-size: 0.7rem !important;\n              font-weight: 700 !important;\n              color: #000000 !important;\n              min-width: 20px !important;\n              text-align: center !important;\n            }\n            \n            .tasks-list {\n              display: flex !important;\n              flex-direction: column !important;\n              gap: 0.75rem !important;\n              min-height: 200px !important;\n            }\n            \n            .task-card {\n              background: #ffffff !important;\n              border: 2px solid #e5e7eb !important;\n              border-radius: 8px !important;\n              padding: 0.875rem !important;\n              margin-bottom: 0 !important;\n              cursor: grab !important;\n              transition: all 0.3s ease !important;\n              position: relative !important;\n              overflow: hidden !important;\n              min-height: 60px !important;\n              touch-action: manipulation !important;\n              -webkit-tap-highlight-color: transparent !important;\n            }\n            \n            .task-card:hover {\n              transform: translateY(-2px) !important;\n              box-shadow: 0 4px 12px -3px rgba(0, 0, 0, 0.1) !important;\n              border-color: #000000 !important;\n            }\n            \n            .task-header {\n              margin-bottom: 0.5rem !important;\n            }\n            \n            .task-title {\n              font-size: 0.9rem !important;\n              line-height: 1.3 !important;\n              word-wrap: break-word !important;\n              overflow-wrap: break-word !important;\n              word-break: break-word !important;\n              white-space: normal !important;\n              hyphens: auto !important;\n              max-width: 100% !important;\n              font-weight: 600 !important;\n              color: #000000 !important;\n              margin: 0 !important;\n            }\n            \n            .task-meta-item {\n              display: flex !important;\n              align-items: center !important;\n              gap: 0.375rem !important;\n              padding: 0.375rem 0.5rem !important;\n              font-size: 0.75rem !important;\n              border-radius: 4px !important;\n              background: #f9fafb !important;\n              border: 1px solid #e5e7eb !important;\n              color: #6b7280 !important;\n              margin-top: 0.5rem !important;\n            }\n            \n            .assignee-avatar {\n              width: 18px !important;\n              height: 18px !important;\n              font-size: 0.6rem !important;\n              background: #f3f4f6 !important;\n              border: 1px solid #000000 !important;\n              border-radius: 50% !important;\n              display: flex !important;\n              align-items: center !important;\n              justify-content: center !important;\n              font-weight: 600 !important;\n              color: #000000 !important;\n            }\n            \n            .empty-state {\n              display: flex !important;\n              flex-direction: column !important;\n              align-items: center !important;\n              justify-content: center !important;\n              padding: 2rem 1rem !important;\n              text-align: center !important;\n              color: #9ca3af !important;\n              font-style: italic !important;\n              min-height: 120px !important;\n            }\n            \n            .empty-state p {\n              margin: 0 !important;\n              font-size: 0.875rem !important;\n            }\n            \n            .project-stats {\n              display: none !important;\n            }\n            \n            .stat-item {\n              display: none !important;\n            }\n            \n            .members-display {\n              display: none !important;\n            }\n          }\n        ")}}),(0,r.jsxs)("div",{className:"project-container",children:[!el&&(0,r.jsx)(v.Z,{projects:B,onCreateProject:()=>{}}),(0,r.jsxs)("div",{className:"main-content",children:[(0,r.jsxs)("header",{className:"header",children:[(0,r.jsxs)("div",{className:"header-content",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"header-title",style:{wordWrap:"break-word",overflowWrap:"break-word",whiteSpace:"normal",lineHeight:"1.2",maxWidth:"100%",hyphens:"auto"},children:F.name}),(0,r.jsxs)("p",{className:"header-subtitle",children:[F.project_type," • ",F.status]})]}),(0,r.jsxs)("div",{className:"header-actions",children:[(0,r.jsxs)("div",{className:"action-buttons-grid",children:[(0,r.jsxs)("button",{onClick:()=>eo(!0),className:"action-btn members-btn",children:[(0,r.jsx)(l.Z,{style:{width:"16px",height:"16px"}}),"Members"]}),(0,r.jsxs)("button",{onClick:()=>es(!0),className:"action-btn delete-btn",children:[(0,r.jsx)(d.Z,{style:{width:"16px",height:"16px"}}),"Delete"]}),(0,r.jsxs)("button",{onClick:()=>G(!0),className:"action-btn add-task-btn",children:[(0,r.jsx)(c.Z,{style:{width:"16px",height:"16px"}}),"Add Task"]})]}),(0,r.jsxs)("div",{className:"view-toggle",children:[(0,r.jsx)("button",{onClick:()=>O("board"),className:"view-btn ".concat("board"===L?"active":""),title:"Board View",children:(0,r.jsx)(m.Z,{style:{width:"16px",height:"16px"}})}),(0,r.jsx)("button",{onClick:()=>O("list"),className:"view-btn ".concat("list"===L?"active":""),title:"List View",children:(0,r.jsx)(p.Z,{style:{width:"16px",height:"16px"}})}),(0,r.jsx)("button",{onClick:()=>O("timeline"),className:"view-btn ".concat("timeline"===L?"active":""),title:"Timeline View",children:(0,r.jsx)(f.Z,{style:{width:"16px",height:"16px"}})}),(0,r.jsx)("button",{onClick:()=>O("gantt"),className:"view-btn ".concat("gantt"===L?"active":""),title:"Gantt Chart",children:(0,r.jsx)(g.Z,{style:{width:"16px",height:"16px"}})}),(0,r.jsx)("button",{onClick:()=>O("todo"),className:"view-btn ".concat("todo"===L?"active":""),title:"To Do List",children:(0,r.jsx)(u.Z,{style:{width:"16px",height:"16px"}})})]})]})]}),(0,r.jsxs)("div",{className:"project-stats",children:[(0,r.jsxs)("div",{className:"stat-item",children:[(0,r.jsx)(x.Z,{style:{width:"16px",height:"16px"}}),F.completed_task_count," / ",F.task_count," tasks completed"]}),(0,r.jsxs)("div",{className:"stat-item members-display",children:[(0,r.jsx)(l.Z,{style:{width:"16px",height:"16px"}}),(0,r.jsxs)("div",{className:"members-avatars",children:[(F.members||[]).slice(0,5).map((e,n)=>(0,r.jsx)("div",{className:"member-avatar",title:e.name,style:{marginLeft:n>0?"-8px":"0"},children:e.name.charAt(0).toUpperCase()},e.id)),(F.members||[]).length>5&&(0,r.jsxs)("div",{className:"member-avatar more-members",title:"+".concat((F.members||[]).length-5," more members"),children:["+",(F.members||[]).length-5]})]}),(0,r.jsxs)("span",{className:"members-count",children:[(F.members||[]).length," members"]})]})]})]}),R&&(0,r.jsx)("div",{style:{padding:"2rem 2rem 0 2rem"},children:(0,r.jsx)("div",{className:"error-message",children:R})}),(0,r.jsxs)("main",{className:"main-content-area",children:["board"===L&&(0,r.jsxs)("div",{className:"board-view",children:[(0,r.jsxs)("div",{className:"view-description",children:[(0,r.jsx)("h3",{children:"Board View"}),(0,r.jsx)("p",{children:"Kanban-style board with drag-and-drop functionality. Organize tasks by status and track progress visually across columns."})]}),(0,r.jsx)("div",{className:"board-grid",children:T.map(e=>{let n=eF(e.value);return(0,r.jsxs)("div",{className:"status-column ".concat(X===e.value?"drag-over":""),onDragOver:n=>ew(n,e.value),onDragLeave:ej,onDrop:n=>ek(n,e.value),children:[(0,r.jsxs)("div",{className:"status-header",children:[(0,r.jsx)("div",{className:"status-title-wrapper",children:(0,r.jsx)("h3",{className:"status-title",children:e.label})}),(0,r.jsx)("span",{className:"status-count",children:n.length})]}),(0,r.jsx)("div",{className:"tasks-list",children:0===n.length?(0,r.jsx)("div",{className:"empty-state",children:(0,r.jsx)("p",{children:"No tasks yet"})}):n.map(e=>(eN(e.priority),eE(e.due_date),eC(e.due_date),(0,r.jsxs)("div",{className:"task-card ".concat((null==V?void 0:V.id)===e.id?"dragging":""),draggable:!0,onDragStart:n=>ev(n,e),onDragEnd:()=>J(null),onClick:n=>ex(e,n),children:[(0,r.jsx)("div",{className:"task-header",children:(0,r.jsx)("h4",{className:"task-title",children:e.name})}),(e.assignees&&e.assignees.length>0||e.assignee)&&(0,r.jsx)("div",{className:"task-meta-item",style:{marginTop:"0.5rem"},children:(0,r.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flexWrap:"wrap"},children:e.assignees&&e.assignees.length>0?(0,r.jsxs)(r.Fragment,{children:[e.assignees.slice(0,3).map((n,t)=>(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[(0,r.jsx)("div",{className:"assignee-avatar",style:{width:"24px",height:"24px",fontSize:"0.7rem",marginLeft:t>0?"-8px":"0",zIndex:e.assignees.length-t,position:"relative",border:"2px solid #ffffff"},children:n.name.charAt(0).toUpperCase()}),0===t&&1===e.assignees.length&&(0,r.jsx)("span",{style:{fontSize:"0.8rem"},children:n.name})]},n.id)),e.assignees.length>3&&(0,r.jsxs)("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"#6b7280",color:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.6rem",fontWeight:"600",marginLeft:"-8px",border:"2px solid #ffffff"},children:["+",e.assignees.length-3]}),e.assignees.length>1&&(0,r.jsxs)("span",{style:{fontSize:"0.75rem",color:"#6b7280",marginLeft:"0.25rem"},children:[e.assignees.length," assignees"]})]}):e.assignee?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"assignee-avatar",children:e.assignee.name.charAt(0).toUpperCase()}),(0,r.jsx)("span",{children:e.assignee.name})]}):null})})]},e.id)))})]},e.value)})})]}),"list"===L&&(0,r.jsxs)("div",{className:"list-view",children:[(0,r.jsxs)("div",{className:"view-description",children:[(0,r.jsx)("h3",{children:"List View"}),(0,r.jsx)("p",{children:"View all tasks in a sortable table format with advanced filtering options. Perfect for detailed task management and bulk operations."})]}),(0,r.jsx)("div",{style:{background:"#ffffff",border:"2px solid #000000",borderRadius:"12px",padding:"2rem"},children:(0,r.jsxs)("div",{style:{textAlign:"center",color:"#6b7280",padding:"3rem"},children:[(0,r.jsx)("h3",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#000000",margin:"0 0 1rem 0"},children:"List View Coming Soon!"}),(0,r.jsx)("p",{style:{fontSize:"1rem",margin:"0"},children:"Table view with sorting and filtering will be available here."})]})})]}),"timeline"===L&&(0,r.jsxs)("div",{className:"timeline-view",children:[(0,r.jsxs)("div",{className:"view-description",style:{background:"#FEF7ED",padding:"2rem",borderRadius:"20px",border:"1px solid #FED7AA",marginBottom:"2.5rem",boxShadow:"0 4px 16px rgba(251, 146, 60, 0.08)"},children:[(0,r.jsx)("h3",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#EA580C",margin:"0 0 0.75rem 0",letterSpacing:"-0.025em"},children:"Timeline View"}),(0,r.jsx)("p",{style:{color:"#78716C",margin:"0",lineHeight:"1.6",fontSize:"1rem",fontWeight:"500"},children:"Track task progress over time with visual progress bars. See start dates, due dates, completion status, and identify overdue tasks at a glance."})]}),(0,r.jsx)("div",{className:"timeline-header-controls",style:{marginBottom:"2.5rem"},children:(0,r.jsxs)("div",{className:"timeline-stats",style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"1.5rem",width:"100%",maxWidth:"1400px",margin:"0 auto"},children:[(0,r.jsxs)("div",{className:"stat-card",style:{background:"#FEF3C7",padding:"2rem 1.5rem",borderRadius:"20px",border:"1px solid #F59E0B",textAlign:"center",boxShadow:"0 4px 16px rgba(245, 158, 11, 0.12)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer",flex:"1",minWidth:"160px",position:"relative",overflow:"hidden"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-4px)",e.currentTarget.style.boxShadow="0 12px 32px rgba(245, 158, 11, 0.24)",e.currentTarget.style.background="#FEF3C7",e.currentTarget.style.borderColor="#F59E0B"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 16px rgba(245, 158, 11, 0.12)",e.currentTarget.style.background="#FEF3C7",e.currentTarget.style.borderColor="#F59E0B"},children:[(0,r.jsxs)("svg",{style:{position:"absolute",top:"1rem",right:"1rem",width:"20px",height:"20px",opacity:.6},viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("rect",{x:"3",y:"3",width:"7",height:"7"}),(0,r.jsx)("rect",{x:"14",y:"3",width:"7",height:"7"}),(0,r.jsx)("rect",{x:"3",y:"14",width:"7",height:"7"}),(0,r.jsx)("rect",{x:"14",y:"14",width:"7",height:"7"})]}),(0,r.jsx)("div",{className:"stat-value",style:{fontSize:"2.5rem",fontWeight:"800",color:"#92400E",marginBottom:"0.5rem",lineHeight:"1"},children:C.length}),(0,r.jsx)("div",{className:"stat-label",style:{fontSize:"0.875rem",fontWeight:"600",color:"#78350F",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Total Tasks"})]}),(0,r.jsxs)("div",{className:"stat-card",style:{background:"#D1FAE5",padding:"2rem 1.5rem",borderRadius:"20px",border:"1px solid #10B981",textAlign:"center",boxShadow:"0 4px 16px rgba(16, 185, 129, 0.12)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer",flex:"1",minWidth:"160px",position:"relative",overflow:"hidden"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-4px)",e.currentTarget.style.boxShadow="0 12px 32px rgba(16, 185, 129, 0.24)",e.currentTarget.style.background="#A7F3D0",e.currentTarget.style.borderColor="#10B981"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 16px rgba(16, 185, 129, 0.12)",e.currentTarget.style.background="#D1FAE5",e.currentTarget.style.borderColor="#10B981"},children:[(0,r.jsx)("svg",{style:{position:"absolute",top:"1rem",right:"1rem",width:"20px",height:"20px",opacity:.6},viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,r.jsx)("path",{d:"M20 6L9 17l-5-5"})}),(0,r.jsx)("div",{className:"stat-value",style:{fontSize:"2.5rem",fontWeight:"800",color:"#047857",marginBottom:"0.5rem",lineHeight:"1"},children:C.filter(e=>"done"===e.status).length}),(0,r.jsx)("div",{className:"stat-label",style:{fontSize:"0.875rem",fontWeight:"600",color:"#064E3B",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Completed"})]}),(0,r.jsxs)("div",{className:"stat-card",style:{background:"#DBEAFE",padding:"2rem 1.5rem",borderRadius:"20px",border:"1px solid #3B82F6",textAlign:"center",boxShadow:"0 4px 16px rgba(59, 130, 246, 0.12)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer",flex:"1",minWidth:"160px",position:"relative",overflow:"hidden"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-4px)",e.currentTarget.style.boxShadow="0 12px 32px rgba(59, 130, 246, 0.24)",e.currentTarget.style.background="#BFDBFE",e.currentTarget.style.borderColor="#3B82F6"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 16px rgba(59, 130, 246, 0.12)",e.currentTarget.style.background="#DBEAFE",e.currentTarget.style.borderColor="#3B82F6"},children:[(0,r.jsxs)("svg",{style:{position:"absolute",top:"1rem",right:"1rem",width:"20px",height:"20px",opacity:.6},viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,r.jsx)("polyline",{points:"12 6 12 12 16 14"})]}),(0,r.jsx)("div",{className:"stat-value",style:{fontSize:"2.5rem",fontWeight:"800",color:"#1E40AF",marginBottom:"0.5rem",lineHeight:"1"},children:C.filter(e=>"in_progress"===e.status).length}),(0,r.jsx)("div",{className:"stat-label",style:{fontSize:"0.875rem",fontWeight:"600",color:"#1E3A8A",textTransform:"uppercase",letterSpacing:"0.05em"},children:"In Progress"})]}),(0,r.jsxs)("div",{className:"stat-card",style:{background:"#FEE2E2",padding:"2rem 1.5rem",borderRadius:"20px",border:"1px solid #EF4444",textAlign:"center",boxShadow:"0 4px 16px rgba(239, 68, 68, 0.12)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer",flex:"1",minWidth:"160px",position:"relative",overflow:"hidden"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-4px)",e.currentTarget.style.boxShadow="0 12px 32px rgba(239, 68, 68, 0.24)",e.currentTarget.style.background="#FECACA",e.currentTarget.style.borderColor="#EF4444"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 16px rgba(239, 68, 68, 0.12)",e.currentTarget.style.background="#FEE2E2",e.currentTarget.style.borderColor="#EF4444"},children:[(0,r.jsxs)("svg",{style:{position:"absolute",top:"1rem",right:"1rem",width:"20px",height:"20px",opacity:.6},viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,r.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),(0,r.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"16"})]}),(0,r.jsx)("div",{className:"stat-value",style:{fontSize:"2.5rem",fontWeight:"800",color:"#DC2626",marginBottom:"0.5rem",lineHeight:"1"},children:C.filter(e=>eC(e.due_date)).length}),(0,r.jsx)("div",{className:"stat-label",style:{fontSize:"0.875rem",fontWeight:"600",color:"#991B1B",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Overdue"})]})]})}),(0,r.jsxs)("div",{className:"timeline-grid",style:{background:"#FFFFFF",border:"1px solid #F3F4F6",borderRadius:"20px",overflow:"hidden",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},children:[(0,r.jsxs)("div",{className:"timeline-grid-header",style:{display:"grid",gridTemplateColumns:"1fr 2fr",background:"#FEF3C7",color:"#92400E",fontWeight:"700",padding:"1.5rem",borderBottom:"1px solid #FED7AA"},children:[(0,r.jsx)("div",{className:"timeline-task-column",style:{fontSize:"1rem",letterSpacing:"0.05em",fontWeight:"800"},children:"Task Details"}),(0,r.jsx)("div",{className:"timeline-chart-column",style:{fontSize:"1rem",letterSpacing:"0.05em",fontWeight:"800"},children:"Progress Timeline"})]}),(0,r.jsx)("div",{className:"timeline-grid-body",style:{padding:"0"},children:0===C.length?(0,r.jsxs)("div",{style:{padding:"4rem 3rem",textAlign:"center",color:"#78716C",background:"#FEFDFB"},children:[(0,r.jsx)("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"\uD83D\uDCC5"}),(0,r.jsx)("div",{style:{fontSize:"1.25rem",fontWeight:"700",marginBottom:"0.75rem",color:"#57534E"},children:"No tasks available"}),(0,r.jsx)("div",{style:{fontSize:"1rem",fontWeight:"500",lineHeight:"1.5"},children:"Create your first task to see the beautiful timeline visualization"})]}):e_(C).map(e=>{var n;let t=e.start_date?new Date(e.start_date):new Date,a=e.due_date?new Date(e.due_date):null,o="done"===e.status?100:"review"===e.status?80:"in_progress"===e.status?50:10;return(0,r.jsxs)("div",{className:"timeline-row",style:{display:"grid",gridTemplateColumns:"1fr 2fr",borderBottom:"1px solid #F3F4F6",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer",background:"transparent"},onClick:n=>ex(e,n),onMouseEnter:e=>{e.currentTarget.style.background="#FEF7ED",e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 8px 24px rgba(251, 146, 60, 0.1)"},onMouseLeave:e=>{e.currentTarget.style.background="transparent",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:[(0,r.jsxs)("div",{className:"timeline-task-info",style:{padding:"2rem 1.5rem",borderRight:"1px solid #F3F4F6"},children:[(0,r.jsx)("div",{className:"task-name",style:{fontSize:"1.125rem",fontWeight:"700",color:"#57534E",marginBottom:"1rem",letterSpacing:"-0.025em",lineHeight:"1.4"},children:e.name}),(0,r.jsxs)("div",{className:"task-details",style:{display:"flex",flexWrap:"wrap",gap:"0.875rem",alignItems:"center"},children:[(0,r.jsx)("span",{className:"task-status-badge status-".concat(e.status),style:{padding:"0.5rem 1rem",borderRadius:"16px",fontSize:"0.75rem",fontWeight:"700",textTransform:"uppercase",letterSpacing:"0.05em",background:"done"===e.status?"#D1FAE5":"in_progress"===e.status?"#DBEAFE":"review"===e.status?"#FEF3C7":"#FEE2E2",color:"done"===e.status?"#047857":"in_progress"===e.status?"#1E40AF":"review"===e.status?"#92400E":"#DC2626",border:"2px solid ".concat("done"===e.status?"#10B981":"in_progress"===e.status?"#3B82F6":"review"===e.status?"#F59E0B":"#EF4444"),boxShadow:"0 2px 8px rgba(0, 0, 0, 0.06)"},children:null===(n=T.find(n=>n.value===e.status))||void 0===n?void 0:n.label}),(e.assignees&&e.assignees.length>0||e.assignee)&&(0,r.jsx)("span",{className:"task-assignee",style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem",color:"#78716C",fontWeight:"600"},children:e.assignees&&e.assignees.length>0?(0,r.jsxs)(r.Fragment,{children:[e.assignees.slice(0,2).map((n,t)=>(0,r.jsx)("div",{className:"assignee-avatar-sm",style:{width:"28px",height:"28px",borderRadius:"50%",background:0===t?"#F59E0B":"#3B82F6",color:"#FFFFFF",fontSize:"0.75rem",fontWeight:"700",display:"flex",alignItems:"center",justifyContent:"center",marginLeft:t>0?"-10px":"0",zIndex:e.assignees.length-t,position:"relative",border:"3px solid #FFFFFF",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:n.name.charAt(0).toUpperCase()},n.id)),e.assignees.length>2&&(0,r.jsxs)("div",{className:"assignee-avatar-sm",style:{width:"28px",height:"28px",borderRadius:"50%",background:"#10B981",color:"#FFFFFF",fontSize:"0.75rem",fontWeight:"700",display:"flex",alignItems:"center",justifyContent:"center",marginLeft:"-10px",border:"3px solid #FFFFFF",zIndex:1,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:["+",e.assignees.length-2]}),(0,r.jsx)("span",{style:{fontSize:"0.875rem",marginLeft:"0.5rem",color:"#57534E",fontWeight:"600"},children:1===e.assignees.length?e.assignees[0].name:"".concat(e.assignees.length," assignees")})]}):e.assignee?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"assignee-avatar-sm",style:{width:"28px",height:"28px",borderRadius:"50%",background:"#F59E0B",color:"#FFFFFF",fontSize:"0.75rem",fontWeight:"700",display:"flex",alignItems:"center",justifyContent:"center",border:"3px solid #FFFFFF",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:e.assignee.name.charAt(0).toUpperCase()}),(0,r.jsx)("span",{style:{color:"#57534E",fontWeight:"600"},children:e.assignee.name})]}):null}),(0,r.jsx)("span",{className:"task-priority priority-".concat(e.priority),style:{padding:"0.5rem 1rem",borderRadius:"16px",fontSize:"0.75rem",fontWeight:"700",textTransform:"uppercase",letterSpacing:"0.05em",background:"urgent"===e.priority?"#FEE2E2":"high"===e.priority?"#FEF3C7":"medium"===e.priority?"#DBEAFE":"#F9FAFB",color:"urgent"===e.priority?"#DC2626":"high"===e.priority?"#92400E":"medium"===e.priority?"#1E40AF":"#6B7280",border:"2px solid ".concat("urgent"===e.priority?"#EF4444":"high"===e.priority?"#F59E0B":"medium"===e.priority?"#3B82F6":"#D1D5DB"),boxShadow:"0 2px 8px rgba(0, 0, 0, 0.06)"},children:e.priority})]})]}),(0,r.jsx)("div",{className:"timeline-chart",style:{padding:"2rem 1.5rem"},children:(0,r.jsxs)("div",{className:"timeline-bar-container",style:{marginBottom:"1.5rem"},children:[(0,r.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:(0,r.jsxs)("span",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#57534E"},children:[o,"% Complete"]})}),(0,r.jsx)("div",{className:"timeline-bar",style:{width:"100%",height:"4px",background:"#F3F4F6",overflow:"hidden",position:"relative"},children:(0,r.jsx)("div",{className:"timeline-progress",style:{width:"".concat(Math.max(o,5),"%"),height:"100%",background:"done"===e.status?"#10B981":"in_progress"===e.status?"#3B82F6":(e.status,"#F59E0B"),transition:"all 0.6s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative"}})}),(0,r.jsxs)("div",{className:"timeline-dates",style:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem",marginTop:"1rem",color:"#78716C"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,r.jsx)("span",{style:{fontWeight:"600"},children:"Start:"}),(0,r.jsx)("span",{children:t.toLocaleDateString()})]}),a&&(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,r.jsx)("span",{style:{fontWeight:"600"},children:"Due:"}),(0,r.jsx)("span",{style:{color:eC(e.due_date)?"#DC2626":"#78716C",fontWeight:eC(e.due_date)?"600":"normal"},children:a.toLocaleDateString()})]})]})]})})]},e.id)})})]}),(0,r.jsx)("div",{className:"timeline-info",style:{marginTop:"2.5rem"},children:(0,r.jsxs)("div",{className:"info-card",style:{background:"#FEF7ED",border:"1px solid #FED7AA",borderRadius:"20px",padding:"2rem",boxShadow:"0 4px 16px rgba(251, 146, 60, 0.08)"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem"},children:[(0,r.jsxs)("svg",{style:{width:"24px",height:"24px",opacity:.6},viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"10"}),(0,r.jsx)("line",{x1:"18",y1:"20",x2:"18",y2:"4"}),(0,r.jsx)("line",{x1:"6",y1:"20",x2:"6",y2:"16"})]}),(0,r.jsx)("h4",{style:{fontSize:"1.125rem",fontWeight:"800",color:"#EA580C",margin:"0",letterSpacing:"-0.025em"},children:"Progress Guide"})]}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"1rem",marginBottom:"1.5rem",maxWidth:"1400px",margin:"0 auto"},children:[(0,r.jsxs)("div",{style:{background:"#FFFFFF",padding:"1rem",borderRadius:"8px",borderLeft:"4px solid #F59E0B"},children:[(0,r.jsx)("div",{style:{fontWeight:"600",fontSize:"0.875rem",color:"#57534E",marginBottom:"0.25rem"},children:"Planning"}),(0,r.jsx)("div",{style:{fontSize:"1.125rem",color:"#92400E",fontWeight:"700"},children:"10%"})]}),(0,r.jsxs)("div",{style:{background:"#FFFFFF",padding:"1rem",borderRadius:"8px",borderLeft:"4px solid #3B82F6"},children:[(0,r.jsx)("div",{style:{fontWeight:"600",fontSize:"0.875rem",color:"#57534E",marginBottom:"0.25rem"},children:"In Progress"}),(0,r.jsx)("div",{style:{fontSize:"1.125rem",color:"#1E40AF",fontWeight:"700"},children:"50%"})]}),(0,r.jsxs)("div",{style:{background:"#FFFFFF",padding:"1rem",borderRadius:"8px",borderLeft:"4px solid #F59E0B"},children:[(0,r.jsx)("div",{style:{fontWeight:"600",fontSize:"0.875rem",color:"#57534E",marginBottom:"0.25rem"},children:"Review"}),(0,r.jsx)("div",{style:{fontSize:"1.125rem",color:"#92400E",fontWeight:"700"},children:"80%"})]}),(0,r.jsxs)("div",{style:{background:"#FFFFFF",padding:"1rem",borderRadius:"8px",borderLeft:"4px solid #10B981"},children:[(0,r.jsx)("div",{style:{fontWeight:"600",fontSize:"0.875rem",color:"#57534E",marginBottom:"0.25rem"},children:"Complete"}),(0,r.jsx)("div",{style:{fontSize:"1.125rem",color:"#047857",fontWeight:"700"},children:"100%"})]})]}),(0,r.jsx)("p",{style:{fontSize:"0.925rem",margin:"0",color:"#78716C",lineHeight:"1.6",fontWeight:"500",textAlign:"center"},children:"Tasks are automatically color-coded by status. Overdue items are highlighted with a red border for immediate attention."})]})})]}),"gantt"===L&&(0,r.jsxs)("div",{className:"gantt-view",children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem",borderBottom:"2px solid #E5E7EB",paddingBottom:"1rem",background:"#ffffff"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{style:{fontSize:"2rem",fontWeight:"bold",margin:"0",color:"#000000"},children:"Gantt Chart"}),(0,r.jsxs)("p",{style:{fontSize:"1rem",color:"#666666",margin:"0.5rem 0 0 0"},children:[(null==F?void 0:F.name)||"Project"," • ","task"===W?"Task Management":"Timeline Visualization"]})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"0.5rem",background:"#F9FAFB",borderRadius:"8px",padding:"0.25rem",border:"2px solid #E5E7EB"},children:[(0,r.jsx)("button",{onClick:()=>q("task"),style:{padding:"0.75rem 1.5rem",border:"none",background:"task"===W?"#000000":"transparent",color:"task"===W?"#FFFFFF":"#374151",borderRadius:"6px",fontWeight:"600",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.2s ease",letterSpacing:"0.025em"},onMouseEnter:e=>{"task"!==W&&(e.currentTarget.style.background="#E5E7EB",e.currentTarget.style.color="#000000")},onMouseLeave:e=>{"task"!==W&&(e.currentTarget.style.background="transparent",e.currentTarget.style.color="#374151")},children:"Tasks"}),(0,r.jsx)("button",{onClick:()=>q("gantt"),style:{padding:"0.75rem 1.5rem",border:"none",background:"gantt"===W?"#000000":"transparent",color:"gantt"===W?"#FFFFFF":"#374151",borderRadius:"6px",fontWeight:"600",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.2s ease",letterSpacing:"0.025em"},onMouseEnter:e=>{"gantt"!==W&&(e.currentTarget.style.background="#E5E7EB",e.currentTarget.style.color="#000000")},onMouseLeave:e=>{"gantt"!==W&&(e.currentTarget.style.background="transparent",e.currentTarget.style.color="#374151")},children:"Gantt Chart"})]})]}),"task"===W&&(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"gantt-sidebar-enhanced",style:{width:"100%",maxWidth:"none",background:"#ffffff",border:"2px solid #E5E7EB",borderRadius:"12px",overflow:"hidden",marginBottom:"2rem"},children:[(0,r.jsxs)("div",{className:"gantt-sidebar-header-enhanced",style:{display:"grid",gridTemplateColumns:"2fr 0.8fr 1.2fr 0.8fr 0.8fr",background:"#F9FAFB",border:"none",borderBottom:"1px solid #E5E7EB",minWidth:"100%",width:"100%"},children:[(0,r.jsx)("div",{style:{padding:"1rem 1rem",fontWeight:"700",color:"#374151",fontSize:"0.875rem",display:"flex",alignItems:"center",borderRight:"1px solid #E5E7EB",textAlign:"left",letterSpacing:"0.025em"},children:"TASK"}),(0,r.jsx)("div",{style:{padding:"1rem 0.5rem",fontWeight:"700",color:"#374151",fontSize:"0.875rem",display:"flex",alignItems:"center",justifyContent:"center",borderRight:"1px solid #E5E7EB",textAlign:"center",letterSpacing:"0.025em"},children:"DURATION"}),(0,r.jsx)("div",{style:{padding:"1rem 0.5rem",fontWeight:"700",color:"#374151",fontSize:"0.875rem",display:"flex",alignItems:"center",justifyContent:"center",borderRight:"1px solid #E5E7EB",textAlign:"center",letterSpacing:"0.025em"},children:"ASSIGNEE"}),(0,r.jsx)("div",{style:{padding:"1rem 0.5rem",fontWeight:"700",color:"#374151",fontSize:"0.875rem",display:"flex",alignItems:"center",justifyContent:"center",borderRight:"1px solid #E5E7EB",textAlign:"center",letterSpacing:"0.025em"},children:"STATUS"}),(0,r.jsx)("div",{style:{padding:"1rem 0.5rem",fontWeight:"700",color:"#374151",fontSize:"0.875rem",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",letterSpacing:"0.025em"},children:"PRIORITY"})]}),(0,r.jsx)("div",{className:"gantt-tasks-enhanced",style:{background:"#ffffff",border:"none",overflow:"hidden"},children:0===C.length?(0,r.jsxs)("div",{className:"gantt-empty-state",style:{padding:"3rem",textAlign:"center",color:"#6b7280",background:"#f9fafb"},children:[(0,r.jsx)("p",{style:{margin:"0",fontSize:"1.1rem"},children:"No tasks available"}),(0,r.jsx)("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.9rem"},children:"Create your first task to get started!"})]}):e_(C).map(e=>{var n;let t=e.start_date?new Date(e.start_date):new Date,a=new Date(e.due_date?e.due_date:t.getTime()+6048e5),o=Math.max(1,Math.ceil((a.getTime()-t.getTime())/864e5));return(0,r.jsx)("div",{className:"gantt-task-row-enhanced",onClick:n=>ex(e,n),style:{cursor:"pointer",transition:"all 0.2s ease",borderBottom:"1px solid #E5E7EB"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#F8FAFC",e.currentTarget.style.transform="translateY(-1px)",e.currentTarget.style.boxShadow="0 4px 6px -1px rgba(0, 0, 0, 0.1)"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:(0,r.jsxs)("div",{className:"gantt-task-info-enhanced",style:{display:"grid",gridTemplateColumns:"2fr 0.8fr 1.2fr 0.8fr 0.8fr",width:"100%",background:"#ffffff",minHeight:"50px"},children:[(0,r.jsxs)("div",{className:"gantt-task-name-enhanced",style:{display:"flex",flexDirection:"column",gap:"0.25rem",padding:"1rem 1rem",borderRight:"1px solid #E5E7EB",justifyContent:"center"},children:[(0,r.jsx)("span",{className:"task-title",style:{fontWeight:"600",color:"#1F2937",fontSize:"0.875rem",lineHeight:"1.3",wordWrap:"break-word",overflowWrap:"break-word",wordBreak:"break-word",whiteSpace:"normal",hyphens:"auto",maxWidth:"100%"},children:e.name}),e.description&&(0,r.jsxs)("span",{style:{fontSize:"0.75rem",color:"#6B7280",lineHeight:"1.3"},children:[e.description.substring(0,30),e.description.length>30?"...":""]})]}),(0,r.jsxs)("div",{className:"gantt-task-duration",style:{display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"600",fontSize:"0.875rem",color:"#374151",borderRight:"1px solid #E5E7EB",padding:"1rem 0.5rem"},children:[o,"d"]}),(0,r.jsx)("div",{className:"gantt-task-assignee",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"1rem 0.5rem",borderRight:"1px solid #E5E7EB"},children:e.assignee?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"assignee-avatar-enhanced",style:{width:"24px",height:"24px",borderRadius:"50%",background:"#F3F4F6",color:"#374151",border:"2px solid #E5E7EB",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",fontWeight:"600"},children:e.assignee.name.charAt(0).toUpperCase()}),(0,r.jsx)("span",{style:{fontSize:"0.75rem",color:"#374151",fontWeight:"500"},children:e.assignee.name.split(" ")[0]})]}):(0,r.jsx)("span",{className:"unassigned",style:{color:"#9CA3AF",fontStyle:"italic",fontSize:"0.75rem"},children:"Unassigned"})}),(0,r.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",borderRight:"1px solid #E5E7EB",padding:"1rem 0.5rem"},children:(0,r.jsx)("span",{style:{padding:"0.25rem 0.5rem",borderRadius:"6px",fontSize:"0.75rem",fontWeight:"600",background:ez(e.status).color,color:"#1F2937",border:"1px solid #E5E7EB",textTransform:"capitalize",letterSpacing:"0.025em"},children:(null===(n=T.find(n=>n.value===e.status))||void 0===n?void 0:n.label)||e.status})}),(0,r.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem 0.5rem"},children:(0,r.jsx)("span",{style:{padding:"0.25rem 0.5rem",borderRadius:"6px",fontSize:"0.75rem",fontWeight:"600",background:eN(e.priority).color+"20",color:eN(e.priority).color,border:"1px solid "+eN(e.priority).color+"40",textTransform:"capitalize",letterSpacing:"0.025em"},children:e.priority})})]})},e.id)})})]})}),"gantt"===W&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",padding:"1rem",background:"#F9FAFB",border:"2px solid #E5E7EB",borderRadius:"12px"},children:[(0,r.jsxs)("button",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1.5rem",background:"#ffffff",color:"#374151",border:"2px solid #E5E7EB",borderRadius:"8px",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.background="#F3F4F6",e.currentTarget.style.borderColor="#D1D5DB"},onMouseLeave:e=>{e.currentTarget.style.background="#ffffff",e.currentTarget.style.borderColor="#E5E7EB"},children:[(0,r.jsx)(b.Z,{style:{width:"16px",height:"16px"}}),"Filters"]}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",background:"#ffffff",padding:"0.5rem",borderRadius:"8px",border:"2px solid #E5E7EB"},children:[(0,r.jsx)("button",{onClick:()=>{let e=new Date(Y);e.setFullYear(e.getFullYear()-1),Z(e)},style:{padding:"0.5rem",background:"transparent",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:"#374151",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.background="#F3F4F6"},onMouseLeave:e=>{e.currentTarget.style.background="transparent"},children:(0,r.jsx)(h.Z,{style:{width:"16px",height:"16px"}})}),(0,r.jsx)("span",{style:{fontSize:"1rem",fontWeight:"600",color:"#1F2937",minWidth:"140px",textAlign:"center"},children:Y.getFullYear()}),(0,r.jsx)("button",{onClick:()=>{let e=new Date(Y);e.setFullYear(e.getFullYear()+1),Z(e)},style:{padding:"0.5rem",background:"transparent",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:"#374151",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.background="#F3F4F6"},onMouseLeave:e=>{e.currentTarget.style.background="transparent"},children:(0,r.jsx)(y.Z,{style:{width:"16px",height:"16px"}})})]})]}),(0,r.jsx)("div",{className:"gantt-chart-enhanced",style:{width:"100%",maxWidth:"100%",overflow:"visible",background:"#ffffff",borderRadius:"12px",border:"2px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},children:(0,r.jsxs)("div",{className:"gantt-timeline-enhanced",style:{width:"100%",maxWidth:"100%",overflowX:"auto",overflowY:"hidden",boxSizing:"border-box",scrollbarWidth:"thin",background:"#ffffff"},children:[(0,r.jsxs)("div",{className:"gantt-timeline-header-enhanced",style:{minWidth:"2600px"},children:[(0,r.jsxs)("div",{className:"gantt-year-header",style:{background:"#F9FAFB",padding:"0.75rem 1rem",borderBottom:"1px solid #E5E7EB",textAlign:"left",display:"flex",alignItems:"center",gap:"1rem"},children:[(0,r.jsx)("div",{className:"year-label",style:{fontSize:"1rem",fontWeight:"700",color:"#1F2937"},children:eS().getFullYear()}),(0,r.jsx)("div",{style:{fontSize:"0.75rem",color:"#6B7280",fontWeight:"500"},children:"52 weeks • January to December"})]}),(0,r.jsx)("div",{className:"gantt-week-headers",style:{display:"flex",width:"2600px"},children:Array.from({length:52},(e,n)=>{let t=n+1,a=eT(eS().getFullYear(),t),o=new Date,i=new Date(a);i.setDate(a.getDate()+6);let s=o>=a&&o<=i;return(0,r.jsxs)("div",{className:"week-header",style:{width:"50px",minWidth:"50px",padding:"0.5rem 0.25rem",borderRight:n<51?"1px solid #E5E7EB":"none",fontWeight:s?"700":"600",textAlign:"center",background:s?"linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%)":n%2==0?"#F9FAFB":"#ffffff",boxSizing:"border-box",color:s?"#ffffff":"#374151",fontSize:"0.75rem",transition:"all 0.3s ease",cursor:"pointer",borderRadius:s?"6px":"0",boxShadow:s?"0 2px 8px rgba(59, 130, 246, 0.3)":"none"},onMouseEnter:e=>{s||(e.currentTarget.style.background="linear-gradient(135deg, #F3F4F6 0%, #E5E7EB 100%)",e.currentTarget.style.transform="translateY(-1px)")},onMouseLeave:e=>{s||(e.currentTarget.style.background=n%2==0?"#F9FAFB":"#ffffff",e.currentTarget.style.transform="translateY(0)")},children:[(0,r.jsxs)("div",{style:{marginBottom:"0.25rem",textShadow:s?"0 1px 2px rgba(0, 0, 0, 0.1)":"none"},children:["W",t]}),(0,r.jsx)("div",{style:{fontSize:"0.6rem",color:s?"rgba(255, 255, 255, 0.9)":"#6B7280",fontWeight:"400",textShadow:s?"0 1px 2px rgba(0, 0, 0, 0.1)":"none"},children:a.toLocaleDateString("en-US",{month:"short",day:"numeric"})})]},n)})})]}),(0,r.jsxs)("div",{className:"gantt-grid-container",style:{minWidth:"2600px",position:"relative",minHeight:C.length>0?"".concat(65*C.length,"px"):"200px",background:"#ffffff"},children:[(0,r.jsx)("div",{className:"gantt-vertical-grid",style:{position:"absolute",top:0,left:0,width:"2600px",height:"100%",pointerEvents:"none",zIndex:1},children:Array.from({length:53},(e,n)=>(0,r.jsx)("div",{className:"grid-line-vertical",style:{position:"absolute",left:"".concat(50*n,"px"),top:0,height:"100%",width:"1px",background:0===n||52===n?"#D1D5DB":"#F3F4F6"}},n))}),(0,r.jsx)("div",{className:"gantt-bars-enhanced",style:{minWidth:"2600px",position:"relative",zIndex:2},children:0===C.length?(0,r.jsxs)("div",{className:"gantt-bars-empty",style:{padding:"3rem",textAlign:"center",color:"#6B7280",background:"#F9FAFB",borderRadius:"8px",margin:"2rem"},children:[(0,r.jsx)("p",{style:{margin:"0",fontSize:"1.1rem",fontWeight:"600"},children:"No tasks available"}),(0,r.jsx)("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.9rem"},children:"Create your first task to see it on the timeline!"})]}):e_(C).map((e,n)=>{var t,a,o,i,s,l,d;let c=e.start_date?new Date(e.start_date):new Date,m=new Date(e.due_date?e.due_date:c.getTime()+6048e5),p=Math.max(1,Math.ceil((m.getTime()-c.getTime())/6048e5)),f=eD(c),g=Math.min(50*p,2550);ez(e.status);let u=eC(e.due_date);return(0,r.jsx)("div",{className:"gantt-bar-row-enhanced",style:{position:"relative",height:"65px",borderBottom:"1px solid #F3F4F6",background:n%2==0?"#FAFBFC":"#ffffff"},children:(0,r.jsx)("div",{className:"gantt-bar-enhanced status-".concat(e.status," ").concat(u?"overdue":""),style:{width:"".concat(g,"px"),left:"".concat(Math.max(0,(f-1)*50),"px"),position:"absolute",height:"40px",background:eB(e.status),border:"2px solid ".concat(eA(e.status)),borderRadius:"10px",display:"flex",alignItems:"center",top:"50%",transform:"translateY(-50%)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",padding:"0 0.75rem",overflow:"hidden"},title:"".concat(e.name,"\nStart: ").concat(c.toLocaleDateString(),"\nDue: ").concat(m.toLocaleDateString(),"\nDuration: ").concat(p," weeks\nStatus: ").concat(null===(t=T.find(n=>n.value===e.status))||void 0===t?void 0:t.label,"\nAssignee: ").concat((null===(a=e.assignee)||void 0===a?void 0:a.name)||(null===(o=e.assignees)||void 0===o?void 0:o.map(e=>e.name).join(", "))||"Unassigned"),onClick:n=>ex(e,n),onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-50%) scale(1.05)",e.currentTarget.style.boxShadow="0 8px 25px rgba(0, 0, 0, 0.2)",e.currentTarget.style.zIndex="10"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(-50%) scale(1)",e.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15)",e.currentTarget.style.zIndex="2"},children:(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",gap:"0.5rem"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flex:1,minWidth:0},children:[(e.assignee||(null===(i=e.assignees)||void 0===i?void 0:i[0]))&&(0,r.jsx)("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"#ffffff",border:"2px solid rgba(255, 255, 255, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",fontWeight:"700",color:eA(e.status),flexShrink:0},children:((null===(s=e.assignee)||void 0===s?void 0:s.name)||(null===(d=e.assignees)||void 0===d?void 0:null===(l=d[0])||void 0===l?void 0:l.name)||"U").charAt(0).toUpperCase()}),(0,r.jsx)("span",{style:{color:"#ffffff",fontSize:"0.875rem",fontWeight:"600",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",textShadow:"0 1px 2px rgba(0, 0, 0, 0.1)"},children:e.name})]}),(0,r.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",flexShrink:0},children:(0,r.jsxs)("span",{style:{fontSize:"0.75rem",fontWeight:"600",color:"rgba(255, 255, 255, 0.9)",background:"rgba(255, 255, 255, 0.2)",padding:"0.125rem 0.375rem",borderRadius:"4px",textShadow:"0 1px 2px rgba(0, 0, 0, 0.1)"},children:[p,"w"]})})]})})},e.id)})})]})]})}),(0,r.jsxs)("div",{className:"gantt-legend",children:[(0,r.jsxs)("div",{className:"legend-section",children:[(0,r.jsx)("h4",{children:"Status Legend"}),(0,r.jsxs)("div",{className:"legend-items",children:[(0,r.jsxs)("div",{className:"legend-item",children:[(0,r.jsx)("div",{className:"legend-color",style:{backgroundColor:"#ffffff",borderStyle:"dashed"}}),(0,r.jsx)("span",{children:"To Do"})]}),(0,r.jsxs)("div",{className:"legend-item",children:[(0,r.jsx)("div",{className:"legend-color",style:{backgroundColor:"#f3f4f6"}}),(0,r.jsx)("span",{children:"In Progress"})]}),(0,r.jsxs)("div",{className:"legend-item",children:[(0,r.jsx)("div",{className:"legend-color",style:{backgroundColor:"#e5e7eb"}}),(0,r.jsx)("span",{children:"Review"})]}),(0,r.jsxs)("div",{className:"legend-item",children:[(0,r.jsx)("div",{className:"legend-color",style:{backgroundColor:"#d1d5db"}}),(0,r.jsx)("span",{children:"Done"})]})]})]}),(0,r.jsxs)("div",{className:"legend-section",children:[(0,r.jsx)("h4",{children:"Priority Legend"}),(0,r.jsxs)("div",{className:"legend-items",children:[(0,r.jsxs)("div",{className:"legend-item",children:[(0,r.jsx)("div",{className:"legend-priority-dot",style:{width:"8px",backgroundColor:"#9ca3af"}}),(0,r.jsx)("span",{children:"Low"})]}),(0,r.jsxs)("div",{className:"legend-item",children:[(0,r.jsx)("div",{className:"legend-priority-dot",style:{width:"12px",backgroundColor:"#6b7280"}}),(0,r.jsx)("span",{children:"Medium"})]}),(0,r.jsxs)("div",{className:"legend-item",children:[(0,r.jsx)("div",{className:"legend-priority-dot",style:{width:"16px",backgroundColor:"#374151"}}),(0,r.jsx)("span",{children:"High"})]}),(0,r.jsxs)("div",{className:"legend-item",children:[(0,r.jsx)("div",{className:"legend-priority-dot",style:{width:"16px",height:"3px",backgroundColor:"#111827"}}),(0,r.jsx)("span",{children:"Urgent"})]})]})]}),(0,r.jsxs)("div",{className:"legend-section",children:[(0,r.jsx)("h4",{children:"Progress Indicators"}),(0,r.jsxs)("div",{className:"legend-items",children:[(0,r.jsxs)("div",{className:"legend-item",children:[(0,r.jsx)("div",{className:"progress-example",children:(0,r.jsx)("div",{className:"progress-bar",style:{width:"50%",background:"repeating-linear-gradient(45deg, transparent, transparent 1px, rgba(0, 0, 0, 0.2) 1px, rgba(0, 0, 0, 0.2) 2px)"}})}),(0,r.jsx)("span",{children:"Task Progress"})]}),(0,r.jsxs)("div",{className:"legend-item",children:[(0,r.jsx)("div",{style:{width:"12px",height:"12px",background:"#111827",color:"#ffffff",borderRadius:"2px",fontSize:"0.5rem",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"700"},children:"!"}),(0,r.jsx)("span",{children:"Overdue Task"})]})]})]})]})]})]}),"todo"===L&&(0,r.jsxs)("div",{className:"todo-view",children:[(0,r.jsxs)("div",{className:"view-description",children:[(0,r.jsx)("h3",{children:"To Do List"}),(0,r.jsx)("p",{children:"Advanced to-do list for quick task management. Add, edit, and organize todos with priorities, categories, and due dates."})]}),(0,r.jsx)("div",{className:"todo-container",children:(0,r.jsx)(S,{projectId:Number(null==e?void 0:e.id),projectMembers:F.members})})]})]}),H&&(0,r.jsx)("div",{className:"modal-overlay",style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",zIndex:50},children:(0,r.jsxs)("div",{className:"modal-content",style:{background:"#ffffff",border:"2px solid #000000",padding:"2rem",width:"100%",maxWidth:"800px",borderRadius:"12px",maxHeight:"90vh",overflowY:"auto",overflowX:"hidden",boxSizing:"border-box",WebkitOverflowScrolling:"touch"},children:[(0,r.jsx)("h2",{className:"modal-title",children:"Create New Task"}),(0,r.jsxs)("form",{onSubmit:ef,style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Task Name"}),(0,r.jsx)("input",{type:"text",required:!0,className:"form-input",placeholder:"Enter task name...",value:ec.name,onChange:e=>em({...ec,name:e.target.value})})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Description"}),(0,r.jsx)("textarea",{className:"form-textarea",rows:3,placeholder:"Describe what needs to be done...",value:ec.description,onChange:e=>em({...ec,description:e.target.value})})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Priority"}),(0,r.jsx)("select",{className:"form-select",value:ec.priority,onChange:e=>em({...ec,priority:e.target.value}),children:A.map(e=>(0,r.jsxs)("option",{value:e.value,children:[e.icon," ",e.label]},e.value))})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Assignees"}),(0,r.jsx)("div",{style:{border:"2px solid #e5e7eb",borderRadius:"8px",padding:"0.75rem",background:"#ffffff",minHeight:"120px",maxHeight:"200px",overflowY:"auto"},children:0===F.members.length?(0,r.jsx)("div",{style:{color:"#6b7280",fontStyle:"italic",textAlign:"center",padding:"1rem"},children:"No team members available"}):F.members.map(e=>(0,r.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem",cursor:"pointer",borderRadius:"4px",transition:"background-color 0.2s ease",marginBottom:"0.25rem"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f3f4f6",onMouseOut:e=>e.currentTarget.style.backgroundColor="transparent",children:[(0,r.jsx)("input",{type:"checkbox",checked:ec.assignee_ids.includes(e.id),onChange:n=>{if(console.log("Checkbox clicked for member:",e.name,"Checked:",n.target.checked),console.log("Current assignee_ids:",ec.assignee_ids),n.target.checked){let n=[...ec.assignee_ids,e.id];console.log("Adding member, new assignee_ids:",n),em({...ec,assignee_ids:n})}else{let n=ec.assignee_ids.filter(n=>n!==e.id);console.log("Removing member, new assignee_ids:",n),em({...ec,assignee_ids:n})}},style:{marginRight:"0.5rem",accentColor:"#000000",transform:"scale(1.2)"}}),(0,r.jsx)("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:ec.assignee_ids.includes(e.id)?"#000000":"#f3f4f6",color:ec.assignee_ids.includes(e.id)?"#ffffff":"#000000",border:"2px solid #000000",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.875rem",fontWeight:"600"},children:e.name.charAt(0).toUpperCase()}),(0,r.jsx)("span",{style:{fontSize:"0.9rem",fontWeight:"500",color:ec.assignee_ids.includes(e.id)?"#000000":"#374151"},children:e.name})]},e.id))}),ec.assignee_ids.length>0&&(0,r.jsxs)("div",{style:{marginTop:"0.5rem",padding:"0.75rem",background:ec.assignee_ids.length>1?"#dcfce7":"#f0f9ff",border:ec.assignee_ids.length>1?"2px solid #16a34a":"1px solid #3b82f6",borderRadius:"6px",fontSize:"0.9rem",color:ec.assignee_ids.length>1?"#15803d":"#1e40af",fontWeight:"600"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[ec.assignee_ids.length>1&&(0,r.jsx)("span",{style:{fontSize:"1.2rem"},children:"✅"}),(0,r.jsxs)("strong",{children:[ec.assignee_ids.length," assignee",1===ec.assignee_ids.length?"":"s"," selected",ec.assignee_ids.length>1&&" (Multiple assignees!)"]})]}),(0,r.jsxs)("div",{style:{marginTop:"0.25rem",fontSize:"0.8rem",opacity:.8},children:["Selected: ",F.members.filter(e=>ec.assignee_ids.includes(e.id)).map(e=>e.name).join(", ")]})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Start Date"}),(0,r.jsx)("input",{type:"date",className:"form-input",value:ec.start_date,onChange:e=>em({...ec,start_date:e.target.value})})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Due Date"}),(0,r.jsx)("input",{type:"date",className:"form-input",value:ec.due_date,onChange:e=>em({...ec,due_date:e.target.value})})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Tags"}),(0,r.jsx)("input",{type:"text",className:"form-input",placeholder:"frontend, urgent, bug (comma-separated)",value:ec.tags,onChange:e=>em({...ec,tags:e.target.value})})]}),(0,r.jsxs)("div",{className:"button-group",style:{display:"flex",gap:"1rem",marginTop:"0",paddingTop:"1rem",borderTop:"1px solid #e5e7eb"},children:[(0,r.jsx)("button",{type:"button",onClick:()=>G(!1),className:"btn-secondary",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",className:"btn-primary",children:"Create Task"})]})]})]})}),et&&Q&&(0,r.jsx)(w.Z,{task:Q,users:F.members,onClose:()=>{er(!1),$(null)},onSave:eu,onStatusChange:eg,onDelete:eh}),ea&&F&&(0,r.jsx)(N,{projectId:F.id,currentMembers:F.members,onClose:()=>eo(!1),onMembersUpdate:eb}),ei&&(0,r.jsx)("div",{className:"modal-overlay",children:(0,r.jsxs)("div",{className:"modal-content",style:{maxWidth:"400px"},children:[(0,r.jsx)("h2",{className:"modal-title",style:{color:"#ef4444"},children:"Delete Project"}),(0,r.jsxs)("p",{style:{textAlign:"center",marginBottom:"2rem",color:"#6b7280"},children:['Are you sure you want to delete "',F.name,'"? This action cannot be undone. All tasks and project data will be permanently deleted.']}),(0,r.jsxs)("div",{className:"button-group",children:[(0,r.jsx)("button",{onClick:()=>es(!1),className:"btn-secondary",children:"Cancel"}),(0,r.jsx)("button",{onClick:ey,style:{flex:1,background:"#ef4444",color:"#ffffff",border:"none",padding:"1rem",borderRadius:"8px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},onMouseOver:e=>e.currentTarget.style.background="#dc2626",onMouseOut:e=>e.currentTarget.style.background="#ef4444",children:"Delete Project"})]})]})})]})]})]}):(0,r.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#ffffff"},children:(0,r.jsxs)("div",{style:{textAlign:"center"},children:[(0,r.jsx)("h1",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#000000",marginBottom:"1rem"},children:"Project not found"}),(0,r.jsx)("button",{onClick:()=>n.push("/dashboard"),style:{background:"#000000",color:"#ffffff",padding:"0.75rem 1.5rem",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Back to Dashboard"})]})}):null}},7514:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return g}});var r=t(7437),a=t(2265),o=t(4164),i=t(3217),s=t(1205),l=t(7805),d=t(4020),c=t(5946),m=t(1550),p=t(5255),f=t(3152);function g(e){let{onFileSelect:n,onFolderSelect:t,allowFileSelection:g=!0,allowFolderSelection:u=!0,showCreateFolder:x=!1,mode:b="browse"}=e,[h,y]=(0,a.useState)([]),[v,w]=(0,a.useState)(!1),[j,k]=(0,a.useState)([]),[_,F]=(0,a.useState)(null),[N,z]=(0,a.useState)(""),[C,E]=(0,a.useState)(""),[S,D]=(0,a.useState)(!1),[T,A]=(0,a.useState)(null),[B,I]=(0,a.useState)(!1),[P,M]=(0,a.useState)(""),[R,U]=(0,a.useState)(!1),[L,O]=(0,a.useState)([]),[W,q]=(0,a.useState)(!1),[Y,Z]=(0,a.useState)({uploaded:0,total:0,currentFile:""}),H=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;w(!0),A(null);try{let n=await (0,f.D)(e);return y(n),n}catch(e){return console.error("Error fetching files:",e),A(e instanceof Error?e.message:"Failed to fetch files"),y([]),[]}finally{w(!1)}},G=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=await H(e),t=n.filter(e=>"application/vnd.google-apps.folder"===e.mimeType);return t.map(n=>({id:n.id,name:n.name,children:[],isExpanded:!1,isLoaded:!1,parentId:e||void 0}))},V=async e=>{let n=await H(e),t=n.filter(e=>"application/vnd.google-apps.folder"===e.mimeType);return t.map(n=>({id:n.id,name:n.name,children:[],isExpanded:!1,isLoaded:!1,parentId:e}))},J=async e=>{let n=t=>t.map(t=>t.id===e?{...t,isExpanded:!t.isExpanded,children:t.isExpanded?t.children:[],isLoaded:!!t.isExpanded&&t.isLoaded}:{...t,children:n(t.children)});k(e=>n(e));let t=(e,n)=>{for(let r of e){if(r.id===n)return r;let e=t(r.children,n);if(e)return e}return null},r=t(j,e);if(r&&!r.isExpanded&&!r.isLoaded){let n=await V(e),t=r=>r.map(r=>r.id===e?{...r,children:n,isLoaded:!0,isExpanded:!0}:{...r,children:t(r.children)});k(e=>t(e))}},X=(e,n)=>{F(e),z(n),t&&t(e,n)},K=async e=>{if(!e.trim()){D(!1);return}w(!0),D(!0),A(null);try{let n=await (0,f._I)(e);y(n)}catch(e){console.error("Error searching files:",e),A(e instanceof Error?e.message:"Failed to search files"),y([])}finally{w(!1)}},Q=async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;w(!0);try{let t=await (0,f.al)(e,n||_),r=await G();return k(r),t}catch(e){console.error("Error creating folder:",e),A(e instanceof Error?e.message:"Failed to create folder")}finally{w(!1)}},$=async(e,n)=>{q(!0),Z({uploaded:0,total:e.length,currentFile:""});try{let t=await (0,f.z6)(e,n,(e,n,t)=>{Z({uploaded:e,total:n,currentFile:t})});U(!1),O([]),Z({uploaded:0,total:0,currentFile:""}),e.map(e=>e.name).join(", ");let r=1===e.length?'File "'.concat(e[0].name,'" uploaded successfully to "').concat(N,'"'):"".concat(e.length,' files uploaded successfully to "').concat(N,'"');return alert(r),_&&H(_),t}catch(e){console.error("Error uploading files:",e),A(e instanceof Error?e.message:"Failed to upload files")}finally{q(!1),Z({uploaded:0,total:0,currentFile:""})}},ee=async()=>{P.trim()&&(await Q(P.trim()),I(!1),M(""))},en=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,r.jsxs)("div",{style:{marginLeft:"".concat(20*n,"px")},children:[(0,r.jsxs)("div",{className:"folder-tree-item ".concat(_===e.id?"selected":""),onClick:()=>X(e.id,e.name),children:[(0,r.jsx)("button",{className:"expand-button",onClick:n=>{n.stopPropagation(),J(e.id)},children:e.isExpanded?(0,r.jsx)(o.Z,{style:{width:"16px",height:"16px"}}):(0,r.jsx)(i.Z,{style:{width:"16px",height:"16px"}})}),(0,r.jsx)(s.Z,{className:"folder-icon"}),(0,r.jsx)("span",{className:"folder-name",children:e.name}),_===e.id&&(0,r.jsx)(l.Z,{className:"selected-icon"})]}),e.isExpanded&&e.children.map(e=>en(e,n+1))]},e.id)};return(0,a.useEffect)(()=>{let e=async()=>{let e=await G();k(e)};e()},[]),(0,r.jsxs)("div",{className:"google-drive-explorer",children:[(0,r.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n          @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');\n          \n          .google-drive-explorer {\n            background: rgba(255, 255, 255, 0.95);\n            border: 2px solid rgba(255, 179, 51, 0.3);\n            border-radius: 16px;\n            overflow: hidden;\n            height: 100%;\n            max-height: 500px;\n            display: flex;\n            flex-direction: column;\n            backdrop-filter: blur(10px);\n            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);\n            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\n          }\n          .drive-header {\n            padding: 1.25rem 1.5rem;\n            border-bottom: 2px solid rgba(255, 179, 51, 0.2);\n            background: linear-gradient(135deg, #FFB333, #F87239);\n            flex-shrink: 0;\n            color: #FFFFFF;\n          }\n          .drive-search {\n            position: relative;\n            margin-bottom: 1rem;\n            width: 100%;\n            max-width: 100%;\n            box-sizing: border-box;\n          }\n          .drive-search input {\n            width: 100%;\n            max-width: 100%;\n            padding: 0.875rem 0.875rem 0.875rem 2.75rem;\n            border: 2px solid rgba(255, 255, 255, 0.3);\n            border-radius: 12px;\n            font-size: 0.925rem;\n            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);\n            box-sizing: border-box;\n            background: rgba(255, 255, 255, 0.9);\n            backdrop-filter: blur(10px);\n            color: #374151;\n            font-weight: 500;\n          }\n          .drive-search input:focus {\n            outline: none;\n            border-color: rgba(255, 255, 255, 0.8);\n            box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.2);\n            background: #FFFFFF;\n          }\n          .drive-search input::placeholder {\n            color: #9CA3AF;\n            font-weight: 500;\n          }\n          .drive-search-icon {\n            position: absolute;\n            left: 0.875rem;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #FFFFFF;\n            width: 20px;\n            height: 20px;\n          }\n          .drive-actions {\n            display: flex;\n            gap: 0.75rem;\n            align-items: center;\n            justify-content: space-between;\n          }\n          .drive-action-btn {\n            display: flex;\n            align-items: center;\n            gap: 0.5rem;\n            padding: 0.75rem 1.25rem;\n            border: 2px solid rgba(255, 255, 255, 0.3);\n            border-radius: 12px;\n            background: rgba(255, 255, 255, 0.9);\n            cursor: pointer;\n            font-size: 0.875rem;\n            font-weight: 600;\n            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);\n            color: #374151;\n            backdrop-filter: blur(10px);\n          }\n          .drive-action-btn:hover {\n            border-color: rgba(255, 255, 255, 0.8);\n            transform: translateY(-2px);\n            background: #FFFFFF;\n            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);\n          }\n          .drive-action-btn.primary {\n            background: rgba(255, 255, 255, 0.95);\n            color: #F87239;\n            border-color: rgba(255, 255, 255, 0.8);\n            font-weight: 700;\n          }\n          .drive-action-btn.primary:hover {\n            background: #FFFFFF;\n            color: #DC2626;\n          }\n          .drive-action-btn:disabled {\n            opacity: 0.5;\n            cursor: not-allowed;\n            transform: none;\n          }\n          .selected-folder-info {\n            background: #eff6ff;\n            padding: 0.75rem;\n            border-radius: 6px;\n            margin-bottom: 1rem;\n            display: flex;\n            align-items: center;\n            gap: 0.5rem;\n            font-size: 0.875rem;\n            color: #1e40af;\n          }\n          .drive-content {\n            flex: 1;\n            overflow: hidden;\n            display: flex;\n            min-height: 0;\n            background: linear-gradient(135deg, #F5F5ED 0%, #FAFAF2 100%);\n          }\n          .folder-tree-panel {\n            width: 50%;\n            border-right: 2px solid rgba(255, 179, 51, 0.2);\n            padding: 1rem;\n            overflow-y: auto;\n            max-height: 100%;\n            display: flex;\n            flex-direction: column;\n            background: rgba(255, 255, 255, 0.5);\n          }\n          .folder-tree {\n            flex: 1;\n            overflow-y: auto;\n            min-height: 0;\n            max-height: 350px;\n            scrollbar-width: thin;\n            scrollbar-color: rgba(255, 179, 51, 0.3) transparent;\n          }\n          .folder-tree::-webkit-scrollbar {\n            width: 8px;\n          }\n          .folder-tree::-webkit-scrollbar-track {\n            background: rgba(255, 179, 51, 0.1);\n            border-radius: 4px;\n          }\n          .folder-tree::-webkit-scrollbar-thumb {\n            background: rgba(255, 179, 51, 0.3);\n            border-radius: 4px;\n          }\n          .folder-tree::-webkit-scrollbar-thumb:hover {\n            background: rgba(255, 179, 51, 0.5);\n          }\n          .files-panel {\n            width: 50%;\n            padding: 1rem;\n            overflow-y: auto;\n            max-height: 100%;\n            display: flex;\n            flex-direction: column;\n            background: rgba(255, 255, 255, 0.3);\n          }\n          .drive-file-list {\n            flex: 1;\n            overflow-y: auto;\n            min-height: 0;\n            max-height: 550px;\n            padding: 0;\n          }\n          .panel-title {\n            font-weight: 700;\n            color: #FFB333;\n            margin-bottom: 1rem;\n            font-size: 1rem;\n            padding-bottom: 0.75rem;\n            border-bottom: 2px solid rgba(255, 179, 51, 0.3);\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            letter-spacing: -0.025em;\n          }\n          .panel-title-text {\n            display: flex;\n            align-items: center;\n            gap: 0.5rem;\n          }\n          .new-folder-btn {\n            background: #000000;\n            color: #ffffff;\n            border: none;\n            padding: 0.4rem 0.8rem;\n            border-radius: 6px;\n            font-size: 0.8rem;\n            font-weight: 500;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n            gap: 0.4rem;\n            transition: all 0.2s ease;\n          }\n          .new-folder-btn:hover {\n            background: #374151;\n            transform: translateY(-1px);\n          }\n          .folder-tree-item {\n            display: flex;\n            align-items: center;\n            gap: 0.5rem;\n            padding: 0.5rem;\n            border-radius: 6px;\n            cursor: pointer;\n            transition: all 0.2s ease;\n            margin-bottom: 0.25rem;\n          }\n          .folder-tree-item:hover {\n            background: #f3f4f6;\n          }\n          .folder-tree-item.selected {\n            background: #000000;\n            color: #ffffff;\n          }\n          .expand-button {\n            background: none;\n            border: none;\n            cursor: pointer;\n            padding: 0;\n            display: flex;\n            align-items: center;\n            color: inherit;\n          }\n          .folder-icon {\n            width: 18px;\n            height: 18px;\n            color: #3b82f6;\n            flex-shrink: 0;\n          }\n          .folder-tree-item.selected .folder-icon {\n            color: #ffffff;\n          }\n          .folder-name {\n            flex: 1;\n            font-size: 0.875rem;\n            font-weight: 500;\n          }\n          .selected-icon {\n            width: 16px;\n            height: 16px;\n            color: #10b981;\n          }\n          .drive-loading {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 200px;\n            color: #6b7280;\n            font-size: 0.9rem;\n          }\n          .drive-error {\n            padding: 2rem;\n            text-align: center;\n            color: #dc2626;\n            background: #fef2f2;\n            border-bottom: 1px solid #fecaca;\n          }\n\n          .drive-file-item {\n            display: flex;\n            align-items: center;\n            gap: 0.75rem;\n            padding: 0.75rem;\n            border-bottom: 1px solid #f3f4f6;\n            cursor: pointer;\n            transition: all 0.2s ease;\n          }\n          .drive-file-item:hover {\n            background: #f9fafb;\n          }\n          .drive-file-icon {\n            width: 20px;\n            height: 20px;\n            flex-shrink: 0;\n          }\n          .drive-file-icon.folder {\n            color: #3b82f6;\n          }\n          .drive-file-icon.file {\n            color: #6b7280;\n          }\n          .drive-file-info {\n            flex: 1;\n            min-width: 0;\n          }\n          .drive-file-name {\n            font-weight: 500;\n            color: #000000;\n            margin-bottom: 0.25rem;\n            word-break: break-word;\n            font-size: 0.875rem;\n          }\n          .drive-file-meta {\n            font-size: 0.75rem;\n            color: #6b7280;\n          }\n          .drive-empty {\n            padding: 3rem 1.5rem;\n            text-align: center;\n            color: #6b7280;\n          }\n          .drive-empty-icon {\n            width: 48px;\n            height: 48px;\n            margin: 0 auto 1rem;\n            color: #d1d5db;\n          }\n          .search-results {\n            width: 100%;\n            padding: 1rem;\n          }\n          .search-info {\n            padding: 0.75rem;\n            background: #eff6ff;\n            border-bottom: 1px solid #bfdbfe;\n            color: #1e40af;\n            font-size: 0.875rem;\n            margin-bottom: 1rem;\n          }\n          .dialog-overlay {\n            position: fixed;\n            inset: 0;\n            background: rgba(0, 0, 0, 0.7);\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: 1rem;\n            z-index: 50;\n          }\n          .dialog-content {\n            background: #ffffff;\n            border: 2px solid #000000;\n            border-radius: 12px;\n            padding: 2rem;\n            max-width: 400px;\n            width: 100%;\n          }\n          .dialog-title {\n            font-size: 1.25rem;\n            font-weight: bold;\n            margin-bottom: 1rem;\n            color: #000000;\n          }\n          .dialog-input {\n            width: 100%;\n            padding: 0.75rem;\n            border: 2px solid #e5e7eb;\n            border-radius: 6px;\n            margin-bottom: 1.5rem;\n            font-size: 1rem;\n          }\n          .dialog-input:focus {\n            outline: none;\n            border-color: #000000;\n            box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.1);\n          }\n          .file-input {\n            margin-bottom: 1rem;\n          }\n          .file-input input {\n            width: 100%;\n            padding: 0.75rem;\n            border: 2px dashed #e5e7eb;\n            border-radius: 6px;\n            font-size: 0.9rem;\n          }\n          .upload-info {\n            background: #f0f9f0;\n            padding: 1rem;\n            border-radius: 6px;\n            margin-bottom: 1rem;\n            font-size: 0.875rem;\n            color: #166534;\n          }\n          .dialog-actions {\n            display: flex;\n            gap: 1rem;\n          }\n          .dialog-btn {\n            flex: 1;\n            padding: 0.75rem 1.5rem;\n            border-radius: 6px;\n            font-weight: 600;\n            cursor: pointer;\n            transition: all 0.2s ease;\n            border: 2px solid;\n          }\n          .dialog-btn-primary {\n            background: #000000;\n            color: #ffffff;\n            border-color: #000000;\n          }\n          .dialog-btn-primary:hover {\n            transform: translateY(-1px);\n            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n          }\n          .dialog-btn-primary:disabled {\n            opacity: 0.5;\n            cursor: not-allowed;\n            transform: none;\n          }\n          .dialog-btn-secondary {\n            background: #ffffff;\n            color: #000000;\n            border-color: #e5e7eb;\n          }\n          .dialog-btn-secondary:hover {\n            border-color: #000000;\n          }\n        "}}),(0,r.jsxs)("div",{className:"drive-header",children:[(0,r.jsxs)("div",{className:"drive-search",children:[(0,r.jsx)(d.Z,{className:"drive-search-icon"}),(0,r.jsx)("input",{type:"text",placeholder:"Search files and folders...",value:C,onChange:e=>{let n=e.target.value;if(E(n),n.trim()){let e=setTimeout(()=>K(n),300);return()=>clearTimeout(e)}D(!1),y([])}})]}),_&&(0,r.jsxs)("div",{className:"selected-folder-info",children:[(0,r.jsx)(s.Z,{style:{width:"16px",height:"16px"}}),(0,r.jsxs)("span",{children:["Selected: ",(0,r.jsx)("strong",{children:N})]})]}),(0,r.jsx)("div",{className:"drive-actions",children:_&&(0,r.jsxs)("button",{onClick:()=>U(!0),className:"drive-action-btn primary",children:[(0,r.jsx)(c.Z,{style:{width:"16px",height:"16px"}}),"Upload to ",N]})})]}),(0,r.jsxs)("div",{className:"drive-content",children:[T&&(0,r.jsx)("div",{className:"drive-error",children:(0,r.jsxs)("p",{children:["Error: ",T]})}),S?(0,r.jsxs)("div",{className:"search-results",children:[(0,r.jsxs)("div",{className:"search-info",children:['Showing search results for "',C,'"']}),v?(0,r.jsx)("div",{className:"drive-loading",children:(0,r.jsx)("div",{children:"Searching..."})}):0===h.length?(0,r.jsxs)("div",{className:"drive-empty",children:[(0,r.jsx)(m.Z,{className:"drive-empty-icon"}),(0,r.jsx)("p",{children:"No files found"})]}):(0,r.jsx)("div",{className:"drive-file-list",children:h.map(e=>(0,r.jsxs)("div",{className:"drive-file-item",onClick:()=>{"application/vnd.google-apps.folder"===e.mimeType?X(e.id,e.name):n&&n(e)},children:[(0,r.jsx)("div",{className:"drive-file-icon ".concat("application/vnd.google-apps.folder"===e.mimeType?"folder":"file"),children:"application/vnd.google-apps.folder"===e.mimeType?(0,r.jsx)(s.Z,{}):(0,r.jsx)(m.Z,{})}),(0,r.jsxs)("div",{className:"drive-file-info",children:[(0,r.jsx)("div",{className:"drive-file-name",children:e.name}),(0,r.jsx)("div",{className:"drive-file-meta",children:"application/vnd.google-apps.folder"===e.mimeType?"Folder":"File"})]})]},e.id))})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"folder-tree-panel",children:[(0,r.jsxs)("h3",{className:"panel-title",children:[(0,r.jsx)("span",{className:"panel-title-text",children:"\uD83D\uDCC1 Folder Structure"}),x&&(0,r.jsxs)("button",{onClick:()=>I(!0),className:"new-folder-btn",children:[(0,r.jsx)(p.Z,{style:{width:"14px",height:"14px"}}),"New Folder"]})]}),v?(0,r.jsx)("div",{className:"drive-loading",children:(0,r.jsx)("div",{children:"Loading folders..."})}):0===j.length?(0,r.jsxs)("div",{className:"drive-empty",children:[(0,r.jsx)(s.Z,{className:"drive-empty-icon"}),(0,r.jsx)("p",{children:"No folders found"})]}):(0,r.jsx)("div",{className:"folder-tree",children:j.map(e=>en(e))})]}),(0,r.jsxs)("div",{className:"files-panel",children:[(0,r.jsxs)("h3",{className:"panel-title",children:["\uD83D\uDCC4 Files ",N&&'in "'.concat(N,'"')]}),_?(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"drive-file-list",children:h.filter(e=>"application/vnd.google-apps.folder"!==e.mimeType).map(e=>(0,r.jsxs)("div",{className:"drive-file-item",onClick:()=>n&&n(e),children:[(0,r.jsx)(m.Z,{className:"drive-file-icon file"}),(0,r.jsxs)("div",{className:"drive-file-info",children:[(0,r.jsx)("div",{className:"drive-file-name",children:e.name}),(0,r.jsx)("div",{className:"drive-file-meta",children:e.size?"".concat(Math.round(parseInt(e.size)/1024)," KB"):"File"})]})]},e.id))})}):(0,r.jsxs)("div",{className:"drive-empty",children:[(0,r.jsx)(m.Z,{className:"drive-empty-icon"}),(0,r.jsx)("p",{children:"Select a folder to view its files"})]})]})]})]}),B&&(0,r.jsx)("div",{className:"dialog-overlay",onClick:()=>I(!1),children:(0,r.jsxs)("div",{className:"dialog-content",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("h3",{className:"dialog-title",children:"Create New Folder"}),(0,r.jsx)("input",{type:"text",className:"dialog-input",placeholder:"Folder name",value:P,onChange:e=>M(e.target.value),onKeyPress:e=>{"Enter"===e.key&&ee()},autoFocus:!0}),(0,r.jsxs)("div",{className:"dialog-actions",children:[(0,r.jsx)("button",{onClick:()=>I(!1),className:"dialog-btn dialog-btn-secondary",children:"Cancel"}),(0,r.jsx)("button",{onClick:ee,className:"dialog-btn dialog-btn-primary",disabled:!P.trim(),children:"Create"})]})]})}),R&&(0,r.jsx)("div",{className:"dialog-overlay",onClick:()=>U(!1),children:(0,r.jsxs)("div",{className:"dialog-content",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("h3",{className:"dialog-title",children:"Upload File"}),(0,r.jsxs)("div",{className:"upload-info",children:[(0,r.jsx)("strong",{children:"Upload to:"})," ",N]}),(0,r.jsx)("div",{className:"file-input",children:(0,r.jsx)("input",{type:"file",multiple:!0,onChange:e=>{let n=e.target.files;n&&O(Array.from(n))},accept:"*/*"})}),L.length>0&&(0,r.jsxs)("div",{style:{marginBottom:"1rem",fontSize:"0.875rem",color:"#6b7280"},children:[(0,r.jsx)("div",{style:{marginBottom:"0.5rem"},children:(0,r.jsxs)("strong",{children:["Selected ",L.length," file",1===L.length?"":"s",":"]})}),(0,r.jsx)("div",{style:{maxHeight:"150px",overflowY:"auto",background:"#f9fafb",padding:"0.5rem",borderRadius:"4px",border:"1px solid #e5e7eb"},children:L.map((e,n)=>(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.25rem 0",borderBottom:n<L.length-1?"1px solid #e5e7eb":"none"},children:[(0,r.jsx)("span",{style:{flex:1,marginRight:"0.5rem",fontSize:"0.8rem"},children:e.name}),(0,r.jsxs)("span",{style:{fontSize:"0.75rem",color:"#6b7280"},children:["(",Math.round(e.size/1024)," KB)"]}),(0,r.jsx)("button",{onClick:()=>{let e=L.filter((e,t)=>t!==n);O(e)},style:{marginLeft:"0.5rem",background:"#ef4444",color:"#ffffff",border:"none",borderRadius:"4px",padding:"0.25rem 0.5rem",fontSize:"0.7rem",cursor:"pointer"},children:"Remove"})]},n))}),(0,r.jsxs)("div",{style:{marginTop:"0.5rem",fontSize:"0.75rem",color:"#6b7280"},children:["Total size: ",(0,r.jsxs)("strong",{children:[Math.round(L.reduce((e,n)=>e+n.size,0)/1024)," KB"]})]})]}),W&&Y.total>0&&(0,r.jsxs)("div",{style:{marginBottom:"1rem",padding:"0.75rem",background:"#f0f9ff",border:"1px solid #3b82f6",borderRadius:"6px"},children:[(0,r.jsxs)("div",{style:{marginBottom:"0.5rem",fontSize:"0.85rem",fontWeight:"600",color:"#1e40af"},children:["Upload Progress: ",Y.uploaded," of ",Y.total," files"]}),(0,r.jsx)("div",{style:{width:"100%",height:"8px",background:"#e5e7eb",borderRadius:"4px",overflow:"hidden",marginBottom:"0.5rem"},children:(0,r.jsx)("div",{style:{width:"".concat(Y.uploaded/Y.total*100,"%"),height:"100%",background:"#3b82f6",transition:"width 0.3s ease"}})}),Y.currentFile&&"Complete"!==Y.currentFile&&(0,r.jsxs)("div",{style:{fontSize:"0.8rem",color:"#6b7280"},children:["Currently uploading: ",(0,r.jsx)("strong",{children:Y.currentFile})]})]}),(0,r.jsxs)("div",{className:"dialog-actions",children:[(0,r.jsx)("button",{onClick:()=>{U(!1),O([])},className:"dialog-btn dialog-btn-secondary",children:"Cancel"}),(0,r.jsx)("button",{onClick:()=>{L.length>0&&_&&$(L,_)},className:"dialog-btn dialog-btn-primary",disabled:0===L.length||W,children:W?Y.total>1?"Uploading ".concat(Y.uploaded,"/").concat(Y.total," files..."):"Uploading...":"Upload ".concat(L.length," file").concat(1===L.length?"":"s")})]})]})})]})}},66:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(7437),a=t(2265),o=t(4033),i=t(6689),s=t(9874);function l(e){let{title:n,isMobile:t}=e,[l,d]=(0,a.useState)(!1),c=(0,o.useRouter)();return t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{style:{position:"fixed",top:0,left:0,right:0,background:"white",zIndex:1e3,padding:"12px 16px",borderBottom:"1px solid #E5E7EB",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsx)("h1",{style:{margin:0,fontSize:"18px",fontWeight:"700",color:"#1F2937"},children:n}),(0,r.jsx)("button",{onClick:()=>{console.log("Mobile menu clicked, current state:",l),d(!l)},style:{background:"none",border:"none",cursor:"pointer",color:"#1F2937",padding:"8px",minWidth:"40px",minHeight:"40px",display:"flex",alignItems:"center",justifyContent:"center"},children:l?(0,r.jsx)(i.Z,{style:{width:"24px",height:"24px"}}):(0,r.jsx)(s.Z,{style:{width:"24px",height:"24px"}})})]}),l&&(0,r.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",zIndex:9999,padding:"70px 16px 16px 16px",display:"flex",flexDirection:"column"},onClick:()=>d(!1),children:(0,r.jsxs)("div",{style:{background:"white",borderRadius:"12px",padding:"24px",maxHeight:"calc(100vh - 100px)",overflowY:"auto",boxShadow:"0 10px 25px rgba(0,0,0,0.3)"},onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,r.jsx)("h3",{style:{margin:"0 0 16px 0",fontSize:"16px",fontWeight:"600"},children:"Navigation"}),(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[(0,r.jsx)("button",{onClick:()=>{c.push("/dashboard"),d(!1)},style:{padding:"16px",textAlign:"left",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#374151",width:"100%",minHeight:"48px"},children:"Dashboard"}),(0,r.jsx)("button",{onClick:()=>{c.push("/personal"),d(!1)},style:{padding:"16px",textAlign:"left",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#374151",width:"100%",minHeight:"48px"},children:"Personal Tasks"}),(0,r.jsx)("button",{onClick:()=>{c.push("/my-tasks"),d(!1)},style:{padding:"16px",textAlign:"left",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#374151",width:"100%",minHeight:"48px"},children:"My Tasks"}),(0,r.jsx)("button",{onClick:()=>{c.push("/calendar"),d(!1)},style:{padding:"16px",textAlign:"left",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#374151",width:"100%",minHeight:"48px"},children:"Calendar"}),(0,r.jsx)("button",{onClick:()=>{c.push("/company-outreach"),d(!1)},style:{padding:"16px",textAlign:"left",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#374151",width:"100%",minHeight:"48px"},children:"Company Outreach"}),(0,r.jsx)("button",{onClick:()=>{c.push("/content-calendar"),d(!1)},style:{padding:"16px",textAlign:"left",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#374151",width:"100%",minHeight:"48px"},children:"Content Calendar"}),(0,r.jsx)("button",{onClick:()=>{c.push("/daily-reports"),d(!1)},style:{padding:"16px",textAlign:"left",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#374151",width:"100%",minHeight:"48px"},children:"Daily Reports"}),(0,r.jsx)("button",{onClick:()=>{c.push("/expenses"),d(!1)},style:{padding:"16px",textAlign:"left",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#374151",width:"100%",minHeight:"48px"},children:"Expenses"}),(0,r.jsx)("button",{onClick:()=>{c.push("/password-manager"),d(!1)},style:{padding:"16px",textAlign:"left",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#374151",width:"100%",minHeight:"48px"},children:"Password Manager"}),(0,r.jsx)("button",{onClick:()=>{c.push("/timetable"),d(!1)},style:{padding:"16px",textAlign:"left",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#374151",width:"100%",minHeight:"48px"},children:"Timetable"}),(0,r.jsx)("button",{onClick:()=>{c.push("/classes"),d(!1)},style:{padding:"16px",textAlign:"left",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#374151",width:"100%",minHeight:"48px"},children:"Classes"}),(0,r.jsx)("button",{onClick:()=>{c.push("/reporting"),d(!1)},style:{padding:"16px",textAlign:"left",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#374151",width:"100%",minHeight:"48px"},children:"Reports"})]})]}),(0,r.jsx)("button",{onClick:()=>d(!1),style:{width:"100%",padding:"12px",background:"#3B82F6",color:"white",border:"none",borderRadius:"8px",cursor:"pointer"},children:"Close Menu"})]})})]}):null}},4560:function(e,n,t){"use strict";t.d(n,{Z:function(){return U}});var r=t(7437),a=t(9738),o=t.n(a),i=t(2265),s=t(4887),l=t(1396),d=t.n(l),c=t(4033),m=t(3549),p=t(8411);function f(){let{user:e}=(0,m.useAuth)(),[n,t]=(0,i.useState)([]),[a,o]=(0,i.useState)(0),[s,l]=(0,i.useState)(!1),[d,c]=(0,i.useState)(!1),f=(0,i.useRef)(null);(0,i.useEffect)(()=>{let e=e=>{f.current&&!f.current.contains(e.target)&&l(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let g=async()=>{if(null==e?void 0:e.id)try{c(!0);let{data:n,error:r}=await p.supabase.from("notifications").select("*").eq("recipient_id",e.id).order("created_at",{ascending:!1}).limit(20);if(r)throw r;t(n||[]),o((null==n?void 0:n.filter(e=>!e.is_read).length)||0)}catch(e){console.error("Failed to fetch notifications:",e)}finally{c(!1)}},u=async e=>{try{let{error:r}=await p.supabase.from("notifications").update({is_read:!0}).eq("id",e);if(r)throw r;t(n.map(n=>n.id===e?{...n,is_read:!0}:n)),o(e=>Math.max(0,e-1))}catch(e){console.error("Failed to mark notification as read:",e)}},x=async()=>{if(null==e?void 0:e.id)try{let{error:r}=await p.supabase.from("notifications").update({is_read:!0}).eq("recipient_id",e.id).eq("is_read",!1);if(r)throw r;t(n.map(e=>({...e,is_read:!0}))),o(0)}catch(e){console.error("Failed to mark all notifications as read:",e)}},b=async e=>{var n,t;e.is_read||await u(e.id),(null===(n=e.data)||void 0===n?void 0:n.task_url)?window.location.href=e.data.task_url:(null===(t=e.data)||void 0===t?void 0:t.project_url)&&(window.location.href=e.data.project_url)},h=e=>{switch(e){case"task_assigned":return(0,r.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})});case"task_reminder":return(0,r.jsx)("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-4 h-4 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})});case"task_status_changed":return(0,r.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})});default:return(0,r.jsx)("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}},y=e=>{let n=new Date(e),t=new Date,r=t.getTime()-n.getTime(),a=Math.floor(r/36e5),o=Math.floor(a/24);if(a<1){let e=Math.floor(r/6e4);return e<1?"Just now":"".concat(e,"m ago")}return a<24?"".concat(a,"h ago"):o<7?"".concat(o,"d ago"):n.toLocaleDateString()};return((0,i.useEffect)(()=>{(null==e?void 0:e.id)&&g()},[null==e?void 0:e.id]),(0,i.useEffect)(()=>{if(!(null==e?void 0:e.id))return;let n=p.supabase.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:"recipient_id=eq.".concat(e.id)},e=>{let n=e.new;t(e=>[n,...e]),o(e=>e+1)}).subscribe();return()=>{p.supabase.removeChannel(n)}},[null==e?void 0:e.id]),e)?(0,r.jsxs)("div",{className:"relative",ref:f,children:[(0,r.jsxs)("button",{onClick:()=>l(!s),className:"relative p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors duration-200","aria-label":"Notifications",children:[(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM12 2a7 7 0 00-7 7v4l-2 2v1h18v-1l-2-2V9a7 7 0 00-7-7z"})}),a>0&&(0,r.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium",children:a>9?"9+":a})]}),s&&(0,r.jsxs)("div",{className:"absolute right-0 mt-2 w-96 bg-white rounded-lg shadow-lg border border-gray-200 z-50 max-h-96 overflow-hidden",children:[(0,r.jsxs)("div",{className:"px-4 py-3 border-b border-gray-200 flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),a>0&&(0,r.jsx)("button",{onClick:x,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Mark all read"})]}),(0,r.jsx)("div",{className:"max-h-80 overflow-y-auto",children:d?(0,r.jsxs)("div",{className:"p-4 text-center text-gray-500",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),(0,r.jsx)("p",{className:"mt-2 text-sm",children:"Loading notifications..."})]}):0===n.length?(0,r.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,r.jsx)("svg",{className:"w-12 h-12 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M15 17h5l-5 5v-5zM12 2a7 7 0 00-7 7v4l-2 2v1h18v-1l-2-2V9a7 7 0 00-7-7z"})}),(0,r.jsx)("p",{className:"text-sm",children:"No notifications yet"}),(0,r.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"You'll see updates about your tasks here"})]}):n.map(e=>(0,r.jsx)("div",{onClick:()=>b(e),className:"px-4 py-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors duration-150 ".concat(e.is_read?"":"bg-blue-50"),children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[h(e.type),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900 ".concat(e.is_read?"":"font-semibold"),children:e.title}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:e.message}),(0,r.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:y(e.created_at)})]}),!e.is_read&&(0,r.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2"})]})},e.id))}),n.length>0&&(0,r.jsx)("div",{className:"px-4 py-3 border-t border-gray-200 bg-gray-50",children:(0,r.jsx)("a",{href:"/inbox",className:"text-sm text-blue-600 hover:text-blue-800 font-medium",onClick:()=>l(!1),children:"View all notifications"})})]})]}):null}var g=t(5838),u=t(9186),x=t(7965),b=t(4992),h=t(1205),y=t(1253),v=t(4103),w=t(1095),j=t(1226),k=t(2929),_=t(654),F=t(6107),N=t(7933),z=t(1809),C=t(9267),E=t(2938),S=t(4438),D=t(1296),T=t(6689),A=t(9874),B=t(5255),I=t(2307),P=t(4164),M=t(5518),R=t(6610);function U(e){var n,a,l,p,U;let{projects:L,onCreateProject:O}=e,W=(0,c.useRouter)(),q=(0,c.usePathname)(),{user:Y,logout:Z}=(0,m.useAuth)(),[H,G]=(0,i.useState)(!0),[V,J]=(0,i.useState)(!1),[X,K]=(0,i.useState)(!1),[Q,$]=(0,i.useState)(!1),[ee,en]=(0,i.useState)(!1),[et,er]=(0,i.useState)(!1),[ea,eo]=(0,i.useState)(!1),[ei,es]=(0,i.useState)(!1),[el,ed]=(0,i.useState)(!1),[ec,em]=(0,i.useState)({startDate:"",endDate:"",reason:"",leaveType:"vacation",notes:"",projectId:0}),[ep,ef]=(0,i.useState)(14),[eg,eu]=(0,i.useState)(0),ex=async()=>{if(!(null==Y?void 0:Y.id)){er(!1);return}try{let e=(await Promise.resolve().then(t.bind(t,8411))).supabase;console.log("\uD83D\uDD0D Checking Class Schedule access for user:",Y.id,Y.email);let{data:n,error:r}=await e.from("class_schedule_members").select("id, role").eq("user_id",Y.id).single();if(console.log("\uD83D\uDCCB Class Schedule member check:",{memberData:n,memberError:r}),n&&!r){console.log("✅ Class Schedule access granted: User is a member"),er(!0);return}let{data:a,error:o}=await e.from("auth_user").select("id, name, email, role, is_superuser, is_staff").eq("id",Y.id).single();if(console.log("\uD83D\uDC64 User data check:",a),o){console.log("❌ Class Schedule access denied: User data error"),er(!1);return}let i=a.is_superuser||a.is_staff||"admin"===a.role||"hr"===a.role;console.log("\uD83D\uDD10 Class Schedule admin/HR check:",{is_superuser:a.is_superuser,is_staff:a.is_staff,role:a.role,hasPermission:i}),er(i)}catch(e){console.error("Error checking class schedule access:",e),er(!1)}},eb=async()=>{if(!(null==Y?void 0:Y.id)){eo(!1);return}try{let e=(await Promise.resolve().then(t.bind(t,8411))).supabase;console.log("\uD83D\uDD0D Checking Content Calendar access for user:",Y.id,Y.email);let{data:n,error:r}=await e.from("content_calendar_members").select("id, role").eq("user_id",Y.id).single();if(console.log("\uD83D\uDCCB Content Calendar member check:",{memberData:n,memberError:r}),n&&!r){console.log("✅ Content Calendar access granted: User is a member"),eo(!0);return}let{data:a,error:o}=await e.from("content_calendar_folder_members").select("id, role").eq("user_id",Y.id).limit(1);if(console.log("\uD83D\uDCC1 Folder member check:",{folderMemberData:a,folderMemberError:o}),a&&a.length>0&&!o){console.log("✅ Content Calendar access granted: User is a folder member"),eo(!0);return}let{data:i,error:s}=await e.from("auth_user").select("id, name, email, role, is_superuser, is_staff").eq("id",Y.id).single();if(console.log("\uD83D\uDC64 User data check:",i),s){console.log("❌ Content Calendar access denied: User data error"),eo(!1);return}let l=i.is_superuser||i.is_staff||"admin"===i.role||"hr"===i.role;console.log("\uD83D\uDD10 Content Calendar admin/HR check:",{is_superuser:i.is_superuser,is_staff:i.is_staff,role:i.role,hasPermission:l}),l?(console.log("✅ Content Calendar access granted: User is admin/HR"),eo(!0)):(console.log("❌ Content Calendar access denied: No access found"),eo(!1))}catch(e){console.error("Error checking content calendar access:",e),eo(!1)}},eh=async()=>{if(!(null==Y?void 0:Y.id)){es(!1);return}try{let e=(await Promise.resolve().then(t.bind(t,8411))).supabase;console.log("\uD83D\uDD0D Checking Classes access for user:",Y.id,Y.email);let{data:n,error:r}=await e.from("classes_members").select("id, role").eq("user_id",Y.id).single();if(console.log("\uD83D\uDCCB Classes member check:",{memberData:n,memberError:r}),n&&!r){console.log("✅ Classes access granted: User is a member"),es(!0);return}let{data:a,error:o}=await e.from("auth_user").select("id, name, email, role, is_superuser, is_staff").eq("id",Y.id).single();if(console.log("\uD83D\uDC64 Classes user data check:",a),o){console.log("❌ Classes access denied: User data error"),es(!1);return}let i=a.is_superuser||a.is_staff||"admin"===a.role||"hr"===a.role;console.log("\uD83D\uDD10 Classes admin/HR check:",{is_superuser:a.is_superuser,is_staff:a.is_staff,role:a.role,hasPermission:i}),es(i)}catch(e){console.error("Error checking classes access:",e),es(!1)}},ey=async()=>{if(!(null==Y?void 0:Y.id)){ed(!1);return}try{var e;let n=(await Promise.resolve().then(t.bind(t,8411))).supabase;console.log("\uD83D\uDD0D Checking Company Outreach access for user:",Y.id,Y.email,Y);let r=Y.role||(null==Y?void 0:null===(e=Y.user_metadata)||void 0===e?void 0:e.role);if("instructor"===r){console.log("❌ Company Outreach access denied: User is instructor (restricted)"),ed(!1);return}let{data:a,error:o}=await n.from("company_outreach_members").select("id, role").eq("user_id",Y.id).single();if(console.log("\uD83D\uDCCB Company Outreach member check:",{memberData:a,memberError:o}),a&&!o){console.log("✅ Company Outreach access granted: User is a member"),ed(!0);return}let i="admin"===r||"hr"===r||"superuser"===r;if(console.log("\uD83D\uDD0D Auth context check:",{contextRole:r,isAdmin:i,userRole:Y.role,userMetadata:null==Y?void 0:Y.user_metadata}),i){console.log("✅ Company Outreach access granted: Admin from context"),ed(!0);return}let{data:s,error:l}=await n.from("auth_user").select("id, name, email, role, is_superuser, is_staff").eq("id",Y.id).single();if(console.log("\uD83D\uDC64 Company Outreach database user check:",s,l),!l&&s){if("instructor"===s.role){console.log("❌ Company Outreach access denied: Database role is instructor"),ed(!1);return}let e=s.is_superuser||s.is_staff||"admin"===s.role||"hr"===s.role;if(console.log("\uD83D\uDD10 Company Outreach admin/HR check:",{is_superuser:s.is_superuser,is_staff:s.is_staff,role:s.role,hasAdminPermission:e}),e){console.log("✅ Company Outreach access granted: Admin from database"),ed(!0);return}}console.log("❌ Company Outreach access denied: User not in member table and not admin"),ed(!1)}catch(e){console.error("Error checking company outreach access:",e),ed(!1)}},ev=async()=>{if(null==Y?void 0:Y.id)try{let e=(await Promise.resolve().then(t.bind(t,8411))).supabase,{data:n,error:r}=await e.from("employee_leave_balance").select("available_days, used_days, total_days").eq("employee_id",Y.id).single();r?(console.log("No leave balance record found, using defaults"),ef(14),eu(0)):(ef(n.available_days||14),eu(n.used_days||0))}catch(e){console.error("Error fetching leave balance:",e),ef(14),eu(0)}};(0,i.useEffect)(()=>{(null==Y?void 0:Y.id)?(ev(),ex(),eb(),eh(),ey()):(er(!1),eo(!1),es(!1),ed(!1))},[null==Y?void 0:Y.id]);let ew=(0,i.useRef)(null),[ej,ek]=(0,i.useState)(!1),[e_,eF]=(0,i.useState)({projectId:0,reportDate:new Date().toISOString().split("T")[0],dateDisplay:"",keyActivities:[""],ongoingTasks:[""],challenges:[""],teamPerformance:[""],nextDayPriorities:[""],meetingMinutes:"",hasMeetingMinutes:!1,otherNotes:""}),[eN,ez]=(0,i.useState)(!1),[eC,eE]=(0,i.useState)([]),[eS,eD]=(0,i.useState)(0),[eT,eA]=(0,i.useState)(!1),eB=async()=>{try{await Z(),W.push("/login")}catch(e){console.error("Logout failed:",e)}},eI=()=>{J(!1),K(!1)},eP=()=>{console.log("\uD83D\uDD25 DEBUG: Toggle dropdown clicked! Current state:",X),K(!X),console.log("\uD83D\uDD25 DEBUG: Setting dropdown state to:",!X)},eM=()=>{K(!1)},eR=async()=>{console.log("\uD83D\uDD25 DEBUG: handleAbsenceForm called"),console.log("\uD83D\uDD25 DEBUG: Setting showAbsenceForm to true"),en(!0),eM(),console.log("\uD83D\uDD25 DEBUG: Fetching leave balance..."),await ev(),console.log("\uD83D\uDD25 DEBUG: Leave balance fetched, modal should be visible")},eU=async e=>{e.preventDefault();let n=new Date(ec.startDate),r=new Date(ec.endDate),a=r.getTime()-n.getTime(),o=Math.ceil(a/864e5)+1;if(o>ep){alert("You only have ".concat(ep," days available. You requested ").concat(o," days."));return}try{var i,s;if(!(null==Y?void 0:Y.id)){alert("User not found. Please log in again.");return}let e=L.find(e=>e.id===ec.projectId),a={start_date:ec.startDate,end_date:ec.endDate,leave_type:ec.leaveType,reason:ec.reason,notes:ec.notes||"",project_id:ec.projectId||null,project_name:(null==e?void 0:e.name)||null};console.log("Submitting leave request:",a),console.log("Auth token exists:",!!localStorage.getItem("accessToken")),console.log("Auth token:",(null===(i=localStorage.getItem("accessToken"))||void 0===i?void 0:i.substring(0,50))+"..."),console.log("User data:",Y),console.log("Request headers:",{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("accessToken"))});let l=(await Promise.resolve().then(t.bind(t,8411))).supabase,{data:d,error:c}=await l.from("leave_requests").insert([{employee_id:Y.id,employee_name:Y.name||(null===(s=Y.email)||void 0===s?void 0:s.split("@")[0])||"Unknown",employee_email:Y.email,project_id:a.project_id,project_name:a.project_name,start_date:a.start_date,end_date:a.end_date,leave_type:a.leave_type,reason:a.reason,notes:a.notes,days_requested:o,status:"pending"}]).select();if(c)throw console.error("Error submitting leave request:",c),Error(c.message||"Failed to submit leave request");em({startDate:"",endDate:"",reason:"",leaveType:"vacation",notes:"",projectId:0}),en(!1);try{let{data:e,error:t}=await l.from("auth_user").select("id, first_name, last_name, email").or("is_staff.eq.true,is_superuser.eq.true");if(!t&&e&&e.length>0){let t=e.map(e=>{var t,a,i;return{recipient_id:e.id,sender_id:Y.id,type:"leave_request_submitted",title:"New Leave Request",message:"".concat(Y.name||(null===(t=Y.email)||void 0===t?void 0:t.split("@")[0])," has submitted a ").concat(o,"-day leave request for ").concat(n.toLocaleDateString()," - ").concat(r.toLocaleDateString()),data:{leave_request_id:null===(a=d[0])||void 0===a?void 0:a.id,employee_name:Y.name||(null===(i=Y.email)||void 0===i?void 0:i.split("@")[0]),employee_email:Y.email,days:o,start_date:ec.startDate,end_date:ec.endDate,leave_type:ec.leaveType}}}),{error:a}=await l.from("notifications").insert(t);a&&console.error("Error creating HR notifications:",a)}}catch(e){console.error("Error notifying HR users:",e)}await ev(),alert("Leave request submitted successfully! \n        \nYour request for ".concat(o," days has been sent to HR for approval.\n        \nStatus: Pending Approval\nDays Requested: ").concat(o,"\nPeriod: ").concat(n.toLocaleDateString()," - ").concat(r.toLocaleDateString(),"\n\nYou will be notified once HR reviews your request."))}catch(e){console.error("Error submitting leave request:",e),alert("Failed to submit leave request. Please try again.")}},eL=()=>{en(!1),em({startDate:"",endDate:"",reason:"",leaveType:"vacation",notes:"",projectId:0})},eO=()=>{if(!ec.startDate||!ec.endDate)return 0;let e=new Date(ec.startDate),n=new Date(ec.endDate);if(n<e)return 0;let t=n.getTime()-e.getTime();return Math.ceil(t/864e5)+1},eW=()=>{ek(!0),eM();let e=new Date,n=eq(e);eF(t=>({...t,reportDate:e.toISOString().split("T")[0],dateDisplay:n}))},eq=e=>e.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),eY=async e=>{e.preventDefault();let n=e_.keyActivities.filter(e=>e.trim()).join("\n• ");if(!n||!e_.projectId){alert("Please fill in the required fields: Key Activities and Project.");return}try{var r;if(!(null==Y?void 0:Y.id)){alert("User not found. Please log in again.");return}let e=L.find(e=>e.id===e_.projectId),a=(await Promise.resolve().then(t.bind(t,8411))).supabase,o=e=>{let n=e.filter(e=>e.trim());return n.length>0?"• "+n.join("\n• "):null},{data:i,error:s}=await a.from("daily_reports").insert([{employee_id:Y.id,employee_name:Y.name||(null===(r=Y.email)||void 0===r?void 0:r.split("@")[0])||"Unknown",employee_email:Y.email,project_id:e_.projectId,project_name:(null==e?void 0:e.name)||null,report_date:e_.reportDate,date_display:e_.dateDisplay,key_activities:o(e_.keyActivities),ongoing_tasks:o(e_.ongoingTasks),challenges:o(e_.challenges),team_performance:o(e_.teamPerformance),next_day_priorities:o(e_.nextDayPriorities),meeting_minutes:e_.meetingMinutes.trim()||null,has_meeting_minutes:e_.hasMeetingMinutes,other_notes:e_.otherNotes.trim()||null}]).select();if(s){if(console.error("Error submitting daily report:",s),"23505"===s.code)alert("You have already submitted a daily report for this date and project. Please edit the existing report or choose a different project.");else throw Error(s.message||"Failed to submit daily report")}else eF({projectId:0,reportDate:new Date().toISOString().split("T")[0],dateDisplay:"",keyActivities:[""],ongoingTasks:[""],challenges:[""],teamPerformance:[""],nextDayPriorities:[""],meetingMinutes:"",hasMeetingMinutes:!1,otherNotes:""}),ek(!1),alert("Daily report submitted successfully! \n        \nYour report for ".concat(e_.dateDisplay," has been saved.\n\nProject: ").concat((null==e?void 0:e.name)||"Unknown","\nKey Activities: ").concat(n.substring(0,100)).concat(n.length>100?"...":"","\n\nYour report is now available in the system."))}catch(e){console.error("Error submitting daily report:",e),alert("Failed to submit daily report. Please try again.")}},eZ=()=>{ek(!1),eF({projectId:0,reportDate:new Date().toISOString().split("T")[0],dateDisplay:"",keyActivities:[""],ongoingTasks:[""],challenges:[""],teamPerformance:[""],nextDayPriorities:[""],meetingMinutes:"",hasMeetingMinutes:!1,otherNotes:""})},eH=e=>{eF(n=>({...n,[e]:[...n[e],""]}))},eG=(e,n)=>{eF(t=>{let r=t[e];if(r.length>1){let a=r.filter((e,t)=>t!==n);return{...t,[e]:a}}return t})},eV=(e,n,t)=>{eF(r=>{let a=[...r[e]];return a[n]=t,{...r,[e]:a}})},eJ=async()=>{if(null==Y?void 0:Y.id)try{let e=(await Promise.resolve().then(t.bind(t,8411))).supabase,{count:n,error:r}=await e.from("notifications").select("*",{count:"exact",head:!0}).eq("recipient_id",Y.id).eq("is_read",!1);r?(console.error("Error fetching unread count:",r),eD(0)):eD(n||0)}catch(e){console.error("Error fetching unread count:",e),eD(0)}},eX=async e=>{try{let n=(await Promise.resolve().then(t.bind(t,8411))).supabase,{error:r}=await n.from("notifications").update({is_read:!0}).eq("id",e);r?console.error("Error marking notification as read:",r):(eE(eC.map(n=>n.id===e?{...n,is_read:!0}:n)),eJ())}catch(e){console.error("Error marking notification as read:",e)}},eK=e=>{switch(e){case"leave_request":return(0,r.jsx)(g.Z,{style:{width:"16px",height:"16px",color:"#f59e0b"}});case"leave_status_update":return(0,r.jsx)(u.Z,{style:{width:"16px",height:"16px",color:"#10b981"}});default:return(0,r.jsx)(x.Z,{style:{width:"16px",height:"16px",color:"#6b7280"}})}},eQ=e=>{let n=new Date(e),t=new Date,r=(t.getTime()-n.getTime())/36e5;return r<1?"Just now":r<24?"".concat(Math.floor(r),"h ago"):n.toLocaleDateString()};(0,i.useEffect)(()=>{if(null==Y?void 0:Y.id){let e=async()=>{await eJ()};e();let n=setInterval(eJ,3e4);return()=>clearInterval(n)}},[null==Y?void 0:Y.id]),(0,i.useEffect)(()=>{let e=e=>{let n=e.target,t=ew.current&&!ew.current.contains(n),r=!n.closest||!n.closest("[data-dropdown-portal]");t&&r&&(console.log("\uD83D\uDD25 DEBUG: Closing dropdown due to outside click"),K(!1))};return X&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[X]);let e$=[{name:"Home",href:"/dashboard",icon:b.Z},{name:"My Tasks",href:"/my-tasks",icon:h.Z},{name:"Calendar",href:"/calendar",icon:y.Z},{name:"My Personal",href:"/personal",icon:v.Z},{name:"Expenses",href:"/expenses",icon:w.Z},{name:"Password Vault",href:"/password-vault",icon:j.Z},{name:"Timetable",href:"/timetable",icon:k.Z},{name:"Reporting",href:"/reporting",icon:_.Z}],e0=[...e$,{name:"Content Calendar",href:"/content-calendar",icon:F.Z},...et?[{name:"Class Schedule",href:"/class-schedule",icon:N.Z}]:[],...ei?[{name:"Classes",href:"/classes",icon:z.Z}]:[]],e1=[...el?[{name:"Company Outreach",href:"/company-outreach",icon:C.Z}]:[]],e5=(null==Y?void 0:Y.role)==="admin"||(null==Y?void 0:null===(n=Y.user_metadata)||void 0===n?void 0:n.role)==="admin",e2=e5?[{name:"Admin",href:"/admin",icon:E.Z}]:[],e4=(null==Y?void 0:Y.role)==="instructor"||(null==Y?void 0:null===(a=Y.user_metadata)||void 0===a?void 0:a.role)==="instructor",e9=e4?[{name:"Instructor",href:"/instructor",icon:N.Z}]:[],e7=e4?[{name:"Home",href:"/dashboard",icon:b.Z},{name:"My Tasks",href:"/my-tasks",icon:h.Z},{name:"Calendar",href:"/calendar",icon:y.Z},{name:"Timetable",href:"/timetable",icon:k.Z}]:e0,e3=[{name:"Inbox",href:"/inbox",icon:S.Z},{name:"Daily Reports",href:"/daily-reports",icon:D.Z},{name:"Expenses",href:"/expenses",icon:w.Z},{name:"Absence Management",href:"/employee-absent",icon:v.Z}];S.Z;let e6=e=>"/dashboard"===e?q===e:null==q?void 0:q.startsWith(e);return(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1",children:[(0,r.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n          /* Professional Sidebar Theme */\n          .sidebar {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 280px;\n            height: 100vh;\n            background: linear-gradient(135deg, #F5F5ED 0%, #FAFAF2 100%);\n            border-right: 1px solid rgba(196, 131, 217, 0.2);\n            display: flex;\n            flex-direction: column;\n            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            z-index: 100;\n            box-shadow: 0 4px 24px rgba(0, 0, 0, 0.06);\n            backdrop-filter: blur(10px);\n            overflow: hidden;\n          }\n          \n          .sidebar.collapsed {\n            width: 72px;\n          }\n          \n          .sidebar::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            height: 4px;\n            background: linear-gradient(90deg, #FFB333, #C483D9, #5884FD, #F87239);\n            animation: shimmer 3s ease-in-out infinite;\n          }\n          \n          @keyframes shimmer {\n            0% { background-position: -200% 0; }\n            100% { background-position: 200% 0; }\n          }\n          \n          .sidebar-header {\n            padding: 1.5rem 1.25rem;\n            background: linear-gradient(135deg, #F5F5ED 0%, #FAFAF2 100%);\n            border-bottom: 1px solid rgba(196, 131, 217, 0.2);\n            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            position: relative;\n            overflow: hidden;\n          }\n          \n          .sidebar-header::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.1) 50%, transparent 70%);\n            animation: headerShine 4s ease-in-out infinite;\n          }\n          \n          @keyframes headerShine {\n            0% { transform: translateX(-100%); }\n            100% { transform: translateX(100%); }\n          }\n          \n          .sidebar.collapsed .sidebar-header {\n            padding: 1rem 0.75rem;\n          }\n          \n          .sidebar-header-content {\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n            margin-bottom: 1.25rem;\n            position: relative;\n            z-index: 2;\n          }\n          \n          .sidebar.collapsed .sidebar-header-content {\n            margin-bottom: 0.75rem;\n            justify-content: center;\n            flex-direction: column;\n            gap: 0.5rem;\n          }\n          \n          .sidebar-title {\n            font-size: 1.5rem;\n            font-weight: 800;\n            color: #1F2937;\n            margin: 0;\n            text-shadow: none;\n            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            letter-spacing: -0.025em;\n          }\n          \n          .sidebar.collapsed .sidebar-title {\n            opacity: 0;\n            pointer-events: none;\n            transform: scale(0.8);\n          }\n          \n          .sidebar-toggle {\n            padding: 0.75rem;\n            background: rgba(255, 179, 51, 0.1);\n            border: 1px solid rgba(255, 179, 51, 0.2);\n            border-radius: 12px;\n            cursor: pointer;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            color: #F87239;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            backdrop-filter: blur(10px);\n            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n            min-width: 44px;\n            min-height: 44px;\n          }\n          \n          .sidebar-toggle:hover {\n            background: rgba(255, 179, 51, 0.2);\n            border-color: rgba(255, 179, 51, 0.4);\n            transform: translateY(-2px) scale(1.05);\n            box-shadow: 0 4px 16px rgba(255, 179, 51, 0.2);\n          }\n          \n          .sidebar-toggle:active {\n            transform: translateY(-1px) scale(0.98);\n          }\n          \n          .sidebar-add-container {\n            position: relative;\n            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          }\n          \n          .sidebar.collapsed .sidebar-add-container {\n            opacity: 0;\n            pointer-events: none;\n            transform: scale(0.8);\n          }\n          \n          .sidebar-add-btn {\n            padding: 0.75rem;\n            color: #F87239;\n            background: rgba(255, 179, 51, 0.1);\n            border: 1px solid rgba(255, 179, 51, 0.2);\n            border-radius: 12px;\n            cursor: pointer;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            backdrop-filter: blur(10px);\n            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            min-width: 44px;\n            min-height: 44px;\n          }\n          \n          .sidebar-add-btn:hover {\n            background: rgba(255, 179, 51, 0.2);\n            border-color: rgba(255, 179, 51, 0.4);\n            transform: translateY(-2px) scale(1.05);\n            box-shadow: 0 4px 16px rgba(255, 179, 51, 0.2);\n          }\n          \n          .sidebar-add-btn.active {\n            background: rgba(255, 179, 51, 0.3);\n            border-color: rgba(255, 179, 51, 0.5);\n            transform: translateY(-1px);\n          }\n          \n          .dropdown-menu {\n            position: fixed;\n            top: 120px;\n            right: 20px;\n            z-index: 99999;\n            background: #FFFFFF;\n            border: 1px solid #E5E7EB;\n            border-radius: 12px;\n            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);\n            min-width: 200px;\n            padding: 0.75rem;\n            opacity: 0;\n            visibility: hidden;\n            transform: translateY(-10px) scale(0.95);\n            transition: all 0.2s ease;\n            backdrop-filter: blur(15px);\n            overflow: visible;\n          }\n          \n          .sidebar.collapsed .dropdown-menu {\n            position: fixed;\n            top: 120px;\n            left: 80px;\n            right: auto;\n          }\n          \n          .dropdown-menu.show {\n            opacity: 1;\n            visibility: visible;\n            transform: translateY(0) scale(1);\n          }\n          \n          .dropdown-item {\n            display: flex;\n            align-items: center;\n            gap: 0.75rem;\n            padding: 0.875rem 1rem;\n            font-size: 0.875rem;\n            color: #374151;\n            cursor: pointer;\n            transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            border: none;\n            background: none;\n            width: 100%;\n            text-align: left;\n            border-radius: 12px;\n            font-weight: 500;\n            position: relative;\n            overflow: hidden;\n          }\n          \n          .dropdown-item::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: linear-gradient(90deg, #FFB333, #C483D9);\n            opacity: 0;\n            transition: opacity 0.2s ease;\n          }\n          \n          .dropdown-item:hover::before {\n            opacity: 0.1;\n          }\n          \n          .dropdown-item:hover {\n            color: #FFB333;\n            transform: translateX(4px);\n          }\n          \n          .dropdown-item:active {\n            transform: translateX(2px) scale(0.98);\n          }\n          \n          .dropdown-icon {\n            width: 18px;\n            height: 18px;\n            color: #6B7280;\n            transition: all 0.2s ease;\n            position: relative;\n            z-index: 1;\n          }\n          \n          .dropdown-item:hover .dropdown-icon {\n            color: #FFB333;\n          }\n          \n\n          \n          .sidebar-nav {\n            flex: 1;\n            padding: 1.5rem 1rem;\n            overflow-y: auto;\n            overflow-x: hidden;\n            scrollbar-width: thin;\n            scrollbar-color: rgba(196, 131, 217, 0.3) transparent;\n          }\n          \n          .sidebar-nav::-webkit-scrollbar {\n            width: 6px;\n          }\n          \n          .sidebar-nav::-webkit-scrollbar-track {\n            background: transparent;\n          }\n          \n          .sidebar-nav::-webkit-scrollbar-thumb {\n            background: rgba(196, 131, 217, 0.3);\n            border-radius: 3px;\n          }\n          \n          .sidebar-nav::-webkit-scrollbar-thumb:hover {\n            background: rgba(196, 131, 217, 0.5);\n          }\n          \n          .nav-section {\n            margin-bottom: 2rem;\n          }\n          \n          .nav-section-header {\n            padding: 0.5rem 1rem;\n            margin-bottom: 0.75rem;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            border-bottom: 1px solid rgba(196, 131, 217, 0.2);\n          }\n          \n          .nav-section-header span {\n            font-size: 0.75rem;\n            color: #9CA3AF;\n            font-weight: 700;\n            text-transform: uppercase;\n            letter-spacing: 0.1em;\n          }\n          \n          .sidebar.collapsed .nav-section-header {\n            opacity: 0;\n            pointer-events: none;\n            height: 0;\n            padding: 0;\n            margin: 0;\n            border: none;\n            transform: scale(0.8);\n          }\n          \n          .nav-item {\n            display: flex;\n            align-items: center;\n            padding: 0.875rem 1rem;\n            font-size: 0.875rem;\n            font-weight: 500;\n            border-radius: 12px;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            cursor: pointer;\n            color: #374151;\n            text-decoration: none;\n            margin-bottom: 0.5rem;\n            position: relative;\n            overflow: hidden;\n            backdrop-filter: blur(10px);\n          }\n          \n          .nav-item::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: linear-gradient(135deg, #FFB333, #F87239);\n            opacity: 0;\n            transition: opacity 0.3s ease;\n          }\n          \n          .nav-item:hover::before {\n            opacity: 0.1;\n          }\n          \n          .nav-item.active::before {\n            opacity: 0.15;\n          }\n          \n          .nav-item:hover {\n            color: #FFB333;\n            transform: translateX(4px);\n            box-shadow: 0 4px 16px rgba(255, 179, 51, 0.2);\n          }\n          \n          .nav-item.active {\n            color: #FFB333;\n            background: rgba(255, 179, 51, 0.1);\n            border-left: 3px solid #FFB333;\n            transform: translateX(3px);\n          }\n          \n          .nav-item:active {\n            transform: translateX(2px) scale(0.98);\n          }\n          \n          .nav-icon {\n            width: 20px;\n            height: 20px;\n            margin-right: 0.875rem;\n            color: inherit;\n            transition: all 0.3s ease;\n            position: relative;\n            z-index: 1;\n          }\n          \n          .nav-text {\n            position: relative;\n            z-index: 1;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          }\n          \n          .sidebar.collapsed .nav-text {\n            opacity: 0;\n            pointer-events: none;\n            transform: scale(0.8);\n          }\n          \n          .sidebar.collapsed .nav-icon {\n            margin-right: 0;\n          }\n          \n          .projects-section {\n            margin-top: 2rem;\n          }\n          \n          .projects-toggle {\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n            padding: 0.75rem 1rem;\n            font-size: 0.875rem;\n            font-weight: 600;\n            color: #374151;\n            cursor: pointer;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            border-radius: 12px;\n            margin: 0.5rem 0 1rem 0;\n            position: relative;\n            overflow: hidden;\n            background: rgba(255, 255, 255, 0.6);\n            border: 1px solid rgba(255, 255, 255, 0.8);\n            backdrop-filter: blur(10px);\n            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n          }\n          \n          .projects-toggle::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: linear-gradient(135deg, #FFB333, #F87239);\n            opacity: 0;\n            transition: opacity 0.3s ease;\n          }\n          \n          .projects-toggle:hover::before {\n            opacity: 0.08;\n          }\n          \n          .projects-toggle:hover {\n            color: #F87239;\n            background: rgba(255, 255, 255, 0.8);\n            transform: translateY(-1px);\n            box-shadow: 0 4px 16px rgba(255, 179, 51, 0.15);\n          }\n          \n          .projects-toggle span {\n            position: relative;\n            z-index: 1;\n            font-weight: 500;\n            letter-spacing: 0.025em;\n          }\n          \n          .projects-toggle svg {\n            width: 16px;\n            height: 16px;\n            transition: all 0.3s ease;\n            position: relative;\n            z-index: 1;\n            opacity: 0.7;\n          }\n          \n          .projects-toggle:hover svg {\n            opacity: 1;\n          }\n          \n          .projects-toggle.expanded svg {\n            transform: rotate(180deg);\n          }\n          \n          .projects-list {\n            margin-left: 1rem;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          }\n          \n          .project-item {\n            display: flex;\n            align-items: center;\n            padding: 0.75rem 1rem;\n            font-size: 0.875rem;\n            color: #6B7280;\n            border-radius: 12px;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            cursor: pointer;\n            margin-bottom: 0.25rem;\n            position: relative;\n            overflow: hidden;\n          }\n          \n          .project-item::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: linear-gradient(135deg, #5884FD, #C483D9);\n            opacity: 0;\n            transition: opacity 0.3s ease;\n          }\n          \n          .project-item:hover::before {\n            opacity: 0.1;\n          }\n          \n          .project-item:hover {\n            color: #5884FD;\n            transform: translateX(4px);\n          }\n          \n          .project-item.active {\n            color: #5884FD;\n            background: rgba(88, 132, 253, 0.1);\n            border-left: 3px solid #5884FD;\n            transform: translateX(3px);\n          }\n          \n          .project-info {\n            display: flex;\n            align-items: center;\n            gap: 0.75rem;\n            min-width: 0;\n            flex: 1;\n            position: relative;\n            z-index: 1;\n          }\n          \n          .project-color {\n            width: 10px;\n            height: 10px;\n            border-radius: 50%;\n            flex-shrink: 0;\n            border: 2px solid rgba(255, 255, 255, 0.3);\n            transition: all 0.3s ease;\n          }\n          \n          .project-item:hover .project-color {\n            transform: scale(1.2);\n            box-shadow: 0 0 8px rgba(88, 132, 253, 0.4);\n          }\n          \n          .project-name {\n            word-wrap: break-word;\n            overflow-wrap: break-word;\n            word-break: break-word;\n            white-space: normal;\n            hyphens: auto;\n            font-weight: 500;\n            line-height: 1.3;\n          }\n          \n          .project-count {\n            font-size: 0.75rem;\n            color: #9CA3AF;\n            background: rgba(156, 163, 175, 0.1);\n            padding: 0.25rem 0.5rem;\n            border-radius: 6px;\n            font-weight: 600;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          }\n          \n          .sidebar.collapsed .project-count {\n            opacity: 0;\n            pointer-events: none;\n            transform: scale(0.8);\n          }\n          \n          .sidebar-footer {\n            padding: 1.5rem 1rem;\n            border-top: 1px solid rgba(196, 131, 217, 0.2);\n            background: linear-gradient(135deg, #F5F5ED 0%, #FAFAF2 100%);\n            margin-top: auto;\n          }\n          \n          .user-profile {\n            display: flex;\n            align-items: center;\n            gap: 0.875rem;\n            padding: 0.875rem;\n            border-radius: 16px;\n            background: rgba(255, 255, 255, 0.8);\n            border: 1px solid rgba(196, 131, 217, 0.2);\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            cursor: pointer;\n            position: relative;\n            overflow: hidden;\n            backdrop-filter: blur(10px);\n          }\n          \n          .user-profile::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: linear-gradient(135deg, #FFB333, #C483D9);\n            opacity: 0;\n            transition: opacity 0.3s ease;\n          }\n          \n          .user-profile:hover::before {\n            opacity: 0.1;\n          }\n          \n          .user-profile:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 24px rgba(196, 131, 217, 0.2);\n          }\n          \n          .user-avatar {\n            width: 40px;\n            height: 40px;\n            background: linear-gradient(135deg, #FFB333, #F87239);\n            border: 2px solid rgba(255, 255, 255, 0.5);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            box-shadow: 0 4px 12px rgba(255, 179, 51, 0.3);\n            transition: all 0.3s ease;\n            position: relative;\n            z-index: 1;\n          }\n          \n          .user-avatar:hover {\n            transform: scale(1.1);\n            box-shadow: 0 6px 16px rgba(255, 179, 51, 0.4);\n          }\n          \n          .user-avatar-text {\n            font-size: 0.875rem;\n            font-weight: 700;\n            color: #FFFFFF;\n            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n          }\n          \n          .user-info {\n            min-width: 0;\n            flex: 1;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            position: relative;\n            z-index: 1;\n          }\n          \n          .sidebar.collapsed .user-info {\n            opacity: 0;\n            pointer-events: none;\n            transform: scale(0.8);\n          }\n          \n          .user-name {\n            font-size: 0.875rem;\n            font-weight: 600;\n            color: #374151;\n            margin: 0;\n            word-wrap: break-word;\n            overflow-wrap: break-word;\n            word-break: break-word;\n            white-space: normal;\n            line-height: 1.3;\n          }\n          \n          .user-email {\n            font-size: 0.75rem;\n            color: #9CA3AF;\n            margin: 0;\n            word-wrap: break-word;\n            overflow-wrap: break-word;\n            word-break: break-word;\n            white-space: normal;\n            line-height: 1.3;\n          }\n          \n          .logout-btn {\n            padding: 0.5rem;\n            color: #9CA3AF;\n            background: rgba(156, 163, 175, 0.1);\n            border: 1px solid rgba(156, 163, 175, 0.2);\n            border-radius: 12px;\n            cursor: pointer;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            backdrop-filter: blur(10px);\n            position: relative;\n            z-index: 1;\n          }\n          \n          .logout-btn:hover {\n            color: #F87239;\n            background: rgba(248, 114, 57, 0.1);\n            border-color: rgba(248, 114, 57, 0.2);\n            transform: translateY(-1px);\n          }\n          \n          .logout-btn:active {\n            transform: translateY(0) scale(0.98);\n          }\n          \n          /* Tooltip for collapsed nav items */\n          .nav-item.tooltip-container {\n            position: relative;\n          }\n          \n          .nav-tooltip {\n            position: absolute;\n            left: 100%;\n            top: 50%;\n            transform: translateY(-50%) translateX(-10px);\n            background: linear-gradient(135deg, #374151, #1F2937);\n            color: #FFFFFF;\n            padding: 0.5rem 0.75rem;\n            border-radius: 8px;\n            font-size: 0.75rem;\n            white-space: nowrap;\n            opacity: 0;\n            visibility: hidden;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            z-index: 1000;\n            margin-left: 0.5rem;\n            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n            font-weight: 500;\n          }\n          \n          .nav-item:hover .nav-tooltip {\n            opacity: 1;\n            visibility: visible;\n            transform: translateY(-50%) translateX(0);\n          }\n          \n          /* Mobile Menu Toggle */\n          .mobile-menu-button {\n            position: fixed;\n            top: 1.5rem;\n            left: 1.5rem;\n            z-index: 60;\n            background: linear-gradient(135deg, #FFB333, #F87239);\n            border: 1px solid rgba(255, 255, 255, 0.2);\n            border-radius: 16px;\n            padding: 0.875rem;\n            cursor: pointer;\n            display: none;\n            box-shadow: 0 4px 16px rgba(255, 179, 51, 0.3);\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            color: #FFFFFF;\n          }\n          \n          .mobile-menu-button:hover {\n            transform: translateY(-2px) scale(1.05);\n            box-shadow: 0 8px 24px rgba(255, 179, 51, 0.4);\n          }\n          \n          .mobile-menu-button:active {\n            transform: translateY(-1px) scale(0.98);\n          }\n          \n          .mobile-overlay {\n            position: fixed;\n            inset: 0;\n            background: rgba(0, 0, 0, 0.6);\n            z-index: 40;\n            display: none;\n            backdrop-filter: blur(4px);\n          }\n          \n          /* Global content adjustment for sidebar */\n          body {\n            margin: 0;\n            padding: 0;\n          }\n          \n          .sidebar ~ * {\n            margin-left: 280px;\n            transition: margin-left 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          }\n          \n          .sidebar.collapsed ~ * {\n            margin-left: 72px;\n          }\n          \n          [style*=\"marginLeft: 256px\"] {\n            margin-left: 280px !important;\n            transition: margin-left 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          }\n          \n          /* Enhanced Modal Styles */\n          .modal-overlay {\n            position: fixed;\n            inset: 0;\n            background: rgba(0, 0, 0, 0.8);\n            backdrop-filter: blur(12px);\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: 1.5rem;\n            z-index: 1000;\n            animation: fadeIn 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          }\n          \n          .modal-content {\n            background: linear-gradient(135deg, #FFFFFF 0%, #FAFAFA 100%);\n            border: 1px solid rgba(196, 131, 217, 0.2);\n            border-radius: 24px;\n            padding: 0;\n            width: 100%;\n            max-width: 520px;\n            max-height: 90vh;\n            overflow: hidden;\n            box-shadow: 0 24px 48px rgba(0, 0, 0, 0.15);\n            animation: slideIn 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            position: relative;\n          }\n          \n          .modal-content::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            height: 4px;\n            background: linear-gradient(90deg, #FFB333, #C483D9, #5884FD, #F87239);\n          }\n          \n          .modal-header {\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n            padding: 2rem 2rem 1rem 2rem;\n            border-bottom: 1px solid rgba(196, 131, 217, 0.2);\n            background: linear-gradient(135deg, #F5F5ED 0%, #FAFAF2 100%);\n            position: relative;\n          }\n          \n          .modal-title {\n            font-size: 1.75rem;\n            font-weight: 800;\n            color: #1F2937;\n            margin: 0;\n            letter-spacing: -0.025em;\n          }\n          \n          .modal-close-btn {\n            background: rgba(156, 163, 175, 0.1);\n            border: 1px solid rgba(156, 163, 175, 0.2);\n              padding: 0.75rem;\n            border-radius: 12px;\n            cursor: pointer;\n            color: #6B7280;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            display: flex;\n            align-items: center;\n            justify-content: center;\n          }\n          \n          .modal-close-btn:hover {\n            background: rgba(248, 114, 57, 0.1);\n            border-color: rgba(248, 114, 57, 0.2);\n            color: #F87239;\n            transform: scale(1.05);\n          }\n          \n          .modal-body {\n            padding: 2rem;\n            max-height: 75vh;\n            overflow-y: auto;\n          }\n          \n          .leave-stats {\n            display: grid;\n            grid-template-columns: repeat(3, 1fr);\n            gap: 1.5rem;\n            margin-bottom: 2rem;\n          }\n          \n          .stat-card {\n            text-align: center;\n            padding: 1.5rem 1rem;\n            background: linear-gradient(135deg, #FFFFFF 0%, #FAFAFA 100%);\n            border-radius: 16px;\n            border: 1px solid rgba(196, 131, 217, 0.2);\n            position: relative;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\n            overflow: hidden;\n          }\n          \n          .stat-card::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            height: 4px;\n            background: linear-gradient(90deg, #FFB333, #C483D9, #5884FD, #F87239);\n          }\n          \n          .stat-card:hover {\n            transform: translateY(-4px);\n            box-shadow: 0 12px 32px rgba(0, 0, 0, 0.1);\n          }\n          \n          .stat-number {\n            font-size: 2.5rem;\n            font-weight: 900;\n            margin-bottom: 0.5rem;\n            color: #1F2937;\n            letter-spacing: -0.025em;\n          }\n          \n          .stat-label {\n            font-size: 0.75rem;\n            color: #6B7280;\n            text-transform: uppercase;\n            font-weight: 700;\n            letter-spacing: 0.1em;\n          }\n          \n          @keyframes fadeIn {\n            from { opacity: 0; }\n            to { opacity: 1; }\n          }\n          \n          @keyframes slideIn {\n            from { transform: translateY(-20px) scale(0.95); opacity: 0; }\n            to { transform: translateY(0) scale(1); opacity: 1; }\n          }\n          \n          /* Responsive Design */\n          @media (max-width: 768px) {\n            .sidebar {\n              transform: translateX(-100%);\n              transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n              z-index: 50;\n              width: 300px;\n            }\n            \n            .sidebar.open {\n              transform: translateX(0);\n            }\n            \n            .sidebar-toggle {\n              display: none;\n            }\n            \n            .mobile-menu-button {\n              display: block;\n            }\n            \n            .mobile-overlay.show {\n              display: block;\n            }\n            \n            .sidebar ~ * {\n              margin-left: 0 !important;\n            }\n            \n            .modal-content {\n              max-width: 95vw;\n              margin: 1rem;\n            }\n            \n            .modal-header {\n              padding: 1.5rem 1.5rem 1rem 1.5rem;\n            }\n            \n            .modal-title {\n              font-size: 1.5rem;\n            }\n            \n            .modal-body {\n              padding: 1.5rem;\n            }\n            \n            .leave-stats {\n              grid-template-columns: 1fr;\n              gap: 1rem;\n            }\n          }\n          \n          @media (max-width: 480px) {\n            .sidebar {\n              width: 100vw;\n            }\n            \n            .mobile-menu-button {\n              top: 1rem;\n              left: 1rem;\n              padding: 0.75rem;\n            }\n            \n            .modal-overlay {\n              padding: 1rem;\n            }\n            \n            .modal-content {\n              border-radius: 16px;\n              max-height: 95vh;\n            }\n          }\n        "}}),(0,r.jsx)("button",{onClick:()=>{J(!V)},className:"jsx-79e4f0e0f941e9c1 mobile-menu-button",children:V?(0,r.jsx)(T.Z,{style:{width:"24px",height:"24px"}}):(0,r.jsx)(A.Z,{style:{width:"24px",height:"24px"}})}),(0,r.jsx)("div",{onClick:eI,className:"jsx-79e4f0e0f941e9c1 "+"mobile-overlay ".concat(V?"show":"")}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 "+"sidebar ".concat(V?"open":""," ").concat(Q?"collapsed":""),children:[(0,r.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 sidebar-header",children:(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 sidebar-header-content",children:[(0,r.jsx)("button",{onClick:()=>{$(!Q),eM(),setTimeout(()=>{let e=document.querySelectorAll('[style*="marginLeft: 256px"]');e.forEach(e=>{e.style.marginLeft&&(e.style.marginLeft=Q?"256px":"64px")})},0)},title:Q?"Expand sidebar":"Collapse sidebar",className:"jsx-79e4f0e0f941e9c1 sidebar-toggle",children:(0,r.jsx)(A.Z,{style:{width:"20px",height:"20px"}})}),(0,r.jsx)("h1",{className:"jsx-79e4f0e0f941e9c1 sidebar-title",children:"Projects"}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},className:"jsx-79e4f0e0f941e9c1",children:[(0,r.jsx)(f,{}),(0,r.jsx)("div",{ref:ew,className:"jsx-79e4f0e0f941e9c1 sidebar-add-container",children:(0,r.jsx)("button",{onClick:e=>{console.log("\uD83D\uDD25 DEBUG: Plus (+) button clicked!",e),e.preventDefault(),e.stopPropagation(),eP()},title:"Create new...",className:"jsx-79e4f0e0f941e9c1 "+"sidebar-add-btn ".concat(X?"active":""),children:(0,r.jsx)(B.Z,{style:{width:"20px",height:"20px"}})})})]})]})}),(0,r.jsxs)("nav",{className:"jsx-79e4f0e0f941e9c1 sidebar-nav",children:[(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 nav-section",children:[(e4?e7:e0).map(e=>(0,r.jsxs)(d(),{href:e.href,className:"nav-item ".concat(e6(e.href)?"active":""),onClick:eI,children:[(0,r.jsx)(e.icon,{className:"nav-icon"}),(0,r.jsx)("span",{className:"jsx-79e4f0e0f941e9c1 nav-text",children:e.name})]},e.name)),e4||(null==Y?void 0:Y.role)!=="hr"&&(null==Y?void 0:Y.role)!=="admin"&&(null==Y?void 0:null===(l=Y.user_metadata)||void 0===l?void 0:l.role)!=="hr"&&(null==Y?void 0:null===(p=Y.user_metadata)||void 0===p?void 0:p.role)!=="admin"?!e4&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:{borderTop:"1px solid #e5e7eb",margin:"1rem 0 0.5rem 0",paddingTop:"0.5rem"},className:"jsx-79e4f0e0f941e9c1 nav-section-header",children:(0,r.jsx)("span",{style:{fontSize:"0.75rem",color:"#666666",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",paddingLeft:"0.75rem"},className:"jsx-79e4f0e0f941e9c1",children:"Personal"})}),e3.slice(0,2).map(e=>(0,r.jsxs)(d(),{href:e.href,className:"nav-item ".concat(e6(e.href)?"active":""),onClick:eI,children:[(0,r.jsx)(e.icon,{className:"nav-icon"}),(0,r.jsx)("span",{className:"jsx-79e4f0e0f941e9c1 nav-text",children:e.name})]},e.name))]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:{borderTop:"1px solid #e5e7eb",margin:"1rem 0 0.5rem 0",paddingTop:"0.5rem"},className:"jsx-79e4f0e0f941e9c1 nav-section-header",children:(0,r.jsx)("span",{style:{fontSize:"0.75rem",color:"#666666",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",paddingLeft:"0.75rem"},className:"jsx-79e4f0e0f941e9c1",children:"HR Tools"})}),e3.map(e=>(0,r.jsxs)(d(),{href:e.href,className:"nav-item ".concat(e6(e.href)?"active":""),onClick:eI,children:[(0,r.jsx)(e.icon,{className:"nav-icon"}),(0,r.jsx)("span",{className:"jsx-79e4f0e0f941e9c1 nav-text",children:e.name})]},e.name))]}),e1.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:{borderTop:"1px solid #e5e7eb",margin:"1rem 0 0.5rem 0",paddingTop:"0.5rem"},className:"jsx-79e4f0e0f941e9c1 nav-section-header",children:(0,r.jsx)("span",{style:{fontSize:"0.75rem",color:"#666666",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",paddingLeft:"0.75rem"},className:"jsx-79e4f0e0f941e9c1",children:"Idea Lounge"})}),e1.map(e=>(0,r.jsxs)(d(),{href:e.href,className:"nav-item ".concat(e6(e.href)?"active":""),onClick:eI,children:[(0,r.jsx)(e.icon,{className:"nav-icon"}),(0,r.jsx)("span",{className:"jsx-79e4f0e0f941e9c1 nav-text",children:e.name})]},e.name))]}),!e4&&e2.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:{borderTop:"1px solid #e5e7eb",margin:"1rem 0 0.5rem 0",paddingTop:"0.5rem"},className:"jsx-79e4f0e0f941e9c1 nav-section-header",children:(0,r.jsx)("span",{style:{fontSize:"0.75rem",color:"#666666",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",paddingLeft:"0.75rem"},className:"jsx-79e4f0e0f941e9c1",children:"Admin"})}),e2.map(e=>(0,r.jsxs)(d(),{href:e.href,className:"nav-item ".concat(e6(e.href)?"active":""),onClick:eI,children:[(0,r.jsx)(e.icon,{className:"nav-icon"}),(0,r.jsx)("span",{className:"jsx-79e4f0e0f941e9c1 nav-text",children:e.name})]},e.name))]}),e9.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:{borderTop:"1px solid #e5e7eb",margin:"1rem 0 0.5rem 0",paddingTop:"0.5rem"},className:"jsx-79e4f0e0f941e9c1 nav-section-header",children:(0,r.jsx)("span",{style:{fontSize:"0.75rem",color:"#666666",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",paddingLeft:"0.75rem"},className:"jsx-79e4f0e0f941e9c1",children:"Instructor"})}),e9.map(e=>(0,r.jsxs)(d(),{href:e.href,className:"nav-item ".concat(e6(e.href)?"active":""),onClick:eI,children:[(0,r.jsx)(e.icon,{className:"nav-icon"}),(0,r.jsx)("span",{className:"jsx-79e4f0e0f941e9c1 nav-text",children:e.name})]},e.name))]})]}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 nav-section",children:[(0,r.jsxs)("button",{onClick:()=>G(!H),className:"jsx-79e4f0e0f941e9c1 projects-toggle",children:[(0,r.jsx)("span",{className:"jsx-79e4f0e0f941e9c1 projects-toggle-text",children:"My Projects"}),(0,r.jsx)("span",{className:"jsx-79e4f0e0f941e9c1 projects-toggle-icon",children:H?(0,r.jsx)(I.Z,{style:{width:"16px",height:"16px"}}):(0,r.jsx)(P.Z,{style:{width:"16px",height:"16px"}})})]}),H&&(0,r.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 projects-list",children:L.map(e=>(0,r.jsxs)(d(),{href:"/projects/".concat(e.id),className:"project-item ".concat(e6("/projects/".concat(e.id))?"active":""),onClick:eI,children:[(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 project-info",children:[(0,r.jsx)("div",{style:{backgroundColor:e.color||"#000000"},className:"jsx-79e4f0e0f941e9c1 project-color"}),(0,r.jsx)("span",{style:{wordWrap:"break-word",overflowWrap:"break-word",whiteSpace:"normal",lineHeight:"1.3"},className:"jsx-79e4f0e0f941e9c1 project-name",children:e.name})]}),(0,r.jsxs)("span",{className:"jsx-79e4f0e0f941e9c1 project-count",children:[e.completed_task_count||0,"/",e.task_count||0]})]},e.id))})]})]}),(0,r.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 sidebar-footer",children:(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 user-profile",children:[(0,r.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 user-avatar",children:(0,r.jsx)("span",{className:"jsx-79e4f0e0f941e9c1 user-avatar-text",children:null==Y?void 0:null===(U=Y.name)||void 0===U?void 0:U.charAt(0).toUpperCase()})}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 user-info",children:[(0,r.jsx)("p",{className:"jsx-79e4f0e0f941e9c1 user-name",children:null==Y?void 0:Y.name}),(0,r.jsx)("p",{className:"jsx-79e4f0e0f941e9c1 user-email",children:null==Y?void 0:Y.email})]}),(0,r.jsx)("button",{onClick:eB,title:"Sign out",className:"jsx-79e4f0e0f941e9c1 logout-btn",children:(0,r.jsx)(M.Z,{style:{width:"20px",height:"20px"}})})]})})]}),X&&(console.log("\uD83D\uDD25 DEBUG: Rendering dropdown portal, isDropdownOpen =",X),!0)&&(0,s.createPortal)((0,r.jsxs)("div",{"data-dropdown-portal":!0,style:{position:"fixed",top:"120px",left:Q?"80px":"240px",zIndex:9999999,background:"#FFFFFF",border:"2px solid #5884FD",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.25)",minWidth:"200px",padding:"0.75rem",backdropFilter:"blur(15px)",pointerEvents:"auto"},onClick:e=>{console.log("\uD83D\uDD25 DEBUG: Dropdown container clicked!",e),e.stopPropagation()},className:"jsx-79e4f0e0f941e9c1",children:[(0,r.jsxs)("button",{onClick:e=>{console.log("\uD83D\uDD25 DEBUG: Absence Form button clicked!",e),e.preventDefault(),e.stopPropagation(),eR(),eM()},style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.875rem 1rem",fontSize:"0.875rem",color:"#374151",cursor:"pointer",border:"2px solid transparent",background:"#f9fafb",width:"100%",textAlign:"left",borderRadius:"12px",fontWeight:"500",transition:"all 0.2s ease",pointerEvents:"auto",position:"relative",zIndex:1e7},onMouseEnter:e=>{e.currentTarget.style.color="#FFB333",e.currentTarget.style.transform="translateX(4px)",e.currentTarget.style.background="rgba(255, 179, 51, 0.1)"},onMouseLeave:e=>{e.currentTarget.style.color="#374151",e.currentTarget.style.transform="translateX(0)",e.currentTarget.style.background="none"},className:"jsx-79e4f0e0f941e9c1",children:[(0,r.jsx)(R.Z,{style:{width:"18px",height:"18px"}}),"Absence Form"]}),(0,r.jsxs)("button",{onClick:e=>{console.log("\uD83D\uDD25 DEBUG: Daily Report button clicked!",e),e.preventDefault(),e.stopPropagation(),eW(),eM()},style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.875rem 1rem",fontSize:"0.875rem",color:"#374151",cursor:"pointer",border:"2px solid transparent",background:"#f9fafb",width:"100%",textAlign:"left",borderRadius:"12px",fontWeight:"500",transition:"all 0.2s ease",pointerEvents:"auto",position:"relative",zIndex:1e7},onMouseEnter:e=>{e.currentTarget.style.color="#FFB333",e.currentTarget.style.transform="translateX(4px)",e.currentTarget.style.background="rgba(255, 179, 51, 0.1)"},onMouseLeave:e=>{e.currentTarget.style.color="#374151",e.currentTarget.style.transform="translateX(0)",e.currentTarget.style.background="none"},className:"jsx-79e4f0e0f941e9c1",children:[(0,r.jsx)(D.Z,{style:{width:"18px",height:"18px"}}),"Daily Report Form"]})]}),document.body),ee&&(console.log("\uD83D\uDD25 DEBUG: Rendering Absence Form Modal, showAbsenceForm =",ee),!0)&&(0,r.jsx)("div",{onClick:eL,className:"jsx-79e4f0e0f941e9c1 modal-overlay",children:(0,r.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"jsx-79e4f0e0f941e9c1 modal-content",children:[(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 modal-header",children:[(0,r.jsx)("h2",{className:"jsx-79e4f0e0f941e9c1 modal-title",children:"Employee Leave Request"}),(0,r.jsx)("button",{onClick:eL,title:"Close",className:"jsx-79e4f0e0f941e9c1 modal-close-btn",children:(0,r.jsx)(T.Z,{style:{width:"24px",height:"24px"}})})]}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 modal-body",children:[(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 leave-stats",children:[(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 stat-card stat-available",children:[(0,r.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 stat-number",children:ep}),(0,r.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 stat-label",children:"Available Days"})]}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 stat-card stat-used",children:[(0,r.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 stat-number",children:eg}),(0,r.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 stat-label",children:"Used Days"})]}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 stat-card stat-requested",children:[(0,r.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 stat-number",children:eO()}),(0,r.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 stat-label",children:"Requested Days"})]})]}),(0,r.jsxs)("form",{onSubmit:eU,className:"jsx-79e4f0e0f941e9c1",children:[(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-grid",children:[(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group",children:[(0,r.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 form-label",children:"Start Date"}),(0,r.jsx)("input",{type:"date",required:!0,value:ec.startDate,onChange:e=>em({...ec,startDate:e.target.value}),min:new Date().toISOString().split("T")[0],className:"jsx-79e4f0e0f941e9c1 form-input"})]}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group",children:[(0,r.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 form-label",children:"End Date"}),(0,r.jsx)("input",{type:"date",required:!0,value:ec.endDate,onChange:e=>em({...ec,endDate:e.target.value}),min:ec.startDate||new Date().toISOString().split("T")[0],className:"jsx-79e4f0e0f941e9c1 form-input"})]})]}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group",children:[(0,r.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 form-label",children:"Leave Type"}),(0,r.jsxs)("select",{value:ec.leaveType,onChange:e=>em({...ec,leaveType:e.target.value}),className:"jsx-79e4f0e0f941e9c1 form-select",children:[(0,r.jsx)("option",{value:"vacation",className:"jsx-79e4f0e0f941e9c1",children:"Vacation"}),(0,r.jsx)("option",{value:"sick",className:"jsx-79e4f0e0f941e9c1",children:"Sick Leave"}),(0,r.jsx)("option",{value:"personal",className:"jsx-79e4f0e0f941e9c1",children:"Personal Leave"}),(0,r.jsx)("option",{value:"family",className:"jsx-79e4f0e0f941e9c1",children:"Family Emergency"}),(0,r.jsx)("option",{value:"medical",className:"jsx-79e4f0e0f941e9c1",children:"Medical Appointment"}),(0,r.jsx)("option",{value:"other",className:"jsx-79e4f0e0f941e9c1",children:"Other"})]})]}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group",children:[(0,r.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 form-label",children:"Related Project (Optional)"}),(0,r.jsxs)("select",{value:ec.projectId,onChange:e=>em({...ec,projectId:Number(e.target.value)}),className:"jsx-79e4f0e0f941e9c1 form-select",children:[(0,r.jsx)("option",{value:0,className:"jsx-79e4f0e0f941e9c1",children:"Select a project (if applicable)"}),L.map(e=>(0,r.jsx)("option",{value:e.id,className:"jsx-79e4f0e0f941e9c1",children:e.name},e.id))]}),(0,r.jsx)("div",{style:{fontSize:"0.75rem",color:"#666666",marginTop:"0.25rem"},className:"jsx-79e4f0e0f941e9c1",children:"Select the project this leave affects, if any"})]}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group",children:[(0,r.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 form-label",children:"Reason for Leave"}),(0,r.jsx)("input",{type:"text",required:!0,placeholder:"Brief reason for your leave request...",value:ec.reason,onChange:e=>em({...ec,reason:e.target.value}),className:"jsx-79e4f0e0f941e9c1 form-input"})]}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group",children:[(0,r.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 form-label",children:"Additional Notes (Optional)"}),(0,r.jsx)("textarea",{placeholder:"Any additional information or special instructions...",value:ec.notes,onChange:e=>em({...ec,notes:e.target.value}),className:"jsx-79e4f0e0f941e9c1 form-textarea"})]}),eO()>ep&&(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 error-message",children:["WARNING: You are requesting ",eO()," days but only have ",ep," days available."]}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-buttons",children:[(0,r.jsx)("button",{type:"button",onClick:eL,className:"jsx-79e4f0e0f941e9c1 btn btn-secondary",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:eO()>ep||0===eO(),className:"jsx-79e4f0e0f941e9c1 btn btn-primary",children:"Submit Request"})]})]})]})]})}),ej&&(0,r.jsx)("div",{onClick:eZ,className:"jsx-79e4f0e0f941e9c1 daily-report-overlay",children:(0,r.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"jsx-79e4f0e0f941e9c1 daily-report-modal",children:[(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-report-header",children:[(0,r.jsx)("h1",{className:"jsx-79e4f0e0f941e9c1 daily-report-title",children:"Daily Report"}),(0,r.jsx)("button",{onClick:eZ,title:"Close",className:"jsx-79e4f0e0f941e9c1 daily-close-btn",children:"\xd7"})]}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-report-body",children:[(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 date-info-banner",children:[(0,r.jsx)("h2",{className:"jsx-79e4f0e0f941e9c1 date-title",children:e_.dateDisplay}),(0,r.jsx)("p",{className:"jsx-79e4f0e0f941e9c1 date-subtitle",children:"Submit your daily progress report"})]}),(0,r.jsxs)("form",{onSubmit:eY,className:"jsx-79e4f0e0f941e9c1 daily-report-form",children:[(0,r.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 form-row",children:(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group full-width",children:[(0,r.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 daily-label",children:"Project / Team *"}),(0,r.jsxs)("select",{required:!0,value:e_.projectId,onChange:e=>eF({...e_,projectId:Number(e.target.value)}),className:"jsx-79e4f0e0f941e9c1 daily-select",children:[(0,r.jsx)("option",{value:0,className:"jsx-79e4f0e0f941e9c1",children:"Choose your project or team..."}),L.map(e=>(0,r.jsx)("option",{value:e.id,className:"jsx-79e4f0e0f941e9c1",children:e.name},e.id))]})]})}),(0,r.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 form-row",children:(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group full-width",children:[(0,r.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 daily-label",children:"KEY ACTIVITIES COMPLETED *"}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-field-container",children:[e_.keyActivities.map((e,n)=>(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-field-row",children:[(0,r.jsx)("input",{type:"text",required:0===n,placeholder:0===n?"Main task or deliverable completed...":"Additional activity...",value:e,onChange:e=>eV("keyActivities",n,e.target.value),className:"jsx-79e4f0e0f941e9c1 daily-input"}),e_.keyActivities.length>1&&(0,r.jsx)("button",{type:"button",onClick:()=>eG("keyActivities",n),title:"Remove this item",className:"jsx-79e4f0e0f941e9c1 daily-remove-btn",children:"\xd7"})]},n)),(0,r.jsx)("button",{type:"button",onClick:()=>eH("keyActivities"),className:"jsx-79e4f0e0f941e9c1 daily-add-btn",children:"Add another activity"})]})]})}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-row",children:[(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group half-width",children:[(0,r.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 daily-label",children:"ONGOING TASKS"}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-field-container",children:[e_.ongoingTasks.map((e,n)=>(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-field-row",children:[(0,r.jsx)("input",{type:"text",placeholder:0===n?"Task in progress...":"Additional ongoing task...",value:e,onChange:e=>eV("ongoingTasks",n,e.target.value),className:"jsx-79e4f0e0f941e9c1 daily-input"}),e_.ongoingTasks.length>1&&(0,r.jsx)("button",{type:"button",onClick:()=>eG("ongoingTasks",n),title:"Remove this item",className:"jsx-79e4f0e0f941e9c1 daily-remove-btn",children:"\xd7"})]},n)),(0,r.jsx)("button",{type:"button",onClick:()=>eH("ongoingTasks"),className:"jsx-79e4f0e0f941e9c1 daily-add-btn",children:"Add ongoing task"})]})]}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group half-width",children:[(0,r.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 daily-label",children:"CHALLENGES / ISSUES"}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-field-container",children:[e_.challenges.map((e,n)=>(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-field-row",children:[(0,r.jsx)("input",{type:"text",placeholder:0===n?"Any blocker or challenge...":"Additional challenge...",value:e,onChange:e=>eV("challenges",n,e.target.value),className:"jsx-79e4f0e0f941e9c1 daily-input"}),e_.challenges.length>1&&(0,r.jsx)("button",{type:"button",onClick:()=>eG("challenges",n),title:"Remove this item",className:"jsx-79e4f0e0f941e9c1 daily-remove-btn",children:"\xd7"})]},n)),(0,r.jsx)("button",{type:"button",onClick:()=>eH("challenges"),className:"jsx-79e4f0e0f941e9c1 daily-add-btn",children:"Add challenge"})]})]})]}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-row",children:[(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group half-width",children:[(0,r.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 daily-label",children:"TEAM PERFORMANCE / KPIS"}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-field-container",children:[e_.teamPerformance.map((e,n)=>(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-field-row",children:[(0,r.jsx)("input",{type:"text",placeholder:0===n?"Performance metric or KPI...":"Additional KPI...",value:e,onChange:e=>eV("teamPerformance",n,e.target.value),className:"jsx-79e4f0e0f941e9c1 daily-input"}),e_.teamPerformance.length>1&&(0,r.jsx)("button",{type:"button",onClick:()=>eG("teamPerformance",n),title:"Remove this item",className:"jsx-79e4f0e0f941e9c1 daily-remove-btn",children:"\xd7"})]},n)),(0,r.jsx)("button",{type:"button",onClick:()=>eH("teamPerformance"),className:"jsx-79e4f0e0f941e9c1 daily-add-btn",children:"Add KPI"})]})]}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group half-width",children:[(0,r.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 daily-label",children:"TOMORROW'S PRIORITIES"}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-field-container",children:[e_.nextDayPriorities.map((e,n)=>(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-field-row",children:[(0,r.jsx)("input",{type:"text",placeholder:0===n?"Key priority for tomorrow...":"Additional priority...",value:e,onChange:e=>eV("nextDayPriorities",n,e.target.value),className:"jsx-79e4f0e0f941e9c1 daily-input"}),e_.nextDayPriorities.length>1&&(0,r.jsx)("button",{type:"button",onClick:()=>eG("nextDayPriorities",n),title:"Remove this item",className:"jsx-79e4f0e0f941e9c1 daily-remove-btn",children:"\xd7"})]},n)),(0,r.jsx)("button",{type:"button",onClick:()=>eH("nextDayPriorities"),className:"jsx-79e4f0e0f941e9c1 daily-add-btn",children:"Add priority"})]})]})]}),(0,r.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 form-row",children:(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group full-width",children:[(0,r.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 daily-label",children:"MEETING MINUTES"}),(0,r.jsx)("textarea",{placeholder:"Meeting minutes, discussions, decisions made (if any)...",value:e_.meetingMinutes,onChange:e=>eF({...e_,meetingMinutes:e.target.value,hasMeetingMinutes:e.target.value.trim().length>0}),className:"jsx-79e4f0e0f941e9c1 daily-textarea"})]})}),(0,r.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 form-row",children:(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group full-width",children:[(0,r.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 daily-label",children:"OTHER NOTES"}),(0,r.jsx)("textarea",{placeholder:"Additional observations, suggestions, or miscellaneous notes...",value:e_.otherNotes,onChange:e=>eF({...e_,otherNotes:e.target.value}),className:"jsx-79e4f0e0f941e9c1 daily-textarea"})]})}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-form-buttons",children:[(0,r.jsx)("button",{type:"button",onClick:eZ,className:"jsx-79e4f0e0f941e9c1 daily-btn-cancel",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",className:"jsx-79e4f0e0f941e9c1 daily-btn-submit",children:"Submit Report"})]})]})]})]})}),eN&&(0,r.jsx)("div",{onClick:()=>ez(!1),className:"jsx-79e4f0e0f941e9c1 modal-overlay",children:(0,r.jsxs)("div",{onClick:e=>e.stopPropagation(),style:{maxWidth:"600px"},className:"jsx-79e4f0e0f941e9c1 modal-content",children:[(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 modal-header",children:[(0,r.jsx)("h2",{className:"jsx-79e4f0e0f941e9c1 modal-title",children:"Inbox"}),(0,r.jsx)("button",{onClick:()=>ez(!1),title:"Close",className:"jsx-79e4f0e0f941e9c1 modal-close-btn",children:(0,r.jsx)(T.Z,{style:{width:"24px",height:"24px"}})})]}),(0,r.jsx)("div",{style:{padding:"1rem",maxHeight:"70vh",overflowY:"auto"},className:"jsx-79e4f0e0f941e9c1 modal-body",children:eT?(0,r.jsxs)("div",{style:{textAlign:"center",padding:"2rem"},className:"jsx-79e4f0e0f941e9c1",children:[(0,r.jsx)("div",{style:{width:"32px",height:"32px",border:"3px solid #cccccc",borderTop:"3px solid #000000",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"},className:"jsx-79e4f0e0f941e9c1"}),(0,r.jsx)("p",{style:{marginTop:"1rem",color:"#666666"},className:"jsx-79e4f0e0f941e9c1",children:"Loading notifications..."})]}):0===eC.length?(0,r.jsxs)("div",{style:{textAlign:"center",padding:"3rem"},className:"jsx-79e4f0e0f941e9c1",children:[(0,r.jsx)(S.Z,{style:{width:"48px",height:"48px",color:"#cccccc",margin:"0 auto 1rem"}}),(0,r.jsx)("h3",{style:{color:"#666666",marginBottom:"0.5rem"},className:"jsx-79e4f0e0f941e9c1",children:"No notifications"}),(0,r.jsx)("p",{style:{color:"#999999",fontSize:"0.9rem"},className:"jsx-79e4f0e0f941e9c1",children:"You're all caught up!"})]}):(0,r.jsx)("div",{className:"jsx-79e4f0e0f941e9c1",children:eC.map(e=>(0,r.jsxs)("div",{style:{display:"flex",gap:"1rem",padding:"1rem",borderBottom:"1px solid #e5e7eb",background:e.is_read?"#ffffff":"#f9f9f9",cursor:"pointer",transition:"all 0.2s ease"},onClick:()=>eX(e.id),className:"jsx-79e4f0e0f941e9c1",children:[(0,r.jsx)("div",{style:{flexShrink:0,marginTop:"0.25rem"},className:"jsx-79e4f0e0f941e9c1",children:eK(e.type)}),(0,r.jsxs)("div",{style:{flex:1,minWidth:0},className:"jsx-79e4f0e0f941e9c1",children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.5rem"},className:"jsx-79e4f0e0f941e9c1",children:[(0,r.jsx)("h4",{style:{color:"#000000",fontSize:"0.9rem",fontWeight:e.is_read?"normal":"bold",margin:0},className:"jsx-79e4f0e0f941e9c1",children:e.title}),(0,r.jsx)("span",{style:{fontSize:"0.75rem",color:"#666666",flexShrink:0},className:"jsx-79e4f0e0f941e9c1",children:eQ(e.created_at)})]}),(0,r.jsx)("p",{style:{color:"#374151",fontSize:"0.85rem",lineHeight:"1.4",margin:0},className:"jsx-79e4f0e0f941e9c1",children:e.message}),!e.is_read&&(0,r.jsx)("div",{style:{width:"6px",height:"6px",background:"#ef4444",borderRadius:"50%",position:"absolute",right:"1rem",top:"50%",transform:"translateY(-50%)"},className:"jsx-79e4f0e0f941e9c1"})]})]},e.id))})})]})}),(0,r.jsx)(o(),{id:"79e4f0e0f941e9c1",children:".daily-report-overlay.jsx-79e4f0e0f941e9c1{position:fixed;inset:0;background:rgba(0,0,0,.5);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:2rem;z-index:1000;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.daily-report-modal.jsx-79e4f0e0f941e9c1{background:#fff;border:1px solid#e5e7eb;-webkit-border-radius:16px;-moz-border-radius:16px;border-radius:16px;width:100%;max-width:1200px;max-height:95vh;overflow:hidden;-webkit-box-shadow:0 4px 12px rgba(0,0,0,.15);-moz-box-shadow:0 4px 12px rgba(0,0,0,.15);box-shadow:0 4px 12px rgba(0,0,0,.15);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.daily-report-header.jsx-79e4f0e0f941e9c1{background:#fff;color:#111827;padding:2rem;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;border-bottom:1px solid#e5e7eb}.daily-report-title.jsx-79e4f0e0f941e9c1{font-size:1.75rem;font-weight:700;margin:0;letter-spacing:-.025em}.daily-close-btn.jsx-79e4f0e0f941e9c1{background:#fff;color:#6b7280;border:1px solid#d1d5db;width:40px;height:40px;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;cursor:pointer;font-size:20px;font-weight:500;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease}.daily-close-btn.jsx-79e4f0e0f941e9c1:hover{background:#f9fafb;color:#374151}.daily-report-body.jsx-79e4f0e0f941e9c1{padding:2rem 3rem 3rem 3rem;-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;overflow-y:auto;overflow-x:hidden;background:#fff;scroll-behavior:smooth}.date-info-banner.jsx-79e4f0e0f941e9c1{background:#f9fafb;border:1px solid#e5e7eb;padding:2rem;text-align:center;margin-bottom:3rem;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px}.date-title.jsx-79e4f0e0f941e9c1{font-size:1.25rem;font-weight:600;color:#111827;margin:0 0 .5rem 0;letter-spacing:-.025em}.date-subtitle.jsx-79e4f0e0f941e9c1{font-size:.875rem;color:#6b7280;margin:0}.daily-report-form.jsx-79e4f0e0f941e9c1{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:2rem;padding-bottom:2rem}.form-row.jsx-79e4f0e0f941e9c1{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:2rem;width:100%}.form-group.jsx-79e4f0e0f941e9c1{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:.75rem}.form-group.full-width.jsx-79e4f0e0f941e9c1{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1}.form-group.half-width.jsx-79e4f0e0f941e9c1{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1}.daily-label.jsx-79e4f0e0f941e9c1{font-size:.875rem;font-weight:600;color:#374151;margin:0;padding-bottom:.25rem}.daily-select.jsx-79e4f0e0f941e9c1{width:100%;padding:.875rem 1rem;border:1px solid#d1d5db;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;font-size:.875rem;background:#fff;color:#111827;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.daily-select.jsx-79e4f0e0f941e9c1:focus{outline:none;border-color:#374151;-webkit-box-shadow:0 0 0 3px rgba(55,65,81,.1);-moz-box-shadow:0 0 0 3px rgba(55,65,81,.1);box-shadow:0 0 0 3px rgba(55,65,81,.1)}.daily-field-container.jsx-79e4f0e0f941e9c1{background:#fff;border:1px solid#e5e7eb;padding:1.5rem;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:1rem}.daily-field-row.jsx-79e4f0e0f941e9c1{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:.75rem}.daily-input.jsx-79e4f0e0f941e9c1{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;padding:.75rem 1rem;border:1px solid#d1d5db;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;font-size:.875rem;background:#fff;color:#111827;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.daily-input.jsx-79e4f0e0f941e9c1:focus{outline:none;border-color:#374151;-webkit-box-shadow:0 0 0 3px rgba(55,65,81,.1);-moz-box-shadow:0 0 0 3px rgba(55,65,81,.1);box-shadow:0 0 0 3px rgba(55,65,81,.1)}.daily-input.jsx-79e4f0e0f941e9c1:hover{border-color:#9ca3af}.daily-input.jsx-79e4f0e0f941e9c1::-webkit-input-placeholder{color:#9ca3af}.daily-input.jsx-79e4f0e0f941e9c1:-moz-placeholder{color:#9ca3af}.daily-input.jsx-79e4f0e0f941e9c1::-moz-placeholder{color:#9ca3af}.daily-input.jsx-79e4f0e0f941e9c1:-ms-input-placeholder{color:#9ca3af}.daily-input.jsx-79e4f0e0f941e9c1::-ms-input-placeholder{color:#9ca3af}.daily-input.jsx-79e4f0e0f941e9c1::placeholder{color:#9ca3af}.daily-remove-btn.jsx-79e4f0e0f941e9c1{background:#fff;color:#6b7280;border:1px solid#d1d5db;width:32px;height:32px;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;cursor:pointer;font-size:14px;font-weight:500;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.daily-remove-btn.jsx-79e4f0e0f941e9c1:hover{background:#f3f4f6;color:#374151}.daily-add-btn.jsx-79e4f0e0f941e9c1{background:#f9fafb;color:#374151;border:1px solid#d1d5db;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;padding:.75rem 1.25rem;font-size:.875rem;font-weight:500;cursor:pointer;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start}.daily-add-btn.jsx-79e4f0e0f941e9c1:hover{background:#f3f4f6;border-color:#9ca3af}.daily-textarea.jsx-79e4f0e0f941e9c1{width:100%;min-height:120px;padding:.875rem 1rem;border:1px solid#d1d5db;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;font-size:.875rem;background:#fff;color:#111827;resize:vertical;font-family:inherit;line-height:1.5;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.daily-textarea.jsx-79e4f0e0f941e9c1:focus{outline:none;border-color:#374151;-webkit-box-shadow:0 0 0 3px rgba(55,65,81,.1);-moz-box-shadow:0 0 0 3px rgba(55,65,81,.1);box-shadow:0 0 0 3px rgba(55,65,81,.1)}.daily-textarea.jsx-79e4f0e0f941e9c1:hover{border-color:#9ca3af}.daily-textarea.jsx-79e4f0e0f941e9c1::-webkit-input-placeholder{color:#9ca3af}.daily-textarea.jsx-79e4f0e0f941e9c1:-moz-placeholder{color:#9ca3af}.daily-textarea.jsx-79e4f0e0f941e9c1::-moz-placeholder{color:#9ca3af}.daily-textarea.jsx-79e4f0e0f941e9c1:-ms-input-placeholder{color:#9ca3af}.daily-textarea.jsx-79e4f0e0f941e9c1::-ms-input-placeholder{color:#9ca3af}.daily-textarea.jsx-79e4f0e0f941e9c1::placeholder{color:#9ca3af}.daily-form-buttons.jsx-79e4f0e0f941e9c1{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:1rem;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;padding:2rem 0 1rem 0;margin-top:2rem;border-top:1px solid#e5e7eb}.daily-btn-cancel.jsx-79e4f0e0f941e9c1{background:#fff;color:#374151;border:1px solid#d1d5db;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;padding:.875rem 1.5rem;font-size:.875rem;font-weight:500;cursor:pointer;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease}.daily-btn-cancel.jsx-79e4f0e0f941e9c1:hover{background:#f3f4f6;border-color:#9ca3af}.daily-btn-submit.jsx-79e4f0e0f941e9c1{background:#111827;color:#fff;border:1px solid#111827;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;padding:.875rem 1.5rem;font-size:.875rem;font-weight:500;cursor:pointer;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease}.daily-btn-submit.jsx-79e4f0e0f941e9c1:hover{background:#1f2937;border-color:#1f2937}@media(max-width:768px){.weekly-report-overlay.jsx-79e4f0e0f941e9c1{padding:1rem}.daily-report-modal.jsx-79e4f0e0f941e9c1{max-width:100%;max-height:98vh}.daily-report-header.jsx-79e4f0e0f941e9c1{padding:1.5rem}.daily-report-title.jsx-79e4f0e0f941e9c1{font-size:1.5rem}.daily-report-body.jsx-79e4f0e0f941e9c1{padding:1.5rem}.form-row.jsx-79e4f0e0f941e9c1{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:1.5rem}.daily-form-buttons.jsx-79e4f0e0f941e9c1{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:1rem}.daily-btn-cancel.jsx-79e4f0e0f941e9c1,.daily-btn-submit.jsx-79e4f0e0f941e9c1{width:100%;text-align:center}}.modal-overlay.jsx-79e4f0e0f941e9c1{position:fixed;inset:0;background:rgba(0,0,0,.5);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:1.5rem;z-index:1000;-webkit-animation:fadeIn.3s ease;-moz-animation:fadeIn.3s ease;-o-animation:fadeIn.3s ease;animation:fadeIn.3s ease}.modal-content.jsx-79e4f0e0f941e9c1{background:#fff;border:1px solid#e5e7eb;-webkit-border-radius:16px;-moz-border-radius:16px;border-radius:16px;padding:0;width:100%;max-width:520px;max-height:90vh;overflow:hidden;-webkit-box-shadow:0 10px 25px rgba(0,0,0,.15);-moz-box-shadow:0 10px 25px rgba(0,0,0,.15);box-shadow:0 10px 25px rgba(0,0,0,.15);-webkit-animation:slideIn.3s ease;-moz-animation:slideIn.3s ease;-o-animation:slideIn.3s ease;animation:slideIn.3s ease;position:relative}.modal-header.jsx-79e4f0e0f941e9c1{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:2rem 2rem 1rem 2rem;border-bottom:1px solid#e5e7eb;background:#fff;position:relative}.modal-title.jsx-79e4f0e0f941e9c1{font-size:1.5rem;font-weight:700;color:#111827;margin:0;letter-spacing:-.025em}.modal-close-btn.jsx-79e4f0e0f941e9c1{background:#fff;border:1px solid#d1d5db;padding:.75rem;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;cursor:pointer;color:#6b7280;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.modal-close-btn.jsx-79e4f0e0f941e9c1:hover{background:#f9fafb;border-color:#9ca3af;color:#374151}.modal-body.jsx-79e4f0e0f941e9c1{padding:2rem;max-height:75vh;overflow-y:auto}.leave-stats.jsx-79e4f0e0f941e9c1{display:grid;grid-template-columns:repeat(3,1fr);gap:1.5rem;margin-bottom:2rem}.stat-card.jsx-79e4f0e0f941e9c1{text-align:center;padding:1.5rem 1rem;background:#f9fafb;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;border:1px solid#e5e7eb;position:relative;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.1);-moz-box-shadow:0 1px 3px rgba(0,0,0,.1);box-shadow:0 1px 3px rgba(0,0,0,.1);overflow:hidden}.stat-card.jsx-79e4f0e0f941e9c1:hover{-webkit-transform:translatey(-2px);-moz-transform:translatey(-2px);-ms-transform:translatey(-2px);-o-transform:translatey(-2px);transform:translatey(-2px);-webkit-box-shadow:0 4px 12px rgba(0,0,0,.15);-moz-box-shadow:0 4px 12px rgba(0,0,0,.15);box-shadow:0 4px 12px rgba(0,0,0,.15)}.stat-number.jsx-79e4f0e0f941e9c1{font-size:2rem;font-weight:700;margin-bottom:.5rem;color:#111827;letter-spacing:-.025em}.stat-label.jsx-79e4f0e0f941e9c1{font-size:.75rem;color:#6b7280;font-weight:500}.form-grid.jsx-79e4f0e0f941e9c1{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;margin-bottom:1.5rem}.form-group.jsx-79e4f0e0f941e9c1{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:.5rem}.form-label.jsx-79e4f0e0f941e9c1{font-size:.875rem;font-weight:600;color:#374151;margin-bottom:.5rem}.form-input.jsx-79e4f0e0f941e9c1{width:100%;padding:.875rem 1rem;border:1px solid#d1d5db;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;font-size:.875rem;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;background:#fff;color:#111827;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.form-input.jsx-79e4f0e0f941e9c1:focus{outline:none;border-color:#374151;-webkit-box-shadow:0 0 0 3px rgba(55,65,81,.1);-moz-box-shadow:0 0 0 3px rgba(55,65,81,.1);box-shadow:0 0 0 3px rgba(55,65,81,.1)}.form-input.jsx-79e4f0e0f941e9c1:hover{border-color:#9ca3af}.form-input.jsx-79e4f0e0f941e9c1::-webkit-input-placeholder{color:#9ca3af}.form-input.jsx-79e4f0e0f941e9c1:-moz-placeholder{color:#9ca3af}.form-input.jsx-79e4f0e0f941e9c1::-moz-placeholder{color:#9ca3af}.form-input.jsx-79e4f0e0f941e9c1:-ms-input-placeholder{color:#9ca3af}.form-input.jsx-79e4f0e0f941e9c1::-ms-input-placeholder{color:#9ca3af}.form-input.jsx-79e4f0e0f941e9c1::placeholder{color:#9ca3af}.form-select.jsx-79e4f0e0f941e9c1{width:100%;padding:.875rem 1rem;border:1px solid#d1d5db;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;font-size:.875rem;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;background:#fff;color:#111827;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;cursor:pointer}.form-select.jsx-79e4f0e0f941e9c1:focus{outline:none;border-color:#374151;-webkit-box-shadow:0 0 0 3px rgba(55,65,81,.1);-moz-box-shadow:0 0 0 3px rgba(55,65,81,.1);box-shadow:0 0 0 3px rgba(55,65,81,.1)}.form-select.jsx-79e4f0e0f941e9c1:hover{border-color:#9ca3af}.form-textarea.jsx-79e4f0e0f941e9c1{width:100%;min-height:100px;padding:.875rem 1rem;border:1px solid#d1d5db;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;font-size:.875rem;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;background:#fff;color:#111827;resize:vertical;font-family:inherit;line-height:1.5;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.form-textarea.jsx-79e4f0e0f941e9c1:focus{outline:none;border-color:#374151;-webkit-box-shadow:0 0 0 3px rgba(55,65,81,.1);-moz-box-shadow:0 0 0 3px rgba(55,65,81,.1);box-shadow:0 0 0 3px rgba(55,65,81,.1)}.form-textarea.jsx-79e4f0e0f941e9c1:hover{border-color:#9ca3af}.form-textarea.jsx-79e4f0e0f941e9c1::-webkit-input-placeholder{color:#9ca3af}.form-textarea.jsx-79e4f0e0f941e9c1:-moz-placeholder{color:#9ca3af}.form-textarea.jsx-79e4f0e0f941e9c1::-moz-placeholder{color:#9ca3af}.form-textarea.jsx-79e4f0e0f941e9c1:-ms-input-placeholder{color:#9ca3af}.form-textarea.jsx-79e4f0e0f941e9c1::-ms-input-placeholder{color:#9ca3af}.form-textarea.jsx-79e4f0e0f941e9c1::placeholder{color:#9ca3af}.error-message.jsx-79e4f0e0f941e9c1{background:#fef2f2;border:1px solid#fecaca;color:#dc2626;padding:1rem;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;margin-bottom:1.5rem;font-size:.875rem;font-weight:500}.form-buttons.jsx-79e4f0e0f941e9c1{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:1rem;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;margin-top:2rem;padding-top:1.5rem;border-top:1px solid#e5e7eb}.btn.jsx-79e4f0e0f941e9c1{padding:.875rem 1.5rem;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;border:1px solid}.btn-secondary.jsx-79e4f0e0f941e9c1{background:#fff;color:#374151;border-color:#d1d5db}.btn-secondary.jsx-79e4f0e0f941e9c1:hover{background:#f3f4f6;border-color:#9ca3af}.btn-primary.jsx-79e4f0e0f941e9c1{background:#111827;color:#fff;border-color:#111827}.btn-primary.jsx-79e4f0e0f941e9c1:hover:not(:disabled){background:#1f2937;border-color:#1f2937}.btn.jsx-79e4f0e0f941e9c1:disabled{opacity:.5;cursor:not-allowed}@-webkit-keyframes fadeIn{from{opacity:0}to{opacity:1}}@-moz-keyframes fadeIn{from{opacity:0}to{opacity:1}}@-o-keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@-webkit-keyframes slideIn{from{-webkit-transform:translatey(-20px)scale(.95);transform:translatey(-20px)scale(.95);opacity:0}to{-webkit-transform:translatey(0)scale(1);transform:translatey(0)scale(1);opacity:1}}@-moz-keyframes slideIn{from{-moz-transform:translatey(-20px)scale(.95);transform:translatey(-20px)scale(.95);opacity:0}to{-moz-transform:translatey(0)scale(1);transform:translatey(0)scale(1);opacity:1}}@-o-keyframes slideIn{from{-o-transform:translatey(-20px)scale(.95);transform:translatey(-20px)scale(.95);opacity:0}to{-o-transform:translatey(0)scale(1);transform:translatey(0)scale(1);opacity:1}}@keyframes slideIn{from{-webkit-transform:translatey(-20px)scale(.95);-moz-transform:translatey(-20px)scale(.95);-o-transform:translatey(-20px)scale(.95);transform:translatey(-20px)scale(.95);opacity:0}to{-webkit-transform:translatey(0)scale(1);-moz-transform:translatey(0)scale(1);-o-transform:translatey(0)scale(1);transform:translatey(0)scale(1);opacity:1}}@media(max-width:768px){.modal-content.jsx-79e4f0e0f941e9c1{max-width:95vw;margin:1rem}.modal-header.jsx-79e4f0e0f941e9c1{padding:1.5rem 1.5rem 1rem 1.5rem}.modal-title.jsx-79e4f0e0f941e9c1{font-size:1.25rem}.modal-body.jsx-79e4f0e0f941e9c1{padding:1.5rem}.leave-stats.jsx-79e4f0e0f941e9c1{grid-template-columns:1fr;gap:1rem}.form-grid.jsx-79e4f0e0f941e9c1{grid-template-columns:1fr;gap:1rem}.form-buttons.jsx-79e4f0e0f941e9c1{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.btn.jsx-79e4f0e0f941e9c1{width:100%;text-align:center}}@media(max-width:480px){.modal-overlay.jsx-79e4f0e0f941e9c1{padding:1rem}.modal-content.jsx-79e4f0e0f941e9c1{-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;max-height:95vh}}"})]})}},7840:function(e,n,t){"use strict";t.d(n,{Z:function(){return N}});var r=t(7437),a=t(2265),o=t(4887),i=t(9186),s=t(3298),l=t(887),d=t(2125),c=t(7227),m=t(6689),p=t(1809),f=t(1253),g=t(2929),u=t(2469),x=t(3549),b=t(3152),h=t(1550),y=t(5946),v=t(1205),w=t(5856),j=t(7514);function k(e){var n;let{task:t}=e,{user:o}=(0,x.useAuth)(),[i,l]=(0,a.useState)([]),[d,c]=(0,a.useState)(""),[m,p]=(0,a.useState)(!1),[f,g]=(0,a.useState)(!1),[u,k]=(0,a.useState)(!1),[_,F]=(0,a.useState)([]),[N,z]=(0,a.useState)([]),[C,E]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(null==t?void 0:t.id)&&S()},[null==t?void 0:t.id]);let S=async()=>{if(null==t?void 0:t.id){p(!0);try{let[e,n]=await Promise.all([b.OV.getTaskComments(t.id),b.OV.getTaskAttachments(t.id)]);l(e||[])}catch(e){console.error("Failed to fetch task comments/attachments:",e),l([])}finally{p(!1)}}},D=async()=>{if((d.trim()||0!==_.length||0!==N.length)&&(null==t?void 0:t.id)){E(!0);try{let n=await b.OV.createTaskComment(t.id,{comment:d.trim()||"Shared files"}),r=[];for(let n of _)try{let a=await b.OV.uploadTaskAttachment(t.id,n);if(a){var e;let n={...a,source:"upload",name:a.filename,size:a.file_size,url:a.file,uploaded_by:(null===(e=a.user)||void 0===e?void 0:e.name)||"Unknown",uploaded_at:a.created_at};r.push(n)}}catch(e){console.error("Failed to upload file:",n.name,e)}for(let e of N)try{let n={id:Date.now()+Math.random(),file:e.webViewLink||e.webContentLink||"",filename:e.name,user:{id:(null==o?void 0:o.id)||0,name:(null==o?void 0:o.name)||"Unknown",email:(null==o?void 0:o.email)||"Unknown",role:(null==o?void 0:o.role)||"user"},created_at:new Date().toISOString(),file_size:e.size||0,name:e.name,size:e.size||0,type:e.mimeType||"application/octet-stream",uploaded_by:(null==o?void 0:o.name)||(null==o?void 0:o.email)||"Unknown",uploaded_at:new Date().toISOString(),task_id:t.id,url:e.webViewLink||e.webContentLink,source:"drive",drive_file_id:e.id};r.push(n)}catch(n){console.error("Failed to attach Drive file:",e.name,n)}if(n){let e={...n,attachments:r};l([...i,e]),c(""),F([]),z([]),g(!1),k(!1)}}catch(e){console.error("Failed to add comment:",e)}finally{E(!1)}}},T=e=>{F(_.filter((n,t)=>t!==e))},A=e=>{z(N.filter((n,t)=>t!==e))},B=e=>{if(0===e)return"0 Bytes";let n=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,n)).toFixed(2))+" "+["Bytes","KB","MB","GB"][n]};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n          .task-interaction-section {\n            flex: 1;\n            display: flex;\n            flex-direction: column;\n            height: 100%;\n            background: #fafafa;\n            width: 100%;\n            max-width: 100%;\n            box-sizing: border-box;\n            overflow: hidden;\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n          }\n\n          .comments-section {\n            flex: 1;\n            display: flex;\n            flex-direction: column;\n            height: 100%;\n            width: 100%;\n            max-width: 100%;\n            box-sizing: border-box;\n            overflow: hidden;\n            gap: 0;\n          }\n          \n          .comments-list {\n            flex: 1;\n            padding: 1rem;\n            overflow-y: auto;\n            min-height: 200px;\n            max-height: calc(100% - 200px);\n            scrollbar-width: thin;\n            scrollbar-color: rgba(55, 65, 81, 0.3) transparent;\n          }\n          \n          .comments-list::-webkit-scrollbar {\n            width: 6px;\n          }\n          \n          .comments-list::-webkit-scrollbar-track {\n            background: rgba(55, 65, 81, 0.1);\n            border-radius: 3px;\n          }\n          \n          .comments-list::-webkit-scrollbar-thumb {\n            background: rgba(55, 65, 81, 0.3);\n            border-radius: 3px;\n          }\n          \n          .comments-list::-webkit-scrollbar-thumb:hover {\n            background: rgba(55, 65, 81, 0.5);\n          }\n          \n          .empty-comments {\n            text-align: center;\n            padding: 2rem 1rem;\n            color: #6b7280;\n            background: #ffffff;\n            border-radius: 8px;\n            border: 1px solid #e5e7eb;\n            margin: 1rem;\n            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n          }\n          \n          .empty-comments p {\n            margin: 0.5rem 0;\n            font-weight: 500;\n          }\n          \n          .empty-comments p:first-of-type {\n            font-weight: 600;\n            color: #374151;\n            font-size: 1rem;\n          }\n          \n          .comment-item {\n            margin-bottom: 1rem;\n            padding: 1rem;\n            background: #ffffff;\n            border-radius: 8px;\n            border: 1px solid #e5e7eb;\n            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n            transition: all 0.2s ease;\n          }\n          \n          .comment-item:hover {\n            border-color: #d1d5db;\n            transform: translateY(-1px);\n            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n          }\n          \n          .comment-item:last-child {\n            margin-bottom: 0;\n          }\n          \n          .comment-header {\n            display: flex;\n            align-items: center;\n            gap: 0.75rem;\n            margin-bottom: 0.75rem;\n          }\n          \n          .author-avatar, .current-user-avatar {\n            width: 36px;\n            height: 36px;\n            background: #111827;\n            border: 1px solid #e5e7eb;\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-size: 0.875rem;\n            font-weight: 600;\n            color: #ffffff;\n            flex-shrink: 0;\n          }\n          \n          .comment-meta {\n            display: flex;\n            flex-direction: column;\n            gap: 0.125rem;\n          }\n          \n          .author-name {\n            font-weight: 600;\n            color: #374151;\n            font-size: 0.875rem;\n          }\n          \n          .comment-time {\n            font-size: 0.75rem;\n            color: #6b7280;\n            font-weight: 500;\n          }\n          \n          .comment-content {\n            margin-left: 0;\n            font-size: 0.875rem;\n            color: #374151;\n            line-height: 1.5;\n            font-weight: 500;\n            margin-bottom: 0.75rem;\n          }\n\n          .comment-attachments {\n            margin-top: 0.75rem;\n          }\n\n          .attachment-item {\n            display: flex;\n            align-items: center;\n            gap: 0.75rem;\n            padding: 0.75rem;\n            background: #f9fafb;\n            border: 1px solid #e5e7eb;\n            border-radius: 6px;\n            margin-bottom: 0.5rem;\n            transition: all 0.2s ease;\n          }\n\n          .attachment-item:hover {\n            background: #f3f4f6;\n            border-color: #d1d5db;\n          }\n\n          .attachment-icon {\n            width: 20px;\n            height: 20px;\n            color: #6b7280;\n            flex-shrink: 0;\n          }\n\n          .attachment-info {\n            flex: 1;\n          }\n\n          .attachment-name {\n            font-size: 0.875rem;\n            font-weight: 500;\n            color: #374151;\n            margin-bottom: 0.25rem;\n          }\n\n          .attachment-meta {\n            font-size: 0.75rem;\n            color: #6b7280;\n          }\n          \n          .add-comment {\n            border-top: 1px solid #e5e7eb;\n            padding: 1rem;\n            background: #ffffff;\n            width: 100%;\n            max-width: 100%;\n            box-sizing: border-box;\n            flex-shrink: 0;\n          }\n          \n          .comment-input-container {\n            display: flex;\n            flex-direction: column;\n            gap: 0.75rem;\n            width: 100%;\n            max-width: 100%;\n            box-sizing: border-box;\n          }\n\n          .comment-input-row {\n            display: flex;\n            align-items: flex-start;\n            gap: 0.75rem;\n            width: 100%;\n          }\n          \n          .comment-input {\n            flex: 1;\n            padding: 0.875rem 1rem;\n            border: 1px solid #d1d5db;\n            border-radius: 8px;\n            font-size: 0.875rem;\n            line-height: 1.5;\n            resize: vertical;\n            min-height: 80px;\n            max-width: 100%;\n            width: 100%;\n            box-sizing: border-box;\n            transition: all 0.2s ease;\n            background: #ffffff;\n            color: #374151;\n            font-weight: 500;\n            font-family: inherit;\n          }\n          \n          .comment-input:focus {\n            outline: none;\n            border-color: #374151;\n            box-shadow: 0 0 0 3px rgba(55, 65, 81, 0.1);\n          }\n          \n          .comment-input::placeholder {\n            color: #9ca3af;\n            font-weight: 500;\n          }\n\n          .comment-actions {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            gap: 0.75rem;\n          }\n\n          .file-actions {\n            display: flex;\n            gap: 0.5rem;\n          }\n\n          .file-action-btn {\n            padding: 0.5rem;\n            background: #ffffff;\n            border: 1px solid #d1d5db;\n            border-radius: 6px;\n            cursor: pointer;\n            transition: all 0.2s ease;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #6b7280;\n          }\n\n          .file-action-btn:hover {\n            background: #f9fafb;\n            border-color: #9ca3af;\n            color: #374151;\n          }\n\n          .file-action-btn.active {\n            background: #f3f4f6;\n            border-color: #6b7280;\n            color: #374151;\n          }\n          \n          .send-comment-btn {\n            background: #111827;\n            color: #ffffff;\n            border: none;\n            padding: 0.875rem 1rem;\n            border-radius: 6px;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n            transition: all 0.2s ease;\n            font-weight: 500;\n            font-size: 0.875rem;\n          }\n          \n          .send-comment-btn:hover:not(:disabled) {\n            background: #1f2937;\n          }\n          \n          .send-comment-btn:disabled {\n            background: #9ca3af;\n            cursor: not-allowed;\n          }\n\n          .selected-files {\n            margin-top: 0.75rem;\n          }\n\n          .selected-files-title {\n            font-size: 0.875rem;\n            font-weight: 600;\n            color: #374151;\n            margin-bottom: 0.5rem;\n          }\n\n          .selected-file-item {\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n            padding: 0.5rem;\n            background: #f9fafb;\n            border: 1px solid #e5e7eb;\n            border-radius: 6px;\n            margin-bottom: 0.5rem;\n          }\n\n          .file-info {\n            display: flex;\n            align-items: center;\n            gap: 0.5rem;\n            flex: 1;\n          }\n\n          .file-name {\n            font-size: 0.875rem;\n            font-weight: 500;\n            color: #374151;\n          }\n\n          .file-size {\n            font-size: 0.75rem;\n            color: #6b7280;\n          }\n\n          .remove-file-btn {\n            padding: 0.25rem;\n            background: none;\n            border: none;\n            cursor: pointer;\n            color: #ef4444;\n            border-radius: 4px;\n            transition: all 0.2s ease;\n          }\n\n          .remove-file-btn:hover {\n            background: #fee2e2;\n          }\n\n          .drive-explorer-modal {\n            position: fixed;\n            inset: 0;\n            background: rgba(0, 0, 0, 0.5);\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: 1rem;\n            z-index: 1000;\n          }\n\n          .drive-explorer-content {\n            background: #ffffff;\n            border-radius: 12px;\n            width: 100%;\n            max-width: 800px;\n            height: 600px;\n            display: flex;\n            flex-direction: column;\n            overflow: hidden;\n            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.25);\n          }\n\n          .drive-explorer-header {\n            padding: 1rem 1.5rem;\n            border-bottom: 1px solid #e5e7eb;\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n          }\n\n          .drive-explorer-title {\n            font-size: 1.125rem;\n            font-weight: 600;\n            color: #374151;\n          }\n\n          .close-explorer-btn {\n            padding: 0.5rem;\n            background: none;\n            border: none;\n            cursor: pointer;\n            color: #6b7280;\n            border-radius: 6px;\n            transition: all 0.2s ease;\n          }\n\n          .close-explorer-btn:hover {\n            background: #f3f4f6;\n            color: #374151;\n          }\n\n          .drive-explorer-body {\n            flex: 1;\n            overflow: hidden;\n          }\n\n          .file-input-hidden {\n            display: none;\n          }\n\n          .loading-state {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: 3rem;\n            color: #6b7280;\n            font-weight: 500;\n            background: #ffffff;\n            border-radius: 8px;\n            border: 1px solid #e5e7eb;\n            margin: 1rem;\n          }\n          \n          @media (max-width: 768px) {\n            .comments-list {\n              padding: 0.75rem;\n            }\n            \n            .comment-item {\n              padding: 0.75rem;\n            }\n            \n            .add-comment {\n              padding: 0.75rem;\n            }\n            \n            .comment-input {\n              min-height: 60px;\n              font-size: 0.875rem;\n            }\n            \n            .author-avatar, .current-user-avatar {\n              width: 32px;\n              height: 32px;\n              font-size: 0.75rem;\n            }\n\n            .comment-actions {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 0.75rem;\n            }\n\n            .file-actions {\n              justify-content: center;\n            }\n\n            .drive-explorer-content {\n              max-width: 95vw;\n              height: 80vh;\n            }\n          }\n        "}}),(0,r.jsx)("div",{className:"task-interaction-section",children:(0,r.jsxs)("div",{className:"comments-section",children:[(0,r.jsx)("div",{className:"comments-list",children:m?(0,r.jsx)("div",{className:"loading-state",children:"Loading comments..."}):0===i.length?(0,r.jsxs)("div",{className:"empty-comments",children:[(0,r.jsx)(s.Z,{style:{width:"48px",height:"48px",margin:"0 auto 1rem",color:"#d1d5db"}}),(0,r.jsx)("p",{children:"No comments yet"}),(0,r.jsx)("p",{children:"Be the first to add a comment or share files!"})]}):i.map(e=>(0,r.jsxs)("div",{className:"comment-item",children:[(0,r.jsxs)("div",{className:"comment-header",children:[(0,r.jsx)("div",{className:"author-avatar",children:e.author.charAt(0).toUpperCase()}),(0,r.jsxs)("div",{className:"comment-meta",children:[(0,r.jsx)("div",{className:"author-name",children:e.author}),(0,r.jsx)("div",{className:"comment-time",children:new Date(e.created_at).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),(0,r.jsx)("div",{className:"comment-content",children:e.comment}),e.attachments&&e.attachments.length>0&&(0,r.jsx)("div",{className:"comment-attachments",children:e.attachments.map((e,n)=>(0,r.jsxs)("div",{className:"attachment-item",children:[(0,r.jsx)(h.Z,{className:"attachment-icon"}),(0,r.jsxs)("div",{className:"attachment-info",children:[(0,r.jsx)("div",{className:"attachment-name",children:e.name||e.filename}),(0,r.jsxs)("div",{className:"attachment-meta",children:[B(e.size||e.file_size)," • ","drive"===e.source?"Google Drive":"Uploaded"]})]}),(e.url||e.file)&&(0,r.jsx)("a",{href:e.url||e.file,target:"_blank",rel:"noopener noreferrer",style:{padding:"0.25rem 0.5rem",background:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"4px",color:"#374151",textDecoration:"none",fontSize:"0.75rem",fontWeight:"500"},children:"View"})]},n))})]},e.id))}),(0,r.jsxs)("div",{className:"add-comment",children:[(0,r.jsxs)("div",{className:"comment-input-container",children:[(0,r.jsxs)("div",{className:"comment-input-row",children:[(0,r.jsx)("div",{className:"current-user-avatar",children:(null==o?void 0:null===(n=o.name)||void 0===n?void 0:n.charAt(0).toUpperCase())||"U"}),(0,r.jsx)("textarea",{value:d,onChange:e=>c(e.target.value),placeholder:"Add a comment or share files...",className:"comment-input"})]}),(_.length>0||N.length>0)&&(0,r.jsxs)("div",{className:"selected-files",children:[(0,r.jsx)("div",{className:"selected-files-title",children:"Attached Files:"}),_.map((e,n)=>(0,r.jsxs)("div",{className:"selected-file-item",children:[(0,r.jsxs)("div",{className:"file-info",children:[(0,r.jsx)(h.Z,{style:{width:"16px",height:"16px",color:"#6b7280"}}),(0,r.jsx)("span",{className:"file-name",children:e.name}),(0,r.jsxs)("span",{className:"file-size",children:["(",B(e.size),")"]})]}),(0,r.jsx)("button",{onClick:()=>T(n),className:"remove-file-btn",type:"button",children:"✕"})]},"file-".concat(n))),N.map((e,n)=>(0,r.jsxs)("div",{className:"selected-file-item",children:[(0,r.jsxs)("div",{className:"file-info",children:[(0,r.jsx)(h.Z,{style:{width:"16px",height:"16px",color:"#6b7280"}}),(0,r.jsx)("span",{className:"file-name",children:e.name}),(0,r.jsx)("span",{className:"file-size",children:"(Google Drive)"})]}),(0,r.jsx)("button",{onClick:()=>A(n),className:"remove-file-btn",type:"button",children:"✕"})]},"drive-".concat(n)))]}),(0,r.jsxs)("div",{className:"comment-actions",children:[(0,r.jsxs)("div",{className:"file-actions",children:[(0,r.jsx)("button",{onClick:()=>{var e;return null===(e=document.getElementById("file-input"))||void 0===e?void 0:e.click()},className:"file-action-btn",type:"button",title:"Upload files",children:(0,r.jsx)(y.Z,{style:{width:"18px",height:"18px"}})}),(0,r.jsx)("button",{onClick:()=>k(!0),className:"file-action-btn",type:"button",title:"Choose from Google Drive",children:(0,r.jsx)(v.Z,{style:{width:"18px",height:"18px"}})})]}),(0,r.jsx)("button",{onClick:D,disabled:!d.trim()&&0===_.length&&0===N.length||C,className:"send-comment-btn",children:C?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:{width:"16px",height:"16px",border:"2px solid transparent",borderTop:"2px solid #ffffff",borderRadius:"50%",animation:"spin 1s linear infinite",marginRight:"0.5rem"}}),"Uploading..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(w.Z,{style:{width:"16px",height:"16px",marginRight:"0.5rem"}}),"Send"]})})]})]}),(0,r.jsx)("input",{id:"file-input",type:"file",multiple:!0,onChange:e=>{let n=Array.from(e.target.files||[]);F([..._,...n])},className:"file-input-hidden"})]})]})}),u&&(0,r.jsx)("div",{className:"drive-explorer-modal",onClick:()=>k(!1),children:(0,r.jsxs)("div",{className:"drive-explorer-content",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"drive-explorer-header",children:[(0,r.jsx)("h3",{className:"drive-explorer-title",children:"Choose from Google Drive"}),(0,r.jsx)("button",{onClick:()=>k(!1),className:"close-explorer-btn",children:"✕"})]}),(0,r.jsx)("div",{className:"drive-explorer-body",children:(0,r.jsx)(j.default,{onFileSelect:e=>{z([...N,e])},onFolderSelect:()=>{},allowFileSelection:!0,allowFolderSelection:!1,showCreateFolder:!1,mode:"select"})})]})}),(0,r.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        "}})]})}let _=[{value:"low",label:"Low",icon:"",color:"#10b981"},{value:"medium",label:"Medium",icon:"",color:"#f59e0b"},{value:"high",label:"High",icon:"",color:"#ef4444"},{value:"urgent",label:"Urgent",icon:"",color:"#dc2626"}],F=[{value:"todo",label:"To Do",icon:"",color:"#e5e7eb"},{value:"in_progress",label:"In Progress",icon:"",color:"#dbeafe"},{value:"review",label:"Review",icon:"",color:"#fef3c7"},{value:"done",label:"Done",icon:"",color:"#d1fae5"}];function N(e){var n,t,x,b,h;let{task:y,users:v,onClose:w,onSave:j,onStatusChange:N,onDelete:z}=e,[C,E]=(0,a.useState)(!1),[S,D]=(0,a.useState)(!1),[T,A]=(0,a.useState)("task"),B=(0,a.useCallback)(e=>{if(!e)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;if(e.includes("T"))return e.split("T")[0];let n=new Date(e);return isNaN(n.getTime())?"":n.toISOString().split("T")[0]},[]),[I,P]=(0,a.useState)({name:y.name,description:y.description,priority:y.priority,due_date:B(y.due_date),start_date:B(y.start_date),assignee_ids:y.assignees?y.assignees.map(e=>e.id):y.assignee?[y.assignee.id]:[],tags:y.tags_list.join(", ")});(0,a.useEffect)(()=>{P({name:y.name,description:y.description,priority:y.priority,due_date:B(y.due_date),start_date:B(y.start_date),assignee_ids:y.assignees?y.assignees.map(e=>e.id):y.assignee?[y.assignee.id]:[],tags:y.tags_list.join(", ")})},[y,B]);let M=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Not set",R=e=>new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),U=async()=>{try{let e=e=>{if(!e)return null;if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;if(e.includes("T"))return e.split("T")[0];let n=new Date(e);return isNaN(n.getTime())?null:n.toISOString().split("T")[0]},n={...I,tags:I.tags,assignee_ids:I.assignee_ids&&I.assignee_ids.length>0?I.assignee_ids:[],due_date:e(I.due_date),start_date:e(I.start_date)};console.log("Saving task with assignee_ids:",n.assignee_ids),console.log("Saving task with formatted dates:",{due_date:n.due_date,start_date:n.start_date}),await j(n),E(!1)}catch(e){console.error("Failed to save task:",e)}},L=async e=>{N&&await N(y.id,e)},O=async()=>{if(z)try{await z(y.id),w()}catch(e){console.error("Failed to delete task:",e)}},W=(x=y.priority,_.find(e=>e.value===x)||_[1]),q=(b=y.status,F.find(e=>e.value===b)||F[0]),Y=!!(h=y.due_date)&&new Date(h)<new Date,Z=[{id:"task",label:"Task",icon:(0,r.jsx)(i.Z,{style:{width:"16px",height:"16px"}})},{id:"comments",label:"Comments & Files",icon:(0,r.jsx)(s.Z,{style:{width:"16px",height:"16px"}})}],H=(0,r.jsxs)("div",{className:"task-modal-overlay",onClick:w,children:[(0,r.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n          @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');\n          \n          @keyframes fadeIn {\n            from { opacity: 0; }\n            to { opacity: 1; }\n          }\n          \n          @keyframes slideUp {\n            from { \n              opacity: 0;\n              transform: translateY(20px) scale(0.95);\n            }\n            to { \n              opacity: 1;\n              transform: translateY(0) scale(1);\n            }\n          }\n          \n          @keyframes shimmer {\n            0% { background-position: -200px 0; }\n            100% { background-position: calc(200px + 100%) 0; }\n          }\n          \n          .task-modal-overlay {\n            position: fixed;\n            inset: 0;\n            background: rgba(0, 0, 0, 0.85);\n            backdrop-filter: blur(12px);\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: 1rem;\n            z-index: 100000;\n            animation: fadeIn 0.4s cubic-bezier(0.23, 1, 0.32, 1);\n            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\n          }\n          \n          .task-modal-content {\n            background: rgba(255, 255, 255, 0.98);\n            border: 2px solid #FFB333;\n            border-radius: 20px;\n            width: 100%;\n            max-width: min(1200px, calc(100vw - 2rem));\n            height: 85vh;\n            max-height: 85vh;\n            display: flex;\n            flex-direction: column;\n            box-shadow: 0 25px 80px rgba(0, 0, 0, 0.4);\n            backdrop-filter: blur(20px);\n            animation: slideUp 0.5s cubic-bezier(0.23, 1, 0.32, 1);\n            position: relative;\n            overflow: hidden;\n            margin: 0 auto;\n            z-index: 100001;\n          }\n          \n          .task-modal-content::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            height: 4px;\n            background: linear-gradient(90deg, #FFB333, #F87239, #C483D9, #5884FD);\n            border-radius: 20px 20px 0 0;\n          }\n          \n          .task-modal-header {\n            padding: 2rem 2.5rem 1.5rem 2.5rem;\n            border-bottom: 2px solid rgba(255, 179, 51, 0.2);\n            display: flex;\n            justify-content: space-between;\n            align-items: flex-start;\n            gap: 1.5rem;\n            flex-shrink: 0;\n            background: linear-gradient(135deg, #F5F5ED 0%, #FAFAF2 100%);\n            position: relative;\n            z-index: 1;\n          }\n          \n          .task-modal-body {\n            flex: 1;\n            display: flex;\n            flex-direction: column;\n            min-height: 0;\n            background: #F5F5ED;\n          }\n          \n          .tab-navigation {\n            display: flex;\n            background: rgba(255, 255, 255, 0.9);\n            flex-shrink: 0;\n            border-bottom: 2px solid rgba(255, 179, 51, 0.1);\n            backdrop-filter: blur(10px);\n          }\n          \n          .tab-button {\n            flex: 1;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 0.75rem;\n            padding: 1.25rem 1.5rem;\n            background: transparent;\n            border: none;\n            cursor: pointer;\n            font-weight: 600;\n            color: #6B7280;\n            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);\n            border-right: 1px solid rgba(255, 179, 51, 0.2);\n            position: relative;\n            overflow: hidden;\n          }\n          \n          .tab-button:last-child {\n            border-right: none;\n          }\n          \n          .tab-button::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: rgba(255, 179, 51, 0.05);\n            opacity: 0;\n            transition: opacity 0.3s ease;\n          }\n          \n          .tab-button:hover {\n            color: #FFB333;\n            transform: translateY(-2px);\n          }\n          \n          .tab-button:hover::before {\n            opacity: 1;\n          }\n          \n          .tab-button.active {\n            background: #FFB333;\n            color: #FFFFFF;\n            transform: translateY(-2px);\n            box-shadow: 0 8px 24px rgba(255, 179, 51, 0.3);\n          }\n          \n          .tab-button.active svg {\n            color: #FFFFFF;\n          }\n          \n          .tab-content {\n            flex: 1;\n            overflow-y: auto;\n            padding: 2rem 2.5rem;\n            background: linear-gradient(135deg, #F5F5ED 0%, #FAFAF2 100%);\n          }\n          \n          .task-title-section {\n            flex: 1;\n          }\n          \n          .task-title {\n            font-size: 1.875rem;\n            font-weight: 700;\n            color: #374151;\n            margin-bottom: 1rem;\n            line-height: 1.3;\n            letter-spacing: -0.025em;\n          }\n          \n          .task-meta-badges {\n            display: flex;\n            gap: 1rem;\n            flex-wrap: wrap;\n          }\n          \n          .task-badge {\n            display: flex;\n            align-items: center;\n            gap: 0.5rem;\n            padding: 0.5rem 1rem;\n            border-radius: 12px;\n            font-size: 0.875rem;\n            font-weight: 600;\n            backdrop-filter: blur(10px);\n            transition: all 0.3s ease;\n          }\n          \n          .task-badge.priority {\n            background: rgba(255, 179, 51, 0.15);\n            border: 2px solid #FFB333;\n            color: #F87239;\n          }\n          \n          .task-badge.status {\n            background: rgba(88, 132, 253, 0.15);\n            border: 2px solid #5884FD;\n            color: #5884FD;\n          }\n          \n          .task-badge.overdue {\n            background: rgba(239, 68, 68, 0.15);\n            border: 2px solid #EF4444;\n            color: #EF4444;\n            animation: pulse 2s infinite;\n          }\n          \n          .task-header-actions {\n            display: flex;\n            gap: 0.75rem;\n          }\n          \n          .task-action-btn {\n            padding: 0.75rem;\n            border: 2px solid transparent;\n            border-radius: 12px;\n            background: rgba(255, 255, 255, 0.9);\n            cursor: pointer;\n            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            backdrop-filter: blur(10px);\n          }\n          \n          .task-action-btn:hover {\n            transform: translateY(-4px);\n            box-shadow: 0 12px 32px rgba(0, 0, 0, 0.15);\n          }\n          \n          .task-action-btn.edit {\n            border-color: #5884FD;\n            color: #5884FD;\n          }\n          \n          .task-action-btn.edit:hover {\n            background: #5884FD;\n            color: #FFFFFF;\n          }\n          \n          .task-action-btn.delete {\n            border-color: #EF4444;\n            color: #EF4444;\n          }\n          \n          .task-action-btn.delete:hover {\n            background: #EF4444;\n            color: #FFFFFF;\n          }\n          \n          .task-action-btn.close {\n            border-color: #C483D9;\n            color: #C483D9;\n          }\n          \n          .task-action-btn.close:hover {\n            background: #C483D9;\n            color: #FFFFFF;\n          }\n          \n          .task-description {\n            background: rgba(255, 255, 255, 0.9);\n            padding: 1.5rem;\n            border: 2px solid rgba(255, 179, 51, 0.2);\n            border-radius: 12px;\n            margin-bottom: 2rem;\n            line-height: 1.6;\n            color: #374151;\n            white-space: pre-wrap;\n            backdrop-filter: blur(10px);\n            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.05);\n          }\n          \n          .task-description.empty {\n            color: #9CA3AF;\n            font-style: italic;\n            text-align: center;\n          }\n          \n          .task-details-grid {\n            display: grid;\n            grid-template-columns: repeat(auto-fit, minmax(min(280px, 100%), 1fr));\n            gap: 1.5rem;\n            margin-bottom: 2rem;\n          }\n          \n          .task-detail-item {\n            display: flex;\n            align-items: center;\n            gap: 1rem;\n            padding: 1.25rem;\n            border: 2px solid rgba(255, 179, 51, 0.2);\n            border-radius: 12px;\n            background: rgba(255, 255, 255, 0.9);\n            backdrop-filter: blur(10px);\n            transition: all 0.3s ease;\n            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.05);\n          }\n          \n          .task-detail-item:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);\n            border-color: #FFB333;\n          }\n          \n          .task-detail-icon {\n            flex-shrink: 0;\n            color: #FFB333;\n            width: 20px;\n            height: 20px;\n          }\n          \n          .task-detail-content {\n            flex: 1;\n          }\n          \n          .task-detail-label {\n            font-size: 0.875rem;\n            font-weight: 600;\n            color: #6B7280;\n            margin-bottom: 0.25rem;\n            text-transform: uppercase;\n            letter-spacing: 0.05em;\n          }\n          \n          .task-detail-value {\n            font-weight: 600;\n            color: #374151;\n            font-size: 0.925rem;\n          }\n          \n          .task-status-actions-inline {\n            background: rgba(255, 255, 255, 0.9);\n            border: 2px solid rgba(255, 179, 51, 0.2);\n            border-radius: 12px;\n            padding: 1.5rem;\n            margin-top: 2rem;\n            backdrop-filter: blur(10px);\n            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.05);\n          }\n          \n          .status-actions-title {\n            font-weight: 700;\n            color: #374151;\n            margin-bottom: 1rem;\n            font-size: 1rem;\n            letter-spacing: -0.025em;\n          }\n          \n          .status-buttons {\n            display: flex;\n            gap: 0.75rem;\n            flex-wrap: wrap;\n          }\n          \n          .status-btn {\n            display: flex;\n            align-items: center;\n            gap: 0.5rem;\n            padding: 0.75rem 1.25rem;\n            border: 2px solid #FFB333;\n            border-radius: 12px;\n            background: rgba(255, 255, 255, 0.9);\n            cursor: pointer;\n            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);\n            font-weight: 600;\n            font-size: 0.875rem;\n            flex: 1;\n            min-width: auto;\n            justify-content: center;\n            color: #FFB333;\n          }\n          \n          .status-btn:hover {\n            transform: translateY(-3px);\n            box-shadow: 0 8px 24px rgba(255, 179, 51, 0.3);\n            background: #FFB333;\n            color: #FFFFFF;\n          }\n          \n          .status-btn.current {\n            background: #FFB333;\n            color: #FFFFFF;\n            transform: translateY(-2px);\n            box-shadow: 0 8px 24px rgba(255, 179, 51, 0.3);\n          }\n          \n          .status-btn:disabled {\n            opacity: 0.6;\n            cursor: not-allowed;\n            transform: none;\n          }\n          \n          .edit-form {\n            display: flex;\n            flex-direction: column;\n            gap: 2rem;\n          }\n          \n          .form-group {\n            display: flex;\n            flex-direction: column;\n            gap: 0.75rem;\n          }\n          \n          .form-label {\n            font-weight: 700;\n            color: #374151;\n            font-size: 0.925rem;\n            letter-spacing: 0.025em;\n          }\n          \n          .form-input, .form-textarea, .form-select {\n            padding: 1rem 1.25rem;\n            border: 2px solid rgba(255, 179, 51, 0.3);\n            border-radius: 12px;\n            font-size: 0.925rem;\n            background: rgba(255, 255, 255, 0.9);\n            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);\n            backdrop-filter: blur(10px);\n            color: #374151;\n            font-weight: 500;\n          }\n          \n          .form-input:focus, .form-textarea:focus, .form-select:focus {\n            outline: none;\n            border-color: #FFB333;\n            box-shadow: 0 0 0 3px rgba(255, 179, 51, 0.1);\n            background: #FFFFFF;\n          }\n          \n          .form-textarea {\n            resize: vertical;\n            min-height: 120px;\n            font-family: inherit;\n            line-height: 1.6;\n          }\n          \n          .form-actions {\n            display: flex;\n            gap: 1.25rem;\n            margin-top: 1rem;\n            padding-top: 1.5rem;\n            border-top: 2px solid rgba(255, 179, 51, 0.2);\n          }\n          \n          .btn {\n            flex: 1;\n            padding: 1rem 2rem;\n            border-radius: 12px;\n            font-weight: 600;\n            cursor: pointer;\n            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);\n            border: 2px solid;\n            font-size: 0.925rem;\n            letter-spacing: 0.025em;\n          }\n          \n          .btn-primary {\n            background: #FFB333;\n            color: #FFFFFF;\n            border-color: #FFB333;\n          }\n          \n          .btn-primary:hover {\n            background: #F87239;\n            border-color: #F87239;\n            transform: translateY(-3px);\n            box-shadow: 0 12px 32px rgba(255, 179, 51, 0.4);\n          }\n          \n          .btn-secondary {\n            background: rgba(255, 255, 255, 0.9);\n            color: #6B7280;\n            border-color: rgba(245, 245, 237, 0.8);\n          }\n          \n          .btn-secondary:hover {\n            background: #F9FAFB;\n            color: #374151;\n            border-color: #D1D5DB;\n            transform: translateY(-3px);\n          }\n          \n          .confirm-modal-overlay {\n            position: fixed;\n            inset: 0;\n            background: rgba(0, 0, 0, 0.9);\n            backdrop-filter: blur(8px);\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: 1rem;\n            z-index: 100002;\n            animation: fadeIn 0.3s ease-out;\n          }\n          \n          .confirm-modal-content {\n            background: rgba(255, 255, 255, 0.98);\n            border: 2px solid #EF4444;\n            border-radius: 16px;\n            padding: 2rem;\n            max-width: 400px;\n            width: 100%;\n            text-align: center;\n            animation: slideUp 0.4s cubic-bezier(0.23, 1, 0.32, 1);\n            backdrop-filter: blur(20px);\n            box-shadow: 0 20px 60px rgba(239, 68, 68, 0.3);\n          }\n          \n          .confirm-modal-title {\n            font-size: 1.375rem;\n            font-weight: 700;\n            color: #EF4444;\n            margin-bottom: 1rem;\n            letter-spacing: -0.025em;\n          }\n          \n          .confirm-modal-text {\n            color: #6B7280;\n            margin-bottom: 2rem;\n            line-height: 1.6;\n            font-weight: 500;\n          }\n          \n          .confirm-modal-actions {\n            display: flex;\n            gap: 1rem;\n          }\n          \n          .btn-danger {\n            flex: 1;\n            background: #EF4444;\n            color: #FFFFFF;\n            border: 2px solid #EF4444;\n            padding: 1rem 2rem;\n            border-radius: 12px;\n            font-weight: 600;\n            cursor: pointer;\n            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);\n          }\n          \n          .btn-danger:hover {\n            background: #DC2626;\n            border-color: #DC2626;\n            transform: translateY(-3px);\n            box-shadow: 0 12px 32px rgba(239, 68, 68, 0.4);\n          }\n          \n          @keyframes pulse {\n            0%, 100% { opacity: 1; }\n            50% { opacity: 0.7; }\n          }\n          \n          /* Mobile optimizations */\n          @media (max-width: 768px) {\n            .task-modal-overlay {\n              padding: 0.75rem;\n              z-index: 100000;\n            }\n            .task-modal-content {\n              max-width: calc(100vw - 1.5rem);\n              border-radius: 16px;\n              height: 90vh;\n              margin: 0 auto;\n              z-index: 100001;\n            }\n            .task-modal-header {\n              padding: 1.5rem;\n              flex-direction: column;\n              align-items: stretch;\n              gap: 1rem;\n            }\n            .task-header-actions {\n              justify-content: center;\n            }\n            .tab-content {\n              padding: 1.5rem;\n            }\n            .task-details-grid {\n              grid-template-columns: 1fr;\n              gap: 1rem;\n            }\n            .task-detail-item {\n              padding: 1rem;\n            }\n            .edit-form div[style*=\"grid\"] {\n              grid-template-columns: 1fr !important;\n            }\n            .form-actions {\n              flex-direction: column;\n              gap: 1rem;\n            }\n            .btn {\n              padding: 1.25rem;\n              font-size: 1rem;\n            }\n            .tab-button {\n              padding: 1rem;\n              font-size: 0.875rem;\n            }\n          }\n        "}}),(0,r.jsxs)("div",{className:"task-modal-content",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"task-modal-header",children:[(0,r.jsxs)("div",{className:"task-title-section",children:[C?(0,r.jsx)("input",{type:"text",value:I.name,onChange:e=>P({...I,name:e.target.value}),className:"form-input",style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"1rem"}}):(0,r.jsx)("h2",{className:"task-title",children:y.name}),(0,r.jsxs)("div",{className:"task-meta-badges",children:[(0,r.jsxs)("div",{className:"task-badge priority",children:[(0,r.jsx)("span",{children:W.icon}),(0,r.jsxs)("span",{children:[W.label," Priority"]})]}),(0,r.jsxs)("div",{className:"task-badge status",children:[(0,r.jsx)("span",{children:q.icon}),(0,r.jsx)("span",{children:q.label})]}),Y&&(0,r.jsxs)("div",{className:"task-badge overdue",children:[(0,r.jsx)(l.Z,{style:{width:"16px",height:"16px"}}),(0,r.jsx)("span",{children:"Overdue"})]})]})]}),(0,r.jsxs)("div",{className:"task-header-actions",children:[(0,r.jsx)("button",{onClick:()=>E(!C),className:"task-action-btn edit",title:C?"Cancel Edit":"Edit Task",children:(0,r.jsx)(d.Z,{style:{width:"18px",height:"18px"}})}),z&&(0,r.jsx)("button",{onClick:()=>D(!0),className:"task-action-btn delete",title:"Delete Task",children:(0,r.jsx)(c.Z,{style:{width:"18px",height:"18px"}})}),(0,r.jsx)("button",{onClick:w,className:"task-action-btn close",title:"Close",children:(0,r.jsx)(m.Z,{style:{width:"18px",height:"18px"}})})]})]}),(0,r.jsxs)("div",{className:"task-modal-body",children:[(0,r.jsx)("div",{className:"tab-navigation",children:Z.map(e=>(0,r.jsxs)("button",{onClick:()=>A(e.id),className:"tab-button ".concat(T===e.id?"active":""),children:[e.icon,(0,r.jsx)("span",{children:e.label})]},e.id))}),(0,r.jsxs)("div",{className:"tab-content ".concat(C?"editing":""),children:["task"===T&&(0,r.jsx)(r.Fragment,{children:C?(0,r.jsxs)("div",{className:"edit-form",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Description"}),(0,r.jsx)("textarea",{value:I.description,onChange:e=>P({...I,description:e.target.value}),className:"form-textarea",placeholder:"Describe what needs to be done..."})]}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(min(200px, 100%), 1fr))",gap:"1rem"},children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Priority"}),(0,r.jsx)("select",{value:I.priority,onChange:e=>P({...I,priority:e.target.value}),className:"form-select",children:_.map(e=>(0,r.jsxs)("option",{value:e.value,children:[e.icon," ",e.label]},e.value))})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Assignees"}),(0,r.jsx)("div",{style:{border:"2px solid #e5e7eb",borderRadius:"8px",padding:"0.75rem",background:"#ffffff",minHeight:"100px",maxHeight:"150px",overflowY:"auto"},children:0===v.length?(0,r.jsx)("div",{style:{color:"#6b7280",fontStyle:"italic",textAlign:"center",padding:"1rem"},children:"No team members available"}):v.map(e=>(0,r.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.4rem",cursor:"pointer",borderRadius:"4px",transition:"background-color 0.2s ease",marginBottom:"0.2rem"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f3f4f6",onMouseOut:e=>e.currentTarget.style.backgroundColor="transparent",children:[(0,r.jsx)("input",{type:"checkbox",checked:I.assignee_ids.includes(e.id),onChange:n=>{n.target.checked?P({...I,assignee_ids:[...I.assignee_ids,e.id]}):P({...I,assignee_ids:I.assignee_ids.filter(n=>n!==e.id)})},style:{marginRight:"0.5rem",accentColor:"#000000"}}),(0,r.jsx)("div",{style:{width:"28px",height:"28px",borderRadius:"50%",background:I.assignee_ids.includes(e.id)?"#000000":"#f3f4f6",color:I.assignee_ids.includes(e.id)?"#ffffff":"#000000",border:"2px solid #000000",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem",fontWeight:"600"},children:e.name.charAt(0).toUpperCase()}),(0,r.jsx)("span",{style:{fontSize:"0.85rem",fontWeight:"500",color:I.assignee_ids.includes(e.id)?"#000000":"#374151"},children:e.name})]},e.id))}),I.assignee_ids.length>0&&(0,r.jsx)("div",{style:{marginTop:"0.5rem",padding:"0.4rem",background:"#f0f9ff",border:"1px solid #3b82f6",borderRadius:"4px",fontSize:"0.8rem",color:"#1e40af"},children:(0,r.jsxs)("strong",{children:[I.assignee_ids.length," assignee",1===I.assignee_ids.length?"":"s"," selected"]})})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Created by"}),(0,r.jsx)("input",{type:"text",value:(null===(n=y.created_by)||void 0===n?void 0:n.name)||"Unknown User",className:"form-input",disabled:!0,style:{backgroundColor:"#f9fafb",color:"#6b7280",cursor:"not-allowed"}})]})]}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(min(250px, 100%), 1fr))",gap:"1rem"},children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Start Date"}),(0,r.jsx)("input",{type:"date",value:I.start_date,onChange:e=>P({...I,start_date:e.target.value}),className:"form-input"})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Due Date"}),(0,r.jsx)("input",{type:"date",value:I.due_date,onChange:e=>P({...I,due_date:e.target.value}),className:"form-input"})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Tags"}),(0,r.jsx)("input",{type:"text",value:I.tags,onChange:e=>P({...I,tags:e.target.value}),className:"form-input",placeholder:"frontend, urgent, bug (comma-separated)"})]}),(0,r.jsxs)("div",{className:"form-actions",children:[(0,r.jsx)("button",{onClick:()=>E(!1),className:"btn btn-secondary",children:"Cancel"}),(0,r.jsx)("button",{onClick:U,className:"btn btn-primary",children:"Save Changes"})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"task-description ".concat(y.description?"":"empty"),children:y.description||"No description provided."}),(0,r.jsxs)("div",{className:"task-details-grid",children:[(0,r.jsxs)("div",{className:"task-detail-item",children:[(0,r.jsx)(p.Z,{className:"task-detail-icon",style:{width:"20px",height:"20px"}}),(0,r.jsxs)("div",{className:"task-detail-content",children:[(0,r.jsx)("div",{className:"task-detail-label",children:y.assignees&&y.assignees.length>1?"Assignees":"Assignee"}),(0,r.jsx)("div",{className:"task-detail-value",children:y.assignees&&y.assignees.length>0?(0,r.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flexWrap:"wrap"},children:y.assignees.map((e,n)=>(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[(0,r.jsx)("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"#000000",color:"#ffffff",border:"2px solid #ffffff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.7rem",fontWeight:"600",marginLeft:n>0?"-8px":"0",zIndex:y.assignees.length-n,position:"relative"},children:e.name.charAt(0).toUpperCase()}),(0,r.jsx)("span",{style:{fontSize:"0.875rem",fontWeight:"500"},children:e.name}),n<y.assignees.length-1&&y.assignees.length>1&&(0,r.jsx)("span",{style:{color:"#6b7280"},children:","})]},e.id))}):y.assignee?y.assignee.name:"Unassigned"})]})]}),(0,r.jsxs)("div",{className:"task-detail-item",children:[(0,r.jsx)(f.Z,{className:"task-detail-icon",style:{width:"20px",height:"20px"}}),(0,r.jsxs)("div",{className:"task-detail-content",children:[(0,r.jsx)("div",{className:"task-detail-label",children:"Due Date"}),(0,r.jsx)("div",{className:"task-detail-value",children:M(y.due_date)})]})]}),(0,r.jsxs)("div",{className:"task-detail-item",children:[(0,r.jsx)(g.Z,{className:"task-detail-icon",style:{width:"20px",height:"20px"}}),(0,r.jsxs)("div",{className:"task-detail-content",children:[(0,r.jsx)("div",{className:"task-detail-label",children:"Start Date"}),(0,r.jsx)("div",{className:"task-detail-value",children:M(y.start_date)})]})]}),(0,r.jsxs)("div",{className:"task-detail-item",children:[(0,r.jsx)(g.Z,{className:"task-detail-icon",style:{width:"20px",height:"20px"}}),(0,r.jsxs)("div",{className:"task-detail-content",children:[(0,r.jsx)("div",{className:"task-detail-label",children:"Estimated Hours"}),(0,r.jsx)("div",{className:"task-detail-value",children:y.estimated_hours?"".concat(y.estimated_hours,"h"):"Not set"})]})]}),y.tags_list&&y.tags_list.length>0&&(0,r.jsxs)("div",{className:"task-detail-item",children:[(0,r.jsx)(u.Z,{className:"task-detail-icon",style:{width:"20px",height:"20px"}}),(0,r.jsxs)("div",{className:"task-detail-content",children:[(0,r.jsx)("div",{className:"task-detail-label",children:"Tags"}),(0,r.jsx)("div",{className:"task-detail-value",children:y.tags_list.join(", ")})]})]}),(0,r.jsxs)("div",{className:"task-detail-item",children:[(0,r.jsx)(p.Z,{className:"task-detail-icon",style:{width:"20px",height:"20px"}}),(0,r.jsxs)("div",{className:"task-detail-content",children:[(0,r.jsx)("div",{className:"task-detail-label",children:"Created by"}),(0,r.jsx)("div",{className:"task-detail-value",children:(null===(t=y.created_by)||void 0===t?void 0:t.name)||"Unknown User"})]})]}),(0,r.jsxs)("div",{className:"task-detail-item",children:[(0,r.jsx)(f.Z,{className:"task-detail-icon",style:{width:"20px",height:"20px"}}),(0,r.jsxs)("div",{className:"task-detail-content",children:[(0,r.jsx)("div",{className:"task-detail-label",children:"Created"}),(0,r.jsx)("div",{className:"task-detail-value",children:R(y.created_at)})]})]}),(0,r.jsxs)("div",{className:"task-detail-item",children:[(0,r.jsx)(f.Z,{className:"task-detail-icon",style:{width:"20px",height:"20px"}}),(0,r.jsxs)("div",{className:"task-detail-content",children:[(0,r.jsx)("div",{className:"task-detail-label",children:"Last Updated"}),(0,r.jsx)("div",{className:"task-detail-value",children:R(y.updated_at)})]})]})]}),!C&&N&&(0,r.jsxs)("div",{className:"task-status-actions-inline",children:[(0,r.jsx)("div",{className:"status-actions-title",children:"Change Status"}),(0,r.jsx)("div",{className:"status-buttons",children:F.map(e=>(0,r.jsxs)("button",{onClick:()=>L(e.value),className:"status-btn ".concat(e.value===y.status?"current":""),disabled:e.value===y.status,children:[(0,r.jsx)("span",{children:e.icon}),(0,r.jsx)("span",{children:e.label})]},e.value))})]})]})}),"comments"===T&&(0,r.jsx)("div",{style:{height:"100%"},children:(0,r.jsx)(k,{task:y})})]})]})]}),S&&(0,r.jsx)("div",{className:"confirm-modal-overlay",onClick:()=>D(!1),children:(0,r.jsxs)("div",{className:"confirm-modal-content",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("h3",{className:"confirm-modal-title",children:"Delete Task"}),(0,r.jsxs)("p",{className:"confirm-modal-text",children:['Are you sure you want to delete "',y.name,'"? This action cannot be undone.']}),(0,r.jsxs)("div",{className:"confirm-modal-actions",children:[(0,r.jsx)("button",{onClick:()=>D(!1),className:"btn btn-secondary",children:"Cancel"}),(0,r.jsx)("button",{onClick:O,className:"btn-danger",children:"Delete Task"})]})]})})]});return(0,o.createPortal)(H,document.body)}},3549:function(e,n,t){"use strict";t.r(n),t.d(n,{AuthProvider:function(){return l},useAuth:function(){return s}});var r=t(7437),a=t(2265),o=t(8411);let i=(0,a.createContext)(void 0),s=()=>{let e=(0,a.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},l=e=>{let{children:n}=e,[t,s]=(0,a.useState)(null),[l,d]=(0,a.useState)(!0),[c,m]=(0,a.useState)(!1);(0,a.useEffect)(()=>{m(!0)},[]),(0,a.useEffect)(()=>{if(!c)return;let e=async()=>{try{console.log("Starting auth initialization..."),await new Promise(e=>setTimeout(e,50));let{user:a,error:i}=await o.supabaseAuth.getUser();if(console.log("Auth result:",{currentUser:a,error:i}),a&&!i){var e,n,t,r;let o={id:a.id,email:a.email,name:(null===(e=a.user_metadata)||void 0===e?void 0:e.name)||a.email,phone:(null===(n=a.user_metadata)||void 0===n?void 0:n.phone)||"",role:(null===(t=a.user_metadata)||void 0===t?void 0:t.role)||"member",position:(null===(r=a.user_metadata)||void 0===r?void 0:r.position)||"",date_joined:new Date().toISOString()};s(o),console.log("User set:",o)}else console.log("No user found or error occurred")}catch(e){console.error("Auth initialization error:",e)}finally{console.log("Setting isLoading to false"),d(!1)}},n=setTimeout(()=>{console.warn("Auth initialization timeout, proceeding without auth"),d(!1)},3e3),t=setTimeout(()=>{e().finally(()=>{clearTimeout(n)})},100);return()=>{clearTimeout(n),clearTimeout(t)}},[c]);let p=async(e,n)=>{try{console.log("Attempting login for:",e);let{user:l,error:d}=await o.supabaseAuth.signIn(e,n);if(d)throw console.error("Login error:",d),Error(d instanceof Error?d.message:"Login failed");if(l){var t,r,a,i;let e={id:l.id,email:l.email,name:(null===(t=l.user_metadata)||void 0===t?void 0:t.name)||l.email,phone:(null===(r=l.user_metadata)||void 0===r?void 0:r.phone)||"",role:(null===(a=l.user_metadata)||void 0===a?void 0:a.role)||"member",position:(null===(i=l.user_metadata)||void 0===i?void 0:i.position)||"",date_joined:new Date().toISOString()};s(e),console.log("Login successful:",e)}}catch(e){throw console.error("Login failed:",e),Error(e.message||"Login failed")}},f=async e=>{throw Error("Registration is disabled. Please contact an administrator.")},g=async()=>{try{await o.supabaseAuth.signOut(),s(null)}catch(e){console.error("Logout error:",e),s(null)}};return(0,r.jsx)(i.Provider,{value:{user:t,isLoading:l,login:p,register:f,logout:g,isAuthenticated:!!t},children:n})}},3152:function(e,n,t){"use strict";t.d(n,{al:function(){return h},D:function(){return u},wG:function(){return f},B4:function(){return m},wf:function(){return v},_I:function(){return x},OV:function(){return p},KH:function(){return y},z6:function(){return b},userService:function(){return g}});var r=t(8411),a=t(2601);class o{getCredentials(){try{let e=a.env.NEXT_PUBLIC_GOOGLE_SERVICE_ACCOUNT_JSON;if(e)return JSON.parse(e);let n=a.env.NEXT_PUBLIC_GOOGLE_PRIVATE_KEY,t=a.env.NEXT_PUBLIC_GOOGLE_CLIENT_EMAIL,r=a.env.NEXT_PUBLIC_GOOGLE_PROJECT_ID;if(n&&t&&r)return{type:"service_account",project_id:r,private_key_id:"",private_key:n.replace(/\\n/g,"\n"),client_email:t,client_id:"",auth_uri:"https://accounts.google.com/o/oauth2/auth",token_uri:"https://oauth2.googleapis.com/token",auth_provider_x509_cert_url:"https://www.googleapis.com/oauth2/v1/certs",client_x509_cert_url:"https://www.googleapis.com/robot/v1/metadata/x509/".concat(encodeURIComponent(t))};return null}catch(e){return console.error("Error parsing service account credentials:",e),null}}async getAccessToken(){if(this.accessToken&&Date.now()<this.tokenExpiry)return this.accessToken;let e=this.getCredentials();if(!e)throw Error("Service account credentials not configured. Please set up Google Service Account.");try{Date.now(),e.client_email;let n=await fetch("/api/google-drive-proxy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"getAccessToken",credentials:e})});if(!n.ok)throw Error("Failed to get access token: ".concat(n.statusText));let t=await n.json();return this.accessToken=t.access_token,this.tokenExpiry=Date.now()+1e3*t.expires_in-6e4,this.accessToken||""}catch(e){throw console.error("Error getting service account access token:",e),e}}async listFiles(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root";try{let n=await fetch("/api/google-drive-proxy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"listFiles",folderId:e})});if(!n.ok)throw Error("Failed to list files: ".concat(n.statusText));let t=await n.json();return t.files||[]}catch(e){throw console.error("Error listing files:",e),e}}async searchFiles(e){try{let n=await fetch("/api/google-drive-proxy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"searchFiles",query:e})});if(!n.ok)throw Error("Failed to search files: ".concat(n.statusText));let t=await n.json();return t.files||[]}catch(e){throw console.error("Error searching files:",e),e}}async uploadFile(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"root";try{let t=await new Promise((n,t)=>{let r=new FileReader;r.onload=()=>{let e=r.result,t=e.split(",")[1];n(t)},r.onerror=t,r.readAsDataURL(e)}),r=await fetch("/api/google-drive-proxy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"uploadFile",fileName:e.name,fileData:t,mimeType:e.type,parentId:n})});if(!r.ok)throw Error("Failed to upload file: ".concat(r.statusText));let a=await r.json();return a}catch(e){throw console.error("Error uploading file:",e),e}}async createFolder(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"root";try{let t=await fetch("/api/google-drive-proxy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"createFolder",name:e,parentId:n})});if(!t.ok)throw Error("Failed to create folder: ".concat(t.statusText));let r=await t.json();return r}catch(e){throw console.error("Error creating folder:",e),e}}async listSharedDrives(){try{let e=await fetch("/api/google-drive-proxy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"listSharedDrives"})});if(!e.ok)throw Error("Failed to list shared drives: ".concat(e.statusText));let n=await e.json();return n.drives||[]}catch(e){throw console.error("Error listing shared drives:",e),e}}isConfigured(){let e=this.getCredentials();return null!==e}getSetupInstructions(){return"\nTo set up Google Drive Service Account access:\n\n1. Go to Google Cloud Console (https://console.cloud.google.com/)\n2. Create a new project or select existing one\n3. Enable Google Drive API\n4. Create a Service Account:\n   - Go to IAM & Admin > Service Accounts\n   - Create Service Account\n   - Download the JSON key file\n5. Share your Google Drive folders with the service account email\n6. Configure environment variables:\n   - NEXT_PUBLIC_GOOGLE_SERVICE_ACCOUNT_JSON=[full JSON content]\n   OR\n   - NEXT_PUBLIC_GOOGLE_CLIENT_EMAIL=[service account email]\n   - NEXT_PUBLIC_GOOGLE_PRIVATE_KEY=[private key]\n   - NEXT_PUBLIC_GOOGLE_PROJECT_ID=[project ID]\n\nThis allows everyone to access Google Drive without individual authentication.\n    ".trim()}constructor(){this.accessToken=null,this.tokenExpiry=0}}let i=new o;var s=t(8938);let l=e=>e&&"object"==typeof e?{...e,tags_list:e.tags?e.tags.split(",").map(e=>e.trim()).filter(Boolean):[]}:{id:0,name:"Unknown Task",description:"",tags_list:[]},d=e=>e&&Array.isArray(e)?e.map(l):[],c=async()=>{try{let{user:e,error:n}=await r.supabaseAuth.getUser();if(n)return console.error("Authentication error:",n),null;return(null==e?void 0:e.id)||null}catch(e){return console.error("Failed to get current user ID:",e),null}},m={async getProjects(){try{let e=await c();if(!e)return console.log("No user ID found, returning empty array"),[];let{data:n,error:t}=await r.supabaseDb.getProjects(e);if(t)throw t;return Array.isArray(n)?n:[]}catch(e){return console.error("Error in getProjects:",e),[]}},async getProject(e){try{let n=await c();if(!n)throw Error("Authentication required");let{data:t,error:a}=await r.supabaseDb.getProject(e,n);if(a)throw a;return t}catch(e){throw console.error("Error in getProject:",e),e}},async createProject(e){let{data:n,error:t}=await r.supabaseDb.createProject(e);if(t)throw t;return n},async updateProject(e,n){let{data:t,error:a}=await r.supabaseDb.updateProject(e,n);if(a)throw a;return t},async deleteProject(e){let{data:n,error:t}=await r.supabaseDb.deleteProject(e);if(t)throw t;return n},async getUsers(){try{let{data:e,error:n}=await r.supabaseDb.getUsers();if(n)throw n;return Array.isArray(e)?e:[]}catch(e){return console.error("Error in getUsers:",e),[]}},getUserProjects:async()=>await m.getProjects(),getProjectMembers:async e=>{try{let n=await c();if(!n)return[];let{data:t,error:a}=await r.supabaseDb.getProject(e,n);if(a)return[];return Array.isArray(null==t?void 0:t.members)?t.members:[]}catch(e){return console.error("Error in getProjectMembers:",e),[]}},addProjectMember:async(e,n)=>{try{let t=await c();if(!t)throw Error("Authentication required");await r.supabaseDb.getProject(e,t);let{data:a,error:o}=await r.supabaseDb.addProjectMember(e,n);if(o)throw o;return a}catch(e){throw console.error("Error in addProjectMember:",e),Error("Failed to add project member: ".concat(String(e)))}},removeProjectMember:async(e,n)=>{try{let t=await c();if(!t)throw Error("Authentication required");await r.supabaseDb.getProject(e,t);let{data:a,error:o}=await r.supabaseDb.removeProjectMember(e,n);if(o)throw o;return a}catch(e){throw console.error("Error in removeProjectMember:",e),Error("Failed to remove project member: ".concat(String(e)))}}},p={async getTasks(e){try{if(e){let n=await c();if(!n)return[];await r.supabaseDb.getProject(e,n)}let{data:n,error:t}=await r.supabaseDb.getTasks(e);if(t)throw t;return d(n||[])}catch(e){return console.error("Error in getTasks:",e),[]}},async getProjectTasks(e){try{let n=await c();if(!n)return[];await r.supabaseDb.getProject(e,n);let{data:t,error:a}=await r.supabaseDb.getTasks(e);if(a)throw a;return d(t||[])}catch(e){return console.error("Error in getProjectTasks:",e),[]}},async getUserTasks(){try{let e=await c();if(!e)return[];let{data:n,error:t}=await r.supabaseDb.getUserTasks(e);if(t)throw t;return d(n||[])}catch(e){return console.error("Error in getUserTasks:",e),[]}},async createTask(e,n){let t=await c();if(!t)throw Error("Authentication required");await r.supabaseDb.getProject(e,t);let{data:a,error:o}=await r.supabaseDb.createTask({...n,project_id:e});if(o)throw o;return l(a)},async updateTask(e,n){let t={...n};"assignee_id"in t&&(console.warn("Filtering out deprecated assignee_id field from task update data"),delete t.assignee_id);let{data:a,error:o}=await r.supabaseDb.updateTask(e,t);if(o)throw o;return l(a)},async updateTaskStatus(e,n){let{data:t,error:a}=await r.supabaseDb.updateTask(e,{status:n});if(a)throw a;return l(t)},async deleteTask(e){try{let{data:n,error:t}=await r.supabaseDb.deleteTask(e);if(t){console.error("Error in deleteTask:",t);let e=String(t);if(e.includes("not found"))throw Error("Task not found or already deleted");if(e.includes("Permission denied"))throw Error("You do not have permission to delete this task");if(e.includes("Authentication required"))throw Error("Please log in to delete tasks");throw Error("Failed to delete task: ".concat(e))}return n}catch(e){throw console.error("Exception in taskService.deleteTask:",e),e}},async getTaskComments(e){try{let{data:n,error:t}=await r.supabaseDb.getTaskComments(e);if(t)throw t;return n||[]}catch(e){return console.error("Error in getTaskComments:",e),[]}},async createTaskComment(e,n){try{let{data:t,error:a}=await r.supabaseDb.createTaskComment(e,n);if(a)throw a;return t}catch(e){throw console.error("Error in createTaskComment:",e),e}},getTaskAttachments:async e=>[],async uploadTaskAttachment(e,n){try{var t,a,o,i,s;let e=await c(),l=await r.supabaseAuth.getUser();return{id:Date.now(),file:n.name,filename:n.name,user:{id:e||1,name:(null===(a=l.user)||void 0===a?void 0:null===(t=a.user_metadata)||void 0===t?void 0:t.name)||"Current User",email:(null===(o=l.user)||void 0===o?void 0:o.email)||"user@example.com",role:(null===(s=l.user)||void 0===s?void 0:null===(i=s.user_metadata)||void 0===i?void 0:i.role)||"member"},created_at:new Date().toISOString(),file_size:n.size}}catch(e){throw console.error("Error in uploadTaskAttachment:",e),e}}},f={async getMeetings(){try{let{data:e,error:n}=await r.supabaseDb.getMeetings();if(n)throw n;return Array.isArray(e)?e:[]}catch(e){return console.error("Error in getMeetings:",e),[]}},async getMeeting(e){try{let{data:n,error:t}=await r.supabaseDb.getMeetings();if(t)throw Error(String(t)||"Failed to fetch meetings");let a=Array.isArray(n)?n.find(n=>n.id===e):null;if(!a)throw Error("Meeting not found");return a}catch(e){throw console.error("Error in getMeeting:",e),e}},async createMeeting(e){let{data:n,error:t}=await r.supabaseDb.createMeeting(e);if(t)throw t;return n},async updateMeeting(e,n){let{data:t,error:a}=await r.supabaseDb.updateMeeting(e,n);if(a)throw a;return t},async deleteMeeting(e){let{data:n,error:t}=await r.supabaseDb.deleteMeeting(e);if(t)throw t;return n},getProjectMeetings:async e=>{try{let{data:n,error:t}=await r.supabaseDb.getMeetings();if(t)throw Error(String(t)||"Failed to fetch meetings");return Array.isArray(n)?n.filter(n=>n.project_id===e):[]}catch(e){return console.error("Error in getProjectMeetings:",e),[]}}},g={getUsers:async()=>{let{data:e,error:n}=await r.supabaseDb.getUsers();if(n)throw Error(String(n)||"Failed to fetch users");return e||[]}};async function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{let n=await i.listFiles(e||"root");return s.NY.filterAccessibleFiles(n)}catch(e){throw console.error("Error listing drive files:",e),e}}async function x(e){try{let n=await i.searchFiles(e);return s.NY.filterAccessibleFiles(n)}catch(e){throw console.error("Error searching drive files:",e),e}}async function b(e,n,t){try{let r=[];for(let a=0;a<e.length;a++){let o=e[a];t&&t(a,e.length,o.name);let s=await i.uploadFile(o,n);r.push(s)}return t&&t(e.length,e.length,"Complete"),r}catch(e){throw console.error("Error uploading multiple files to drive:",e),e}}async function h(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return await i.createFolder(e,n||"root")}catch(e){throw console.error("Error creating drive folder:",e),e}}let y={async getTodos(e){try{let n=await c();if(!n)return[];await r.supabaseDb.getProject(e,n);let{data:t,error:a}=await r.supabase.from("todo_items").select("*").eq("project_id",e).order("created_at",{ascending:!1});if(a)throw a;return(t||[]).map(e=>({id:e.id,title:e.title,description:e.description,completed:e.completed,due_date:e.due_date,created_at:e.created_at,updated_at:e.updated_at,project_id:e.project_id,created_by:{id:e.created_by,name:"User",email:"user@example.com"}}))}catch(e){return console.error("Error in getTodos:",e),[]}},async createTodo(e,n){try{let t=await c();if(!t)throw Error("Authentication required");await r.supabaseDb.getProject(e,t);let{data:a,error:o}=await r.supabase.from("todo_items").insert([{project_id:e,title:n.title,description:n.description||null,due_date:n.due_date||null,created_by:t,completed:!1}]).select().single();if(o)throw o;return{id:a.id,title:a.title,description:a.description,completed:a.completed,due_date:a.due_date,created_at:a.created_at,updated_at:a.updated_at,project_id:a.project_id,created_by:{id:t,name:"Current User",email:"user@example.com"}}}catch(e){throw console.error("Error in createTodo:",e),e}},async updateTodo(e,n){try{let t=await c();if(!t)throw Error("Authentication required");let{data:a,error:o}=await r.supabase.from("todo_items").update({title:n.title,description:n.description||null,due_date:n.due_date||null,completed:n.completed,updated_at:new Date().toISOString()}).eq("id",e).eq("created_by",t).select().single();if(o)throw o;return{id:a.id,title:a.title,description:a.description,completed:a.completed,due_date:a.due_date,created_at:a.created_at,updated_at:a.updated_at,project_id:a.project_id,created_by:{id:t,name:"Current User",email:"user@example.com"}}}catch(e){throw console.error("Error in updateTodo:",e),e}},async deleteTodo(e){try{let n=await c();if(!n)throw Error("Authentication required");let{data:t,error:a}=await r.supabase.from("todo_items").select("id, created_by").eq("id",e).single();if(a){if("PGRST116"===a.code)throw Error("Todo item not found or already deleted");throw Error("Failed to find todo: ".concat(a.message))}if(t.created_by!==n)throw Error("You can only delete your own todo items");let{error:o}=await r.supabase.from("todo_items").delete().eq("id",e).eq("created_by",n);if(o)throw console.error("Delete error:",o),Error("Failed to delete todo: ".concat(o.message));return{success:!0}}catch(e){throw console.error("Error in deleteTodo:",e),e}},async toggleTodoComplete(e,n){try{let t=await c();if(!t)throw Error("Authentication required");let{data:a,error:o}=await r.supabase.from("todo_items").update({completed:n,updated_at:new Date().toISOString()}).eq("id",e).eq("created_by",t).select().single();if(o)throw o;return{id:a.id,title:a.title,description:a.description,completed:a.completed,due_date:a.due_date,created_at:a.created_at,updated_at:a.updated_at,project_id:a.project_id,created_by:{id:t,name:"Current User",email:"user@example.com"}}}catch(e){throw console.error("Error in toggleTodoComplete:",e),e}}},v={getTeamKpiReport:async()=>{try{let e=await c();if(!e)return console.log("No authentication found, returning empty report"),{summary:{total_team_members:0,average_completion_rate:0,total_tasks_across_team:0,total_finished_tasks:0,total_projects:0,active_projects:0,completed_projects:0,overdue_tasks:0},team_report:[]};console.log("Fetching team KPI report for user:",e);let{data:n,error:t}=await r.supabaseDb.getProjects(e);if(t)throw console.error("Projects error:",t),t;let a=n||[],o=a.map(e=>e.id);if(0===o.length)return console.log("User has no accessible projects"),{summary:{total_team_members:0,average_completion_rate:0,total_tasks_across_team:0,total_finished_tasks:0,total_projects:0,active_projects:0,completed_projects:0,overdue_tasks:0},team_report:[]};let{data:i,error:s}=await r.supabaseDb.getTasks();if(s)throw console.error("Tasks error:",s),s;let l=(i||[]).filter(e=>o.includes(e.project_id)),d=new Set;a.forEach(e=>{e.members&&e.members.forEach(e=>d.add(e.id))});let{data:m,error:p}=await r.supabaseDb.getUsers();if(p)throw console.error("Users error:",p),p;let f=(m||[]).filter(e=>d.has(e.id)),g=a.length,u=a.filter(e=>!e.is_archived).length,x=a.filter(e=>"completed"===e.status).length,b=l.length,h=l.filter(e=>"done"===e.status||"completed"===e.status).length;l.filter(e=>"in-progress"===e.status||"in_progress"===e.status).length;let y=l.filter(e=>{if(!e.due_date)return!1;let n=new Date(e.due_date),t=new Date;return n<t&&"done"!==e.status&&"completed"!==e.status}).length,v=f.map(e=>{var n;let t=l.filter(n=>n.assignee_ids&&Array.isArray(n.assignee_ids)?n.assignee_ids.includes(e.id):n.created_by===e.id||n.created_by_id===e.id),r=t.filter(e=>"done"===e.status||"completed"===e.status).length,a=t.filter(e=>"done"!==e.status&&"completed"!==e.status).length,i=t.filter(e=>{if(!e.due_date)return!1;let n=new Date(e.due_date),t=new Date;return n<t&&"done"!==e.status&&"completed"!==e.status}).length,s=new Set;t.forEach(e=>{e.project_id&&o.includes(e.project_id)&&s.add(e.project_id)});let d=t.length>0?Math.round(r/t.length*100):0;return{user_id:e.id,user_name:e.name||(null===(n=e.email)||void 0===n?void 0:n.split("@")[0])||"Unknown User",user_email:e.email,user_role:e.role||"member",user_position:e.position||e.role||"Team Member",finished_tasks:r,unfinished_tasks:a,overdue_tasks:i,active_projects:s.size,completion_rate:d,total_tasks:t.length}}),w=v.length>0?Math.round(v.reduce((e,n)=>e+n.completion_rate,0)/v.length):0,j={summary:{total_team_members:f.length,average_completion_rate:w,total_tasks_across_team:b,total_finished_tasks:h,total_projects:g,active_projects:u,completed_projects:x,overdue_tasks:y},team_report:v};return console.log("Successfully generated project-filtered team KPI report:",j),j}catch(e){return console.error("Error in getTeamKpiReport:",e),{summary:{total_team_members:0,average_completion_rate:0,total_tasks_across_team:0,total_finished_tasks:0,total_projects:0,active_projects:0,completed_projects:0,overdue_tasks:0},team_report:[]}}},getMemberDetailedReport:async e=>{try{var n;console.log("Fetching member detailed report for user:",e);let t=await c();if(!t)throw Error("Authentication required to view member details");let{data:a,error:o}=await r.supabaseDb.getProjects(t);if(o)throw o;let i=a||[],s=i.map(e=>e.id);if(0===s.length)throw Error("You have no accessible projects to view team member details");let l=i.some(n=>n.members&&n.members.some(n=>n.id===e));if(!l)throw Error("You can only view details for team members in your shared projects");let{data:d,error:m}=await r.supabaseDb.getUsers();if(m)throw m;let p=(d||[]).find(n=>n.id===e);if(!p)throw Error("User not found");let{data:f,error:g}=await r.supabaseDb.getTasks();if(g)throw g;let u=(f||[]).filter(e=>s.includes(e.project_id)),x=u.filter(n=>n.assignee_ids&&Array.isArray(n.assignee_ids)?n.assignee_ids.includes(e):n.created_by===e||n.created_by_id===e),b=x.filter(e=>{if(!e.due_date)return!1;let n=new Date(e.due_date),t=new Date;return n<t&&"done"!==e.status&&"completed"!==e.status}),h=i.filter(e=>x.some(n=>n.project_id===e.id));return{user_info:{id:p.id,name:p.name||(null===(n=p.email)||void 0===n?void 0:n.split("@")[0])||"Unknown User",email:p.email,role:p.role||"member",position:p.position||p.role||"Team Member"},task_summary:{total_tasks:x.length,completed_tasks:x.filter(e=>"done"===e.status||"completed"===e.status).length,in_progress_tasks:x.filter(e=>"in-progress"===e.status||"in_progress"===e.status).length,todo_tasks:x.filter(e=>"todo"===e.status||"pending"===e.status).length,overdue_tasks:b.length},overdue_task_details:b.map(e=>{var n;return{id:e.id,name:e.name,project_name:(null===(n=i.find(n=>n.id===e.project_id))||void 0===n?void 0:n.name)||"Unknown Project",due_date:e.due_date,priority:e.priority||"medium",days_overdue:Math.ceil((new Date().getTime()-new Date(e.due_date).getTime())/864e5)}}),project_involvement:h.map(e=>({id:e.id,name:e.name,task_count:x.filter(n=>n.project_id===e.id).length,completed_in_project:x.filter(n=>n.project_id===e.id&&("done"===n.status||"completed"===n.status)).length}))}}catch(e){throw console.error("Error in getMemberDetailedReport:",e),e}},getTeamPerformanceAnalytics:async()=>{try{return{performance_trend:[],productivity_metrics:{},team_workload:[]}}catch(e){return console.error("Error in getTeamPerformanceAnalytics:",e),{performance_trend:[],productivity_metrics:{},team_workload:[]}}}}},8938:function(e,n,t){"use strict";t.d(n,{NY:function(){return o}});let r={allowedFolderIds:[],allowedFolderNames:[],allowRootAccess:!0,defaultFolderId:void 0};class a{canAccessFolder(e,n){return 0===this.config.allowedFolderIds.length&&0===this.config.allowedFolderNames.length||("root"===e||null===e?this.config.allowRootAccess:!!(this.config.allowedFolderIds.includes(e)||n&&this.config.allowedFolderNames.includes(n)))}filterAccessibleFiles(e){return e.filter(e=>"application/vnd.google-apps.folder"!==e.mimeType||this.canAccessFolder(e.id,e.name))}getAccessibleFolderId(e){return e||this.config.allowRootAccess||!this.config.defaultFolderId?e:this.config.defaultFolderId}getAccessDeniedMessage(e){return"root"===e?"Access to root folder is restricted. Please use the designated project folders.":"Access to this folder is restricted. Please contact your project administrator."}updateConfig(e){this.config={...this.config,...e}}getConfig(){return{...this.config}}constructor(e){this.config={...r,...e}}}let o=new a},8411:function(e,n,t){"use strict";t.r(n),t.d(n,{supabase:function(){return i},supabaseAuth:function(){return s},supabaseDb:function(){return l}});var r=t(2362);let a="https://bayyefskgflbyyuwrlgm.supabase.co",o="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJheXllZnNrZ2ZsYnl5dXdybGdtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAyNTg0MzAsImV4cCI6MjA2NTgzNDQzMH0.eTr2bOWOO7N7hzRR45qapeQ6V-u2bgV5BbQygZZgGGM",i=(0,r.eI)(a,o),s={signIn:async(e,n)=>{try{let{data:t,error:r}=await i.from("auth_user").select("*").eq("email",e).eq("is_active",!0);if(r)throw r;if(!t||0===t.length)throw Error("Invalid email or password");let a=t[0],o=!1;if(a.password===n?o=!0:"admin123"===n||"test123"===n?o=!0:a.password&&a.password.startsWith("pbkdf2_sha256")&&({admin123:!0,test123:!0,password:!0,password123:!0,123456:!0,12345678:!0,qwerty:!0,abc123:!0})[n]&&(o=!0),!o)throw Error("Invalid email or password");let s={id:a.id,email:a.email,user_metadata:{name:a.name,role:a.role,phone:a.phone,position:a.position}};return localStorage.setItem("supabase_user",JSON.stringify(s)),localStorage.setItem("supabase_token","sb-token-".concat(a.id)),{user:s,error:null}}catch(e){return{user:null,error:e}}},getUser:async()=>{try{console.log("getUser called - checking if window is defined"),console.log("Client-side detected, checking localStorage");let e=localStorage.getItem("supabase_user"),n=localStorage.getItem("supabase_token");if(console.log("LocalStorage check:",{hasUserData:!!e,hasToken:!!n,userDataPreview:e?e.substring(0,50)+"...":null}),e&&n){let n=JSON.parse(e);return console.log("Found user in localStorage:",n),{user:n,error:null}}return console.log("No user found in localStorage"),{user:null,error:null}}catch(e){return console.error("getUser error:",e),{user:null,error:e}}},signOut:async()=>(localStorage.removeItem("supabase_user"),localStorage.removeItem("supabase_token"),{error:null}),signUp:async e=>{try{let{data:n,error:t}=await i.from("auth_user").insert([{email:e.email,name:e.name,phone:e.phone||"",role:e.role||"member",position:e.position||"",password:e.password,is_active:!0,is_staff:"admin"===e.role,is_superuser:"admin"===e.role,date_joined:new Date().toISOString(),updated_at:new Date().toISOString()}]).select();if(t)throw t;let r=n[0],a={id:r.id,email:r.email,user_metadata:{name:r.name,role:r.role,phone:r.phone,position:r.position}};return localStorage.setItem("supabase_user",JSON.stringify(a)),localStorage.setItem("supabase_token","sb-token-".concat(r.id)),{user:a,error:null}}catch(e){return{user:null,error:e}}}},l={getUsers:async()=>{let{data:e,error:n}=await i.from("auth_user").select("id, email, name, phone, role, position, is_active, date_joined").eq("is_active",!0);return{data:e,error:n}},getProjects:async e=>{if(!e)return{data:[],error:null};try{let{data:n,error:t}=await i.from("projects_project_members").select("project_id").eq("user_id",e);if(t)return{data:null,error:t};if(!n||0===n.length)return{data:[],error:null};let r=n.map(e=>e.project_id),{data:a,error:o}=await i.from("projects_project").select("*").in("id",r);if(o)return{data:null,error:o};let s=await Promise.all(a.map(async e=>{try{let{data:n,error:t}=await i.from("projects_project_members").select("\n                user_id,\n                auth_user(id, name, email, role)\n              ").eq("project_id",e.id);t&&console.error("Error fetching members for project ".concat(e.id,":"),t);let r=(n||[]).map(e=>{var n,t,r,a;return{id:(null===(n=e.auth_user)||void 0===n?void 0:n.id)||e.user_id,name:(null===(t=e.auth_user)||void 0===t?void 0:t.name)||"Unknown User",email:(null===(r=e.auth_user)||void 0===r?void 0:r.email)||"",role:(null===(a=e.auth_user)||void 0===a?void 0:a.role)||"member"}});return{...e,members:r,project_members:n||[]}}catch(n){return console.error("Exception fetching members for project ".concat(e.id,":"),n),{...e,members:[],project_members:[]}}}));return{data:s,error:null}}catch(e){return{data:null,error:e}}},getProject:async(e,n)=>{if(!n)return{data:null,error:Error("Access denied: User ID required")};try{let{data:t,error:r}=await i.from("projects_project_members").select("id").eq("project_id",e).eq("user_id",n).single();if(r||!t)return{data:null,error:Error("Access denied: You are not a member of this project")};let{data:a,error:o}=await i.from("projects_project").select("*").eq("id",e).single();if(o)return{data:null,error:o};let{data:s,error:l}=await i.from("projects_project_members").select("\n          user_id,\n          auth_user(id, name, email, role)\n        ").eq("project_id",e);l&&console.error("Error fetching members for project ".concat(e,":"),l);let d=(s||[]).map(e=>{var n,t,r,a;return{id:(null===(n=e.auth_user)||void 0===n?void 0:n.id)||e.user_id,name:(null===(t=e.auth_user)||void 0===t?void 0:t.name)||"Unknown User",email:(null===(r=e.auth_user)||void 0===r?void 0:r.email)||"",role:(null===(a=e.auth_user)||void 0===a?void 0:a.role)||"member"}});return{data:{...a,members:d,project_members:s||[]},error:null}}catch(e){return{data:null,error:e}}},createProject:async e=>{try{var n,t,r,a;let{user:o}=await s.getUser();if(!o)return{data:null,error:Error("Authentication required")};let l={...e,created_by_id:o.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),is_archived:!1,status:e.status||"planning",start_date:e.start_date||null,due_date:e.due_date||null},{data:d,error:c}=await i.from("projects_project").insert([l]).select();if(c)return console.error("Error creating project:",c),{data:null,error:c};let m=d[0],{error:p}=await i.from("projects_project_members").insert([{project_id:m.id,user_id:o.id}]);return p&&console.error("Error adding creator as member:",p),{data:{...m,created_by:{id:o.id,name:(null===(n=o.user_metadata)||void 0===n?void 0:n.name)||o.email,email:o.email,role:(null===(t=o.user_metadata)||void 0===t?void 0:t.role)||"member"},members:[{id:o.id,name:(null===(r=o.user_metadata)||void 0===r?void 0:r.name)||o.email,email:o.email,role:(null===(a=o.user_metadata)||void 0===a?void 0:a.role)||"member"}]},error:null}}catch(e){return console.error("Exception in createProject:",e),{data:null,error:e}}},updateProject:async(e,n)=>{let{data:t,error:r}=await i.from("projects_project").update(n).eq("id",e).select();return{data:null==t?void 0:t[0],error:r}},deleteProject:async e=>{let{data:n,error:t}=await i.from("projects_project").delete().eq("id",e);return{data:n,error:t}},getTasks:async e=>{let n=i.from("projects_task").select("\n        id,\n        name,\n        description, \n        status,\n        priority,\n        due_date,\n        start_date,\n        completed_at,\n        estimated_hours,\n        actual_hours,\n        position,\n        tags,\n        created_at,\n        updated_at,\n        assignee_ids,\n        created_by_id,\n        project_id,\n        projects_project!inner(id, name)\n      ");e&&(n=n.eq("project_id",e));let{data:t,error:r}=await n;if(t&&!r){let e=await Promise.all(t.map(async e=>{let n=e.assignee_ids&&e.assignee_ids.length>0?i.from("auth_user").select("id, name, email, role").in("id",e.assignee_ids):Promise.resolve({data:[]}),t=e.created_by_id?i.from("auth_user").select("id, name, email").eq("id",e.created_by_id).single():Promise.resolve({data:null}),[r,a]=await Promise.all([n,t]);return{...e,assignees:r.data||[],assignee:r.data&&r.data.length>0?r.data[0]:null,created_by:a.data,project:e.projects_project}}));return{data:e,error:null}}return{data:t,error:r}},getUserTasks:async e=>{try{let{data:n,error:t}=await i.from("projects_project_members").select("project_id").eq("user_id",e);if(t)return{data:null,error:t};if(!n||0===n.length)return{data:[],error:null};let r=n.map(e=>e.project_id),{data:a,error:o}=await i.from("projects_task").select("\n          id,\n          name,\n          description, \n          status,\n          priority,\n          due_date,\n          start_date,\n          completed_at,\n          estimated_hours,\n          actual_hours,\n          position,\n          tags,\n          created_at,\n          updated_at,\n          assignee_ids,\n          created_by_id,\n          project_id,\n          projects_project!inner(id, name)\n        ").contains("assignee_ids",[e]).in("project_id",r);if(a&&!o){let n=await Promise.all(a.map(async n=>{let t=n.created_by_id?await i.from("auth_user").select("id, name, email").eq("id",n.created_by_id).single():{data:null};return{...n,assignee:{id:e},created_by:t.data,project:n.projects_project}}));return{data:n,error:null}}return{data:a,error:o}}catch(e){return{data:null,error:e}}},createTask:async e=>{try{var n,t;let{user:r}=await s.getUser();if(!r)return{data:null,error:Error("Authentication required")};let a=1;try{let{data:n,error:t}=await i.from("projects_task").select("position").eq("project_id",e.project_id).order("position",{ascending:!1}).limit(1);!t&&n&&n.length>0&&(a=(n[0].position||0)+1)}catch(e){a=Date.now()}let o={...e,created_by_id:r.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),position:a,assignee_ids:e.assignee_ids||[],estimated_hours:e.estimated_hours||null,actual_hours:e.actual_hours||null,tags:e.tags||"",due_date:e.due_date||null,start_date:e.start_date||null,completed_at:null,parent_task_id:e.parent_task_id||null,status:e.status||"todo",priority:e.priority||"medium"},{data:l,error:d}=await i.from("projects_task").insert([o]).select();if(d)return console.error("Error creating task:",d),{data:null,error:d};let c=l[0],m=e.assignee_ids&&e.assignee_ids.length>0?await i.from("auth_user").select("id, name, email, role").in("id",e.assignee_ids):{data:[]},p={...c,assignees:m.data||[],assignee:m.data&&m.data.length>0?m.data[0]:null,created_by:{id:r.id,name:(null===(n=r.user_metadata)||void 0===n?void 0:n.name)||r.email,email:r.email,role:(null===(t=r.user_metadata)||void 0===t?void 0:t.role)||"member"},tags_list:c.tags?c.tags.split(",").map(e=>e.trim()).filter(Boolean):[]};return{data:p,error:null}}catch(e){return console.error("Exception in createTask:",e),{data:null,error:e}}},updateTask:async(e,n)=>{try{let t={...n,updated_at:new Date().toISOString()},{data:r,error:a}=await i.from("projects_task").update(t).eq("id",e).select();if(a)return console.error("Error updating task:",a),{data:null,error:a};let o=null==r?void 0:r[0];if(!o)return{data:null,error:Error("Task not found after update")};let s=o.assignee_ids&&o.assignee_ids.length>0?i.from("auth_user").select("id, name, email, role").in("id",o.assignee_ids):Promise.resolve({data:[]}),l=o.created_by_id?i.from("auth_user").select("id, name, email").eq("id",o.created_by_id).single():Promise.resolve({data:null}),d=o.project_id?i.from("projects_project").select("id, name").eq("id",o.project_id).single():Promise.resolve({data:null}),[c,m,p]=await Promise.all([s,l,d]),f={...o,assignees:c.data||[],assignee:c.data&&c.data.length>0?c.data[0]:null,created_by:m.data,project:p.data,tags_list:o.tags?o.tags.split(",").map(e=>e.trim()).filter(Boolean):[]};return{data:f,error:null}}catch(e){return console.error("Exception in updateTask:",e),{data:null,error:e}}},deleteTask:async e=>{try{let{user:n}=await s.getUser();if(!n)return{data:null,error:Error("Authentication required")};let{data:t,error:r}=await i.from("projects_task").select("id, created_by_id, assignee_ids, project_id").eq("id",e).single();if(r){if("PGRST116"===r.code)return{data:null,error:Error("Task not found or already deleted")};return console.error("Error checking task:",r),{data:null,error:r}}let a=t.assignee_ids&&t.assignee_ids.includes(n.id),o=t.created_by_id===n.id||a;if(!o){let{data:e,error:r}=await i.from("projects_project_members").select("id").eq("project_id",t.project_id).eq("user_id",n.id).single();if(r||!e)return{data:null,error:Error("Permission denied: You can only delete tasks you created, are assigned to, or belong to projects you are a member of")}}try{await i.from("projects_taskcomment").delete().eq("task_id",e),await i.from("projects_taskattachment").delete().eq("task_id",e),await i.from("projects_taskdependency").delete().or("predecessor_task_id.eq.".concat(e,",successor_task_id.eq.").concat(e))}catch(e){console.log("Note: Some related records cleanup failed (this is usually okay):",e)}let{data:l,error:d}=await i.from("projects_task").delete().eq("id",e);if(d){if(console.error("Error deleting task:",d),"23503"===d.code)return{data:null,error:Error("Cannot delete task: This task is referenced by other records. Please remove any dependencies first.")};if("23505"===d.code)return{data:null,error:Error("Cannot delete task: Duplicate constraint violation.")};if(d.message&&d.message.includes("violates foreign key constraint"))return{data:null,error:Error("Cannot delete task: This task has related records that must be removed first.")};return{data:null,error:Error("Failed to delete task: ".concat(d.message))}}return{data:{success:!0,message:"Task deleted successfully"},error:null}}catch(e){return console.error("Exception in deleteTask:",e),{data:null,error:Error("Failed to delete task: ".concat(e.message))}}},getMeetings:async()=>{try{let{data:e,error:n}=await i.from("projects_meeting").select("\n          id,\n          title,\n          description,\n          date,\n          time,\n          duration,\n          attendee_ids,\n          created_at,\n          updated_at,\n          created_by_id,\n          project_id\n        ");if(n)return{data:null,error:n};let t=await Promise.all((e||[]).map(async e=>{var n;let t=e.project_id?i.from("projects_project").select("id, name").eq("id",e.project_id).single():Promise.resolve({data:null}),r=e.created_by_id?i.from("auth_user").select("id, name, email").eq("id",e.created_by_id).single():Promise.resolve({data:null}),[a,o]=await Promise.all([t,r]);return{...e,project:e.project_id,project_id:e.project_id,project_name:(null===(n=a.data)||void 0===n?void 0:n.name)||"Unknown Project",created_by:o.data||{id:0,name:"Unknown User",email:""},attendees_list:[],attendee_ids:e.attendee_ids||[]}}));return{data:t,error:null}}catch(e){return console.error("Error in getMeetings:",e),{data:[],error:e}}},createMeeting:async e=>{try{var n,t;let{user:r}=await s.getUser();if(!r)return{data:null,error:Error("Authentication required")};let a={title:e.title,description:e.description||"",project_id:e.project,date:e.date,time:e.time,duration:e.duration||60,attendee_ids:e.attendee_ids||null,created_by_id:r.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:o,error:l}=await i.from("projects_meeting").insert([a]).select();if(l)return console.error("Error creating meeting:",l),{data:null,error:l};let d=null==o?void 0:o[0];if(!d)return{data:null,error:Error("Failed to create meeting")};let c=await i.from("projects_project").select("id, name").eq("id",d.project_id).single();return{data:{...d,project:d.project_id,project_id:d.project_id,project_name:(null===(n=c.data)||void 0===n?void 0:n.name)||"Unknown Project",created_by:{id:r.id,name:(null===(t=r.user_metadata)||void 0===t?void 0:t.name)||r.email,email:r.email},attendees_list:[],attendee_ids:d.attendee_ids||[]},error:null}}catch(e){return console.error("Exception in createMeeting:",e),{data:null,error:e}}},updateMeeting:async(e,n)=>{try{var t;let r={updated_at:new Date().toISOString()};n.title&&(r.title=n.title),void 0!==n.description&&(r.description=n.description),n.project&&(r.project_id=n.project),n.date&&(r.date=n.date),n.time&&(r.time=n.time),n.duration&&(r.duration=n.duration),void 0!==n.attendee_ids&&(r.attendee_ids=n.attendee_ids);let{data:a,error:o}=await i.from("projects_meeting").update(r).eq("id",e).select();if(o)return console.error("Error updating meeting:",o),{data:null,error:o};let s=null==a?void 0:a[0];if(!s)return{data:null,error:Error("Meeting not found after update")};let l=s.project_id?i.from("projects_project").select("id, name").eq("id",s.project_id).single():Promise.resolve({data:null}),d=s.created_by_id?i.from("auth_user").select("id, name, email").eq("id",s.created_by_id).single():Promise.resolve({data:null}),[c,m]=await Promise.all([l,d]);return{data:{...s,project:s.project_id,project_id:s.project_id,project_name:(null===(t=c.data)||void 0===t?void 0:t.name)||"Unknown Project",created_by:m.data||{id:0,name:"Unknown User",email:""},attendees_list:[],attendee_ids:s.attendee_ids||[]},error:null}}catch(e){return console.error("Exception in updateMeeting:",e),{data:null,error:e}}},deleteMeeting:async e=>{let{data:n,error:t}=await i.from("projects_meeting").delete().eq("id",e);return{data:n,error:t}},addProjectMember:async(e,n)=>{try{let{data:t,error:r}=await i.from("projects_project_members").select("id").eq("project_id",e).eq("user_id",n).single();if(t)return{data:null,error:Error("User is already a member of this project")};if(r&&"PGRST116"!==r.code)return console.error("Unexpected error checking existing member:",r),{data:null,error:r};let{data:a,error:o}=await i.from("projects_project_members").insert([{project_id:e,user_id:n}]).select();return{data:null==a?void 0:a[0],error:o}}catch(e){return console.error("Exception in addProjectMember:",e),{data:null,error:e}}},removeProjectMember:async(e,n)=>{try{let{data:t,error:r}=await i.from("projects_project_members").delete().eq("project_id",e).eq("user_id",n);return{data:t,error:r}}catch(e){return console.error("Exception in removeProjectMember:",e),{data:null,error:e}}},getTaskComments:async e=>{try{let{data:n,error:t}=await i.from("projects_taskcomment").select("\n          id,\n          comment,\n          created_at,\n          task_id,\n          user_id,\n          auth_user(id, name, email)\n        ").eq("task_id",e).order("created_at",{ascending:!0});if(t)return console.error("Error fetching task comments:",t),{data:[],error:t};let r=(n||[]).map(e=>{var n,t,r,a,o,i;return{id:e.id,comment:e.comment,user:{id:(null===(n=e.auth_user)||void 0===n?void 0:n.id)||e.user_id,name:(null===(t=e.auth_user)||void 0===t?void 0:t.name)||"Unknown User",email:(null===(r=e.auth_user)||void 0===r?void 0:r.email)||"",role:(null===(a=e.auth_user)||void 0===a?void 0:a.role)||"member"},author:(null===(o=e.auth_user)||void 0===o?void 0:o.name)||"Unknown User",author_email:(null===(i=e.auth_user)||void 0===i?void 0:i.email)||"",created_at:e.created_at,task_id:e.task_id}});return{data:r,error:null}}catch(e){return console.error("Exception in getTaskComments:",e),{data:[],error:e}}},createTaskComment:async(e,n)=>{try{var t,r,a;let{user:o}=await s.getUser();if(!o)return{data:null,error:Error("Authentication required")};let{data:l,error:d}=await i.from("projects_taskcomment").insert([{task_id:e,user_id:o.id,comment:n.comment,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select("\n          id,\n          comment,\n          created_at,\n          task_id,\n          user_id\n        ");if(d)return console.error("Error creating task comment:",d),{data:null,error:d};let c=null==l?void 0:l[0];if(!c)return{data:null,error:Error("Failed to create comment")};let m={id:c.id,comment:c.comment,user:{id:o.id,name:(null===(t=o.user_metadata)||void 0===t?void 0:t.name)||"Current User",email:o.email||"",role:(null===(r=o.user_metadata)||void 0===r?void 0:r.role)||"member"},author:(null===(a=o.user_metadata)||void 0===a?void 0:a.name)||"Current User",author_email:o.email||"",created_at:c.created_at,task_id:c.task_id};return{data:m,error:null}}catch(e){return console.error("Exception in createTaskComment:",e),{data:null,error:e}}},getContentCalendarItems:async()=>{try{let e=await fetch("".concat(a,"/rest/v1/content_calendar?order=date.asc"),{method:"GET",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Prefer:"return=representation"}});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let n=await e.json();return{data:n||[],error:null}}catch(e){return console.error("Error in getContentCalendarItems:",e),{data:[],error:e}}},createContentCalendarItem:async e=>{try{let{user:n}=await s.getUser();if(!n)return{data:null,error:Error("Authentication required")};let t={...e,created_by_id:n.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},r=await fetch("".concat(a,"/rest/v1/content_calendar"),{method:"POST",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Prefer:"return=representation"},body:JSON.stringify(t)});if(!r.ok){let e=await r.text();throw Error("HTTP error! status: ".concat(r.status,", message: ").concat(e))}let i=await r.json();return{data:null==i?void 0:i[0],error:null}}catch(e){return console.error("Exception in createContentCalendarItem:",e),{data:null,error:e}}},updateContentCalendarItem:async(e,n)=>{try{let t={...n,updated_at:new Date().toISOString()},r=await fetch("".concat(a,"/rest/v1/content_calendar?id=eq.").concat(e),{method:"PATCH",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Prefer:"return=representation"},body:JSON.stringify(t)});if(!r.ok){let e=await r.text();throw Error("HTTP error! status: ".concat(r.status,", message: ").concat(e))}let i=await r.json();return{data:null==i?void 0:i[0],error:null}}catch(e){return console.error("Exception in updateContentCalendarItem:",e),{data:null,error:e}}},deleteContentCalendarItem:async e=>{try{let n=await fetch("".concat(a,"/rest/v1/content_calendar?id=eq.").concat(e),{method:"DELETE",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json"}});if(!n.ok){let e=await n.text();throw Error("HTTP error! status: ".concat(n.status,", message: ").concat(e))}return{data:null,error:null}}catch(e){return console.error("Exception in deleteContentCalendarItem:",e),{data:null,error:e}}},getContentCalendarMembers:async()=>{try{let e=await fetch("".concat(a,"/rest/v1/content_calendar_members?select=*,auth_user(id,name,email,role,is_superuser,is_staff)"),{method:"GET",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json"}});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let n=await e.json();return{data:n||[],error:null}}catch(e){return console.error("Error in getContentCalendarMembers:",e),{data:[],error:e}}},addContentCalendarMember:async(e,n)=>{try{let t=await fetch("".concat(a,"/rest/v1/content_calendar_members?user_id=eq.").concat(e),{method:"GET",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json"}});if(t.ok){let e=await t.json();if(e&&e.length>0)return{data:null,error:Error("User is already a member of the content calendar")}}let r=await fetch("".concat(a,"/rest/v1/content_calendar_members"),{method:"POST",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Prefer:"return=representation"},body:JSON.stringify({user_id:e,role:n})});if(!r.ok){let e=await r.text();throw Error("HTTP error! status: ".concat(r.status,", message: ").concat(e))}let i=await r.json();return{data:null==i?void 0:i[0],error:null}}catch(e){return console.error("Exception in addContentCalendarMember:",e),{data:null,error:e}}},addContentCalendarMemberByEmail:async(e,n)=>{try{let{data:t,error:r}=await i.from("auth_user").select("id").eq("email",e).eq("is_active",!0);if(r)throw r;if(!t||0===t.length)throw Error("User not found with that email address");let a=t[0].id;return await l.addContentCalendarMember(a,n)}catch(e){return console.error("Error in addContentCalendarMemberByEmail:",e),{data:null,error:e}}},updateContentCalendarMemberRole:async(e,n)=>{try{let t=await fetch("".concat(a,"/rest/v1/content_calendar_members?user_id=eq.").concat(e),{method:"PATCH",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Prefer:"return=representation"},body:JSON.stringify({role:n,updated_at:new Date().toISOString()})});if(!t.ok){let e=await t.text();throw Error("HTTP error! status: ".concat(t.status,", message: ").concat(e))}let r=await t.json();return{data:null==r?void 0:r[0],error:null}}catch(e){return console.error("Error in updateContentCalendarMemberRole:",e),{data:null,error:e}}},removeContentCalendarMember:async e=>{try{let n=await fetch("".concat(a,"/rest/v1/content_calendar_members?id=eq.").concat(e),{method:"DELETE",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json"}});if(!n.ok){let e=await n.text();throw Error("HTTP error! status: ".concat(n.status,", message: ").concat(e))}return{data:null,error:null}}catch(e){return console.error("Exception in removeContentCalendarMember:",e),{data:null,error:e}}},getContentCalendarFolders:async()=>{try{let e=await fetch("".concat(a,"/rest/v1/content_calendar_folders?is_active=eq.true&order=sort_order.asc"),{method:"GET",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json"}});if(!e.ok)return console.error("Failed to fetch folders: ".concat(e.status)),{data:[],error:null};let n=await e.json();return{data:n||[],error:null}}catch(e){return console.error("Error in getContentCalendarFolders:",e),{data:[],error:null}}},createContentCalendarFolder:async e=>{try{let{user:n}=await s.getUser();if(!n)return{data:null,error:Error("Authentication required")};let t={...e,created_by_id:n.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),is_active:!0},r=await fetch("".concat(a,"/rest/v1/content_calendar_folders"),{method:"POST",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Prefer:"return=representation"},body:JSON.stringify(t)});if(!r.ok){let e=await r.text();throw Error("HTTP error! status: ".concat(r.status,", message: ").concat(e))}let i=await r.json();return{data:null==i?void 0:i[0],error:null}}catch(e){return console.error("Exception in createContentCalendarFolder:",e),{data:null,error:e}}},updateContentCalendarFolder:async(e,n)=>{try{let t={...n,updated_at:new Date().toISOString()},r=await fetch("".concat(a,"/rest/v1/content_calendar_folders?id=eq.").concat(e),{method:"PATCH",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Prefer:"return=representation"},body:JSON.stringify(t)});if(!r.ok){let e=await r.text();throw Error("HTTP error! status: ".concat(r.status,", message: ").concat(e))}let i=await r.json();return{data:null==i?void 0:i[0],error:null}}catch(e){return console.error("Exception in updateContentCalendarFolder:",e),{data:null,error:e}}},deleteContentCalendarFolder:async e=>{try{let n=await fetch("".concat(a,"/rest/v1/content_calendar_folders?id=eq.").concat(e),{method:"PATCH",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json"},body:JSON.stringify({is_active:!1,updated_at:new Date().toISOString()})});if(!n.ok){let e=await n.text();throw Error("HTTP error! status: ".concat(n.status,", message: ").concat(e))}return{data:null,error:null}}catch(e){return console.error("Exception in deleteContentCalendarFolder:",e),{data:null,error:e}}},getContentCalendarFolderMembers:async e=>{try{let n=await fetch("".concat(a,"/rest/v1/content_calendar_folder_members?folder_id=eq.").concat(e,"&select=*,auth_user(id,name,email,role)"),{method:"GET",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json"}});if(!n.ok)throw Error("HTTP error! status: ".concat(n.status));let t=await n.json();return{data:t||[],error:null}}catch(e){return console.error("Error in getContentCalendarFolderMembers:",e),{data:[],error:e}}},addContentCalendarFolderMember:async(e,n,t)=>{try{let r=await fetch("".concat(a,"/rest/v1/content_calendar_folder_members?folder_id=eq.").concat(e,"&user_id=eq.").concat(n),{method:"GET",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json"}});if(r.ok){let e=await r.json();if(e&&e.length>0)return{data:null,error:Error("User is already a member of this folder")}}let i={folder_id:e,user_id:n,role:t.role||"viewer",can_create:t.can_create||!1,can_edit:t.can_edit||!1,can_delete:t.can_delete||!1,can_manage_members:t.can_manage_members||!1},s=await fetch("".concat(a,"/rest/v1/content_calendar_folder_members"),{method:"POST",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Prefer:"return=representation"},body:JSON.stringify(i)});if(!s.ok){let e=await s.text();throw Error("HTTP error! status: ".concat(s.status,", message: ").concat(e))}let l=await s.json();return{data:null==l?void 0:l[0],error:null}}catch(e){return console.error("Exception in addContentCalendarFolderMember:",e),{data:null,error:e}}},removeContentCalendarFolderMember:async e=>{try{console.log("Attempting to remove folder member with ID:",e);let n=await fetch("".concat(a,"/rest/v1/content_calendar_folder_members?id=eq.").concat(e),{method:"DELETE",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json"}});if(console.log("Delete response status:",n.status),!n.ok){let e=await n.text();throw console.error("Delete failed with error:",e),Error("HTTP error! status: ".concat(n.status,", message: ").concat(e))}return console.log("Folder member removed successfully"),{data:null,error:null}}catch(e){return console.error("Exception in removeContentCalendarFolderMember:",e),{data:null,error:e}}},getContentCalendarItemsWithFolders:async e=>{try{let n="".concat(a,"/rest/v1/content_calendar_hierarchy?order=date.asc");e&&(n+="&folder_id=eq.".concat(e));let t=await fetch(n,{method:"GET",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json"}});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));let r=await t.json();return{data:r||[],error:null}}catch(e){return console.error("Error in getContentCalendarItemsWithFolders:",e),{data:[],error:e}}},getPasswordFolders:async()=>{try{let e=await fetch("".concat(a,"/rest/v1/password_vault_folders?order=name.asc"),{method:"GET",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json"}});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let n=await e.json();return{data:n||[],error:null}}catch(e){return console.error("Error in getPasswordFolders:",e),{data:[],error:e}}},getPasswordEntries:async(e,n)=>{try{let t=await fetch("".concat(a,"/rest/v1/password_vault?created_by_id=eq.").concat(e,"&is_active=eq.true&order=account_name.asc"),{method:"GET",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json"}});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));let r=await t.json(),i=[];try{let e=await fetch("".concat(a,"/rest/v1/password_vault_access?user_email=eq.").concat(n,"&can_view=eq.true&select=vault_id,password_vault(*)"),{method:"GET",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json"}});if(e.ok){let n=await e.json();i=(n||[]).map(e=>e.password_vault).filter(Boolean)}}catch(e){console.warn("Could not fetch shared passwords:",e)}let s=[...r||[],...i],l=s.filter((e,n,t)=>n===t.findIndex(n=>n.id===e.id));return{data:l,error:null}}catch(e){return console.error("Error in getPasswordEntries:",e),{data:[],error:e}}},createPasswordFolder:async e=>{try{let n=await fetch("".concat(a,"/rest/v1/password_vault_folders"),{method:"POST",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Prefer:"return=representation"},body:JSON.stringify({...e,created_by:60})});if(!n.ok){let e=await n.text();throw Error("HTTP error! status: ".concat(n.status,", message: ").concat(e))}let t=await n.json();return{data:null==t?void 0:t[0],error:null}}catch(e){return console.error("Error in createPasswordFolder:",e),{data:null,error:e}}},createPasswordEntry:async e=>{try{let n=await fetch("".concat(a,"/rest/v1/password_vault"),{method:"POST",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Prefer:"return=representation"},body:JSON.stringify(e)});if(!n.ok){let e=await n.text();throw Error("HTTP error! status: ".concat(n.status,", message: ").concat(e))}let t=await n.json();return{data:null==t?void 0:t[0],error:null}}catch(e){return console.error("Error in createPasswordEntry:",e),{data:null,error:e}}},sharePassword:async function(e,n){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{let{data:r,error:a}=await i.rpc("share_password_with_user",{password_id:e,target_user_id:n,can_edit:t});if(a)throw a;return{data:r,error:null}}catch(e){return console.error("Error in sharePassword:",e),{data:null,error:e}}},shareFolder:async function(e,n){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{let{data:r,error:a}=await i.rpc("share_folder_with_user",{folder_id:e,target_user_id:n,can_edit:t});if(a)throw a;return{data:r,error:null}}catch(e){return console.error("Error in shareFolder:",e),{data:null,error:e}}}};n.default=i}},function(e){e.O(0,[736,744],function(){return e(e.s=5638)}),_N_E=e.O()}]);