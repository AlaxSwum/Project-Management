(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9617],{41550:function(e,t,i){Promise.resolve().then(i.bind(i,66263))},66263:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return et}});var n=i(57437),r=i(2265),o=i(24033),a=i(3549),l=i(44331),s=i(16307),d=i(68714),p=i(3152),c=i(78411),x=i(33617),g=i(20976),h=i(80640),u=i(95255),f=i(40013),m=i(3217),y=i(34713),b=i(67805),j=i(62978),w=i(51809),v=i(322),k=i(31205),D=i(31706),S=i(24872),F=i(52061),C=i(6180),T=i(77227),E=i(71615),_=i(96689),z=i(77150),R=i(96888),W=i(66610),I=i(49186),A=i(10887),B=i(4103),M=i(82929),N=i(87965),H=i(72469);let L=[{id:0,name:"Sun",fullName:"Sunday"},{id:1,name:"Mon",fullName:"Monday"},{id:2,name:"Tue",fullName:"Tuesday"},{id:3,name:"Wed",fullName:"Wednesday"},{id:4,name:"Thu",fullName:"Thursday"},{id:5,name:"Fri",fullName:"Friday"},{id:6,name:"Sat",fullName:"Saturday"}],Z=[{id:"work",name:"Work",color:"#3b82f6"},{id:"study",name:"Study",color:"#8b5cf6"},{id:"workout",name:"Workout",color:"#ef4444"},{id:"health",name:"Health",color:"#10b981"},{id:"creative",name:"Creative",color:"#f59e0b"},{id:"social",name:"Social",color:"#ec4899"},{id:"errands",name:"Errands",color:"#6366f1"},{id:"rest",name:"Rest",color:"#64748b"}],P=["#3b82f6","#8b5cf6","#ef4444","#10b981","#f59e0b","#ec4899","#6366f1","#64748b","#14b8a6","#f97316","#06b6d4","#84cc16"],O={focus:{bg:"linear-gradient(135deg, #3B82F6, #2563EB)",border:"#3B82F6",text:"#FFFFFF",solid:"#3b82f6"},meeting:{bg:"linear-gradient(135deg, #A855F7, #9333EA)",border:"#A855F7",text:"#FFFFFF",solid:"#a855f7"},personal:{bg:"linear-gradient(135deg, #10B981, #059669)",border:"#10B981",text:"#FFFFFF",solid:"#22c55e"},goal:{bg:"linear-gradient(135deg, #F59E0B, #D97706)",border:"#F59E0B",text:"#FFFFFF",solid:"#fb923c"},project:{bg:"linear-gradient(135deg, #EC4899, #DB2777)",border:"#EC4899",text:"#FFFFFF",solid:"#ec4899"}},U=Array.from({length:24},(e,t)=>t),Y={initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95}},J=e=>e.toISOString().split("T")[0],q=e=>{let[t,i]=e.split(":"),n=parseInt(t,10);return"".concat(n%12||12,":").concat(i," ").concat(n>=12?"PM":"AM")},G=e=>{let t=e.getFullYear(),i=e.getMonth(),n=new Date(t,i,1),r=new Date(t,i+1,0),o=[],a=n.getDay();for(let e=a-1;e>=0;e--)o.push(new Date(t,i,-e));for(let e=1;e<=r.getDate();e++)o.push(new Date(t,i,e));let l=42-o.length;for(let e=1;e<=l;e++)o.push(new Date(t,i+1,e));return o},X=e=>{let t=e.getDay(),i=e.getDate()+(0===t?-6:1-t),n=[];for(let t=0;t<7;t++)n.push(new Date(e.getFullYear(),e.getMonth(),i+t));return n},K=()=>"undefined"!=typeof crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}),V=e=>{if(!e||0===e.length)return 0;let t=e.filter(e=>e.completed).length;return Math.round(t/e.length*100)},Q=(e,t)=>{let i=J(t),n=t.getDay(),r=e.filter(e=>{if(e.date===i)return!0;if(e.isRecurring&&e.recurringDays&&e.recurringDays.includes(n)){let t=e.recurringStartDate||e.date,n=e.recurringEndDate;if(i>=t&&(!n||i<=n))return!0}return!1}),o=0,a=0;r.forEach(e=>{o+=1,e.completed&&(a+=1),e.checklist&&e.checklist.length>0&&(o+=e.checklist.length,a+=e.checklist.filter(e=>e.completed).length)});let l=o>0?Math.round(a/o*100):0;return{total:o,completed:a,percentage:l}},$=e=>({id:e.id,date:e.date,startTime:e.start_time,endTime:e.end_time,title:e.title,description:e.description,type:e.type,checklist:e.checklist||[],meetingLink:e.meeting_link,notificationTime:e.notification_time,color:e.color,category:e.category,isRecurring:e.is_recurring,recurringDays:e.recurring_days,recurringStartDate:e.recurring_start_date,recurringEndDate:e.recurring_end_date,excludedDates:e.excluded_dates,completed:e.completed,created_at:e.created_at,updated_at:e.updated_at}),ee=(e,t)=>({id:e.id,user_id:t,date:e.date,start_time:e.startTime,end_time:e.endTime,title:e.title,description:e.description,type:e.type,checklist:e.checklist||[],meeting_link:e.meetingLink,notification_time:e.notificationTime,color:e.color,category:e.category,is_recurring:e.isRecurring,recurring_days:e.recurringDays,recurring_start_date:e.recurringStartDate,recurring_end_date:e.recurringEndDate,excluded_dates:e.excludedDates,completed:e.completed,created_at:e.created_at,updated_at:e.updated_at});function et(){var e,t,et,ei,en,er,eo,ea;let{user:el,isAuthenticated:es,isLoading:ed}=(0,a.useAuth)(),ep=(0,o.useRouter)(),[ec,ex]=(0,r.useState)([]),[eg,eh]=(0,r.useState)(!0),[eu,ef]=(0,r.useState)("day"),[em,ey]=(0,r.useState)(new Date),[eb,ej]=(0,r.useState)(null),[ew,ev]=(0,r.useState)(!1),[ek,eD]=(0,r.useState)(!1),[eS,eF]=(0,r.useState)(null),[eC,eT]=(0,r.useState)(""),[eE,e_]=(0,r.useState)(!1),[ez,eR]=(0,r.useState)(null),[eW,eI]=(0,r.useState)(""),[eA,eB]=(0,r.useState)({title:"",description:"",type:"focus",startTime:"09:00",endTime:"10:00",checklist:[],meetingLink:"",notificationTime:10,category:"",isRecurring:!1,recurringDays:[],recurringStartDate:"",recurringEndDate:""}),[eM,eN]=(0,r.useState)([]),[eH,eL]=(0,r.useState)(!1),[eZ,eP]=(0,r.useState)(""),[eO,eU]=(0,r.useState)([]),[eY,eJ]=(0,r.useState)([]),[eq,eG]=(0,r.useState)([]),[eX,eK]=(0,r.useState)([]),[eV,eQ]=(0,r.useState)([]),[e$,e0]=(0,r.useState)(!1),[e1,e2]=(0,r.useState)({task_name:"",start_date:J(new Date),deadline:J(new Date),duration:1,description:"",priority:"normal"}),[e5,e6]=(0,r.useState)([]),[e8,e4]=(0,r.useState)([]),[e3,e7]=(0,r.useState)("tasks"),[e9,te]=(0,r.useState)(!0),[tt,ti]=(0,r.useState)(P[0]),[tn,tr]=(0,r.useState)(null),[to,ta]=(0,r.useState)(null),[tl,ts]=(0,r.useState)(null),[td,tp]=(0,r.useState)(null),[tc,tx]=(0,r.useState)(!1),[tg,th]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=()=>tx(window.innerWidth<768);e(),window.addEventListener("resize",e);let t=e=>{th(e.detail.isCollapsed)};window.addEventListener("sidebarCollapsedChange",t);let i=localStorage.getItem("sidebarCollapsed");return"true"===i&&th(!0),()=>{window.removeEventListener("resize",e),window.removeEventListener("sidebarCollapsedChange",t)}},[]),(0,r.useEffect)(()=>{{let e=localStorage.getItem("personal_custom_categories");if(e)try{eN(JSON.parse(e))}catch(e){console.error("Error loading custom categories:",e)}}},[]);let tu=e=>{eN(e),localStorage.setItem("personal_custom_categories",JSON.stringify(e))},tf=()=>{if(!eZ.trim())return;let e={id:"custom_".concat(K()),name:eZ.trim(),color:tt};tu([...eM,e]),eP(""),eL(!1)},tm=e=>{tu(eM.filter(t=>t.id!==e))},ty=[...Z,...eM],[tb,tj]=(0,r.useState)(!1),[tw,tv]=(0,r.useState)(null),[tk,tD]=(0,r.useState)(null),[tS,tF]=(0,r.useState)(null),tC=r.useRef(null),tT=r.useRef([]),[tE,t_]=(0,r.useState)(null),[tz,tR]=(0,r.useState)(0),[tW,tI]=(0,r.useState)(null),[tA,tB]=(0,r.useState)(0),[tM,tN]=(0,r.useState)(null),[tH,tL]=(0,r.useState)(0),[tZ,tP]=(0,r.useState)(""),[tO,tU]=(0,r.useState)(null),tY=(e,t)=>{let i=Math.max(0,Math.min(1439,(e-t)/52*60)),n=15*Math.round(i%60/15);return{hour:Math.min(23,Math.floor(i/60)),minute:n>=60?0:n}},tJ=(e,t)=>"".concat(e.toString().padStart(2,"0"),":").concat(t.toString().padStart(2,"0")),tq=(e,t)=>{if(!tC.current)return;let i=tC.current.getBoundingClientRect(),n=tY(e.clientY,i.top);tj(!0),tv(n),tD(n),tF(t),e.preventDefault()},tG=(0,r.useCallback)(e=>{if(tb){if(tC.current){let t=tC.current.getBoundingClientRect();if(e.clientX>=t.left&&e.clientX<=t.right&&e.clientY>=t.top&&e.clientY<=t.bottom){let i=tY(e.clientY,t.top);tD(i);return}}for(let t of tT.current)if(t){let i=t.getBoundingClientRect();if(e.clientX>=i.left&&e.clientX<=i.right&&e.clientY>=i.top&&e.clientY<=i.bottom){let t=e.clientY-i.top,n=Math.max(0,Math.min(1439,t/52*60)),r=Math.floor(n/60),o=15*Math.round(n%60/15);tD({hour:Math.min(23,r),minute:o>=60?0:o});return}}}},[tb]),tX=(0,r.useCallback)(()=>{if(!tb||!tw||!tk||!tS){tj(!1);return}let e=60*tw.hour+tw.minute,t=60*tk.hour+tk.minute,i=Math.min(e,t),n=Math.max(e,t),r=n<=i?i+60:n;eB({title:"",description:"",type:"focus",startTime:tJ(Math.floor(i/60),i%60),endTime:tJ(Math.min(23,Math.floor(r/60)),r%60),checklist:[],meetingLink:"",notificationTime:10}),ey(tS),eD(!0),tj(!1),tv(null),tD(null),tF(null)},[tb,tw,tk,tS]);(0,r.useEffect)(()=>{if(tb)return window.addEventListener("mousemove",tG),window.addEventListener("mouseup",tX),()=>{window.removeEventListener("mousemove",tG),window.removeEventListener("mouseup",tX)}},[tb,tG,tX]);let tK=()=>{if(!tb||!tw||!tk)return null;let e=60*tw.hour+tw.minute,t=60*tk.hour+tk.minute,i=Math.min(e,t);return{top:i/60*60,height:Math.max(Math.max(e,t)-i,15)/60*60}};(0,r.useEffect)(()=>{if(!ed){if(!es){ep.push("/login");return}tQ(),tV()}},[es,ed,ep,el]),(0,r.useEffect)(()=>{if(!(null==el?void 0:el.email)||0===ec.length)return;let e=async()=>{let e=new Date,t=J(e),i=60*e.getHours()+e.getMinutes(),n="sent_reminders",r=localStorage.getItem(n)||"{}",o=JSON.parse(r),a=Date.now()-864e5;Object.keys(o).forEach(e=>{let t=parseInt(e.split("_").pop()||"0");t<a&&delete o[e]});let l=ec.filter(i=>{if(i.date===t)return!0;if(i.isRecurring&&i.recurringDays&&i.recurringDays.includes(e.getDay())){let e=i.recurringStartDate||i.date,n=i.recurringEndDate;if(t>=e&&(!n||t<=n))return!0}return!1});for(let e of l){if(!e.notificationTime||e.notificationTime<=0)continue;let[r,a]=e.startTime.split(":").map(Number),l=60*r+a,s=l-e.notificationTime;"".concat(e.id,"_").concat(t,"_").concat(Date.now());let d="".concat(e.id,"_").concat(t);if(i>=s&&i<s+2&&i<l&&!o[d]){console.log("Sending reminder for: ".concat(e.title)),(0,x.c0)("".concat(e.title," starting soon"),"Your ".concat(e.type," block starts in ").concat(e.notificationTime," minutes at ").concat(e.startTime),{urgency:"critical",url:"/personal"}),o[d]=!0,localStorage.setItem(n,JSON.stringify(o));try{fetch("/api/time-block-reminders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({block:{id:e.id,title:e.title,description:e.description,date:t,startTime:e.startTime,endTime:e.endTime,type:e.type,meetingLink:e.meetingLink,notificationTime:e.notificationTime,checklist:e.checklist,category:e.category},userEmail:el.email})}).catch(()=>{})}catch(e){}}}};e();let t=setInterval(e,6e4);return()=>clearInterval(t)},[null==el?void 0:el.email,ec]),(0,r.useEffect)(()=>{if(!(null==el?void 0:el.email)||0===eq.length)return;let e=async()=>{let e=new Date,t=J(e),i=60*e.getHours()+e.getMinutes(),n="sent_meeting_reminders",r=localStorage.getItem(n)||"{}",o=JSON.parse(r);for(let e of(Object.keys(o).forEach(e=>{e.includes(t)||delete o[e]}),eq)){if(e.date!==t)continue;let r=e.reminder_time||15;if(r<=0)continue;let[a,l]=e.time.split(":").map(Number),s=60*a+l,d=s-r,p="meeting_".concat(e.id,"_").concat(t);if(i>=d&&i<d+2&&i<s&&!o[p]){console.log("Sending meeting reminder for: ".concat(e.title)),(0,x.c0)("Meeting: ".concat(e.title),"Starting in ".concat(r," minutes at ").concat(e.time).concat(e.project_name?" - ".concat(e.project_name):""),{urgency:"critical",url:"/personal"}),o[p]=!0,localStorage.setItem(n,JSON.stringify(o));try{fetch("/api/meeting-reminders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({meeting:{id:e.id,title:e.title,description:e.description,date:e.date,time:e.time,duration:e.duration,project_name:e.project_name,meeting_link:e.meeting_link,agenda_items:e.agenda_items,attendees_list:e.attendees_list,reminder_time:r},attendeeEmails:[el.email]})}).catch(()=>{})}catch(e){}}}};e();let t=setInterval(e,6e4);return()=>clearInterval(t)},[null==el?void 0:el.email,eq]),(0,r.useEffect)(()=>{if(0===eO.length)return;let e=()=>{let e=new Date,t=e.toISOString().split("T")[0],i="deadline_notified_tasks",n=localStorage.getItem(i)||"{}",r=JSON.parse(n);Object.keys(r).forEach(e=>{e.includes(t)||delete r[e]});let o=eO.filter(e=>{if(!e.due_date)return!1;let i=e.due_date.split("T")[0];return i===t&&"done"!==e.status});o.forEach(e=>{let i="".concat(e.id,"_").concat(t);r[i]||((0,x.c0)("Task Due Today: ".concat(e.name),"This task is due today".concat(e.project_name?" - Project: ".concat(e.project_name):""),{urgency:"critical",url:"/my-tasks"}),r[i]=!0)}),localStorage.setItem(i,JSON.stringify(r))};e();let t=setInterval(e,3e5);return()=>clearInterval(t)},[eO]),(0,r.useEffect)(()=>{if(0===eY.length)return;let e=()=>{let e=new Date,t=e.toISOString().split("T")[0],i="timeline_notified_items",n=localStorage.getItem(i)||"{}",r=JSON.parse(n);Object.keys(r).forEach(e=>{e.includes(t)||delete r[e]});let o=eY.filter(e=>{if(!e.end_date)return!1;let i=e.end_date.split("T")[0];return i===t&&"completed"!==e.status});o.forEach(e=>{let i="".concat(e.id,"_").concat(t);r[i]||((0,x.c0)("Timeline Deadline Today: ".concat(e.title),"This timeline item ends today".concat(e.category_name?" - Category: ".concat(e.category_name):""),{urgency:"normal",url:"/timeline"}),r[i]=!0)}),localStorage.setItem(i,JSON.stringify(r))};e();let t=setInterval(e,3e5);return()=>clearInterval(t)},[eY]);let tV=async()=>{if(null==el?void 0:el.id)try{var e,t,i;let[n,r,o]=await Promise.all([p.taskService.getUserTasks(),p.meetingService.getMeetings(),p.projectService.getProjects()]),a=(n||[]).map(e=>{let t=(o||[]).find(t=>t.id===e.project_id);return{...e,project_name:(null==t?void 0:t.name)||"Unknown Project",project_color:(null==t?void 0:t.color)||"#6b7280"}});eU(a);let l=(r||[]).filter(e=>{var t,i;let n=(null===(t=e.created_by)||void 0===t?void 0:t.id)===el.id,r=null===(i=e.attendee_ids)||void 0===i?void 0:i.includes(el.id);return n||r}).map(e=>{let t=(o||[]).find(t=>t.id===(e.project_id||e.project));return{...e,project_name:(null==t?void 0:t.name)||"Unknown Project"}});eG(l);let{data:s,error:d}=await c.supabase.from("timeline_items").select("*, timeline_categories (name, color)").neq("status","cancelled").order("start_date",{ascending:!0});if(!d&&s){let e=parseInt((null===(t=el.id)||void 0===t?void 0:t.toString())||"0"),i=s.filter(t=>t.team_leader_id===e||(t.team_member_ids||[]).includes(e)).map(e=>{var t;return{...e,category_name:null===(t=e.timeline_categories)||void 0===t?void 0:t.name}});eJ(i)}try{let{data:e}=await g.tb.getGoals(el.id);e&&e6(e);let t=new Date().toISOString().split("T")[0],{data:i}=await g.tb.getCompletions(el.id,void 0,t,t);i&&e4(i)}catch(e){console.log("Goals not available (table may not exist):",e)}let{data:x}=await c.supabase.from("company_members").select("company_id").eq("user_id",null===(e=el.id)||void 0===e?void 0:e.toString()),{data:h}=await c.supabase.from("content_calendar_members").select("id, role").eq("user_id",el.id),{data:u}=await c.supabase.from("content_calendar_folder_members").select("id, role").eq("user_id",el.id);console.log("\uD83D\uDCC5 Content Calendar - Direct memberships:",(null==x?void 0:x.length)||0),console.log("\uD83D\uDCC5 Content Calendar - CC memberships:",(null==h?void 0:h.length)||0),console.log("\uD83D\uDCC5 Content Calendar - Folder memberships:",(null==u?void 0:u.length)||0);let f=(x||[]).map(e=>e.company_id),m=h&&h.length>0||u&&u.length>0;if(m&&0===f.length){let{data:e}=await c.supabase.from("companies").select("id").eq("is_active",!0);f=(e||[]).map(e=>e.id),console.log("\uD83D\uDCC5 Content Calendar - User has CC access, fetching all companies:",f.length)}if(console.log("\uD83D\uDCC5 Content Calendar - Total company IDs:",f),f.length>0){let{data:e}=await c.supabase.from("companies").select("id, name").in("id",f),t=new Map((e||[]).map(e=>[e.id,e.name])),{data:n,error:r}=await c.supabase.from("content_posts").select("*, content_post_targets (platform, platform_status, publish_at)").in("company_id",f).order("planned_date",{ascending:!0});if(console.log("\uD83D\uDCC5 Content Calendar - Posts found:",(null==n?void 0:n.length)||0,r),!r&&n){let e=null===(i=el.id)||void 0===i?void 0:i.toString(),r=n.map(i=>{var n,r,o;let a=(null===(n=i.owner_id)||void 0===n?void 0:n.toString())===e||(null===(r=i.designer_id)||void 0===r?void 0:r.toString())===e||(null===(o=i.editor_id)||void 0===o?void 0:o.toString())===e;return{...i,company_name:t.get(i.company_id)||"Unknown Company",platforms:(i.content_post_targets||[]).map(e=>e.platform),targets:i.content_post_targets||[],isAssigned:a}});eK(r),console.log("\uD83D\uDCC5 Content Calendar - Posts loaded:",r.length)}}else console.log("\uD83D\uDCC5 Content Calendar - No company access found");try{let{data:e,error:t}=await c.supabase.from("personal_todos").select("*").eq("user_id",el.id).order("deadline",{ascending:!0});if(!t&&e)eQ(e),console.log("\uD83D\uDCDD Personal Todos - Loaded:",e.length);else if((null==t?void 0:t.code)==="42P01"){console.log("\uD83D\uDCDD Personal Todos - Table does not exist yet");let e=localStorage.getItem("personalTodos");e&&eQ(JSON.parse(e))}}catch(t){console.log("\uD83D\uDCDD Personal Todos - Error fetching:",t);let e=localStorage.getItem("personalTodos");e&&eQ(JSON.parse(e))}}catch(e){console.error("Error fetching external data:",e)}},tQ=async()=>{try{eh(!0);let e=(await Promise.resolve().then(i.bind(i,78411))).supabase,{data:t,error:n}=await e.from("time_blocks").select("*").eq("user_id",null==el?void 0:el.id).order("date",{ascending:!0});if(n){if("42P01"===n.code||"42703"===n.code){console.log("Database table not ready, using localStorage");let e=localStorage.getItem("timeBlocks");e&&ex(JSON.parse(e));return}throw n}let r=(t||[]).map(e=>$(e));ex(r)}catch(t){console.error("Error fetching blocks:",t);let e=localStorage.getItem("timeBlocks");e&&ex(JSON.parse(e))}finally{eh(!1)}},t$=async e=>{let t=ec.some(t=>t.id===e.id)?ec.map(t=>t.id===e.id?e:t):[...ec,e];ex(t),localStorage.setItem("timeBlocks",JSON.stringify(t));try{let t=(await Promise.resolve().then(i.bind(i,78411))).supabase,n=ee(e,null==el?void 0:el.id);n.updated_at=new Date().toISOString(),console.log("Saving block to database:",n);let{data:r,error:o}=await t.from("time_blocks").upsert(n).select();if(o){console.error("Database save error:",o),console.log("Block data that failed:",n);return}console.log("Block saved successfully:",r),await tQ()}catch(e){console.error("Error saving block:",e)}},t0=async e=>{let t=eV.some(t=>t.id===e.id)?eV.map(t=>t.id===e.id?e:t):[...eV,e];eQ(t),localStorage.setItem("personalTodos",JSON.stringify(t));try{let t={...e,user_id:null==el?void 0:el.id,updated_at:new Date().toISOString()},{error:i}=await c.supabase.from("personal_todos").upsert(t);i&&"42P01"!==i.code&&console.error("Database save error for todo:",i)}catch(e){console.error("Error saving todo:",e)}},t1=async()=>{var e;if(!(null===(e=e1.task_name)||void 0===e?void 0:e.trim()))return;let t={id:K(),user_id:null==el?void 0:el.id,task_name:e1.task_name.trim(),start_date:e1.start_date||J(new Date),deadline:e1.deadline||J(new Date),duration:e1.duration||1,description:e1.description||"",priority:e1.priority||"normal",completed:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};await t0(t),e2({task_name:"",start_date:J(new Date),deadline:J(new Date),duration:1,description:"",priority:"normal"}),e0(!1)},t2=async e=>{let t=eV.find(t=>t.id===e);if(!t)return;let i={...t,completed:!t.completed};await t0(i)},t5=async e=>{let t=eV.filter(t=>t.id!==e);eQ(t),localStorage.setItem("personalTodos",JSON.stringify(t));try{let{error:t}=await c.supabase.from("personal_todos").delete().eq("id",e);t&&"42P01"!==t.code&&console.error("Error deleting todo:",t)}catch(e){console.error("Error deleting todo:",e)}},t6=()=>{let e=J(em);return eV.filter(t=>{if("day"===eu)return e>=t.start_date&&e<=t.deadline;if("week"===eu){let e=X(em),i=J(e[0]),n=J(e[6]);return t.start_date<=n&&t.deadline>=i}{let e=G(em),i=J(e[0]),n=J(e[e.length-1]);return t.start_date<=n&&t.deadline>=i}})},t8=(e,t)=>{if(e.stopPropagation(),e.preventDefault(),t.id.startsWith("goal-")||t.id.startsWith("meeting-"))return;let[i,n]=t.startTime.split(":").map(Number);t_(t),tR(e.clientY),tB(e.clientY),tI({hour:i,minute:n})},t4=(0,r.useCallback)(e=>{tE&&tB(e.clientY)},[tE]),t3=(0,r.useCallback)(()=>{if(!tE||!tW){t_(null);return}let e=tA-tz,t=60*tW.hour+tW.minute+15*Math.round(e/52*60/15),[i,n]=tE.endTime.split(":").map(Number),r=60*i+n-(60*tW.hour+tW.minute),o=Math.max(0,Math.min(1425,t)),a=Math.max(15,Math.min(1439,o+r)),l={...tE,startTime:"".concat(Math.floor(o/60).toString().padStart(2,"0"),":").concat((o%60).toString().padStart(2,"0")),endTime:"".concat(Math.floor(a/60).toString().padStart(2,"0"),":").concat((a%60).toString().padStart(2,"0"))};t$(l),t_(null),tI(null)},[tE,tW,tz,tA,t$]),t7=(e,t)=>{e.stopPropagation(),e.preventDefault(),t.id.startsWith("goal-")||t.id.startsWith("meeting-")||(tN(t),tL(e.clientY),tP(t.endTime))},t9=(0,r.useCallback)(e=>{if(!tM)return;let t=e.clientY-tH,[i,n]=tZ.split(":").map(Number),[r,o]=tM.startTime.split(":").map(Number),a=Math.max(60*r+o+15,Math.min(1439,60*i+n+15*Math.round(t/60*60/15)));tN({...tM,endTime:"".concat(Math.floor(a/60).toString().padStart(2,"0"),":").concat((a%60).toString().padStart(2,"0"))})},[tM,tH,tZ]),ie=(0,r.useCallback)(()=>{tM&&(t$(tM),tN(null),tP(""))},[tM,t$]);(0,r.useEffect)(()=>{if(tE)return window.addEventListener("mousemove",t4),window.addEventListener("mouseup",t3),()=>{window.removeEventListener("mousemove",t4),window.removeEventListener("mouseup",t3)}},[tE,t4,t3]),(0,r.useEffect)(()=>{if(tM)return window.addEventListener("mousemove",t9),window.addEventListener("mouseup",ie),()=>{window.removeEventListener("mousemove",t9),window.removeEventListener("mouseup",ie)}},[tM,t9,ie]);let it=()=>{if(!tE)return 0;let e=tA-tz;return 15*Math.round(e/60*60/15)/60*60},ii=async e=>{console.log("deleteBlock called with id:",e);try{let t=(await Promise.resolve().then(i.bind(i,78411))).supabase,{error:n}=await t.from("time_blocks").delete().eq("id",e);n?console.error("Supabase delete error:",n):console.log("Block deleted from database successfully");let r=ec.filter(t=>t.id!==e);console.log("Updating local state, blocks count:",ec.length,"->",r.length),ex(r),localStorage.setItem("timeBlocks",JSON.stringify(r)),ev(!1),ej(null)}catch(i){console.error("Error deleting block:",i);let t=ec.filter(t=>t.id!==e);ex(t),localStorage.setItem("timeBlocks",JSON.stringify(t)),ev(!1),ej(null)}},ir=async e=>{if(e.id.startsWith("goal-")||e.id.startsWith("meeting-"))return;let[t,i]=e.startTime.split(":").map(Number),[n,r]=e.endTime.split(":").map(Number),o=60*n+r-(60*t+i),a=60*n+r+30;a+o>1440&&(a=Math.max(0,60*t+i-60));let l=Math.floor(a/60),s=a%60,d=a+o,p={...e,id:K(),title:"".concat(e.title," (copy)"),startTime:"".concat(l.toString().padStart(2,"0"),":").concat(s.toString().padStart(2,"0")),endTime:"".concat(Math.floor(d/60).toString().padStart(2,"0"),":").concat((d%60).toString().padStart(2,"0")),completed:!1,isRecurring:!1,recurringDays:[]};console.log("Duplicating block:",e.title,"-> New time:",p.startTime,"-",p.endTime),await t$(p),ej(p),eB(p),ev(!0)},io=(e,t)=>{e.preventDefault(),e.stopPropagation(),t.id.startsWith("goal-")||t.id.startsWith("meeting-")||tU({x:e.clientX,y:e.clientY,block:t})},ia=()=>{tU(null)};r.useEffect(()=>{let e=()=>ia();if(tO)return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[tO]);let il=async(e,t)=>{let i={...e,excludedDates:[...e.excludedDates||[],t]};await t$(i),e_(!1),eR(null),eI(""),ev(!1),ej(null)},is=async e=>{try{if(await g.tb.deleteGoal(e),el){let e=await g.tb.getGoals(el.id);e.data&&e6(e.data)}ev(!1),ej(null)}catch(e){console.error("Error deleting goal:",e)}},id=e=>{"goal"===e.type?(eR(e),eI(J(em)),e_(!0)):e.isRecurring?(eR(e),eI(J(em)),e_(!0)):ii(e.id)},ip=async e=>{console.log("handleDeleteConfirm called:",{deleteAll:e,deleteTargetBlock:ez}),ez&&("goal"===ez.type?e?(console.log("Deleting goal:",ez.id),await is(ez.id)):(console.log("Single occurrence skip for goals not yet implemented"),ev(!1),ej(null)):e?(console.log("Deleting all occurrences of block:",ez.id),await ii(ez.id)):(console.log("Deleting single occurrence:",ez.id,eW),await il(ez,eW))),e_(!1),eR(null),eI("")},ic=e=>{ej(e),eB(e),ev(!0)},ix=e=>{if(!eb)return;let t=eb.checklist.map(t=>t.id===e?{...t,completed:!t.completed}:t),i={...eb,checklist:t};ej(i),eB({...eA,checklist:t}),t$(i)},ig=()=>{if(!eC.trim()||!eb)return;let e={id:K(),text:eC,completed:!1},t=[...eb.checklist||[],e],i={...eb,checklist:t};ej(i),eB({...eA,checklist:t}),eT(""),t$(i)},ih=e=>{if(!eb)return;let t=eb.checklist.filter(t=>t.id!==e),i={...eb,checklist:t};ej(i),eB({...eA,checklist:t}),t$(i)},iu=e=>{let t=new Date(em);"day"===eu?t.setDate(t.getDate()+("next"===e?1:-1)):"week"===eu?t.setDate(t.getDate()+("next"===e?7:-7)):t.setMonth(t.getMonth()+("next"===e?1:-1)),ey(t)},im=e=>{let t=J(e),i=e.getDay();return e5.filter(e=>{if(!e.is_active||e.start_date&&t<e.start_date||e.end_date&&t>e.end_date)return!1;if("daily"===e.target_frequency)return!0;if("weekly"===e.target_frequency||"custom"===e.target_frequency){var n;return(null===(n=e.target_days)||void 0===n?void 0:n.includes(i))||!1}return!1})},iy=e=>{let t=new Date().toISOString().split("T")[0];return e8.some(i=>i.goal_id===e&&i.completed_date===t)},ib=e=>{let t=new Map,i=e=>{let[t,i]=e.split(":").map(Number);return 60*t+i},n=[...e].sort((e,t)=>i(e.startTime)-i(t.startTime)),r=[];for(let e of n){let n=i(e.startTime),o=i(e.endTime),a=0;for(;a<r.length&&r[a].endMinutes>n;)a++;a<r.length?r[a]={blockId:e.id,endMinutes:o}:r.push({blockId:e.id,endMinutes:o}),t.set(e.id,{column:a,totalColumns:1})}for(let e of n){let r=i(e.startTime),o=i(e.endTime),a=n.filter(e=>{let t=i(e.startTime),n=i(e.endTime);return r<n&&o>t}),l=0;for(let e of a){let i=t.get(e.id);i&&i.column>l&&(l=i.column)}let s=l+1;for(let e of a){let i=t.get(e.id);i&&t.set(e.id,{...i,totalColumns:Math.max(i.totalColumns,s)})}}return t},ij=e=>{let t=J(e),i=e.getDay(),n=(e,t)=>e.localeCompare(t),r=ec.filter(e=>{if(!e.isRecurring&&e.date===t)return!0;if(e.isRecurring&&e.recurringDays&&e.recurringDays.length>0){if(!e.recurringDays.includes(i)||e.excludedDates&&e.excludedDates.includes(t))return!1;let r=e.recurringStartDate||e.date,o=e.recurringEndDate||"";return!(0>n(t,r)||o&&n(t,o)>0)}return!1}),o=im(e).filter(e=>e.target_time).map(e=>{let i=e.target_time?(()=>{let[t,i]=e.target_time.split(":").map(Number),n=60*t+i+(e.duration_minutes||30);return"".concat((Math.floor(n/60)%24).toString().padStart(2,"0"),":").concat((n%60).toString().padStart(2,"0"))})():e.target_time;return{id:"goal-".concat(e.id),date:t,startTime:e.target_time||"09:00",endTime:i||"09:30",title:e.title,description:e.description,type:"goal",checklist:[],color:e.color,category:e.category,completed:iy(e.id)}}),a=eq.filter(e=>e.date===t&&e.time).map(e=>{let i=e.time,n=e.duration||60,[r,o]=i.split(":").map(Number),a=60*r+o+n,l="".concat((Math.floor(a/60)%24).toString().padStart(2,"0"),":").concat((a%60).toString().padStart(2,"0"));return{id:"meeting-".concat(e.id),date:t,startTime:i,endTime:l,title:e.title,description:e.description,type:"meeting",checklist:[],meetingLink:e.meeting_link,color:"#8b5cf6",category:e.project_name,completed:!1}});return[...r,...o,...a]},iw=e=>{let[t,i]=e.startTime.split(":").map(Number),[n,r]=e.endTime.split(":").map(Number),o=60*t+i;return{top:o/60*52+40,height:Math.max((60*n+r-o)/60*80,40)}};if(!es)return null;let iv=["January","February","March","April","May","June","July","August","September","October","November","December"];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Z,{projects:[],onCreateProject:()=>{},onCollapsedChange:th}),(0,n.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"page-main main-content personal-main personal-page",style:{minHeight:"100vh",marginLeft:"280px",marginRight:tc?"0":e9?"380px":"0",background:"#0D0D0D",transition:"all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94)"},children:[(0,n.jsxs)(l.E.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},style:{padding:"20px 32px",background:"#141414",borderBottom:"1px solid #2D2D2D",position:"sticky",top:0,zIndex:100},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"32px"},children:[(0,n.jsx)("div",{children:(0,n.jsx)(l.E.h1,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},style:{fontSize:"24px",fontWeight:"700",color:"#FFFFFF",letterSpacing:"-0.025em",margin:0},children:"Focus"})}),(()=>{let e=Q(ec,em);return(0,n.jsxs)(l.E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.4},style:{display:"flex",alignItems:"center",gap:"12px",padding:"8px 16px",background:e.percentage>=100?"rgba(34, 197, 94, 0.2)":"rgba(59, 130, 246, 0.2)",borderRadius:"24px"},children:[(0,n.jsx)("div",{style:{width:"100px",height:"6px",background:"rgba(255,255,255,0.1)",borderRadius:"3px",overflow:"hidden"},children:(0,n.jsx)(l.E.div,{initial:{width:0},animate:{width:"".concat(e.percentage,"%")},transition:{duration:.8,ease:"easeOut",delay:.5},style:{height:"100%",background:e.percentage>=100?"#22c55e":"#3b82f6",borderRadius:"3px"}})}),(0,n.jsxs)("span",{style:{fontSize:"13px",fontWeight:"600",color:e.percentage>=100?"#16a34a":"#2563eb"},children:[e.completed,"/",e.total]})]})})()]}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,n.jsxs)("div",{style:{display:"flex",background:"#1F1F1F",borderRadius:"10px",padding:"3px",position:"relative",border:"1px solid #2D2D2D"},children:[(0,n.jsx)(l.E.div,{layout:!0,layoutId:"viewModeIndicator",style:{position:"absolute",top:"3px",bottom:"3px",width:"calc(33.33% - 2px)",background:"#3B82F6",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.3)"},animate:{left:"day"===eu?"3px":"week"===eu?"calc(33.33% + 1px)":"calc(66.66% - 1px)"},transition:{type:"spring",stiffness:500,damping:35}}),["day","week","month"].map(e=>(0,n.jsx)(l.E.button,{onClick:()=>ef(e),whileTap:{scale:.97},style:{padding:"9px 20px",fontSize:"14px",fontWeight:"600",border:"none",borderRadius:"8px",cursor:"pointer",background:"transparent",color:eu===e?"#FFFFFF":"#71717A",textTransform:"capitalize",position:"relative",zIndex:1,transition:"color 0.15s ease",letterSpacing:"0.01em"},children:e},e))]}),(0,n.jsxs)(l.E.button,{onClick:()=>e0(!0),whileHover:{scale:1.03,y:-1},whileTap:{scale:.97},style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",fontSize:"13px",fontWeight:"600",border:"none",borderRadius:"10px",cursor:"pointer",background:"linear-gradient(135deg, #10B981, #059669)",color:"#FFFFFF",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.25)",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)"},children:[(0,n.jsx)(h.Z,{style:{width:"16px",height:"16px"}}),"Add To-Do"]}),(0,n.jsxs)(l.E.button,{onClick:()=>eD(!0),whileHover:{scale:1.03,y:-1,boxShadow:"0 8px 20px rgba(59, 130, 246, 0.4)"},whileTap:{scale:.97},style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 24px",fontSize:"14px",fontWeight:"600",border:"none",borderRadius:"10px",cursor:"pointer",background:"linear-gradient(135deg, #3B82F6 0%, #2563EB 100%)",color:"#FFFFFF",boxShadow:"0 4px 16px rgba(59, 130, 246, 0.3)",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)"},children:[(0,n.jsx)(u.Z,{style:{width:"18px",height:"18px",strokeWidth:2.5}}),"Add Block"]})]})]}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"16px",paddingTop:"16px",borderTop:"1px solid #2D2D2D"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"14px"},children:[(0,n.jsx)(l.E.button,{onClick:()=>iu("prev"),whileHover:{scale:1.08,background:"linear-gradient(135deg, #2D2D2D, #1F1F1F)",borderColor:"#3B82F6"},whileTap:{scale:.92},style:{width:"38px",height:"38px",display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid #2D2D2D",borderRadius:"10px",background:"#1A1A1A",cursor:"pointer",color:"#E4E4E7",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.2)"},children:(0,n.jsx)(f.Z,{style:{width:"18px",height:"18px",strokeWidth:2.5}})}),(0,n.jsxs)(l.E.h2,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},style:{fontSize:"17px",fontWeight:"700",color:"#FFFFFF",margin:0,minWidth:"200px",textAlign:"center",letterSpacing:"0.01em"},children:["day"===eu&&(0,n.jsxs)(n.Fragment,{children:[{0:"Sun",1:"Mon",2:"Tue",3:"Wed",4:"Thu",5:"Fri",6:"Sat"}[em.getDay()],", ",iv[em.getMonth()]," ",em.getDate()]}),"week"===eu&&(0,n.jsxs)(n.Fragment,{children:[iv[em.getMonth()]," ",X(em)[0].getDate()," - ",X(em)[6].getDate()]}),"month"===eu&&(0,n.jsxs)(n.Fragment,{children:[iv[em.getMonth()]," ",em.getFullYear()]})]},em.toISOString()),(0,n.jsx)(l.E.button,{onClick:()=>iu("next"),whileHover:{scale:1.08,background:"linear-gradient(135deg, #2D2D2D, #1F1F1F)",borderColor:"#3B82F6"},whileTap:{scale:.92},style:{width:"38px",height:"38px",display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid #2D2D2D",borderRadius:"10px",background:"#1A1A1A",cursor:"pointer",color:"#E4E4E7",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.2)"},children:(0,n.jsx)(m.Z,{style:{width:"18px",height:"18px",strokeWidth:2.5}})})]}),(0,n.jsx)(l.E.button,{onClick:()=>ey(new Date),whileHover:{scale:1.03,boxShadow:"0 4px 12px rgba(16, 185, 129, 0.25)"},whileTap:{scale:.97},style:{padding:"9px 18px",fontSize:"13px",fontWeight:"600",border:"none",borderRadius:"10px",background:"linear-gradient(135deg, #10B981, #059669)",cursor:"pointer",color:"#FFFFFF",boxShadow:"0 3px 10px rgba(16, 185, 129, 0.2)",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)"},children:"Today"})]})]}),(0,n.jsx)("main",{style:{padding:"32px 48px",maxWidth:"1800px",margin:"0 auto"},children:(0,n.jsx)(s.M,{mode:"wait",children:eg?(0,n.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"},children:(0,n.jsx)(l.E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},style:{width:"40px",height:"40px",border:"3px solid #f0f0f0",borderTopColor:"#0071e3",borderRadius:"50%"}})},"loading"):(0,n.jsxs)(s.M,{mode:"wait",children:["day"===eu&&(0,n.jsx)(l.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,ease:"easeInOut"},style:{background:"#1A1A1A",borderRadius:"16px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",border:"1px solid #2D2D2D",overflow:"hidden"},children:(0,n.jsxs)("div",{ref:tC,style:{position:"relative",cursor:tb?"ns-resize":"crosshair"},onMouseDown:e=>{e.target.closest("[data-block]")||tq(e,em)},children:[U.map(e=>(0,n.jsxs)("div",{style:{display:"flex",borderBottom:"1px solid #2D2D2D",minHeight:"52px"},children:[(0,n.jsx)("div",{style:{width:"80px",padding:"8px 16px",fontSize:"12px",fontWeight:"500",color:"#71717A",textAlign:"right",flexShrink:0,pointerEvents:"none"},children:0===e?"12 AM":e<12?"".concat(e," AM"):12===e?"12 PM":"".concat(e-12," PM")}),(0,n.jsx)("div",{style:{flex:1,borderLeft:"1px solid #2D2D2D",position:"relative"}})]},e)),tb&&tK()&&(0,n.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},style:{position:"absolute",top:"".concat(tK().top,"px"),left:"96px",right:"16px",height:"".concat(Math.max(tK().height,30),"px"),background:"rgba(59, 130, 246, 0.15)",borderLeft:"3px solid #3b82f6",borderRadius:"8px",padding:"8px 12px",pointerEvents:"none",zIndex:5},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,n.jsx)(y.Z,{style:{width:"14px",height:"14px",color:"#3b82f6"}}),(0,n.jsx)("span",{style:{fontSize:"13px",fontWeight:"600",color:"#1d1d1f"},children:"New Block"})]}),tw&&tk&&(0,n.jsxs)("div",{style:{fontSize:"11px",color:"#86868b",marginTop:"4px"},children:[q(tJ(Math.min(tw.hour,tk.hour),Math.min(tw.hour,tk.hour)===tw.hour?tw.minute:tk.minute))," - ",q(tJ(Math.max(tw.hour,tk.hour),Math.max(tw.hour,tk.hour)===tw.hour?tw.minute:tk.minute))]})]}),(()=>{let e=ij(em),t=ib(e);return e.map(e=>{let{top:i,height:r}=iw(e),o=O[e.type]||O.focus,a=V(e.checklist),s=[...Z,...eM].find(t=>t.id===e.category),d=t.get(e.id),p=(null==d?void 0:d.column)||0,c=(null==d?void 0:d.totalColumns)||1,x="calc((100% - 112px) / ".concat(c," - 4px)"),g="calc(96px + (100% - 112px) * ".concat(p," / ").concat(c,")"),u=(null==tE?void 0:tE.id)===e.id,f=(null==tM?void 0:tM.id)===e.id,m=u?it():0,S=f?tM:e,F=f?(()=>{let[e,t]=S.startTime.split(":").map(Number),[i,n]=S.endTime.split(":").map(Number);return Math.max((60*i+n-(60*e+t))/60*60,30)})():r,C=!e.id.startsWith("goal-")&&!e.id.startsWith("meeting-");return(0,n.jsxs)(l.E.div,{"data-block":"true",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1,y:m},whileHover:{scale:C?1.01:1,zIndex:10},onClick:()=>!u&&!f&&ic(e),onDoubleClick:t=>{t.stopPropagation(),u||f||!C||ir(e)},onContextMenu:t=>io(t,e),onMouseDown:t=>C&&t8(t,e),style:{position:"absolute",top:"".concat(i,"px"),left:g,width:x,height:"".concat(F,"px"),background:o.bg,borderLeft:"5px solid ".concat(o.border),borderRadius:"12px",padding:"10px 14px",cursor:u?"grabbing":C?"grab":"pointer",overflow:"hidden",transition:u||f?"none":"all 0.2s ease",zIndex:u||f?100:p+2,boxShadow:u?"0 8px 25px rgba(0,0,0,0.3)":"0 4px 12px rgba(0,0,0,0.2)",opacity:u?.9:1},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,n.jsx)(l.E.div,{whileHover:{scale:1.15},whileTap:{scale:.9},onClick:t=>{t.stopPropagation();let i={...e,completed:!e.completed};t$(i)},style:{width:"20px",height:"20px",borderRadius:"6px",border:e.completed?"none":"2.5px solid rgba(255,255,255,0.8)",background:e.completed?"rgba(255,255,255,0.95)":"rgba(255,255,255,0.15)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",flexShrink:0,boxShadow:e.completed?"0 2px 6px rgba(0,0,0,0.2)":"none"},children:e.completed&&(0,n.jsx)(b.Z,{style:{width:"13px",height:"13px",color:"#10B981",strokeWidth:3}})}),"focus"===e.type&&(0,n.jsx)(y.Z,{style:{width:"16px",height:"16px",color:"rgba(255,255,255,0.9)"}}),"meeting"===e.type&&(0,n.jsx)(j.Z,{style:{width:"16px",height:"16px",color:"rgba(255,255,255,0.9)"}}),"personal"===e.type&&(0,n.jsx)(w.Z,{style:{width:"16px",height:"16px",color:"rgba(255,255,255,0.9)"}}),"goal"===e.type&&(0,n.jsx)(v.Z,{style:{width:"16px",height:"16px",color:"rgba(255,255,255,0.9)"}}),"project"===e.type&&(0,n.jsx)(k.Z,{style:{width:"16px",height:"16px",color:"rgba(255,255,255,0.9)"}}),(0,n.jsx)("span",{style:{fontSize:"14px",fontWeight:"600",color:e.completed?"rgba(255,255,255,0.5)":"#FFFFFF",textDecoration:e.completed?"line-through":"none",flex:1},children:e.title}),s&&(0,n.jsx)("div",{style:{padding:"3px 8px",borderRadius:"6px",background:"rgba(255,255,255,0.2)",fontSize:"10px",fontWeight:600,color:"#FFFFFF",flexShrink:0},title:s.name,children:s.name}),e.checklist.length>0&&(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px",color:"rgba(255,255,255,0.85)"},children:[(0,n.jsx)(h.Z,{style:{width:"14px",height:"14px"}}),(0,n.jsxs)("span",{style:{fontSize:"11px",fontWeight:"600"},children:[e.checklist.filter(e=>e.completed).length,"/",e.checklist.length]})]}),e.isRecurring&&(0,n.jsx)(D.Z,{style:{width:"14px",height:"14px",color:"rgba(255,255,255,0.85)"}})]}),(0,n.jsxs)("div",{style:{fontSize:"12px",color:"rgba(255,255,255,0.75)",marginTop:"6px",fontWeight:500},children:[q(e.startTime)," - ",q(e.endTime)]}),e.checklist.length>0&&(0,n.jsxs)("div",{style:{marginTop:"6px"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"4px"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"11px",color:"#86868b"},children:[(0,n.jsx)(h.Z,{style:{width:"12px",height:"12px"}}),e.checklist.filter(e=>e.completed).length,"/",e.checklist.length]}),(0,n.jsxs)("span",{style:{fontSize:"10px",fontWeight:"600",color:a>=100?"#34c759":o.text},children:[a,"%"]})]}),(0,n.jsx)("div",{style:{height:"3px",background:"rgba(0, 0, 0, 0.08)",borderRadius:"2px",overflow:"hidden"},children:(0,n.jsx)(l.E.div,{initial:{width:0},animate:{width:"".concat(a,"%")},transition:{duration:.5,ease:"easeOut"},style:{height:"100%",background:a>=100?"#34c759":o.solid,borderRadius:"2px"}})})]}),C&&(0,n.jsx)("div",{onMouseDown:t=>t7(t,e),style:{position:"absolute",bottom:0,left:0,right:0,height:"8px",cursor:"ns-resize",display:"flex",alignItems:"center",justifyContent:"center",borderBottomLeftRadius:"8px",borderBottomRightRadius:"8px",background:"transparent"},className:"resize-handle",children:(0,n.jsx)("div",{style:{width:"30px",height:"3px",borderRadius:"2px",background:"rgba(0,0,0,0.15)",opacity:0,transition:"opacity 0.2s"},className:"resize-indicator"})})]},e.id)})})()]})},"day-view"),"week"===eu&&(0,n.jsxs)(l.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,ease:"easeInOut"},style:{background:"linear-gradient(180deg, #1A1A1A 0%, #141414 100%)",borderRadius:"24px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(255, 255, 255, 0.05)",border:"1px solid #2D2D2D",overflow:"auto",maxHeight:"calc(100vh - 180px)",display:"flex",flexDirection:"column"},children:[(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"80px repeat(7, 1fr)",borderBottom:"1px solid #2D2D2D",background:"#0D0D0D",position:"sticky",top:0,zIndex:20,flexShrink:0},children:[(0,n.jsx)("div",{style:{padding:"20px 12px",display:"flex",alignItems:"flex-end",justifyContent:"center"},children:(0,n.jsx)("span",{style:{fontSize:"11px",color:"#52525B",fontWeight:500},children:"GMT+5"})}),X(em).map((e,t)=>{let i=J(e)===J(new Date);return(0,n.jsxs)(l.E.div,{whileHover:{scale:1.02},style:{padding:"10px 8px 12px",textAlign:"center",borderLeft:"1px solid #2D2D2D",background:i?"linear-gradient(180deg, rgba(59, 130, 246, 0.15) 0%, rgba(59, 130, 246, 0.05) 100%)":"transparent",borderRadius:i?"12px 12px 0 0":"0",transition:"all 0.2s ease"},children:[(0,n.jsx)("div",{style:{fontSize:"13px",fontWeight:"600",color:i?"#3B82F6":"#71717A",textTransform:"lowercase",letterSpacing:"0.8px",marginBottom:"10px"},children:["sun","mon","tue","wed","thu","fri","sat"][e.getDay()]}),(0,n.jsx)("div",{style:{fontSize:"24px",fontWeight:"700",color:i?"#3B82F6":"#FFFFFF",lineHeight:1,textShadow:i?"0 2px 8px rgba(59, 130, 246, 0.3)":"none"},children:e.getDate()})]},t)})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"80px repeat(7, 1fr)",minHeight:"1196px"},children:[(0,n.jsx)("div",{style:{borderRight:"1px solid #1F1F1F"},children:U.filter(e=>e>=1&&e<=23).map(e=>(0,n.jsx)("div",{style:{height:"52px",padding:"6px 10px",fontSize:"11px",fontWeight:500,color:"#71717A",textAlign:"right",borderBottom:"1px solid #1F1F1F"},children:0===e?"12 am":e<12?"".concat(e," am"):12===e?"12 pm":"".concat(e-12," pm")},e))}),X(em).map((e,t)=>{let i=J(e)===J(new Date);return(0,n.jsxs)("div",{ref:e=>{tT.current[t]=e},style:{borderLeft:"1px solid #1F1F1F",position:"relative",cursor:tb?"ns-resize":"crosshair",background:i?"rgba(59, 130, 246, 0.03)":"transparent"},onMouseDown:i=>{var n;let r=null===(n=tT.current[t])||void 0===n?void 0:n.getBoundingClientRect();if(!r)return;let o=i.clientY-r.top,a=Math.max(0,Math.min(1439,o/52*60)),l=15*Math.round(a%60/15),s={hour:Math.min(23,Math.floor(a/60)+1),minute:l>=60?0:l};tj(!0),tv(s),tD(s),tF(e),i.preventDefault()},children:[U.filter(e=>e>=1&&e<=23).map(e=>(0,n.jsx)("div",{style:{height:"52px",borderBottom:"1px solid #1F1F1F"}},e)),tb&&tS&&J(tS)===J(e)&&tw&&tk&&(()=>{let e=(tw.hour-1)*60+tw.minute,t=(tk.hour-1)*60+tk.minute,i=52/60;return(0,n.jsx)("div",{style:{position:"absolute",top:"".concat(Math.min(e,t)*i,"px"),left:"4px",right:"4px",height:"".concat(Math.max(Math.abs(t-e)*i,30),"px"),background:"rgba(59, 130, 246, 0.2)",border:"2px dashed #3B82F6",borderRadius:"8px",pointerEvents:"none"}})})(),(()=>{let t=ij(e),i=ib(t),r=[{bg:"linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%)",border:"#8B5CF6",text:"#FFFFFF"},{bg:"linear-gradient(135deg, #10B981 0%, #059669 100%)",border:"#10B981",text:"#FFFFFF"},{bg:"linear-gradient(135deg, #06B6D4 0%, #0891B2 100%)",border:"#06B6D4",text:"#FFFFFF"},{bg:"linear-gradient(135deg, #F59E0B 0%, #D97706 100%)",border:"#F59E0B",text:"#FFFFFF"},{bg:"linear-gradient(135deg, #EC4899 0%, #DB2777 100%)",border:"#EC4899",text:"#FFFFFF"},{bg:"linear-gradient(135deg, #EF4444 0%, #DC2626 100%)",border:"#EF4444",text:"#FFFFFF"},{bg:"linear-gradient(135deg, #3B82F6 0%, #2563EB 100%)",border:"#3B82F6",text:"#FFFFFF"}];return t.map((e,t)=>{let[o,a]=e.startTime.split(":").map(Number),[s,d]=e.endTime.split(":").map(Number),p=52/60,c=e.type?["work","meeting","personal","health","learning","creative","other"].indexOf(e.type):t,x=r[Math.abs(c)%r.length],g=i.get(e.id),h=(null==g?void 0:g.column)||0,u=(null==g?void 0:g.totalColumns)||1,f=92/u;return(0,n.jsxs)(l.E.div,{whileHover:{scale:1.02,zIndex:20,boxShadow:"0 8px 24px rgba(0,0,0,0.3)"},onClick:t=>{t.stopPropagation(),ic(e)},onDoubleClick:t=>{t.stopPropagation(),e.id.startsWith("goal-")||e.id.startsWith("meeting-")||ir(e)},onContextMenu:t=>io(t,e),style:{position:"absolute",top:"".concat(Math.max(0,((o-1)*60+a)*p),"px"),left:"".concat(4+h*f,"%"),width:"".concat(f-2,"%"),height:"".concat(Math.max((60*s+d-(60*o+a))*p,35),"px"),background:x.bg,borderLeft:"5px solid ".concat(x.border),borderRadius:"14px",padding:"12px 14px",cursor:"pointer",overflow:"hidden",display:"flex",flexDirection:"column",gap:"6px",zIndex:h+1,boxShadow:"0 6px 16px rgba(0,0,0,0.25), 0 0 0 1px ".concat(x.border,"40"),transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px"},children:[(0,n.jsx)(l.E.div,{onClick:t=>{t.stopPropagation();let i={...e,completed:!e.completed};t$(i)},whileHover:{scale:1.1},whileTap:{scale:.9},style:{width:"20px",height:"20px",borderRadius:"6px",border:e.completed?"none":"2.5px solid rgba(255,255,255,0.8)",background:e.completed?"linear-gradient(135deg, #FFFFFF, #F0F0F0)":"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",flexShrink:0,boxShadow:e.completed?"0 2px 8px rgba(0,0,0,0.2)":"none",transition:"all 0.2s ease"},children:e.completed&&(0,n.jsx)(b.Z,{style:{width:"12px",height:"12px",color:"#10B981",strokeWidth:3}})}),(0,n.jsx)("span",{style:{fontSize:"13px",fontWeight:700,color:x.text,textDecoration:e.completed?"line-through":"none",lineHeight:1.4,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:e.title})]}),(0,n.jsx)("span",{style:{fontSize:"11px",color:x.text,opacity:.75,fontWeight:600},children:(()=>{let t=e=>{let[t,i]=e.split(":").map(Number);return"".concat(t%12||12,":").concat(i.toString().padStart(2,"0")," ").concat(t>=12?"pm":"am")};return"".concat(t(e.startTime)," - ").concat(t(e.endTime))})()})]},e.id)})})()]},t)})]})]},"week-view"),"month"===eu&&(0,n.jsxs)(l.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,ease:"easeInOut"},style:{background:"linear-gradient(180deg, #1A1A1A 0%, #141414 100%)",borderRadius:"24px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(255, 255, 255, 0.05)",border:"1px solid #2D2D2D",overflow:"hidden"},children:[(0,n.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",borderBottom:"1px solid #2D2D2D",background:"#141414"},children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(e=>(0,n.jsx)("div",{style:{padding:"16px",textAlign:"center",fontSize:"12px",fontWeight:"600",color:"#71717A",textTransform:"uppercase",letterSpacing:"0.5px"},children:e},e))}),(0,n.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)"},children:G(em).map((e,t)=>{let i=J(e)===J(new Date),r=e.getMonth()===em.getMonth(),o=ij(e);return(0,n.jsxs)(l.E.div,{whileHover:{background:"rgba(255, 255, 255, 0.03)"},onClick:()=>{ey(e),ef("day")},style:{minHeight:"80px",padding:"8px",borderRight:(t+1)%7!=0?"1px solid #2D2D2D":"none",borderBottom:"1px solid #2D2D2D",cursor:"pointer",opacity:r?1:.4},children:[(0,n.jsx)("div",{style:{fontSize:"14px",fontWeight:"500",color:i?"#fff":"#FFFFFF",background:i?"#3B82F6":"transparent",borderRadius:"50%",width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"4px"},children:e.getDate()}),o.slice(0,3).map(e=>{let t=O[e.type];return(0,n.jsxs)("div",{onClick:t=>{t.stopPropagation(),ic(e)},style:{fontSize:"11px",padding:"6px 8px",marginBottom:"4px",background:t.bg,borderLeft:"3px solid ".concat(t.border),borderRadius:"6px",color:e.completed?"rgba(255,255,255,0.5)":"#FFFFFF",fontWeight:"600",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",display:"flex",alignItems:"center",gap:"6px",boxShadow:"0 2px 6px rgba(0,0,0,0.15)",cursor:"pointer"},children:[(0,n.jsx)("div",{onClick:t=>{t.stopPropagation();let i={...e,completed:!e.completed};t$(i)},style:{width:"12px",height:"12px",borderRadius:"3px",border:e.completed?"none":"2px solid rgba(255,255,255,0.8)",background:e.completed?"rgba(255,255,255,0.95)":"rgba(255,255,255,0.15)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",flexShrink:0},children:e.completed&&(0,n.jsx)(b.Z,{style:{width:"7px",height:"7px",color:"#10B981",strokeWidth:3}})}),(0,n.jsx)("span",{style:{textDecoration:e.completed?"line-through":"none",flex:1,overflow:"hidden",textOverflow:"ellipsis"},children:e.title})]},e.id)}),o.length>3&&(0,n.jsxs)("div",{style:{fontSize:"11px",color:"rgba(255,255,255,0.6)",fontWeight:"600",marginTop:"2px"},children:["+",o.length-3," more"]})]},t)})})]},"month-view")]})})}),!tc&&e9&&(()=>{let e=(()=>{if("day"===eu){let e=J(em);return eO.filter(t=>!!t.due_date&&J(new Date(t.due_date))===e)}if("week"===eu){let e=new Date(em);e.setDate(e.getDate()-e.getDay());let t=new Date(e);return t.setDate(t.getDate()+6),eO.filter(i=>{if(!i.due_date)return!1;let n=new Date(i.due_date);return n>=e&&n<=t})}return eO})(),t=(()=>{if("day"===eu){let e=J(em);return eq.filter(t=>J(new Date(t.date))===e)}if("week"===eu){let e=new Date(em);e.setDate(e.getDate()-e.getDay());let t=new Date(e);return t.setDate(t.getDate()+6),eq.filter(i=>{let n=new Date(i.date);return n>=e&&n<=t})}return eq})(),i=(()=>{if("day"===eu){let e=J(em);return eY.filter(t=>{let i=J(new Date(t.start_date)),n=t.end_date?J(new Date(t.end_date)):i;return e>=i&&e<=n})}if("week"===eu){let e=new Date(em);e.setDate(e.getDate()-e.getDay());let t=new Date(e);return t.setDate(t.getDate()+6),eY.filter(i=>{let n=new Date(i.start_date),r=i.end_date?new Date(i.end_date):n;return n<=t&&r>=e})}return eY})(),r=(()=>{if("day"===eu){let e=J(em);return eX.filter(t=>t.planned_date===e)}if("week"===eu){let e=new Date(em);e.setDate(e.getDate()-e.getDay());let t=new Date(e);return t.setDate(t.getDate()+6),eX.filter(i=>{let n=new Date(i.planned_date);return n>=e&&n<=t})}return eX})();return(0,n.jsxs)(l.E.aside,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.3,ease:"easeOut"},style:{position:"fixed",right:0,top:"0",width:"380px",height:"100vh",background:"#141414",borderLeft:"1px solid #2D2D2D",overflowY:"auto",zIndex:100,padding:"0",boxShadow:"-4px 0 20px rgba(0,0,0,0.3)"},children:[(0,n.jsxs)("div",{style:{padding:"16px 20px",background:"#1A1A1A",borderBottom:"1px solid #2D2D2D",display:"flex",alignItems:"center",justifyContent:"space-between",position:"sticky",top:0,zIndex:10},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{style:{fontSize:"15px",fontWeight:"700",color:"#FFFFFF",margin:0},children:"day"===eu?"Today's Focus":"week"===eu?"This Week":"This Month"}),(0,n.jsx)("p",{style:{fontSize:"11px",color:"#71717A",margin:"2px 0 0"},children:"Projects & Schedules"})]}),(0,n.jsx)("button",{onClick:()=>te(!1),style:{width:"32px",height:"32px",borderRadius:"10px",border:"1px solid #2D2D2D",background:"#1F1F1F",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.15s ease"},children:(0,n.jsx)(m.Z,{style:{width:"16px",height:"16px",color:"#71717A"}})})]}),(0,n.jsxs)("div",{style:{padding:"16px"},children:[(0,n.jsxs)("div",{style:{background:"#1A1A1A",borderRadius:"16px",border:"1px solid #2D2D2D",overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.2)"},children:[(0,n.jsxs)("div",{style:{display:"flex",padding:"3px",background:"#0D0D0D",margin:"8px",borderRadius:"8px",gap:"3px"},children:[(0,n.jsxs)("button",{onClick:()=>e7("tasks"),style:{flex:1,padding:"8px 12px",fontSize:"11px",fontWeight:"600",border:"none",borderRadius:"6px",background:"tasks"===e3?"#3B82F6":"transparent",color:"tasks"===e3?"#FFFFFF":"#71717A",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px",transition:"all 0.2s ease",boxShadow:"tasks"===e3?"0 2px 4px rgba(59,130,246,0.3)":"none"},children:[(0,n.jsx)(S.Z,{style:{width:"12px",height:"12px"}}),"Tasks"]}),(0,n.jsxs)("button",{onClick:()=>e7("timeline"),style:{flex:1,padding:"8px 12px",fontSize:"11px",fontWeight:"600",border:"none",borderRadius:"6px",background:"timeline"===e3?"#8B5CF6":"transparent",color:"timeline"===e3?"#FFFFFF":"#71717A",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px",transition:"all 0.2s ease",boxShadow:"timeline"===e3?"0 2px 4px rgba(139,92,246,0.3)":"none"},children:[(0,n.jsx)(F.Z,{style:{width:"12px",height:"12px"}}),"Timeline"]}),(0,n.jsxs)("button",{onClick:()=>e7("content"),style:{flex:1,padding:"8px 12px",fontSize:"11px",fontWeight:"600",border:"none",borderRadius:"6px",background:"content"===e3?"#EC4899":"transparent",color:"content"===e3?"#FFFFFF":"#71717A",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px",transition:"all 0.2s ease",boxShadow:"content"===e3?"0 2px 4px rgba(236,72,153,0.3)":"none"},children:[(0,n.jsx)(C.Z,{style:{width:"12px",height:"12px"}}),"Content"]}),(0,n.jsxs)("button",{onClick:()=>e7("todo"),style:{flex:1,padding:"8px 12px",fontSize:"11px",fontWeight:"600",border:"none",borderRadius:"6px",background:"todo"===e3?"#10B981":"transparent",color:"todo"===e3?"#FFFFFF":"#71717A",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px",transition:"all 0.2s ease",boxShadow:"todo"===e3?"0 2px 4px rgba(16,185,129,0.3)":"none"},children:[(0,n.jsx)(h.Z,{style:{width:"12px",height:"12px"}}),"To-Do"]})]}),(0,n.jsx)("div",{style:{padding:"8px",maxHeight:"280px",overflowY:"auto"},children:"tasks"===e3?0===e.length?(0,n.jsxs)("div",{style:{textAlign:"center",padding:"24px 16px",color:"#71717A",background:"#0D0D0D",borderRadius:"8px",border:"1px dashed #2D2D2D"},children:[(0,n.jsx)(S.Z,{style:{width:"20px",height:"20px",color:"#52525B",margin:"0 auto 8px"}}),(0,n.jsxs)("p",{style:{fontSize:"11px",fontWeight:"500",margin:0,color:"#71717A"},children:["No tasks ","day"===eu?"due today":"week"===eu?"this week":"this month"]})]}):(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:e.map(e=>{let t=e.due_date&&new Date(e.due_date)<new Date&&"done"!==e.status,i=e.due_date&&J(new Date(e.due_date))===J(em);return(0,n.jsxs)(l.E.div,{whileHover:{x:2},whileTap:{scale:.99},onClick:()=>tr(e),style:{padding:"8px 10px",borderRadius:"8px",cursor:"pointer",borderLeft:"3px solid ".concat(e.project_color||"#6b7280"),background:i?"rgba(59, 130, 246, 0.15)":"#0D0D0D",transition:"all 0.15s ease"},children:[(0,n.jsx)("div",{style:{fontSize:"12px",fontWeight:"500",color:"#FFFFFF",marginBottom:"4px",lineHeight:"1.3"},children:e.name}),(0,n.jsxs)("div",{style:{fontSize:"10px",color:"#71717A",display:"flex",alignItems:"center",gap:"6px"},children:[(0,n.jsx)("span",{style:{color:e.project_color,fontWeight:"500"},children:e.project_name}),e.due_date&&(0,n.jsx)("span",{style:{color:t?"#EF4444":i?"#3B82F6":"#71717A"},children:new Date(e.due_date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]})]},e.id)})}):"timeline"===e3?0===i.length?(0,n.jsxs)("div",{style:{textAlign:"center",padding:"24px 16px",color:"#8B5CF6",background:"#0D0D0D",borderRadius:"8px",border:"1px dashed #2D2D2D"},children:[(0,n.jsx)(F.Z,{style:{width:"20px",height:"20px",color:"#8B5CF6",margin:"0 auto 8px",opacity:.6}}),(0,n.jsxs)("p",{style:{fontSize:"11px",fontWeight:"500",margin:0,color:"#71717A"},children:["No timeline items ","day"===eu?"today":"week"===eu?"this week":"this month"]})]}):(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:i.map(e=>{let t=e.start_date&&J(new Date(e.start_date))===J(em);return(0,n.jsxs)(l.E.div,{whileHover:{x:2},whileTap:{scale:.99},onClick:()=>ta(e),style:{padding:"10px 12px",borderRadius:"8px",cursor:"pointer",borderLeft:"3px solid #8B5CF6",background:t?"rgba(139, 92, 246, 0.1)":"#0D0D0D",transition:"all 0.15s ease"},children:[(0,n.jsx)("div",{style:{fontSize:"12px",fontWeight:"500",color:"#FFFFFF",marginBottom:"4px",lineHeight:"1.3"},children:e.title}),(0,n.jsxs)("div",{style:{fontSize:"10px",color:"#71717A",display:"flex",alignItems:"center",gap:"6px"},children:[e.category_name&&(0,n.jsx)("span",{style:{color:"#8B5CF6",fontWeight:"500"},children:e.category_name}),(0,n.jsxs)("span",{children:[new Date(e.start_date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),e.end_date&&" - ".concat(new Date(e.end_date).toLocaleDateString("en-US",{month:"short",day:"numeric"}))]})]})]},e.id)})}):"content"===e3?0===r.length?(0,n.jsxs)("div",{style:{textAlign:"center",padding:"24px 16px",color:"#EC4899",background:"#0D0D0D",borderRadius:"8px",border:"1px dashed #2D2D2D"},children:[(0,n.jsx)(C.Z,{style:{width:"20px",height:"20px",color:"#EC4899",margin:"0 auto 8px",opacity:.6}}),(0,n.jsxs)("p",{style:{fontSize:"11px",fontWeight:"500",margin:0,color:"#71717A"},children:["No posts scheduled ","day"===eu?"today":"week"===eu?"this week":"this month"]})]}):(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:r.map(e=>{let t=e.planned_date===J(em),i={facebook:"#1877F2",instagram:"#E4405F",tiktok:"#000000",linkedin:"#0A66C2"},r={idea:{bg:"#F3E8FF",text:"#9333EA"},draft:{bg:"#F3F4F6",text:"#6B7280"},design:{bg:"#FEF3C7",text:"#D97706"},review:{bg:"#DBEAFE",text:"#3B82F6"},approved:{bg:"#D1FAE5",text:"#10B981"},scheduled:{bg:"#E0E7FF",text:"#4F46E5"},published:{bg:"#DCFCE7",text:"#16A34A"}}[e.status]||{bg:"#2D2D2D",text:"#71717A"};return(0,n.jsxs)(l.E.div,{whileHover:{x:2},whileTap:{scale:.99},onClick:()=>tp(e),style:{padding:"10px 12px",borderRadius:"8px",cursor:"pointer",borderLeft:"3px solid ".concat(e.isAssigned?"#EC4899":"#52525B"),background:t?"rgba(236, 72, 153, 0.1)":"#0D0D0D",transition:"all 0.15s ease"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"4px"},children:[(0,n.jsx)("div",{style:{fontSize:"12px",fontWeight:"500",color:"#FFFFFF",lineHeight:"1.3",flex:1},children:e.title}),e.isAssigned&&(0,n.jsx)("span",{style:{fontSize:"8px",fontWeight:"700",padding:"2px 5px",background:"#EC4899",color:"#fff",borderRadius:"4px",marginLeft:"6px",flexShrink:0},children:"ASSIGNED"})]}),(0,n.jsxs)("div",{style:{fontSize:"10px",color:"#71717A",display:"flex",alignItems:"center",gap:"6px",marginBottom:"4px",flexWrap:"wrap"},children:[(0,n.jsx)("span",{style:{color:"#EC4899",fontWeight:"500"},children:e.company_name}),(0,n.jsx)("span",{style:{fontSize:"9px",padding:"1px 5px",borderRadius:"4px",background:r.bg,color:r.text,fontWeight:"600",textTransform:"capitalize"},children:e.status}),(0,n.jsx)("span",{children:new Date(e.planned_date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),(0,n.jsx)("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:(e.platforms||[]).map(e=>(0,n.jsx)("span",{style:{fontSize:"9px",fontWeight:"600",padding:"2px 6px",borderRadius:"4px",background:i[e]||"#6b7280",color:"#fff",textTransform:"capitalize"},children:e},e))})]},e.id)})}):"todo"===e3?(()=>{let e=t6();return 0===e.length?(0,n.jsxs)("div",{style:{textAlign:"center",padding:"24px 16px",color:"#10B981",background:"#0D0D0D",borderRadius:"8px",border:"1px dashed #2D2D2D"},children:[(0,n.jsx)(h.Z,{style:{width:"20px",height:"20px",color:"#10B981",margin:"0 auto 8px",opacity:.6}}),(0,n.jsxs)("p",{style:{fontSize:"11px",fontWeight:"500",margin:"0 0 8px 0",color:"#71717A"},children:["No to-dos ","day"===eu?"for today":"week"===eu?"this week":"this month"]}),(0,n.jsxs)("button",{onClick:()=>e0(!0),style:{fontSize:"10px",fontWeight:"600",padding:"6px 12px",border:"none",borderRadius:"6px",background:"#10B981",color:"#fff",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"4px"},children:[(0,n.jsx)(u.Z,{style:{width:"10px",height:"10px"}}),"Add To-Do"]})]}):(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[(0,n.jsxs)("button",{onClick:()=>e0(!0),style:{width:"100%",padding:"8px 10px",fontSize:"11px",fontWeight:"600",border:"1px dashed #2D2D2D",borderRadius:"8px",background:"#0D0D0D",color:"#10B981",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px",marginBottom:"4px"},children:[(0,n.jsx)(u.Z,{style:{width:"12px",height:"12px"}}),"Add To-Do"]}),e.map(e=>{let t=new Date(e.deadline)<new Date&&!e.completed,i={urgent:{bg:"#DC262620",border:"#DC2626",text:"#EF4444"},important:{bg:"#D9770620",border:"#D97706",text:"#F59E0B"},normal:{bg:"#10B98120",border:"#10B981",text:"#10B981"}}[e.priority];return(0,n.jsx)(l.E.div,{whileHover:{x:2},whileTap:{scale:.99},style:{padding:"10px 12px",borderRadius:"8px",cursor:"pointer",borderLeft:"3px solid ".concat(i.text),background:e.completed?"#1A1A1A":"#0D0D0D",transition:"all 0.15s ease",opacity:e.completed?.7:1},children:(0,n.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px"},children:[(0,n.jsx)("button",{onClick:t=>{t.stopPropagation(),t2(e.id)},style:{width:"16px",height:"16px",borderRadius:"4px",border:e.completed?"none":"2px solid ".concat(i.text),background:e.completed?"#10B981":"transparent",cursor:"pointer",flexShrink:0,marginTop:"2px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.completed&&(0,n.jsx)(b.Z,{style:{width:"10px",height:"10px",color:"#fff"}})}),(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("div",{style:{fontSize:"12px",fontWeight:"500",color:e.completed?"#71717A":"#FFFFFF",marginBottom:"4px",lineHeight:"1.3",textDecoration:e.completed?"line-through":"none"},children:e.task_name}),(0,n.jsxs)("div",{style:{fontSize:"10px",color:"#71717A",display:"flex",alignItems:"center",gap:"6px",flexWrap:"wrap"},children:[(0,n.jsx)("span",{style:{fontSize:"9px",padding:"1px 5px",borderRadius:"4px",background:i.bg,color:i.text,fontWeight:"600",textTransform:"capitalize"},children:e.priority}),(0,n.jsxs)("span",{style:{color:t?"#EF4444":"#71717A"},children:["Due: ",new Date(e.deadline).toLocaleDateString("en-US",{month:"short",day:"numeric"})]}),(0,n.jsxs)("span",{children:[e.duration,"h"]})]}),e.description&&(0,n.jsxs)("div",{style:{fontSize:"10px",color:"#52525B",marginTop:"4px",lineHeight:"1.3"},children:[e.description.substring(0,60),e.description.length>60?"...":""]})]}),(0,n.jsx)("button",{onClick:t=>{t.stopPropagation(),confirm("Delete this to-do?")&&t5(e.id)},style:{background:"none",border:"none",cursor:"pointer",color:"#dc2626",padding:"2px",opacity:.6},children:(0,n.jsx)(T.Z,{style:{width:"12px",height:"12px"}})})]})},e.id)})]})})():null})]}),(0,n.jsxs)("div",{style:{background:"#1A1A1A",marginTop:"16px",borderRadius:"16px",border:"1px solid #2D2D2D",overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.2)"},children:[(0,n.jsxs)("div",{style:{padding:"14px 16px",background:"#1F1F1F",borderBottom:"1px solid #2D2D2D",display:"flex",alignItems:"center",gap:"10px"},children:[(0,n.jsx)("div",{style:{width:"32px",height:"32px",borderRadius:"10px",background:"#F59E0B20",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)(E.Z,{style:{width:"18px",height:"18px",color:"#F59E0B"}})}),(0,n.jsx)("div",{style:{flex:1},children:(0,n.jsx)("span",{style:{fontSize:"14px",fontWeight:"700",color:"#F59E0B"},children:"Meetings"})}),(0,n.jsx)("span",{style:{fontSize:"12px",fontWeight:"700",color:"#F59E0B",background:"#F59E0B20",padding:"4px 10px",borderRadius:"12px"},children:t.length})]}),(0,n.jsx)("div",{style:{padding:"12px",maxHeight:"250px",overflowY:"auto",background:"#1A1A1A"},children:0===t.length?(0,n.jsxs)("div",{style:{textAlign:"center",padding:"24px 16px",color:"#F59E0B",background:"#0D0D0D",borderRadius:"8px",border:"1px dashed #2D2D2D"},children:[(0,n.jsx)(E.Z,{style:{width:"20px",height:"20px",color:"#F59E0B",margin:"0 auto 8px",opacity:.6}}),(0,n.jsxs)("p",{style:{fontSize:"11px",fontWeight:"500",margin:0,color:"#71717A"},children:["No meetings ","day"===eu?"today":"week"===eu?"this week":"this month"]})]}):(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:t.map(e=>{let t=J(new Date(e.date))===J(em);return(0,n.jsxs)(l.E.div,{whileHover:{x:2},whileTap:{scale:.99},onClick:()=>ts(e),style:{padding:"10px 12px",borderRadius:"8px",cursor:"pointer",borderLeft:"3px solid #F59E0B",background:t?"rgba(245, 158, 11, 0.1)":"#0D0D0D",transition:"all 0.15s ease"},children:[(0,n.jsx)("div",{style:{fontSize:"12px",fontWeight:"500",color:"#FFFFFF",marginBottom:"4px",lineHeight:"1.3"},children:e.title}),(0,n.jsxs)("div",{style:{fontSize:"10px",color:"#71717A",display:"flex",alignItems:"center",gap:"6px"},children:[(0,n.jsx)("span",{style:{color:"#F59E0B",fontWeight:"600"},children:e.time}),(0,n.jsxs)("span",{children:[e.duration,"min"]}),(0,n.jsx)("span",{children:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]})]},e.id)})})})]})]})]})})(),!tc&&!e9&&(0,n.jsx)(l.E.button,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},whileHover:{scale:1.05},onClick:()=>te(!0),style:{position:"fixed",right:"12px",top:"140px",width:"32px",height:"32px",borderRadius:"8px",border:"1px solid #2D2D2D",background:"#1F1F1F",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)",zIndex:50},children:(0,n.jsx)(f.Z,{style:{width:"14px",height:"14px",color:"#71717A"}})}),(0,n.jsx)(s.M,{children:ek&&(0,n.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>{eD(!1),eF(null)},style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.4)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"24px"},children:(0,n.jsxs)(l.E.div,{...Y,transition:{type:"spring",damping:25,stiffness:300},onClick:e=>e.stopPropagation(),style:{background:"#1A1A1A",borderRadius:"20px",width:"100%",maxWidth:"480px",overflow:"hidden",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[(0,n.jsxs)("div",{style:{padding:"24px",borderBottom:"1px solid rgba(0, 0, 0, 0.06)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsx)("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#FFFFFF",margin:0},children:eS?"Edit Time Block":"New Time Block"}),(0,n.jsx)(l.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{eD(!1),eF(null)},style:{width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",border:"none",borderRadius:"8px",background:"rgba(0, 0, 0, 0.04)",cursor:"pointer",color:"#86868b"},children:(0,n.jsx)(_.Z,{style:{width:"18px",height:"18px"}})})]}),(0,n.jsxs)("div",{style:{padding:"24px",display:"flex",flexDirection:"column",gap:"20px",maxHeight:"70vh",overflowY:"auto"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#86868b",marginBottom:"8px"},children:"Title"}),(0,n.jsx)("input",{type:"text",value:eA.title,onChange:e=>eB({...eA,title:e.target.value}),placeholder:"What are you working on?",style:{width:"100%",padding:"12px 16px",fontSize:"15px",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"10px",outline:"none",transition:"border-color 0.2s ease"}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#86868b",marginBottom:"8px"},children:"Type"}),(0,n.jsx)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:["focus","meeting","personal","goal","project"].map(e=>{let t=O[e],i={focus:y.Z,meeting:j.Z,personal:w.Z,goal:v.Z,project:k.Z},r=i[e];return(0,n.jsxs)(l.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>eB({...eA,type:e}),style:{flex:"1 1 calc(33.333% - 6px)",minWidth:"80px",padding:"10px 8px",display:"flex",flexDirection:"column",alignItems:"center",gap:"6px",border:eA.type===e?"2px solid ".concat(t.solid):"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"12px",background:eA.type===e?t.bg:"#fff",cursor:"pointer",transition:"all 0.2s ease"},children:[(0,n.jsx)(r,{style:{width:"18px",height:"18px",color:t.text}}),(0,n.jsx)("span",{style:{fontSize:"11px",fontWeight:"500",color:eA.type===e?t.text:"#86868b",textTransform:"capitalize"},children:e})]},e)})})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#86868b",marginBottom:"8px"},children:"Category (optional)"}),(0,n.jsxs)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",alignItems:"center"},children:[ty.map(e=>{let t=e.id.startsWith("custom_");return(0,n.jsxs)(l.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>eB({...eA,category:eA.category===e.id?"":e.id}),style:{padding:"8px 14px",display:"flex",alignItems:"center",gap:"6px",border:eA.category===e.id?"2px solid ".concat(e.color):"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"20px",background:eA.category===e.id?"".concat(e.color,"15"):"#fff",cursor:"pointer",transition:"all 0.2s ease",position:"relative"},children:[(0,n.jsx)("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:e.color}}),(0,n.jsx)("span",{style:{fontSize:"12px",fontWeight:"500",color:eA.category===e.id?e.color:"#86868b"},children:e.name}),t&&eA.category!==e.id&&(0,n.jsx)(l.E.span,{whileHover:{scale:1.2},onClick:t=>{t.stopPropagation(),tm(e.id)},style:{marginLeft:"4px",color:"#ff3b30",fontSize:"12px",cursor:"pointer"},children:"\xd7"})]},e.id)}),eH?(0,n.jsxs)(l.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 10px",background:"rgba(0, 0, 0, 0.02)",borderRadius:"20px",border:"1px solid rgba(0, 0, 0, 0.1)"},children:[(0,n.jsx)("div",{style:{display:"flex",gap:"4px"},children:P.slice(0,6).map(e=>(0,n.jsx)("button",{onClick:()=>ti(e),style:{width:"16px",height:"16px",borderRadius:"50%",background:e,border:tt===e?"2px solid #1d1d1f":"none",cursor:"pointer"}},e))}),(0,n.jsx)("input",{type:"text",value:eZ,onChange:e=>eP(e.target.value),onKeyDown:e=>"Enter"===e.key&&tf(),placeholder:"Name",autoFocus:!0,style:{width:"80px",padding:"4px 8px",fontSize:"12px",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"8px",outline:"none"}}),(0,n.jsx)("button",{onClick:tf,style:{padding:"4px 8px",fontSize:"11px",fontWeight:"600",background:"#0071e3",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer"},children:"Add"}),(0,n.jsx)("button",{onClick:()=>{eL(!1),eP("")},style:{padding:"4px",background:"transparent",border:"none",cursor:"pointer",color:"#86868b"},children:(0,n.jsx)(_.Z,{style:{width:"14px",height:"14px"}})})]}):(0,n.jsxs)(l.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>eL(!0),style:{padding:"8px 14px",display:"flex",alignItems:"center",gap:"4px",border:"1px dashed rgba(0, 0, 0, 0.2)",borderRadius:"20px",background:"#1A1A1A",cursor:"pointer",color:"#86868b",fontSize:"12px",fontWeight:"500"},children:[(0,n.jsx)(u.Z,{style:{width:"12px",height:"12px"}}),"Add"]})]})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#86868b",marginBottom:"8px"},children:"Start Time"}),(0,n.jsx)("input",{type:"time",value:eA.startTime,onChange:e=>eB({...eA,startTime:e.target.value}),style:{width:"100%",padding:"12px 16px",fontSize:"15px",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"10px",outline:"none"}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#86868b",marginBottom:"8px"},children:"End Time"}),(0,n.jsx)("input",{type:"time",value:eA.endTime,onChange:e=>eB({...eA,endTime:e.target.value}),style:{width:"100%",padding:"12px 16px",fontSize:"15px",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"10px",outline:"none"}})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#86868b",marginBottom:"8px"},children:"Description (optional)"}),(0,n.jsx)("textarea",{value:eA.description,onChange:e=>eB({...eA,description:e.target.value}),placeholder:"Add notes or details...",rows:3,style:{width:"100%",padding:"12px 16px",fontSize:"15px",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"10px",outline:"none",resize:"none"}})]}),"meeting"===eA.type&&(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#86868b",marginBottom:"8px"},children:"Meeting Link"}),(0,n.jsxs)("div",{style:{position:"relative"},children:[(0,n.jsx)(z.Z,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",width:"18px",height:"18px",color:"#86868b"}}),(0,n.jsx)("input",{type:"url",value:eA.meetingLink,onChange:e=>eB({...eA,meetingLink:e.target.value}),placeholder:"https://zoom.us/j/...",style:{width:"100%",padding:"12px 16px 12px 42px",fontSize:"15px",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"10px",outline:"none"}})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#86868b",marginBottom:"8px"},children:"Reminder"}),(0,n.jsxs)("select",{value:eA.notificationTime,onChange:e=>eB({...eA,notificationTime:Number(e.target.value)}),style:{width:"100%",padding:"12px 16px",fontSize:"15px",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"10px",outline:"none",background:"#1A1A1A",cursor:"pointer"},children:[(0,n.jsx)("option",{value:0,children:"No reminder"}),(0,n.jsx)("option",{value:5,children:"5 minutes before"}),(0,n.jsx)("option",{value:10,children:"10 minutes before"}),(0,n.jsx)("option",{value:15,children:"15 minutes before"}),(0,n.jsx)("option",{value:30,children:"30 minutes before"}),(0,n.jsx)("option",{value:60,children:"1 hour before"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[(0,n.jsx)(l.E.button,{whileTap:{scale:.95},onClick:()=>eB({...eA,isRecurring:!eA.isRecurring,recurringDays:eA.isRecurring?eA.recurringDays:[]}),style:{width:"44px",height:"26px",borderRadius:"13px",border:"none",background:eA.isRecurring?"#34c759":"rgba(0, 0, 0, 0.1)",cursor:"pointer",position:"relative",transition:"background 0.2s ease"},children:(0,n.jsx)(l.E.div,{animate:{x:eA.isRecurring?18:2},transition:{type:"spring",stiffness:500,damping:30},style:{width:"22px",height:"22px",borderRadius:"11px",background:"#1A1A1A",position:"absolute",top:"2px",boxShadow:"0 1px 3px rgba(0,0,0,0.2)"}})}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,n.jsx)(D.Z,{style:{width:"16px",height:"16px",color:"#86868b"}}),(0,n.jsx)("span",{style:{fontSize:"14px",color:"#1d1d1f"},children:"Repeat on specific days"})]})]}),(0,n.jsx)(s.M,{children:eA.isRecurring&&(0,n.jsxs)(l.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},style:{overflow:"hidden"},children:[(0,n.jsxs)("div",{style:{paddingTop:"12px"},children:[(0,n.jsx)("label",{style:{fontSize:"12px",fontWeight:"500",color:"#86868b",marginBottom:"8px",display:"block"},children:"Repeat on"}),(0,n.jsx)("div",{style:{display:"flex",gap:"6px"},children:L.map(e=>{var t;let i=null===(t=eA.recurringDays)||void 0===t?void 0:t.includes(e.id);return(0,n.jsx)(l.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{let t=eA.recurringDays||[],n=i?t.filter(t=>t!==e.id):[...t,e.id];eB({...eA,recurringDays:n})},style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"20px",border:"none",background:i?"#0071e3":"rgba(0, 0, 0, 0.05)",color:i?"#fff":"#86868b",fontSize:"12px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},children:e.name},e.id)})})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",paddingTop:"16px"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{fontSize:"12px",fontWeight:"500",color:"#86868b",marginBottom:"6px",display:"block"},children:"Start Date"}),(0,n.jsx)("input",{type:"date",value:eA.recurringStartDate||"",onChange:e=>eB({...eA,recurringStartDate:e.target.value}),style:{width:"100%",padding:"10px 12px",fontSize:"14px",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"10px",outline:"none"}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{fontSize:"12px",fontWeight:"500",color:"#86868b",marginBottom:"6px",display:"block"},children:"End Date"}),(0,n.jsx)("input",{type:"date",value:eA.recurringEndDate||"",onChange:e=>eB({...eA,recurringEndDate:e.target.value}),min:eA.recurringStartDate||"",style:{width:"100%",padding:"10px 12px",fontSize:"14px",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"10px",outline:"none"}})]})]})]})})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#86868b",marginBottom:"8px"},children:"Checklist / Mini-tasks"}),(0,n.jsxs)("div",{style:{display:"flex",gap:"8px",marginBottom:"12px"},children:[(0,n.jsx)("input",{type:"text",value:eC,onChange:e=>eT(e.target.value),onKeyDown:e=>{if("Enter"===e.key&&eC.trim()){let e={id:K(),text:eC.trim(),completed:!1};eB({...eA,checklist:[...eA.checklist||[],e]}),eT("")}},placeholder:"Add a task or goal...",style:{flex:1,padding:"10px 14px",fontSize:"14px",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"10px",outline:"none"}}),(0,n.jsx)(l.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{if(eC.trim()){let e={id:K(),text:eC.trim(),completed:!1};eB({...eA,checklist:[...eA.checklist||[],e]}),eT("")}},style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",border:"none",borderRadius:"10px",background:"#0071e3",color:"#fff",cursor:"pointer"},children:(0,n.jsx)(u.Z,{style:{width:"20px",height:"20px"}})})]}),(null!==(ea=null===(e=eA.checklist)||void 0===e?void 0:e.length)&&void 0!==ea?ea:0)>0&&(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px",maxHeight:"150px",overflowY:"auto"},children:null===(t=eA.checklist)||void 0===t?void 0:t.map(e=>(0,n.jsxs)(l.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 12px",background:"rgba(0, 0, 0, 0.02)",borderRadius:"10px"},children:[(0,n.jsx)(l.E.button,{whileTap:{scale:.8},onClick:()=>{var t;eB({...eA,checklist:null===(t=eA.checklist)||void 0===t?void 0:t.map(t=>t.id===e.id?{...t,completed:!t.completed}:t)})},style:{width:"22px",height:"22px",borderRadius:"6px",border:e.completed?"none":"2px solid rgba(0, 0, 0, 0.2)",background:e.completed?"#34c759":"transparent",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",flexShrink:0},children:e.completed&&(0,n.jsx)(l.E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:30},children:(0,n.jsx)(b.Z,{style:{width:"14px",height:"14px",color:"#fff"}})})}),(0,n.jsx)("span",{style:{flex:1,fontSize:"14px",color:e.completed?"#86868b":"#1d1d1f",textDecoration:e.completed?"line-through":"none"},children:e.text}),(0,n.jsx)(l.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{var t;eB({...eA,checklist:null===(t=eA.checklist)||void 0===t?void 0:t.filter(t=>t.id!==e.id)})},style:{width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",border:"none",background:"transparent",cursor:"pointer",color:"#ff3b30",opacity:.6},children:(0,n.jsx)(T.Z,{style:{width:"14px",height:"14px"}})})]},e.id))})]})]}),(0,n.jsxs)("div",{style:{padding:"16px 24px 24px",display:"flex",gap:"12px"},children:[(0,n.jsx)(l.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{eD(!1),eF(null)},style:{flex:1,padding:"14px",fontSize:"15px",fontWeight:"500",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"12px",background:"#1A1A1A",cursor:"pointer",color:"#FFFFFF"},children:"Cancel"}),(0,n.jsx)(l.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{let e=eA.isRecurring&&eA.recurringStartDate?eA.recurringStartDate:J(em),t=eS?ec.find(e=>e.id===eS):null,i={id:eS||K(),date:(null==t?void 0:t.date)||e,startTime:eA.startTime||"09:00",endTime:eA.endTime||"10:00",title:eA.title||"New Block",description:eA.description,type:eA.type||"focus",checklist:eA.checklist||[],meetingLink:eA.meetingLink,notificationTime:eA.notificationTime,category:eA.category,isRecurring:eA.isRecurring||!1,recurringDays:eA.recurringDays||[],recurringStartDate:eA.isRecurring?eA.recurringStartDate||J(em):void 0,recurringEndDate:eA.isRecurring?eA.recurringEndDate:void 0,excludedDates:null==t?void 0:t.excludedDates,created_at:(null==t?void 0:t.created_at)||new Date().toISOString(),updated_at:new Date().toISOString()};t$(i),eD(!1),eF(null),eB({title:"",description:"",type:"focus",startTime:"09:00",endTime:"10:00",checklist:[],meetingLink:"",notificationTime:10,category:"",isRecurring:!1,recurringDays:[],recurringStartDate:"",recurringEndDate:""})},style:{flex:1,padding:"14px",fontSize:"15px",fontWeight:"500",border:"none",borderRadius:"12px",background:"#0071e3",cursor:"pointer",color:"#fff"},children:eS?"Save Changes":"Create Block"})]})]})})}),(0,n.jsx)(s.M,{children:tO&&(0,n.jsxs)(l.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.1},style:{position:"fixed",top:tO.y,left:tO.x,background:"#1A1A1A",borderRadius:"12px",boxShadow:"0 8px 30px rgba(0, 0, 0, 0.15), 0 2px 8px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(0, 0, 0, 0.08)",padding:"6px",minWidth:"180px",zIndex:9999},onClick:e=>e.stopPropagation(),children:[(0,n.jsxs)("button",{onClick:()=>{ic(tO.block),ia()},style:{display:"flex",alignItems:"center",gap:"10px",width:"100%",padding:"10px 12px",border:"none",background:"transparent",borderRadius:"8px",cursor:"pointer",fontSize:"13px",fontWeight:"500",color:"#FFFFFF",textAlign:"left",transition:"background 0.15s"},onMouseEnter:e=>e.currentTarget.style.background="#f5f5f7",onMouseLeave:e=>e.currentTarget.style.background="transparent",children:[(0,n.jsx)(R.Z,{style:{width:"16px",height:"16px",color:"#6b7280"}}),"Edit Block"]}),(0,n.jsxs)("button",{onClick:()=>{ir(tO.block),ia()},style:{display:"flex",alignItems:"center",gap:"10px",width:"100%",padding:"10px 12px",border:"none",background:"transparent",borderRadius:"8px",cursor:"pointer",fontSize:"13px",fontWeight:"500",color:"#FFFFFF",textAlign:"left",transition:"background 0.15s"},onMouseEnter:e=>e.currentTarget.style.background="#f5f5f7",onMouseLeave:e=>e.currentTarget.style.background="transparent",children:[(0,n.jsx)(W.Z,{style:{width:"16px",height:"16px",color:"#6b7280"}}),"Duplicate"]}),(0,n.jsxs)("button",{onClick:()=>{let e={...tO.block,completed:!tO.block.completed};t$(e),ia()},style:{display:"flex",alignItems:"center",gap:"10px",width:"100%",padding:"10px 12px",border:"none",background:"transparent",borderRadius:"8px",cursor:"pointer",fontSize:"13px",fontWeight:"500",color:tO.block.completed?"#f59e0b":"#22c55e",textAlign:"left",transition:"background 0.15s"},onMouseEnter:e=>e.currentTarget.style.background="#f5f5f7",onMouseLeave:e=>e.currentTarget.style.background="transparent",children:[(0,n.jsx)(I.Z,{style:{width:"16px",height:"16px"}}),tO.block.completed?"Mark Incomplete":"Mark Complete"]}),(0,n.jsx)("div",{style:{height:"1px",background:"#e5e7eb",margin:"6px 0"}}),(0,n.jsxs)("button",{onClick:()=>{tO.block.isRecurring?(eR(tO.block),eI(tO.block.date),e_(!0)):ii(tO.block.id),ia()},style:{display:"flex",alignItems:"center",gap:"10px",width:"100%",padding:"10px 12px",border:"none",background:"transparent",borderRadius:"8px",cursor:"pointer",fontSize:"13px",fontWeight:"500",color:"#ef4444",textAlign:"left",transition:"background 0.15s"},onMouseEnter:e=>e.currentTarget.style.background="rgba(239, 68, 68, 0.08)",onMouseLeave:e=>e.currentTarget.style.background="transparent",children:[(0,n.jsx)(T.Z,{style:{width:"16px",height:"16px"}}),"Delete"]})]})}),(0,n.jsx)(s.M,{children:eE&&ez&&(0,n.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>e_(!1),style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,backdropFilter:"blur(4px)"},children:(0,n.jsxs)(l.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:e=>e.stopPropagation(),style:{background:"#1A1A1A",borderRadius:"16px",padding:"24px",maxWidth:"400px",width:"90%",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[(0,n.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"rgba(239, 68, 68, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)(A.Z,{style:{width:"24px",height:"24px",color:"#ef4444"}})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{style:{margin:0,fontSize:"18px",fontWeight:"600",color:"#1f2937"},children:"Delete Recurring Task"}),(0,n.jsx)("p",{style:{margin:"4px 0 0",fontSize:"14px",color:"#6b7280"},children:ez.title})]})]}),(0,n.jsxs)("p",{style:{margin:"0 0 20px",fontSize:"14px",color:"#4b5563",lineHeight:"1.5"},children:["This is a recurring task. Would you like to delete just this occurrence on ",(0,n.jsx)("strong",{children:eW}),", or delete all occurrences?"]}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[(0,n.jsxs)(l.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>ip(!1),style:{width:"100%",padding:"12px 16px",background:"#f3f4f6",border:"none",borderRadius:"10px",fontSize:"14px",fontWeight:"500",color:"#E4E4E7",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[(0,n.jsx)(B.Z,{style:{width:"18px",height:"18px"}}),"Delete This Occurrence Only"]}),(0,n.jsxs)(l.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>ip(!0),style:{width:"100%",padding:"12px 16px",background:"#fef2f2",border:"1px solid #fecaca",borderRadius:"10px",fontSize:"14px",fontWeight:"500",color:"#dc2626",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[(0,n.jsx)(T.Z,{style:{width:"18px",height:"18px"}}),"Delete All Occurrences"]}),(0,n.jsx)(l.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e_(!1),style:{width:"100%",padding:"12px 16px",background:"transparent",border:"none",borderRadius:"10px",fontSize:"14px",fontWeight:"500",color:"#6b7280",cursor:"pointer"},children:"Cancel"})]})]})})}),(0,n.jsx)(s.M,{children:ew&&eb&&(0,n.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>ev(!1),style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.4)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"24px"},children:(0,n.jsxs)(l.E.div,{initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},transition:{type:"spring",damping:30,stiffness:400},onClick:e=>e.stopPropagation(),style:{width:"100%",maxWidth:"480px",maxHeight:"85vh",background:"#1A1A1A",borderRadius:"20px",boxShadow:"0 24px 48px -12px rgba(0, 0, 0, 0.2)",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,n.jsxs)("div",{style:{padding:"20px 20px 16px",borderBottom:"1px solid rgba(0, 0, 0, 0.06)"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"5px 10px",borderRadius:"16px",background:O[eb.type].bg},children:["focus"===eb.type&&(0,n.jsx)(y.Z,{style:{width:"12px",height:"12px",color:O.focus.text}}),"meeting"===eb.type&&(0,n.jsx)(j.Z,{style:{width:"12px",height:"12px",color:O.meeting.text}}),"personal"===eb.type&&(0,n.jsx)(w.Z,{style:{width:"12px",height:"12px",color:O.personal.text}}),"goal"===eb.type&&(0,n.jsx)(v.Z,{style:{width:"12px",height:"12px",color:O.goal.text}}),"project"===eb.type&&(0,n.jsx)(k.Z,{style:{width:"12px",height:"12px",color:O.project.text}}),(0,n.jsx)("span",{style:{fontSize:"11px",fontWeight:"600",color:O[eb.type].text,textTransform:"capitalize"},children:eb.type})]}),eb.isRecurring&&(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"5px 10px",borderRadius:"16px",background:"rgba(139, 92, 246, 0.1)"},children:[(0,n.jsx)(D.Z,{style:{width:"11px",height:"11px",color:"#8b5cf6"}}),(0,n.jsx)("span",{style:{fontSize:"11px",fontWeight:"500",color:"#8b5cf6"},children:"Recurring"})]})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"4px"},children:[(0,n.jsx)(l.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ev(!1),eF(eb.id),eB({title:eb.title,description:eb.description,type:eb.type,startTime:eb.startTime,endTime:eb.endTime,checklist:eb.checklist,meetingLink:eb.meetingLink,notificationTime:eb.notificationTime,category:eb.category,isRecurring:eb.isRecurring,recurringDays:eb.recurringDays,recurringStartDate:eb.recurringStartDate,recurringEndDate:eb.recurringEndDate}),eD(!0)},style:{width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",border:"none",borderRadius:"10px",background:"rgba(0, 113, 227, 0.08)",cursor:"pointer",color:"#0071e3"},children:(0,n.jsx)(R.Z,{style:{width:"15px",height:"15px"}})}),(0,n.jsx)(l.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>id(eb),style:{width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",border:"none",borderRadius:"10px",background:"rgba(239, 68, 68, 0.08)",cursor:"pointer",color:"#ef4444"},children:(0,n.jsx)(T.Z,{style:{width:"15px",height:"15px"}})}),(0,n.jsx)(l.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ev(!1),style:{width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",border:"none",borderRadius:"10px",background:"rgba(0, 0, 0, 0.04)",cursor:"pointer",color:"#86868b"},children:(0,n.jsx)(_.Z,{style:{width:"15px",height:"15px"}})})]})]}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[(0,n.jsx)(l.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{if(!eb)return;let e={...eb,completed:!eb.completed};ej(e),t$(e)},style:{width:"26px",height:"26px",marginTop:"2px",borderRadius:"8px",border:eb.completed?"none":"2px solid rgba(0, 0, 0, 0.2)",background:eb.completed?"#22c55e":"transparent",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",flexShrink:0},children:eb.completed&&(0,n.jsx)(b.Z,{style:{width:"14px",height:"14px",color:"#fff"}})}),(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("h2",{style:{fontSize:"20px",fontWeight:"600",color:eb.completed?"#86868b":"#1d1d1f",textDecoration:eb.completed?"line-through":"none",margin:0,lineHeight:1.3},children:eb.title}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginTop:"6px",fontSize:"13px",color:"#86868b"},children:[(0,n.jsx)(M.Z,{style:{width:"13px",height:"13px"}}),(0,n.jsxs)("span",{children:[q(eb.startTime)," - ",q(eb.endTime)]}),(0,n.jsx)("span",{style:{margin:"0 4px"},children:"\xb7"}),(0,n.jsx)("span",{children:new Date(eb.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]})]})]})]}),(0,n.jsxs)("div",{style:{flex:1,overflow:"auto",padding:"16px 20px"},children:["meeting"===eb.type&&eb.meetingLink&&(0,n.jsxs)(l.E.a,{href:eb.meetingLink,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.01},style:{display:"flex",alignItems:"center",gap:"10px",padding:"12px 14px",marginBottom:"16px",background:"rgba(0, 113, 227, 0.06)",borderRadius:"12px",textDecoration:"none",color:"#0071e3",fontSize:"13px",fontWeight:"500"},children:[(0,n.jsx)(z.Z,{style:{width:"14px",height:"14px"}}),(0,n.jsx)("span",{style:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:eb.meetingLink}),(0,n.jsx)("span",{style:{fontSize:"12px",fontWeight:"600",padding:"4px 10px",background:"#0071e3",color:"#fff",borderRadius:"8px"},children:"Join"})]}),eb.description&&(0,n.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,n.jsx)("div",{style:{fontSize:"12px",fontWeight:"600",color:"#86868b",marginBottom:"8px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Notes"}),(0,n.jsx)("div",{style:{fontSize:"14px",lineHeight:1.6,color:"#FFFFFF",whiteSpace:"pre-wrap"},children:eb.description})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"10px"},children:[(0,n.jsxs)("span",{style:{fontSize:"12px",fontWeight:"600",color:"#86868b",textTransform:"uppercase",letterSpacing:"0.5px"},children:["Checklist ",eb.checklist.length>0&&"(".concat(eb.checklist.filter(e=>e.completed).length,"/").concat(eb.checklist.length,")")]}),eb.checklist.length>0&&(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,n.jsx)("div",{style:{width:"60px",height:"4px",borderRadius:"2px",background:"rgba(0, 0, 0, 0.08)",overflow:"hidden"},children:(0,n.jsx)(l.E.div,{initial:{width:0},animate:{width:"".concat(eb.checklist.filter(e=>e.completed).length/eb.checklist.length*100,"%")},style:{height:"100%",background:"#22c55e",borderRadius:"2px"}})}),(0,n.jsxs)("span",{style:{fontSize:"12px",fontWeight:"600",color:"#22c55e"},children:[Math.round(eb.checklist.filter(e=>e.completed).length/eb.checklist.length*100),"%"]})]})]}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[eb.checklist.map(e=>(0,n.jsxs)(l.E.div,{whileHover:{background:"rgba(0, 0, 0, 0.03)"},onClick:()=>ix(e.id),style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 12px",borderRadius:"10px",cursor:"pointer"},children:[(0,n.jsx)("div",{style:{width:"20px",height:"20px",borderRadius:"6px",border:e.completed?"none":"2px solid rgba(0, 0, 0, 0.15)",background:e.completed?"#22c55e":"transparent",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.completed&&(0,n.jsx)(b.Z,{style:{width:"12px",height:"12px",color:"#fff"}})}),(0,n.jsx)("span",{style:{flex:1,fontSize:"14px",color:e.completed?"#86868b":"#1d1d1f",textDecoration:e.completed?"line-through":"none"},children:e.text}),(0,n.jsx)(l.E.button,{whileHover:{opacity:1},onClick:t=>{t.stopPropagation(),ih(e.id)},style:{opacity:.3,border:"none",background:"none",cursor:"pointer",color:"#86868b",padding:"4px"},children:(0,n.jsx)(_.Z,{style:{width:"14px",height:"14px"}})})]},e.id)),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 12px"},children:[(0,n.jsx)("div",{style:{width:"20px",height:"20px",borderRadius:"6px",border:"2px dashed rgba(0, 0, 0, 0.1)",flexShrink:0}}),(0,n.jsx)("input",{type:"text",value:eC,onChange:e=>eT(e.target.value),onKeyDown:e=>{"Enter"===e.key&&eC.trim()&&ig()},placeholder:"Add item...",style:{flex:1,fontSize:"14px",border:"none",outline:"none",background:"transparent",color:"#1d1d1f"}}),eC&&(0,n.jsx)(l.E.button,{whileTap:{scale:.95},onClick:ig,style:{padding:"6px 12px",fontSize:"12px",fontWeight:"600",border:"none",borderRadius:"6px",background:"#0071e3",color:"#fff",cursor:"pointer"},children:"Add"})]})]})]}),eb.notificationTime&&eb.notificationTime>0&&(0,n.jsxs)("div",{style:{marginTop:"16px",display:"flex",alignItems:"center",gap:"8px",padding:"10px 12px",background:"rgba(249, 115, 22, 0.06)",borderRadius:"10px",fontSize:"13px",color:"#f97316"},children:[(0,n.jsx)(N.Z,{style:{width:"14px",height:"14px"}}),(0,n.jsxs)("span",{children:["Reminder ",eb.notificationTime," min before"]})]})]}),(0,n.jsx)("div",{style:{padding:"16px 20px",borderTop:"1px solid rgba(0, 0, 0, 0.06)",display:"flex",justifyContent:"flex-end"},children:(0,n.jsx)(l.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>ev(!1),style:{padding:"10px 20px",fontSize:"14px",fontWeight:"600",border:"none",borderRadius:"10px",background:"#1d1d1f",color:"#fff",cursor:"pointer"},children:"Done"})})]})})}),(0,n.jsx)(s.M,{children:tn&&(0,n.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>tr(null),style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.4)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:(0,n.jsxs)(l.E.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},onClick:e=>e.stopPropagation(),style:{background:"#1A1A1A",borderRadius:"16px",width:"100%",maxWidth:"480px",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.15)"},children:[(0,n.jsx)("div",{style:{padding:"20px",borderBottom:"1px solid #e5e7eb"},children:(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{fontSize:"10px",fontWeight:"600",color:tn.project_color,textTransform:"uppercase",letterSpacing:"0.5px"},children:tn.project_name}),(0,n.jsx)("h2",{style:{fontSize:"18px",fontWeight:"700",color:"#FFFFFF",margin:"4px 0 0"},children:tn.name})]}),(0,n.jsx)("button",{onClick:()=>tr(null),style:{background:"none",border:"none",cursor:"pointer",padding:"4px"},children:(0,n.jsx)(_.Z,{style:{width:"20px",height:"20px",color:"#6b7280"}})})]})}),(0,n.jsxs)("div",{style:{padding:"20px"},children:[tn.description&&(0,n.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,n.jsx)("label",{style:{fontSize:"11px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"Description"}),(0,n.jsx)("p",{style:{fontSize:"14px",color:"#E4E4E7",marginTop:"6px",lineHeight:"1.5"},children:tn.description})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"16px"},children:[tn.due_date&&(0,n.jsxs)("div",{style:{padding:"12px",background:"#0D0D0D",borderRadius:"10px"},children:[(0,n.jsx)("label",{style:{fontSize:"10px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"Due Date"}),(0,n.jsx)("p",{style:{fontSize:"13px",color:"#FFFFFF",marginTop:"4px",fontWeight:"600"},children:new Date(tn.due_date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})]}),tn.priority&&(0,n.jsxs)("div",{style:{padding:"12px",background:"#0D0D0D",borderRadius:"10px"},children:[(0,n.jsx)("label",{style:{fontSize:"10px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"Priority"}),(0,n.jsx)("p",{style:{fontSize:"13px",color:"high"===tn.priority?"#ef4444":"medium"===tn.priority?"#f59e0b":"#22c55e",marginTop:"4px",fontWeight:"600",textTransform:"capitalize"},children:tn.priority})]}),tn.status&&(0,n.jsxs)("div",{style:{padding:"12px",background:"#0D0D0D",borderRadius:"10px"},children:[(0,n.jsx)("label",{style:{fontSize:"10px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"Status"}),(0,n.jsx)("p",{style:{fontSize:"13px",color:"#FFFFFF",marginTop:"4px",fontWeight:"600",textTransform:"capitalize"},children:null===(et=tn.status)||void 0===et?void 0:et.replace("_"," ")})]})]})]}),(0,n.jsxs)("div",{style:{padding:"16px 20px",borderTop:"1px solid #e5e7eb",display:"flex",gap:"12px"},children:[(0,n.jsx)("button",{onClick:()=>{tn.due_date&&ey(new Date(tn.due_date)),eB({title:tn.name,description:tn.description||"From: ".concat(tn.project_name),type:"project",startTime:"09:00",endTime:"10:00",checklist:[],category:"Work"}),tr(null),eD(!0)},style:{flex:1,padding:"12px 20px",fontSize:"14px",fontWeight:"600",border:"none",borderRadius:"10px",background:"linear-gradient(135deg, #3b82f6, #2563eb)",color:"#fff",cursor:"pointer",boxShadow:"0 2px 8px rgba(59, 130, 246, 0.3)"},children:"Add to Calendar"}),(0,n.jsx)("button",{onClick:()=>tr(null),style:{padding:"12px 20px",fontSize:"14px",fontWeight:"600",border:"1px solid #2D2D2D",borderRadius:"10px",background:"#1A1A1A",color:"#E4E4E7",cursor:"pointer"},children:"Close"})]})]})})}),(0,n.jsx)(s.M,{children:to&&(0,n.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>ta(null),style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.4)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:(0,n.jsxs)(l.E.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},onClick:e=>e.stopPropagation(),style:{background:"#1A1A1A",borderRadius:"16px",width:"100%",maxWidth:"480px",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.15)"},children:[(0,n.jsx)("div",{style:{padding:"20px",borderBottom:"1px solid #e5e7eb"},children:(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,n.jsxs)("div",{children:[to.category_name&&(0,n.jsx)("span",{style:{fontSize:"10px",fontWeight:"600",color:"#8b5cf6",textTransform:"uppercase",letterSpacing:"0.5px"},children:to.category_name}),(0,n.jsx)("h2",{style:{fontSize:"18px",fontWeight:"700",color:"#FFFFFF",margin:"4px 0 0"},children:to.title})]}),(0,n.jsx)("button",{onClick:()=>ta(null),style:{background:"none",border:"none",cursor:"pointer",padding:"4px"},children:(0,n.jsx)(_.Z,{style:{width:"20px",height:"20px",color:"#6b7280"}})})]})}),(0,n.jsxs)("div",{style:{padding:"20px"},children:[to.description&&(0,n.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,n.jsx)("label",{style:{fontSize:"11px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"Description"}),(0,n.jsx)("p",{style:{fontSize:"14px",color:"#E4E4E7",marginTop:"6px",lineHeight:"1.5"},children:to.description})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[(0,n.jsxs)("div",{style:{padding:"12px",background:"#0D0D0D",borderRadius:"10px"},children:[(0,n.jsx)("label",{style:{fontSize:"10px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"Start Date"}),(0,n.jsx)("p",{style:{fontSize:"13px",color:"#FFFFFF",marginTop:"4px",fontWeight:"600"},children:new Date(to.start_date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})]}),to.end_date&&(0,n.jsxs)("div",{style:{padding:"12px",background:"#0D0D0D",borderRadius:"10px"},children:[(0,n.jsx)("label",{style:{fontSize:"10px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"End Date"}),(0,n.jsx)("p",{style:{fontSize:"13px",color:"#FFFFFF",marginTop:"4px",fontWeight:"600"},children:new Date(to.end_date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})]})]})]}),(0,n.jsxs)("div",{style:{padding:"16px 20px",borderTop:"1px solid #e5e7eb",display:"flex",gap:"12px"},children:[(0,n.jsx)("button",{onClick:()=>{ey(new Date(to.start_date)),eB({title:to.title,description:to.description||"",type:"goal",startTime:"09:00",endTime:"10:00",checklist:[],category:to.category_name||""}),ta(null),eD(!0)},style:{flex:1,padding:"12px 20px",fontSize:"14px",fontWeight:"600",border:"none",borderRadius:"10px",background:"linear-gradient(135deg, #8b5cf6, #7c3aed)",color:"#fff",cursor:"pointer",boxShadow:"0 2px 8px rgba(139, 92, 246, 0.3)"},children:"Add to Calendar"}),(0,n.jsx)("button",{onClick:()=>ta(null),style:{padding:"12px 20px",fontSize:"14px",fontWeight:"600",border:"1px solid #2D2D2D",borderRadius:"10px",background:"#1A1A1A",color:"#E4E4E7",cursor:"pointer"},children:"Close"})]})]})})}),(0,n.jsx)(s.M,{children:tl&&(0,n.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>ts(null),style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:(0,n.jsxs)(l.E.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},onClick:e=>e.stopPropagation(),style:{background:"#1A1A1A",borderRadius:"20px",width:"100%",maxWidth:"520px",maxHeight:"85vh",overflowY:"auto",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.2)"},children:[(0,n.jsx)("div",{style:{padding:"24px",background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",borderRadius:"20px 20px 0 0"},children:(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,n.jsxs)("div",{style:{flex:1},children:[tl.project_name&&(0,n.jsx)("span",{style:{display:"inline-block",fontSize:"10px",fontWeight:"700",color:"#fff",textTransform:"uppercase",letterSpacing:"0.5px",background:"#f59e0b",padding:"4px 10px",borderRadius:"6px",marginBottom:"10px"},children:tl.project_name}),(0,n.jsx)("h2",{style:{fontSize:"20px",fontWeight:"700",color:"#78350f",margin:0,lineHeight:"1.3"},children:tl.title})]}),(0,n.jsx)("button",{onClick:()=>ts(null),style:{background:"rgba(255,255,255,0.8)",border:"none",cursor:"pointer",padding:"8px",borderRadius:"10px",marginLeft:"12px"},children:(0,n.jsx)(_.Z,{style:{width:"18px",height:"18px",color:"#78350f"}})})]})}),(0,n.jsxs)("div",{style:{padding:"24px"},children:[(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"10px",marginBottom:"20px"},children:[(0,n.jsxs)("div",{style:{padding:"14px",background:"#fef3c7",borderRadius:"12px",textAlign:"center"},children:[(0,n.jsx)(B.Z,{style:{width:"20px",height:"20px",color:"#d97706",margin:"0 auto 6px"}}),(0,n.jsx)("p",{style:{fontSize:"12px",color:"#92400e",fontWeight:"600",margin:0},children:new Date(tl.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),(0,n.jsxs)("div",{style:{padding:"14px",background:"#fef3c7",borderRadius:"12px",textAlign:"center"},children:[(0,n.jsx)(M.Z,{style:{width:"20px",height:"20px",color:"#d97706",margin:"0 auto 6px"}}),(0,n.jsx)("p",{style:{fontSize:"12px",color:"#92400e",fontWeight:"600",margin:0},children:tl.time})]}),(0,n.jsxs)("div",{style:{padding:"14px",background:"#fef3c7",borderRadius:"12px",textAlign:"center"},children:[(0,n.jsx)(y.Z,{style:{width:"20px",height:"20px",color:"#d97706",margin:"0 auto 6px"}}),(0,n.jsxs)("p",{style:{fontSize:"12px",color:"#92400e",fontWeight:"600",margin:0},children:[tl.duration," min"]})]})]}),tl.meeting_link&&(0,n.jsx)("div",{style:{marginBottom:"20px"},children:(0,n.jsxs)("a",{href:tl.meeting_link,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"10px",padding:"14px 16px",background:"linear-gradient(135deg, #3b82f6, #2563eb)",color:"#fff",borderRadius:"12px",textDecoration:"none",fontWeight:"600",fontSize:"14px",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)"},children:[(0,n.jsx)(j.Z,{style:{width:"20px",height:"20px"}}),"Join Meeting"]})}),tl.description&&(0,n.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,n.jsx)("h4",{style:{fontSize:"12px",fontWeight:"700",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",margin:"0 0 10px"},children:"Description"}),(0,n.jsx)("p",{style:{fontSize:"14px",color:"#E4E4E7",lineHeight:"1.6",margin:0,padding:"14px",background:"#0D0D0D",borderRadius:"10px",borderLeft:"3px solid #f59e0b"},children:tl.description})]}),tl.agenda_items&&tl.agenda_items.length>0&&(0,n.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,n.jsx)("h4",{style:{fontSize:"12px",fontWeight:"700",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",margin:"0 0 10px"},children:"Meeting Agenda"}),(0,n.jsx)("div",{style:{background:"#0D0D0D",borderRadius:"12px",padding:"12px",borderLeft:"3px solid #10b981"},children:tl.agenda_items.map((e,t)=>(0,n.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"10px",padding:"8px 0",borderBottom:t<tl.agenda_items.length-1?"1px solid #e5e7eb":"none"},children:[(0,n.jsx)("span",{style:{width:"20px",height:"20px",borderRadius:"50%",background:"#10b981",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:"700",flexShrink:0},children:t+1}),(0,n.jsx)("span",{style:{fontSize:"13px",color:"#E4E4E7",lineHeight:"1.4"},children:e})]},t))})]}),tl.attendees_list&&tl.attendees_list.length>0&&(0,n.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,n.jsxs)("h4",{style:{fontSize:"12px",fontWeight:"700",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",margin:"0 0 10px"},children:["Attendees (",tl.attendees_list.length,")"]}),(0,n.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:tl.attendees_list.map((e,t)=>(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",background:"#f3f4f6",borderRadius:"20px"},children:[(0,n.jsx)("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"linear-gradient(135deg, #8b5cf6, #6366f1)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:"600",color:"#fff"},children:e.charAt(0).toUpperCase()}),(0,n.jsx)("span",{style:{fontSize:"12px",color:"#E4E4E7",fontWeight:"500"},children:e})]},t))})]}),tl.notes&&(0,n.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,n.jsx)("h4",{style:{fontSize:"12px",fontWeight:"700",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",margin:"0 0 10px"},children:"Notes"}),(0,n.jsx)("p",{style:{fontSize:"13px",color:"#6b7280",lineHeight:"1.6",margin:0,padding:"12px",background:"#1A1A1A",borderRadius:"10px",fontStyle:"italic"},children:tl.notes})]})]}),(0,n.jsxs)("div",{style:{padding:"16px 24px",borderTop:"1px solid #e5e7eb",display:"flex",gap:"12px"},children:[(0,n.jsx)("button",{onClick:()=>{let[e,t]=(tl.time||"09:00").split(":").map(Number),i=60*e+t+(tl.duration||60);ey(new Date(tl.date)),eB({title:tl.title,description:tl.description||"",type:"meeting",startTime:tl.time||"09:00",endTime:"".concat((Math.floor(i/60)%24).toString().padStart(2,"0"),":").concat((i%60).toString().padStart(2,"0")),checklist:[],category:"Work"}),ts(null),eD(!0)},style:{flex:1,padding:"14px 20px",fontSize:"14px",fontWeight:"600",border:"none",borderRadius:"12px",background:"linear-gradient(135deg, #f59e0b, #d97706)",color:"#fff",cursor:"pointer",boxShadow:"0 4px 12px rgba(245, 158, 11, 0.3)"},children:"Add to My Calendar"}),(0,n.jsx)("button",{onClick:()=>ts(null),style:{padding:"14px 20px",fontSize:"14px",fontWeight:"600",border:"1px solid #2D2D2D",borderRadius:"12px",background:"#1A1A1A",color:"#E4E4E7",cursor:"pointer"},children:"Close"})]})]})})}),(0,n.jsx)(s.M,{children:td&&(0,n.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>tp(null),style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:(0,n.jsxs)(l.E.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},onClick:e=>e.stopPropagation(),style:{background:"#1A1A1A",borderRadius:"20px",width:"100%",maxWidth:"520px",maxHeight:"85vh",overflowY:"auto",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.2)"},children:[(0,n.jsx)("div",{style:{padding:"24px",background:"linear-gradient(135deg, #fdf2f8 0%, #fce7f3 100%)",borderRadius:"20px 20px 0 0"},children:(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,n.jsxs)("div",{style:{flex:1},children:[td.company_name&&(0,n.jsx)("span",{style:{display:"inline-block",fontSize:"10px",fontWeight:"700",color:"#fff",textTransform:"uppercase",letterSpacing:"0.5px",background:"#ec4899",padding:"4px 10px",borderRadius:"6px",marginBottom:"10px"},children:td.company_name}),(0,n.jsx)("h2",{style:{fontSize:"20px",fontWeight:"700",color:"#831843",margin:0,lineHeight:"1.3"},children:td.title})]}),(0,n.jsx)("button",{onClick:()=>tp(null),style:{background:"rgba(255,255,255,0.8)",border:"none",cursor:"pointer",padding:"8px",borderRadius:"10px",marginLeft:"12px"},children:(0,n.jsx)(_.Z,{style:{width:"18px",height:"18px",color:"#831843"}})})]})}),(0,n.jsxs)("div",{style:{padding:"24px"},children:[(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",marginBottom:"20px"},children:[(0,n.jsxs)("div",{style:{padding:"14px",background:"#fdf2f8",borderRadius:"12px",textAlign:"center"},children:[(0,n.jsx)(B.Z,{style:{width:"20px",height:"20px",color:"#db2777",margin:"0 auto 6px"}}),(0,n.jsx)("p",{style:{fontSize:"12px",color:"#9d174d",fontWeight:"600",margin:0},children:new Date(td.planned_date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),td.planned_time&&(0,n.jsx)("p",{style:{fontSize:"11px",color:"#be185d",margin:"4px 0 0"},children:td.planned_time})]}),(0,n.jsxs)("div",{style:{padding:"14px",background:"#fdf2f8",borderRadius:"12px",textAlign:"center"},children:[(0,n.jsx)(H.Z,{style:{width:"20px",height:"20px",color:"#db2777",margin:"0 auto 6px"}}),(0,n.jsx)("p",{style:{fontSize:"12px",color:"#9d174d",fontWeight:"600",margin:0,textTransform:"capitalize"},children:td.content_type}),(0,n.jsx)("p",{style:{fontSize:"11px",color:"#be185d",margin:"4px 0 0",textTransform:"capitalize"},children:td.status})]})]}),td.platforms&&td.platforms.length>0&&(0,n.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,n.jsx)("h4",{style:{fontSize:"12px",fontWeight:"700",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",margin:"0 0 10px"},children:"Platforms"}),(0,n.jsx)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:td.platforms.map(e=>{var t,i;let r=null===(t=td.targets)||void 0===t?void 0:t.find(t=>t.platform===e);return(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 14px",background:(null===(i=({facebook:{bg:"#1877F2",color:"#fff"},instagram:{bg:"linear-gradient(45deg, #f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%)",color:"#fff"},tiktok:{bg:"#000000",color:"#fff"},linkedin:{bg:"#0A66C2",color:"#fff"}})[e])||void 0===i?void 0:i.bg)||"#6b7280",borderRadius:"10px",color:"#fff"},children:[(0,n.jsx)("span",{style:{fontSize:"13px",fontWeight:"600",textTransform:"capitalize"},children:e}),r&&(0,n.jsx)("span",{style:{fontSize:"10px",padding:"2px 6px",background:"rgba(255,255,255,0.2)",borderRadius:"4px",textTransform:"capitalize"},children:r.platform_status})]},e)})})]}),td.description&&(0,n.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,n.jsx)("h4",{style:{fontSize:"12px",fontWeight:"700",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",margin:"0 0 10px"},children:"Description"}),(0,n.jsx)("p",{style:{fontSize:"14px",color:"#E4E4E7",lineHeight:"1.6",margin:0,padding:"14px",background:"#0D0D0D",borderRadius:"10px",borderLeft:"3px solid #ec4899"},children:td.description})]}),td.key_points&&(0,n.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,n.jsx)("h4",{style:{fontSize:"12px",fontWeight:"700",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",margin:"0 0 10px"},children:"Key Points"}),(0,n.jsx)("p",{style:{fontSize:"13px",color:"#E4E4E7",lineHeight:"1.6",margin:0,padding:"12px",background:"#f0fdf4",borderRadius:"10px",borderLeft:"3px solid #22c55e"},children:td.key_points})]}),td.visual_concept&&(0,n.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,n.jsx)("h4",{style:{fontSize:"12px",fontWeight:"700",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",margin:"0 0 10px"},children:"Visual Concept"}),(0,n.jsx)("p",{style:{fontSize:"13px",color:"#E4E4E7",lineHeight:"1.6",margin:0,padding:"12px",background:"#faf5ff",borderRadius:"10px",borderLeft:"3px solid #a855f7"},children:td.visual_concept})]}),td.hashtags&&(0,n.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,n.jsx)("h4",{style:{fontSize:"12px",fontWeight:"700",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",margin:"0 0 10px"},children:"Hashtags"}),(0,n.jsx)("p",{style:{fontSize:"13px",color:"#3b82f6",lineHeight:"1.6",margin:0,padding:"12px",background:"#eff6ff",borderRadius:"10px"},children:td.hashtags})]}),(0,n.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,n.jsx)("h4",{style:{fontSize:"12px",fontWeight:"700",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",margin:"0 0 10px"},children:"Team"}),(0,n.jsxs)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[td.owner_name&&(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",background:"#dbeafe",borderRadius:"20px"},children:[(0,n.jsx)("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"#3b82f6",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:"600",color:"#fff"},children:td.owner_name.charAt(0).toUpperCase()}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{fontSize:"11px",color:"#1d4ed8",fontWeight:"500"},children:td.owner_name}),(0,n.jsx)("span",{style:{fontSize:"9px",color:"#60a5fa",display:"block"},children:"Owner"})]})]}),td.designer_name&&(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",background:"#fce7f3",borderRadius:"20px"},children:[(0,n.jsx)("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"#ec4899",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:"600",color:"#fff"},children:td.designer_name.charAt(0).toUpperCase()}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{fontSize:"11px",color:"#be185d",fontWeight:"500"},children:td.designer_name}),(0,n.jsx)("span",{style:{fontSize:"9px",color:"#f472b6",display:"block"},children:"Designer"})]})]}),td.editor_name&&(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",background:"#f3e8ff",borderRadius:"20px"},children:[(0,n.jsx)("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"#a855f7",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:"600",color:"#fff"},children:td.editor_name.charAt(0).toUpperCase()}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{fontSize:"11px",color:"#7c3aed",fontWeight:"500"},children:td.editor_name}),(0,n.jsx)("span",{style:{fontSize:"9px",color:"#c084fc",display:"block"},children:"Editor"})]})]}),!td.owner_name&&!td.designer_name&&!td.editor_name&&(0,n.jsx)("p",{style:{fontSize:"13px",color:"#94a3b8",margin:0},children:"No team members assigned"})]})]})]}),(0,n.jsxs)("div",{style:{padding:"16px 24px",borderTop:"1px solid #e5e7eb",display:"flex",gap:"12px"},children:[(0,n.jsx)("button",{onClick:()=>{ey(new Date(td.planned_date)),eB({title:"\uD83D\uDCF1 ".concat(td.title),description:"".concat(td.description||"","\n\nPlatforms: ").concat((td.platforms||[]).join(", "),"\nCompany: ").concat(td.company_name||"Unknown"),type:"project",startTime:td.planned_time||"09:00",endTime:td.planned_time?(()=>{let[e,t]=td.planned_time.split(":").map(Number);return"".concat((e+1).toString().padStart(2,"0"),":").concat(t.toString().padStart(2,"0"))})():"10:00",checklist:[],category:"Work"}),tp(null),eD(!0)},style:{flex:1,padding:"14px 20px",fontSize:"14px",fontWeight:"600",border:"none",borderRadius:"12px",background:"linear-gradient(135deg, #ec4899, #db2777)",color:"#fff",cursor:"pointer",boxShadow:"0 4px 12px rgba(236, 72, 153, 0.3)"},children:"Add to My Calendar"}),(0,n.jsx)("button",{onClick:()=>tp(null),style:{padding:"14px 20px",fontSize:"14px",fontWeight:"600",border:"1px solid #2D2D2D",borderRadius:"12px",background:"#1A1A1A",color:"#E4E4E7",cursor:"pointer"},children:"Close"})]})]})})}),(0,n.jsx)(s.M,{children:e$&&(0,n.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>e0(!1),style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.4)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"24px"},children:(0,n.jsxs)(l.E.div,{...Y,transition:{type:"spring",damping:25,stiffness:300},onClick:e=>e.stopPropagation(),style:{background:"#1A1A1A",borderRadius:"20px",width:"100%",maxWidth:"480px",overflow:"hidden",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[(0,n.jsxs)("div",{style:{padding:"24px",borderBottom:"1px solid rgba(0, 0, 0, 0.06)",display:"flex",justifyContent:"space-between",alignItems:"center",background:"linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%)"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,n.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"12px",background:"#10b981",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)(h.Z,{style:{width:"20px",height:"20px",color:"#fff"}})}),(0,n.jsx)("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#065f46",margin:0},children:"Add To-Do"})]}),(0,n.jsx)(l.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>e0(!1),style:{width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",border:"none",borderRadius:"8px",background:"rgba(0, 0, 0, 0.04)",cursor:"pointer",color:"#065f46"},children:(0,n.jsx)(_.Z,{style:{width:"18px",height:"18px"}})})]}),(0,n.jsxs)("div",{style:{padding:"24px",display:"flex",flexDirection:"column",gap:"20px"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#E4E4E7",marginBottom:"8px"},children:"Task Name *"}),(0,n.jsx)("input",{type:"text",value:e1.task_name||"",onChange:e=>e2({...e1,task_name:e.target.value}),placeholder:"What do you need to do?",style:{width:"100%",padding:"12px 16px",fontSize:"15px",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"10px",outline:"none"}})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#E4E4E7",marginBottom:"8px"},children:"Start Date"}),(0,n.jsx)("input",{type:"date",value:e1.start_date||"",onChange:e=>e2({...e1,start_date:e.target.value}),style:{width:"100%",padding:"12px 16px",fontSize:"14px",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"10px",outline:"none"}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#E4E4E7",marginBottom:"8px"},children:"Deadline"}),(0,n.jsx)("input",{type:"date",value:e1.deadline||"",onChange:e=>e2({...e1,deadline:e.target.value}),style:{width:"100%",padding:"12px 16px",fontSize:"14px",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"10px",outline:"none"}})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#E4E4E7",marginBottom:"8px"},children:"Duration (hours to complete)"}),(0,n.jsx)("input",{type:"number",min:"0.5",step:"0.5",value:e1.duration||1,onChange:e=>e2({...e1,duration:parseFloat(e.target.value)||1}),style:{width:"100%",padding:"12px 16px",fontSize:"14px",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"10px",outline:"none"}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#E4E4E7",marginBottom:"8px"},children:"Priority"}),(0,n.jsx)("div",{style:{display:"flex",gap:"8px"},children:[{value:"urgent",label:"Urgent",color:"#dc2626",bg:"#fef2f2"},{value:"important",label:"Important",color:"#d97706",bg:"#fef3c7"},{value:"normal",label:"Normal",color:"#10b981",bg:"#ecfdf5"}].map(e=>(0,n.jsx)(l.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e2({...e1,priority:e.value}),style:{flex:1,padding:"12px 16px",fontSize:"14px",fontWeight:"600",border:e1.priority===e.value?"2px solid ".concat(e.color):"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"10px",background:e1.priority===e.value?e.bg:"#fff",color:e1.priority===e.value?e.color:"#6b7280",cursor:"pointer"},children:e.label},e.value))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#E4E4E7",marginBottom:"8px"},children:"Description (optional)"}),(0,n.jsx)("textarea",{value:e1.description||"",onChange:e=>e2({...e1,description:e.target.value}),placeholder:"Add any notes or details...",rows:3,style:{width:"100%",padding:"12px 16px",fontSize:"14px",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"10px",outline:"none",resize:"vertical",fontFamily:"inherit"}})]})]}),(0,n.jsxs)("div",{style:{padding:"16px 24px",borderTop:"1px solid rgba(0, 0, 0, 0.06)",display:"flex",gap:"12px"},children:[(0,n.jsx)(l.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t1,disabled:!(null===(ei=e1.task_name)||void 0===ei?void 0:ei.trim()),style:{flex:1,padding:"14px 20px",fontSize:"14px",fontWeight:"600",border:"none",borderRadius:"12px",background:(null===(en=e1.task_name)||void 0===en?void 0:en.trim())?"linear-gradient(135deg, #10b981, #059669)":"#d1d5db",color:"#fff",cursor:(null===(er=e1.task_name)||void 0===er?void 0:er.trim())?"pointer":"not-allowed",boxShadow:(null===(eo=e1.task_name)||void 0===eo?void 0:eo.trim())?"0 4px 12px rgba(16, 185, 129, 0.3)":"none"},children:"Add To-Do"}),(0,n.jsx)("button",{onClick:()=>e0(!1),style:{padding:"14px 20px",fontSize:"14px",fontWeight:"600",border:"1px solid #2D2D2D",borderRadius:"12px",background:"#1A1A1A",color:"#E4E4E7",cursor:"pointer"},children:"Cancel"})]})]})})})]})]})}},33617:function(e,t,i){"use strict";function n(){var e;return!!(null===(e=window.electronAPI)||void 0===e?void 0:e.isElectron)}function r(){var e,t,i;return n()?(null===(e=window.electronAPI)||void 0===e?void 0:e.isMac)?"mac":(null===(t=window.electronAPI)||void 0===t?void 0:t.isWindows)?"windows":(null===(i=window.electronAPI)||void 0===i?void 0:i.isLinux)?"linux":"web":"web"}async function o(){if(n())return!0;if("Notification"in window){let e=await Notification.requestPermission();return"granted"===e}return!1}async function a(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(console.log("\uD83D\uDD14 showNotification called:",e,t,"isElectron:",n()),n()&&window.electronAPI){console.log("\uD83D\uDD14 Sending to Electron main process...");try{await window.electronAPI.showNotification(e,t,i),console.log("\uD83D\uDD14 Notification sent to Electron")}catch(e){console.error("\uD83D\uDD14 Error sending notification to Electron:",e)}return}if(console.log("\uD83D\uDD14 Using web notification fallback"),"Notification"in window){if("default"===Notification.permission&&(console.log("\uD83D\uDD14 Requesting notification permission..."),await Notification.requestPermission()),"granted"===Notification.permission){console.log("\uD83D\uDD14 Permission granted, showing web notification");let n=new Notification(e,{body:t,silent:i.silent,tag:"critical"===i.urgency?"urgent":void 0,icon:"/favicon.png"});i.url&&(n.onclick=()=>{window.focus(),window.location.href=i.url})}else console.log("\uD83D\uDD14 Notification permission denied")}else console.log("\uD83D\uDD14 Notifications not supported in this browser")}async function l(e){if(n()&&window.electronAPI){await window.electronAPI.taskReminder(e);return}await a("Task Reminder","".concat(e.title," is due soon!"),{urgency:"critical",url:"/my-tasks"})}async function s(e){if(n()&&window.electronAPI){await window.electronAPI.meetingReminder(e);return}await a("Meeting Starting Soon","".concat(e.title," starts in ").concat(e.minutesUntil," minutes"),{urgency:"critical",url:"/calendar"})}async function d(e){n()&&window.electronAPI&&await window.electronAPI.setBadgeCount(e)}async function p(){return n()&&window.electronAPI?window.electronAPI.getSettings():null}async function c(e){return n()&&window.electronAPI?window.electronAPI.updateSettings(e):null}async function x(){return n()&&window.electronAPI?window.electronAPI.getAppVersion():"1.0.0 (Web)"}function g(e){return n()&&window.electronAPI?(window.electronAPI.onShortcut(e),()=>{var e;return null===(e=window.electronAPI)||void 0===e?void 0:e.removeAllListeners("shortcut")}):()=>{}}i.d(t,{IA:function(){return c},Jm:function(){return u},Sf:function(){return x},Xf:function(){return r},c0:function(){return a},d:function(){return n},eO:function(){return d},eV:function(){return o},fq:function(){return g},hO:function(){return p}});class h{scheduleTaskReminder(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,i=new Date(e.dueDate),n=new Date(i.getTime()-6e4*t),r=new Date,o=n.getTime()-r.getTime();if(o>0){let t=setTimeout(()=>{l(e),this.intervals.delete(e.id)},o);this.intervals.set(e.id,t)}}scheduleMeetingReminder(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=new Date(e.startTime),n=new Date(i.getTime()-6e4*t),r=new Date,o=n.getTime()-r.getTime();if(o>0){let i=setTimeout(()=>{s({...e,minutesUntil:t}),this.intervals.delete(e.id)},o);this.intervals.set(e.id,i)}}cancelReminder(e){let t=this.intervals.get(e);t&&(clearTimeout(t),this.intervals.delete(e))}cancelAll(){this.intervals.forEach(e=>clearTimeout(e)),this.intervals.clear()}constructor(){this.intervals=new Map}}let u=new h}},function(e){e.O(0,[8326,7708,4427,4712,8411,3152,8714,976,2971,2472,1744],function(){return e(e.s=41550)}),_N_E=e.O()}]);