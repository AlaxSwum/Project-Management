(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5796],{7835:function(e,n,t){Promise.resolve().then(t.bind(t,8462))},8462:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return C}});var r=t(7437),i=t(2265),a=t(4033),o=t(3549),s=t(3152),d=t(2929),l=t(5255),m=t(4103),c=t(2125),p=t(7227),g=t(9649),f=t(4560),h=t(7805),x=t(6689),u=t(6610),b=t(640),v=t(1296);let y=i.forwardRef(function({title:e,titleId:n,...t},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},t),e?i.createElement("title",{id:n},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))});var j=t(9186);class w{async getMeetingNotes(e){try{let n=(await Promise.resolve().then(t.bind(t,8411))).supabase,{data:r,error:i}=await n.from("meeting_notes").select("*").eq("meeting_id",e).single();if(i)return console.error("Error fetching meeting notes:",i),null;return r}catch(e){return console.error("Error in getMeetingNotes:",e),null}}async createMeetingNotes(e){try{let n=(await Promise.resolve().then(t.bind(t,8411))).supabase,{data:r,error:i}=await n.from("meeting_notes").insert([e]).select().single();if(i)throw Error("Failed to create meeting notes: ".concat(i.message));return r}catch(e){throw console.error("Error in createMeetingNotes:",e),e}}async updateMeetingNotes(e,n){try{let r=(await Promise.resolve().then(t.bind(t,8411))).supabase,{data:i,error:a}=await r.from("meeting_notes").update({...n,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(a)throw Error("Failed to update meeting notes: ".concat(a.message));return i}catch(e){throw console.error("Error in updateMeetingNotes:",e),e}}async deleteMeetingNotes(e){try{let n=(await Promise.resolve().then(t.bind(t,8411))).supabase,{error:r}=await n.from("meeting_notes").delete().eq("id",e);if(r)throw Error("Failed to delete meeting notes: ".concat(r.message))}catch(e){throw console.error("Error in deleteMeetingNotes:",e),e}}}let N=new w;function k(e){let{meeting:n,onClose:t,projectMembers:a=[]}=e,[o,s]=(0,i.useState)({meeting_id:n.id,title:n.title,date:n.date,time:n.time,attendees:n.attendees_list||[],discussion_points:[""],decisions_made:[""],action_items:[""],next_steps:[""],follow_up_date:""}),[d,m]=(0,i.useState)(null),[c,f]=(0,i.useState)(!0),[h,w]=(0,i.useState)(!1),[k,F]=(0,i.useState)(""),[z,C]=(0,i.useState)(null),[_,S]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e=async()=>{try{let e=await N.getMeetingNotes(n.id);e?(m(e),s({...e,discussion_points:e.discussion_points.length>0?e.discussion_points:[""],decisions_made:e.decisions_made.length>0?e.decisions_made:[""],action_items:e.action_items.length>0?e.action_items:[""],next_steps:e.next_steps.length>0?e.next_steps:[""]}),S(!1)):S(!0)}catch(e){console.error("Failed to load meeting notes:",e),S(!0)}finally{f(!1)}};e()},[n.id]);let E=(e,n)=>{s(t=>{let r=t[e];if(void 0===n)return{...t,[e]:[...r,""]};{let i=[...r];return i.splice(n+1,0,""),{...t,[e]:i}}})},D=(e,n,t)=>{s(r=>{let i=r[e],a=[...i];return a[n]=t,{...r,[e]:a}})},M=(e,n)=>{s(t=>{let r=t[e];if(r.length>1){let i=r.filter((e,t)=>t!==n);return{...t,[e]:i}}return t})},T=()=>{k.trim()&&(s(e=>({...e,attendees:[...e.attendees,k.trim()]})),F(""))},A=e=>{s(n=>({...n,attendees:n.attendees.filter((n,t)=>t!==e)}))},B=e=>{o.attendees.includes(e.name)||s(n=>({...n,attendees:[...n.attendees,e.name]}))},L=async()=>{w(!0);try{var e;let n;let t={...o,discussion_points:o.discussion_points.filter(e=>e.trim()),decisions_made:o.decisions_made.filter(e=>e.trim()),action_items:o.action_items.filter(e=>e.trim()),next_steps:o.next_steps.filter(e=>e.trim()),follow_up_date:(null===(e=o.follow_up_date)||void 0===e?void 0:e.trim())||null};n=(null==d?void 0:d.id)?await N.updateMeetingNotes(d.id,t):await N.createMeetingNotes(t),m(n),s(n),S(!1),alert("Meeting notes saved successfully!")}catch(e){console.error("Failed to save meeting notes:",e),alert("Failed to save meeting notes")}finally{w(!1)}},I=()=>{S(!0)},R=e=>{C(e)};return c?(0,r.jsxs)("div",{className:"modal-overlay",onClick:t,children:[(0,r.jsx)("div",{className:"notes-modal",onClick:e=>e.stopPropagation(),children:(0,r.jsxs)("div",{className:"loading-container",children:[(0,r.jsx)("div",{className:"loading-spinner"}),(0,r.jsx)("p",{children:"Loading meeting notes..."})]})}),(0,r.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n            .modal-overlay {\n              position: fixed;\n              inset: 0;\n              background: rgba(0, 0, 0, 0.8);\n              display: flex;\n              align-items: center;\n              justify-content: center;\n              padding: 1rem;\n              z-index: 60;\n            }\n            .notes-modal {\n              background: #ffffff;\n              border: 3px solid #000000;\n              border-radius: 16px;\n              width: 100%;\n              max-width: 900px;\n              max-height: 90vh;\n              overflow-y: auto;\n            }\n            .loading-container {\n              text-align: center;\n              padding: 3rem;\n              color: #6b7280;\n            }\n            .loading-spinner {\n              width: 40px;\n              height: 40px;\n              border: 3px solid #e5e7eb;\n              border-top: 3px solid #000000;\n              border-radius: 50%;\n              animation: spin 1s linear infinite;\n              margin: 0 auto 1rem;\n            }\n            @keyframes spin {\n              0% { transform: rotate(0deg); }\n              100% { transform: rotate(360deg); }\n            }\n          "}})]}):(0,r.jsxs)("div",{className:"modal-overlay",onClick:t,children:[(0,r.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n          .modal-overlay {\n            position: fixed;\n            inset: 0;\n            background: rgba(0, 0, 0, 0.8);\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: 1rem;\n            z-index: 60;\n            animation: fadeIn 0.3s ease-out;\n          }\n          .notes-modal {\n            background: #ffffff;\n            border: 3px solid #000000;\n            border-radius: 16px;\n            width: 100%;\n            max-width: 900px;\n            max-height: 90vh;\n            overflow-y: auto;\n            animation: slideIn 0.3s ease-out;\n            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\n          }\n          .notes-header {\n            padding: 2rem;\n            border-bottom: 3px solid #e5e7eb;\n            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);\n            position: relative;\n          }\n          .notes-title {\n            font-size: 2rem;\n            font-weight: 800;\n            color: #000000;\n            margin: 0;\n            display: flex;\n            align-items: center;\n            gap: 0.75rem;\n          }\n          .close-btn {\n            position: absolute;\n            top: 1rem;\n            right: 1rem;\n            padding: 0.75rem;\n            border: 2px solid #e5e7eb;\n            border-radius: 8px;\n            background: #ffffff;\n            cursor: pointer;\n            transition: all 0.2s ease;\n            color: #6b7280;\n          }\n          .close-btn:hover {\n            border-color: #000000;\n            color: #000000;\n            transform: translateY(-1px);\n          }\n          .notes-content {\n            padding: 2rem;\n          }\n          .form-section {\n            margin-bottom: 2rem;\n            padding: 1.5rem;\n            background: #f8fafc;\n            border: 2px solid #e5e7eb;\n            border-radius: 12px;\n          }\n          .section-title {\n            font-size: 1.25rem;\n            font-weight: 700;\n            color: #000000;\n            margin-bottom: 1rem;\n            display: flex;\n            align-items: center;\n            gap: 0.5rem;\n          }\n          .form-row-three {\n            display: grid;\n            grid-template-columns: 1fr 1fr 1fr;\n            gap: 1rem;\n            margin-bottom: 1rem;\n          }\n          .form-group {\n            margin-bottom: 1rem;\n          }\n          .form-label {\n            display: block;\n            font-weight: 600;\n            color: #000000;\n            margin-bottom: 0.5rem;\n            font-size: 0.875rem;\n          }\n          .form-input {\n            width: 100%;\n            padding: 0.75rem;\n            border: 2px solid #e5e7eb;\n            border-radius: 8px;\n            font-size: 0.875rem;\n            transition: all 0.2s ease;\n            box-sizing: border-box;\n          }\n          .form-input:focus {\n            outline: none;\n            border-color: #000000;\n            box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.1);\n          }\n          .attendees-container {\n            display: flex;\n            flex-wrap: wrap;\n            gap: 0.5rem;\n            margin-bottom: 1rem;\n            min-height: 2rem;\n            padding: 0.75rem;\n            border: 2px dashed #d1d5db;\n            border-radius: 8px;\n            background: #ffffff;\n          }\n          .attendee-tag {\n            background: #000000;\n            color: #ffffff;\n            padding: 0.25rem 0.75rem;\n            border-radius: 20px;\n            font-size: 0.75rem;\n            font-weight: 600;\n            display: flex;\n            align-items: center;\n            gap: 0.5rem;\n            animation: slideInTag 0.2s ease-out;\n          }\n          .attendee-remove {\n            cursor: pointer;\n            font-weight: 800;\n            font-size: 0.875rem;\n            transition: transform 0.1s ease;\n          }\n          .attendee-remove:hover {\n            transform: scale(1.2);\n          }\n          .attendee-input-row {\n            display: flex;\n            gap: 0.5rem;\n            margin-bottom: 0.5rem;\n          }\n          .add-btn {\n            padding: 0.75rem 1rem;\n            background: #000000;\n            color: #ffffff;\n            border: none;\n            border-radius: 8px;\n            cursor: pointer;\n            transition: all 0.2s ease;\n            font-weight: 600;\n            display: flex;\n            align-items: center;\n            gap: 0.5rem;\n          }\n          .add-btn:hover {\n            background: #333333;\n            transform: translateY(-1px);\n          }\n          .project-members {\n            display: flex;\n            flex-wrap: wrap;\n            gap: 0.5rem;\n            margin-top: 0.5rem;\n          }\n          .member-btn {\n            padding: 0.5rem 0.75rem;\n            background: #f3f4f6;\n            border: 1px solid #d1d5db;\n            border-radius: 6px;\n            font-size: 0.75rem;\n            cursor: pointer;\n            transition: all 0.2s ease;\n            font-weight: 500;\n          }\n          .member-btn:hover {\n            background: #e5e7eb;\n            border-color: #9ca3af;\n          }\n          .discussion-item {\n            display: flex;\n            gap: 0.75rem;\n            margin-bottom: 1rem;\n            align-items: flex-start;\n            position: relative;\n            width: 100%;\n          }\n          .discussion-number {\n            background: #000000;\n            color: #ffffff;\n            width: 2rem;\n            height: 2rem;\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-size: 0.75rem;\n            font-weight: 700;\n            flex-shrink: 0;\n            margin-top: 0.5rem;\n          }\n          .discussion-input {\n            flex: 1;\n            width: 100%;\n            padding: 1rem;\n            border: 2px solid #e5e7eb;\n            border-radius: 8px;\n            font-size: 0.875rem;\n            min-height: 80px;\n            resize: vertical;\n            transition: all 0.2s ease;\n            position: relative;\n            box-sizing: border-box;\n          }\n          .discussion-input:focus {\n            outline: none;\n            border-color: #000000;\n            box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.1);\n          }\n          .discussion-input.active {\n            border-color: #000000;\n            background: #f8fafc;\n          }\n          .discussion-controls {\n            display: flex;\n            flex-direction: column;\n            gap: 0.5rem;\n          }\n          .control-btn {\n            padding: 0.5rem;\n            border: 1px solid #d1d5db;\n            border-radius: 6px;\n            background: #ffffff;\n            cursor: pointer;\n            transition: all 0.2s ease;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n          }\n          .control-btn:hover {\n            border-color: #000000;\n          }\n          .control-btn.add {\n            background: #000000;\n            color: #ffffff;\n            border-color: #000000;\n          }\n          .control-btn.add:hover {\n            background: #333333;\n          }\n          .previous-line {\n            background: #e5e7eb;\n            padding: 0.5rem;\n            border-radius: 6px;\n            font-size: 0.75rem;\n            color: #6b7280;\n            margin-bottom: 0.5rem;\n            font-style: italic;\n          }\n          .save-section {\n            padding: 2rem;\n            border-top: 3px solid #e5e7eb;\n            background: #f8fafc;\n            display: flex;\n            justify-content: center;\n            gap: 1rem;\n          }\n          .save-btn {\n            padding: 1rem 2rem;\n            background: #000000;\n            color: #ffffff;\n            border: none;\n            border-radius: 8px;\n            font-weight: 700;\n            cursor: pointer;\n            transition: all 0.2s ease;\n            display: flex;\n            align-items: center;\n            gap: 0.5rem;\n            font-size: 1rem;\n          }\n          .save-btn:hover {\n            background: #333333;\n            transform: translateY(-2px);\n          }\n          .save-btn:disabled {\n            background: #9ca3af;\n            cursor: not-allowed;\n            transform: none;\n          }\n          .cancel-btn {\n            padding: 1rem 2rem;\n            background: #ffffff;\n            color: #000000;\n            border: 2px solid #e5e7eb;\n            border-radius: 8px;\n            font-weight: 700;\n            cursor: pointer;\n            transition: all 0.2s ease;\n          }\n          .cancel-btn:hover {\n            border-color: #000000;\n            transform: translateY(-2px);\n          }\n          @keyframes fadeIn {\n            from { opacity: 0; }\n            to { opacity: 1; }\n          }\n          @keyframes slideIn {\n            from { opacity: 0; transform: translateY(-20px); }\n            to { opacity: 1; transform: translateY(0); }\n          }\n          @keyframes slideInTag {\n            from { opacity: 0; transform: scale(0.8); }\n            to { opacity: 1; transform: scale(1); }\n          }\n          /* Document View Styles */\n          .document-view {\n            max-width: 100%;\n            margin: 0 auto;\n            background: #ffffff;\n            padding: 2rem;\n            line-height: 1.6;\n            color: #374151;\n          }\n          .document-header {\n            border-bottom: 2px solid #e5e7eb;\n            padding-bottom: 1.5rem;\n            margin-bottom: 2rem;\n          }\n          .document-title {\n            font-size: 2rem;\n            font-weight: 800;\n            color: #000000;\n            margin: 0 0 1rem 0;\n            text-align: center;\n          }\n          .document-meta {\n            display: grid;\n            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n            gap: 0.75rem;\n            margin-top: 1rem;\n          }\n          .meta-item {\n            background: #f8fafc;\n            padding: 0.5rem 0.75rem;\n            border-radius: 6px;\n            font-size: 0.875rem;\n            border: 1px solid #e5e7eb;\n          }\n          .document-section {\n            margin-bottom: 2rem;\n          }\n          .section-heading {\n            font-size: 1.25rem;\n            font-weight: 700;\n            color: #000000;\n            margin: 0 0 1rem 0;\n            padding-bottom: 0.5rem;\n            border-bottom: 1px solid #e5e7eb;\n          }\n          .attendees-grid {\n            display: flex;\n            flex-wrap: wrap;\n            gap: 0.5rem;\n          }\n          .attendee-chip {\n            background: #000000;\n            color: #ffffff;\n            padding: 0.375rem 0.75rem;\n            border-radius: 20px;\n            font-size: 0.875rem;\n            font-weight: 500;\n          }\n          .discussion-list, .decision-list, .action-list, .next-steps-list {\n            margin: 0;\n            padding-left: 1.5rem;\n          }\n          .discussion-item-doc, .decision-item, .action-item, .next-step-item {\n            margin-bottom: 0.75rem;\n            font-size: 0.95rem;\n            line-height: 1.6;\n          }\n          .action-item {\n            display: flex;\n            align-items: flex-start;\n            gap: 0.75rem;\n          }\n          .action-number {\n            background: #000000;\n            color: #ffffff;\n            padding: 0.25rem 0.5rem;\n            border-radius: 4px;\n            font-size: 0.75rem;\n            font-weight: 700;\n            flex-shrink: 0;\n            margin-top: 0.125rem;\n          }\n          .next-step-item {\n            display: flex;\n            align-items: flex-start;\n            gap: 0.75rem;\n          }\n          .step-number {\n            color: #000000;\n            font-weight: 700;\n            font-size: 1.25rem;\n            flex-shrink: 0;\n          }\n          .document-footer {\n            border-top: 2px solid #e5e7eb;\n            padding-top: 1.5rem;\n            text-align: center;\n          }\n          .edit-btn {\n            background: #000000;\n            color: #ffffff;\n            border: none;\n            padding: 0.75rem 1.5rem;\n            border-radius: 8px;\n            font-weight: 600;\n            cursor: pointer;\n            transition: all 0.2s ease;\n            display: inline-flex;\n            align-items: center;\n            gap: 0.5rem;\n            font-size: 0.875rem;\n          }\n          .edit-btn:hover {\n            background: #333333;\n            transform: translateY(-1px);\n          }\n        "}}),(0,r.jsxs)("div",{className:"notes-modal",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"notes-header",children:[(0,r.jsxs)("h1",{className:"notes-title",children:[(0,r.jsx)(u.Z,{style:{width:"2rem",height:"2rem"}}),"Meeting Notes"]}),(0,r.jsx)("button",{onClick:t,className:"close-btn",children:(0,r.jsx)(x.Z,{style:{width:"1.5rem",height:"1.5rem"}})})]}),(0,r.jsx)("div",{className:"notes-content",children:_?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsxs)("h2",{className:"section-title",children:[(0,r.jsx)(v.Z,{style:{width:"1.25rem",height:"1.25rem"}}),"Meeting Information"]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Meeting Title"}),(0,r.jsx)("input",{type:"text",className:"form-input",value:o.title,onChange:e=>s({...o,title:e.target.value})})]}),(0,r.jsxs)("div",{className:"form-row-three",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Date"}),(0,r.jsx)("input",{type:"date",className:"form-input",value:o.date,onChange:e=>s({...o,date:e.target.value})})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Time"}),(0,r.jsx)("input",{type:"time",className:"form-input",value:o.time,onChange:e=>s({...o,time:e.target.value})})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Follow-up Date"}),(0,r.jsx)("input",{type:"date",className:"form-input",value:o.follow_up_date||"",onChange:e=>s({...o,follow_up_date:e.target.value})})]})]})]}),(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsxs)("h2",{className:"section-title",children:[(0,r.jsx)(g.Z,{style:{width:"1.25rem",height:"1.25rem"}}),"Attendees"]}),(0,r.jsx)("div",{className:"attendees-container",children:o.attendees.map((e,n)=>(0,r.jsxs)("div",{className:"attendee-tag",children:[e,(0,r.jsx)("span",{onClick:()=>A(n),className:"attendee-remove",children:"\xd7"})]},n))}),(0,r.jsxs)("div",{className:"attendee-input-row",children:[(0,r.jsx)("input",{type:"text",className:"form-input",placeholder:"Add attendee...",value:k,onChange:e=>F(e.target.value),onKeyPress:e=>"Enter"===e.key&&T()}),(0,r.jsxs)("button",{onClick:T,className:"add-btn",children:[(0,r.jsx)(l.Z,{style:{width:"1rem",height:"1rem"}}),"Add"]})]}),a.length>0&&(0,r.jsxs)("div",{className:"project-members",children:[(0,r.jsx)("span",{style:{fontSize:"0.75rem",color:"#6b7280",marginRight:"0.5rem"},children:"Quick add:"}),a.map((e,n)=>(0,r.jsx)("button",{onClick:()=>B(e),className:"member-btn",children:e.name},n))]})]}),(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsxs)("h2",{className:"section-title",children:[(0,r.jsx)(b.Z,{style:{width:"1.25rem",height:"1.25rem"}}),"Key Discussion Points"]}),o.discussion_points.map((e,n)=>(0,r.jsxs)("div",{children:[z===n&&n>0&&(0,r.jsxs)("div",{className:"previous-line",children:["Previous: ",o.discussion_points[n-1]||"No previous discussion point"]}),(0,r.jsxs)("div",{className:"discussion-item",children:[(0,r.jsx)("div",{className:"discussion-number",children:n+1}),(0,r.jsx)("textarea",{className:"discussion-input ".concat(z===n?"active":""),placeholder:"Enter discussion point...",value:e,onChange:e=>D("discussion_points",n,e.target.value),onFocus:()=>R(n)}),(0,r.jsxs)("div",{className:"discussion-controls",children:[(0,r.jsx)("button",{onClick:()=>E("discussion_points",n),className:"control-btn add",title:"Add discussion point after this one",children:(0,r.jsx)(l.Z,{style:{width:"1rem",height:"1rem"}})}),o.discussion_points.length>1&&(0,r.jsx)("button",{onClick:()=>M("discussion_points",n),className:"control-btn",title:"Remove this discussion point",children:(0,r.jsx)(p.Z,{style:{width:"1rem",height:"1rem"}})}),n>0&&(0,r.jsx)("button",{onClick:()=>C(z===n?null:n),className:"control-btn",title:"Show previous line",children:(0,r.jsx)(y,{style:{width:"1rem",height:"1rem"}})})]})]})]},n))]}),(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsxs)("h2",{className:"section-title",children:[(0,r.jsx)(j.Z,{style:{width:"1.25rem",height:"1.25rem"}}),"Decisions Made"]}),o.decisions_made.map((e,n)=>(0,r.jsxs)("div",{className:"discussion-item",children:[(0,r.jsxs)("div",{className:"discussion-number",children:["D",n+1]}),(0,r.jsx)("textarea",{className:"discussion-input",placeholder:"Enter decision made...",value:e,onChange:e=>D("decisions_made",n,e.target.value)}),(0,r.jsxs)("div",{className:"discussion-controls",children:[(0,r.jsx)("button",{onClick:()=>E("decisions_made",n),className:"control-btn add",children:(0,r.jsx)(l.Z,{style:{width:"1rem",height:"1rem"}})}),o.decisions_made.length>1&&(0,r.jsx)("button",{onClick:()=>M("decisions_made",n),className:"control-btn",children:(0,r.jsx)(p.Z,{style:{width:"1rem",height:"1rem"}})})]})]},n))]}),(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsxs)("h2",{className:"section-title",children:[(0,r.jsx)(u.Z,{style:{width:"1.25rem",height:"1.25rem"}}),"Action Items"]}),o.action_items.map((e,n)=>(0,r.jsxs)("div",{className:"discussion-item",children:[(0,r.jsxs)("div",{className:"discussion-number",children:["A",n+1]}),(0,r.jsx)("textarea",{className:"discussion-input",placeholder:"Enter action item...",value:e,onChange:e=>D("action_items",n,e.target.value)}),(0,r.jsxs)("div",{className:"discussion-controls",children:[(0,r.jsx)("button",{onClick:()=>E("action_items",n),className:"control-btn add",children:(0,r.jsx)(l.Z,{style:{width:"1rem",height:"1rem"}})}),o.action_items.length>1&&(0,r.jsx)("button",{onClick:()=>M("action_items",n),className:"control-btn",children:(0,r.jsx)(p.Z,{style:{width:"1rem",height:"1rem"}})})]})]},n))]}),(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsxs)("h2",{className:"section-title",children:[(0,r.jsx)(u.Z,{style:{width:"1.25rem",height:"1.25rem"}}),"Next Steps"]}),o.next_steps.map((e,n)=>(0,r.jsxs)("div",{className:"discussion-item",children:[(0,r.jsxs)("div",{className:"discussion-number",children:["N",n+1]}),(0,r.jsx)("textarea",{className:"discussion-input",placeholder:"Enter next step...",value:e,onChange:e=>D("next_steps",n,e.target.value)}),(0,r.jsxs)("div",{className:"discussion-controls",children:[(0,r.jsx)("button",{onClick:()=>E("next_steps",n),className:"control-btn add",children:(0,r.jsx)(l.Z,{style:{width:"1rem",height:"1rem"}})}),o.next_steps.length>1&&(0,r.jsx)("button",{onClick:()=>M("next_steps",n),className:"control-btn",children:(0,r.jsx)(p.Z,{style:{width:"1rem",height:"1rem"}})})]})]},n))]})]}):(0,r.jsx)(()=>(0,r.jsxs)("div",{className:"document-view",children:[(0,r.jsxs)("div",{className:"document-header",children:[(0,r.jsx)("h1",{className:"document-title",children:"Meeting Notes"}),(0,r.jsxs)("div",{className:"document-meta",children:[(0,r.jsxs)("span",{className:"meta-item",children:[(0,r.jsx)("strong",{children:"Meeting:"})," ",o.title]}),(0,r.jsxs)("span",{className:"meta-item",children:[(0,r.jsx)("strong",{children:"Date:"})," ",(()=>{let[e,n,t]=o.date.split("-").map(Number),r=new Date(e,n-1,t);return r.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})()]}),(0,r.jsxs)("span",{className:"meta-item",children:[(0,r.jsx)("strong",{children:"Time:"})," ",o.time]}),o.follow_up_date&&(0,r.jsxs)("span",{className:"meta-item",children:[(0,r.jsx)("strong",{children:"Follow-up Date:"})," ",(()=>{let[e,n,t]=o.follow_up_date.split("-").map(Number),r=new Date(e,n-1,t);return r.toLocaleDateString()})()]})]})]}),o.attendees.length>0&&(0,r.jsxs)("div",{className:"document-section",children:[(0,r.jsx)("h3",{className:"section-heading",children:"Attendees"}),(0,r.jsx)("div",{className:"attendees-grid",children:o.attendees.map((e,n)=>(0,r.jsx)("span",{className:"attendee-chip",children:e},n))})]}),o.discussion_points.filter(e=>e.trim()).length>0&&(0,r.jsxs)("div",{className:"document-section",children:[(0,r.jsx)("h3",{className:"section-heading",children:"Key Discussion Points"}),(0,r.jsx)("ol",{className:"discussion-list",children:o.discussion_points.filter(e=>e.trim()).map((e,n)=>(0,r.jsx)("li",{className:"discussion-item-doc",children:e},n))})]}),o.decisions_made.filter(e=>e.trim()).length>0&&(0,r.jsxs)("div",{className:"document-section",children:[(0,r.jsx)("h3",{className:"section-heading",children:"Decisions Made"}),(0,r.jsx)("ul",{className:"decision-list",children:o.decisions_made.filter(e=>e.trim()).map((e,n)=>(0,r.jsx)("li",{className:"decision-item",children:e},n))})]}),o.action_items.filter(e=>e.trim()).length>0&&(0,r.jsxs)("div",{className:"document-section",children:[(0,r.jsx)("h3",{className:"section-heading",children:"Action Items"}),(0,r.jsx)("ul",{className:"action-list",children:o.action_items.filter(e=>e.trim()).map((e,n)=>(0,r.jsxs)("li",{className:"action-item",children:[(0,r.jsxs)("span",{className:"action-number",children:["A",n+1]}),e]},n))})]}),o.next_steps.filter(e=>e.trim()).length>0&&(0,r.jsxs)("div",{className:"document-section",children:[(0,r.jsx)("h3",{className:"section-heading",children:"Next Steps"}),(0,r.jsx)("ul",{className:"next-steps-list",children:o.next_steps.filter(e=>e.trim()).map((e,n)=>(0,r.jsxs)("li",{className:"next-step-item",children:[(0,r.jsx)("span",{className:"step-number",children:"→"}),e]},n))})]}),(0,r.jsx)("div",{className:"document-footer",children:(0,r.jsxs)("button",{onClick:I,className:"edit-btn",children:[(0,r.jsx)(u.Z,{style:{width:"1rem",height:"1rem"}}),"Edit Notes"]})})]}),{})}),_&&(0,r.jsxs)("div",{className:"save-section",children:[(0,r.jsxs)("button",{onClick:L,className:"save-btn",disabled:h,children:[(0,r.jsx)(u.Z,{style:{width:"1.25rem",height:"1.25rem"}}),h?"Saving...":"Save Meeting Notes"]}),(0,r.jsx)("button",{onClick:()=>{d?(s(d),S(!1)):t()},className:"cancel-btn",children:"Cancel"})]})]})]})}function F(e){let{meeting:n,onClose:a,onUpdate:o,onDelete:s,projectMembers:l=[],projects:f=[],onProjectChange:y}=e,[j,w]=(0,i.useState)(!1),[N,F]=(0,i.useState)(!1),[z,C]=(0,i.useState)({title:n.title,description:n.description,date:n.date,time:n.time,duration:n.duration,project_id:n.project_id||0,attendees:n.attendees||"",attendee_ids:n.attendee_ids||[]});(0,i.useEffect)(()=>{j&&z.project_id&&y&&y(z.project_id)},[z.project_id,j,y]);let _=async()=>{try{await o({...z,project:z.project_id,attendee_ids:z.attendee_ids.length>0?z.attendee_ids:void 0}),w(!1)}catch(e){console.error("Failed to update meeting:",e)}},S=async()=>{if(window.confirm("Are you sure you want to delete this meeting?"))try{await s(n.id),a()}catch(e){console.error("Failed to delete meeting:",e)}},[E,D]=(0,i.useState)([]),[M,T]=(0,i.useState)([]);return(0,i.useEffect)(()=>{let e=async()=>{try{let{userService:e}=await Promise.resolve().then(t.bind(t,3152)),n=await e.getUsers();T(n||[])}catch(e){console.error("Failed to fetch users:",e),T([])}};e()},[]),(0,i.useEffect)(()=>{if(n.attendee_ids&&n.attendee_ids.length>0&&M.length>0){let e=n.attendee_ids.map(e=>{let n=M.find(n=>n.id===e);if(n){var t;return n.name||(null===(t=n.email)||void 0===t?void 0:t.split("@")[0])||"Unknown User"}let r=l.find(n=>n.id===e);return r?r.name:"User ".concat(e)});D(e)}else n.attendees_list&&n.attendees_list.length>0?D(n.attendees_list):n.attendees&&"string"==typeof n.attendees?D(n.attendees.split(",").map(e=>e.trim()).filter(e=>e)):D([])},[n.attendee_ids,n.attendees_list,n.attendees,l,M]),(0,r.jsxs)("div",{className:"modal-overlay",onClick:a,children:[(0,r.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n          .modal-overlay {\n            position: fixed;\n            inset: 0;\n            background: rgba(0, 0, 0, 0.8);\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: 1rem;\n            z-index: 50;\n            animation: fadeIn 0.3s ease-out;\n          }\n          .meeting-modal {\n            background: #ffffff;\n            border: 1px solid #e5e7eb;\n            border-radius: 12px;\n            width: 100%;\n            max-width: 450px;\n            max-height: 90vh;\n            overflow-y: auto;\n            animation: slideIn 0.3s ease-out;\n            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);\n            margin: 0 auto;\n          }\n          .meeting-modal-fixed {\n            border: 1px solid #e5e7eb !important;\n            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04) !important;\n            max-width: 450px !important;\n            background: #ffffff !important;\n          }\n          .modal-content {\n            padding: 0;\n            border: none !important;\n            box-shadow: none !important;\n          }\n          .modal-header {\n            padding: 1rem;\n            border-bottom: 2px solid #e5e7eb;\n            display: flex;\n            justify-content: space-between;\n            align-items: flex-start;\n            background: #f8fafc;\n          }\n          .modal-title {\n            font-size: 1.25rem;\n            font-weight: 700;\n            color: #000000;\n            margin: 0;\n            flex: 1;\n            margin-right: 1rem;\n          }\n          .modal-actions {\n            display: flex;\n            gap: 0.5rem;\n            flex-shrink: 0;\n          }\n          .action-btn {\n            padding: 0.5rem;\n            border: 2px solid #e5e7eb;\n            border-radius: 6px;\n            background: #ffffff;\n            cursor: pointer;\n            transition: all 0.2s ease;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n          }\n          .action-btn:hover {\n            border-color: #000000;\n            transform: translateY(-1px);\n          }\n          .action-btn.edit { background: #f3f4f6; }\n          .action-btn.save { background: #000000; color: #ffffff; }\n          .action-btn.delete { background: #fef2f2; border-color: #fecaca; color: #dc2626; }\n          .action-btn.close { background: #fef2f2; border-color: #fecaca; }\n          .modal-body {\n            padding: 1rem;\n          }\n          .meeting-info {\n            display: grid;\n            gap: 0.5rem;\n            margin-bottom: 1rem;\n          }\n          .info-row {\n            display: flex;\n            align-items: center;\n            gap: 0.75rem;\n            padding: 0.6rem;\n            background: #f8fafc;\n            border: 1px solid #e5e7eb;\n            border-radius: 8px;\n          }\n          .info-icon {\n            color: #6b7280;\n            flex-shrink: 0;\n          }\n          .info-content {\n            flex: 1;\n          }\n          .info-label {\n            font-size: 0.75rem;\n            color: #6b7280;\n            margin-bottom: 0.25rem;\n          }\n          .info-value {\n            font-weight: 600;\n            color: #000000;\n            font-size: 0.875rem;\n          }\n          .form-group {\n            margin-bottom: 1rem;\n          }\n          .form-label {\n            display: block;\n            font-weight: 600;\n            color: #000000;\n            margin-bottom: 0.5rem;\n            font-size: 0.875rem;\n          }\n          .form-input, .form-textarea, .form-select {\n            width: 100%;\n            padding: 0.75rem;\n            border: 2px solid #e5e7eb;\n            border-radius: 6px;\n            font-size: 0.875rem;\n            transition: border-color 0.2s ease;\n            box-sizing: border-box;\n          }\n          .form-input:focus, .form-textarea:focus, .form-select:focus {\n            outline: none;\n            border-color: #000000;\n          }\n          .form-grid-3 {\n            display: grid;\n            grid-template-columns: 1fr 1fr 140px;\n            gap: 1rem;\n          }\n          .meeting-notes-section {\n            padding-top: 1rem;\n            margin-top: 1rem;\n            margin-bottom: 1rem;\n            width: 100%;\n            text-align: center;\n            border-top: 1px solid #e5e7eb;\n          }\n          .notes-header {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            margin-bottom: 1rem;\n            gap: 1rem;\n          }\n          .notes-title {\n            font-size: 1.125rem;\n            font-weight: 600;\n            color: #000000;\n            display: flex;\n            align-items: center;\n            gap: 0.5rem;\n          }\n          .toggle-notes-btn {\n            background: #000000;\n            color: #ffffff;\n            border: none;\n            padding: 0.5rem 1rem;\n            border-radius: 6px;\n            font-weight: 600;\n            cursor: pointer;\n            transition: all 0.2s ease;\n            font-size: 0.875rem;\n          }\n          .toggle-notes-btn:hover {\n            background: #333333;\n          }\n          .form-actions {\n            display: flex;\n            gap: 1rem;\n            justify-content: flex-end;\n            margin-top: 1.5rem;\n            padding-top: 1rem;\n            border-top: 1px solid #e5e7eb;\n          }\n          .btn {\n            padding: 0.75rem 1.5rem;\n            border-radius: 6px;\n            font-weight: 600;\n            cursor: pointer;\n            transition: all 0.2s ease;\n            border: 2px solid transparent;\n          }\n          .btn-primary {\n            background: #000000;\n            color: #ffffff;\n          }\n          .btn-primary:hover {\n            background: #333333;\n          }\n          .btn-secondary {\n            background: #ffffff;\n            color: #000000;\n            border-color: #e5e7eb;\n          }\n          .btn-secondary:hover {\n            border-color: #000000;\n          }\n          .attendees-list {\n            display: flex;\n            flex-wrap: wrap;\n            gap: 0.4rem;\n          }\n          .attendee-tag {\n            background: #000000;\n            color: #ffffff;\n            padding: 0.25rem 0.5rem;\n            border-radius: 10px;\n            font-size: 0.7rem;\n            font-weight: 500;\n          }\n          @media (max-width: 768px) {\n            .meeting-modal {\n              max-width: 95vw;\n              margin: 1rem;\n            }\n            .form-grid-3 {\n              grid-template-columns: 1fr;\n            }\n            .modal-header {\n              padding: 0.75rem;\n            }\n            .modal-body {\n              padding: 0.75rem;\n            }\n          }\n          @keyframes fadeIn {\n            from { opacity: 0; }\n            to { opacity: 1; }\n          }\n          @keyframes slideIn {\n            from { opacity: 0; transform: translateY(-20px); }\n            to { opacity: 1; transform: translateY(0); }\n          }\n        "}}),(0,r.jsxs)("div",{className:"meeting-modal meeting-modal-fixed",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"modal-header",children:[(0,r.jsx)("h2",{className:"modal-title",children:j?"Edit Meeting":n.title}),(0,r.jsxs)("div",{className:"modal-actions",children:[j?(0,r.jsx)("button",{onClick:_,className:"action-btn save",title:"Save changes",children:(0,r.jsx)(h.Z,{style:{width:"16px",height:"16px"}})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>w(!0),className:"action-btn edit",title:"Edit meeting",children:(0,r.jsx)(c.Z,{style:{width:"16px",height:"16px"}})}),(0,r.jsx)("button",{onClick:S,className:"action-btn delete",title:"Delete meeting",children:(0,r.jsx)(p.Z,{style:{width:"16px",height:"16px"}})})]}),(0,r.jsx)("button",{onClick:a,className:"action-btn close",title:"Close",children:(0,r.jsx)(x.Z,{style:{width:"16px",height:"16px"}})})]})]}),(0,r.jsx)("div",{className:"modal-content",children:(0,r.jsxs)("div",{className:"modal-body",children:[j?(0,r.jsxs)("div",{className:"edit-form",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Meeting Title *"}),(0,r.jsx)("input",{type:"text",required:!0,className:"form-input",placeholder:"Enter meeting title...",value:z.title,onChange:e=>C({...z,title:e.target.value})})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Description"}),(0,r.jsx)("textarea",{className:"form-textarea",placeholder:"What will be discussed in this meeting?",value:z.description,onChange:e=>C({...z,description:e.target.value}),style:{minHeight:"80px",resize:"vertical"}})]}),f.length>0&&(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Project *"}),(0,r.jsxs)("select",{required:!0,className:"form-select",value:z.project_id,onChange:e=>C({...z,project_id:Number(e.target.value),attendee_ids:[]}),children:[(0,r.jsx)("option",{value:0,children:"Select a project"}),f.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{className:"form-grid-3",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Date *"}),(0,r.jsx)("input",{type:"date",required:!0,className:"form-input",value:z.date,onChange:e=>C({...z,date:e.target.value})})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Time *"}),(0,r.jsx)("input",{type:"time",required:!0,className:"form-input",value:z.time,onChange:e=>C({...z,time:e.target.value})})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Duration"}),(0,r.jsx)("input",{type:"number",min:"15",max:"480",step:"15",className:"form-input",placeholder:"Minutes",value:z.duration,onChange:e=>C({...z,duration:Number(e.target.value)})})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Invite Attendees (Optional)"}),z.attendee_ids.length>0&&(0,r.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"0.75rem",padding:"0.75rem",backgroundColor:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"6px"},children:z.attendee_ids.map(e=>{let n=l.find(n=>n.id===e);return n?(0,r.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"0.25rem 0.75rem",backgroundColor:"#000000",color:"#ffffff",borderRadius:"20px",fontSize:"0.875rem"},children:[n.name,(0,r.jsx)("button",{type:"button",onClick:()=>C(n=>({...n,attendee_ids:n.attendee_ids.filter(n=>n!==e)})),style:{background:"none",border:"none",color:"#ffffff",cursor:"pointer",fontSize:"1rem",lineHeight:"1"},children:"\xd7"})]},e):null})}),l.length>0?(0,r.jsx)("div",{style:{border:"2px solid #e5e7eb",borderRadius:"6px",maxHeight:"200px",overflowY:"auto"},children:l.map(e=>{let n=z.attendee_ids.includes(e.id);return(0,r.jsxs)("div",{onClick:()=>{C(t=>({...t,attendee_ids:n?t.attendee_ids.filter(n=>n!==e.id):[...t.attendee_ids,e.id]}))},style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",borderBottom:"1px solid #e5e7eb",cursor:"pointer",backgroundColor:n?"#f0f9ff":"#ffffff",borderLeft:n?"4px solid #000000":"4px solid transparent"},children:[(0,r.jsx)("input",{type:"checkbox",checked:n,onChange:()=>{},style:{cursor:"pointer"}}),(0,r.jsxs)("div",{style:{flex:1},children:[(0,r.jsx)("div",{style:{fontWeight:"500",color:"#000000"},children:e.name}),(0,r.jsx)("div",{style:{fontSize:"0.875rem",color:"#6b7280"},children:e.email})]})]},e.id)})}):(0,r.jsx)("div",{style:{padding:"2rem",textAlign:"center",color:"#6b7280",border:"2px dashed #e5e7eb",borderRadius:"6px"},children:z.project_id?"Loading project members...":"Select a project to see available members"})]}),(0,r.jsxs)("div",{className:"form-actions",children:[(0,r.jsx)("button",{onClick:_,className:"btn btn-primary",children:"Update Meeting"}),(0,r.jsx)("button",{onClick:()=>w(!1),className:"btn btn-secondary",children:"Cancel"})]})]}):(0,r.jsxs)("div",{className:"meeting-info",children:[(0,r.jsxs)("div",{className:"info-row",children:[(0,r.jsx)(m.Z,{className:"info-icon",style:{width:"20px",height:"20px"}}),(0,r.jsxs)("div",{className:"info-content",children:[(0,r.jsx)("div",{className:"info-label",children:"Date"}),(0,r.jsx)("div",{className:"info-value",children:(e=>{let[n,t,r]=e.split("-").map(Number),i=new Date(n,t-1,r);return i.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})(n.date)})]})]}),(0,r.jsxs)("div",{className:"info-row",children:[(0,r.jsx)(d.Z,{className:"info-icon",style:{width:"20px",height:"20px"}}),(0,r.jsxs)("div",{className:"info-content",children:[(0,r.jsx)("div",{className:"info-label",children:"Time & Duration"}),(0,r.jsxs)("div",{className:"info-value",children:[(e=>{let[n,t]=e.split(":"),r=new Date;return r.setHours(parseInt(n),parseInt(t)),r.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})})(n.time)," • ",(e=>{let n=Math.floor(e/60),t=e%60;return n>0?t>0?"".concat(n,"h ").concat(t,"m"):"".concat(n,"h"):"".concat(t,"m")})(n.duration)]})]})]}),(0,r.jsxs)("div",{className:"info-row",children:[(0,r.jsx)(u.Z,{className:"info-icon",style:{width:"20px",height:"20px"}}),(0,r.jsxs)("div",{className:"info-content",children:[(0,r.jsx)("div",{className:"info-label",children:"Project"}),(0,r.jsx)("div",{className:"info-value",children:n.project_name})]})]}),n.description&&(0,r.jsxs)("div",{className:"info-row",children:[(0,r.jsx)(b.Z,{className:"info-icon",style:{width:"20px",height:"20px"}}),(0,r.jsxs)("div",{className:"info-content",children:[(0,r.jsx)("div",{className:"info-label",children:"Description"}),(0,r.jsx)("div",{className:"info-value",children:n.description})]})]}),E.length>0&&(0,r.jsxs)("div",{className:"info-row",children:[(0,r.jsx)(g.Z,{className:"info-icon",style:{width:"20px",height:"20px"}}),(0,r.jsxs)("div",{className:"info-content",children:[(0,r.jsx)("div",{className:"info-label",children:"Attendees"}),(0,r.jsx)("div",{className:"attendees-list",children:E.map((e,n)=>(0,r.jsx)("span",{className:"attendee-tag",children:e},n))})]})]})]}),(0,r.jsx)("div",{className:"meeting-notes-section",children:(0,r.jsxs)("div",{className:"notes-header",children:[(0,r.jsxs)("div",{className:"notes-title",children:[(0,r.jsx)(v.Z,{style:{width:"20px",height:"20px"}}),"Meeting Notes"]}),(0,r.jsx)("button",{onClick:()=>F(!0),className:"toggle-notes-btn",children:"Meeting Notes"})]})})]})})]}),N&&(0,r.jsx)(k,{meeting:{id:n.id,title:n.title,date:n.date,time:n.time,duration:n.duration,attendees_list:E},onClose:()=>F(!1),projectMembers:l})]})}var z=t(66);function C(){let{user:e,isAuthenticated:n,isLoading:t}=(0,o.useAuth)(),h=(0,a.useRouter)(),[x,u]=(0,i.useState)([]),[b,v]=(0,i.useState)([]),[y,j]=(0,i.useState)([]),[w,N]=(0,i.useState)([]),[k,C]=(0,i.useState)(new Set),[_,S]=(0,i.useState)(!0),[E,D]=(0,i.useState)(""),[M,T]=(0,i.useState)(!1),[A,B]=(0,i.useState)(null),[L,I]=(0,i.useState)(null),[R,Z]=(0,i.useState)(!1),[P,W]=(0,i.useState)(0),[Y,O]=(0,i.useState)("calendar"),[H,U]=(0,i.useState)("month"),[q,G]=(0,i.useState)(new Date),[V,J]=(0,i.useState)(!1),[K,Q]=(0,i.useState)([]),[X,$]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e=()=>{$(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let[ee,en]=(0,i.useState)(null),[et,er]=(0,i.useState)({title:"",description:"",date:"",time:"",duration:60,project_id:0,attendees:"",attendee_ids:[]});(0,i.useEffect)(()=>{if(!t){if(!n){h.push("/login");return}ei()}},[n,t,h]),(0,i.useEffect)(()=>{et.project_id>0?(ea(et.project_id),er(e=>({...e,attendee_ids:[]}))):N([])},[et.project_id]);let ei=async()=>{try{D(""),console.log("Timetable: Fetching data for user:",null==e?void 0:e.id);let[n,t,r,i]=await Promise.all([s.B4.getProjects(),s.wG.getMeetings(),s.B4.getUsers(),s.OV.getUserTasks()]);console.log("Timetable: Fetched projects:",(null==n?void 0:n.length)||0),console.log("Timetable: Fetched meetings:",(null==t?void 0:t.length)||0),console.log("Timetable: Fetched users:",(null==r?void 0:r.length)||0);let a=new Set;n.forEach(e=>{a.add(e.id)}),i.forEach(n=>{var t,r;((null===(t=n.assignee)||void 0===t?void 0:t.id)===(null==e?void 0:e.id)||(null===(r=n.created_by)||void 0===r?void 0:r.id)===(null==e?void 0:e.id))&&a.add(n.project_id)});let o=t.filter(n=>{var t,r,i;let o=n.project_id||n.project;if("personal"===n.event_type)return(null===(r=n.created_by)||void 0===r?void 0:r.id)===(null==e?void 0:e.id);if(!o)return(null===(i=n.created_by)||void 0===i?void 0:i.id)===(null==e?void 0:e.id);if(!a.has(o))return!1;if((null===(t=n.created_by)||void 0===t?void 0:t.id)===(null==e?void 0:e.id)||n.attendee_ids&&Array.isArray(n.attendee_ids)&&(null==e?void 0:e.id)&&n.attendee_ids.includes(e.id))return!0;let s=n.attendees_list||(n.attendees?n.attendees.split(",").map(e=>e.trim()):[]),d=s.some(n=>{var t,r;return n.toLowerCase().includes((null==e?void 0:null===(t=e.name)||void 0===t?void 0:t.toLowerCase())||"")||n.toLowerCase().includes((null==e?void 0:null===(r=e.email)||void 0===r?void 0:r.toLowerCase())||"")});return!!d});C(a),u(n||[]),v(o||[]),j(r||[]),console.log("Timetable: Data loaded successfully")}catch(n){let e=n instanceof Error?n.message:"Failed to load timetable data";D(e),console.error("Timetable: Fetch error:",n)}finally{S(!1)}},ea=async e=>{try{let n=await s.B4.getProjectMembers(e);N(n)}catch(e){console.error("Error fetching project members:",e),N([])}},eo=async e=>{if(e.preventDefault(),!et.title.trim()||!et.date||!et.time||!et.project_id){D("Please fill in all required fields");return}if(!k.has(et.project_id)){D("You do not have access to create meetings for this project");return}try{let e={title:et.title.trim(),description:et.description.trim(),project:et.project_id,date:et.date,time:et.time,duration:et.duration,attendees:et.attendees,attendee_ids:et.attendee_ids.length>0?et.attendee_ids:void 0},n=await s.wG.createMeeting(e);v([n,...b]),er({title:"",description:"",date:"",time:"",duration:60,project_id:0,attendees:"",attendee_ids:[]}),T(!1),D("")}catch(e){D("Failed to create meeting")}},es=e=>{I(e),Z(!0)},ed=async e=>{if(!L)return;let n=L.project_id||L.project;if(!n||!k.has(n)){D("You do not have access to update this meeting");return}try{let n=await s.wG.updateMeeting(L.id,{title:e.title.trim(),description:e.description.trim(),date:e.date,time:e.time,duration:e.duration,attendees:e.attendees});v(b.map(e=>e.id===L.id?n:e)),I(n),D("")}catch(e){D("Failed to update meeting")}},el=async e=>{try{await ep(e),Z(!1),I(null)}catch(e){}},em=e=>{let n=e.project_id||e.project;if(!n||!k.has(n)){D("You do not have access to edit this meeting");return}B(e),er({title:e.title,description:e.description,date:e.date,time:e.time,duration:e.duration,project_id:e.project_id||e.project||0,attendees:e.attendees_list?e.attendees_list.join(", "):e.attendees||"",attendee_ids:[]}),T(!0)},ec=async e=>{if(e.preventDefault(),A){if(!k.has(et.project_id)){D("You do not have access to update meetings for this project");return}try{let e={title:et.title.trim(),description:et.description.trim(),project:et.project_id,date:et.date,time:et.time,duration:et.duration,attendees:et.attendees,attendee_ids:et.attendee_ids.length>0?et.attendee_ids:void 0},n=await s.wG.updateMeeting(A.id,e);v(b.map(e=>e.id===A.id?n:e)),B(null),er({title:"",description:"",date:"",time:"",duration:60,project_id:0,attendees:"",attendee_ids:[]}),T(!1),D("")}catch(e){D("Failed to update meeting")}}},ep=async e=>{try{let n=b.find(n=>n.id===e);if(!n){D("Meeting not found");return}let t=n.project_id||n.project;if(!t||!k.has(t)){D("You do not have access to delete this meeting");return}await s.wG.deleteMeeting(e),v(b.filter(n=>n.id!==e))}catch(e){D("Failed to delete meeting")}},eg=e=>{let[n,t,r]=e.split("-").map(Number),i=new Date(n,t-1,r);return i.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},ef=e=>{let[n,t]=e.split(":"),r=new Date;return r.setHours(parseInt(n),parseInt(t)),r.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})},eh=e=>{let n=Math.floor(e/60),t=e%60;return n>0?t>0?"".concat(n,"h ").concat(t,"m"):"".concat(n,"h"):"".concat(t,"m")},ex=b.filter(e=>{let[n,t,r]=e.date.split("-").map(Number),[i,a]=e.time.split(":").map(Number),o=new Date(n,t-1,r,i,a);return o>=new Date}).sort((e,n)=>{let[t,r,i]=e.date.split("-").map(Number),[a,o]=e.time.split(":").map(Number),s=new Date(t,r-1,i,a,o),[d,l,m]=n.date.split("-").map(Number),[c,p]=n.time.split(":").map(Number),g=new Date(d,l-1,m,c,p);return s.getTime()-g.getTime()}),eu=b.filter(e=>{let[n,t,r]=e.date.split("-").map(Number),[i,a]=e.time.split(":").map(Number),o=new Date(n,t-1,r,i,a);return o<new Date}).sort((e,n)=>{let[t,r,i]=e.date.split("-").map(Number),[a,o]=e.time.split(":").map(Number),s=new Date(t,r-1,i,a,o),[d,l,m]=n.date.split("-").map(Number),[c,p]=n.time.split(":").map(Number),g=new Date(d,l-1,m,c,p);return g.getTime()-s.getTime()}),eb=e=>new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),ev=e=>new Date(e.getFullYear(),e.getMonth(),1).getDay(),ey=e=>{let n=e.getFullYear(),t=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),i="".concat(n,"-").concat(t,"-").concat(r);return b.filter(e=>e.date===i)},ej=e=>{let n=new Date(e),t=n.getDay();n.setDate(n.getDate()-t);let r=[];for(let e=0;e<7;e++){let t=new Date(n);t.setDate(n.getDate()+e),r.push(t)}return r},ew=e=>e.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),eN=()=>{if("month"===H)G(new Date(q.getFullYear(),q.getMonth()-1));else if("week"===H){let e=new Date(q);e.setDate(e.getDate()-7),G(e)}else if("day"===H){let e=new Date(q);e.setDate(e.getDate()-1),G(e)}},ek=()=>{if("month"===H)G(new Date(q.getFullYear(),q.getMonth()+1));else if("week"===H){let e=new Date(q);e.setDate(e.getDate()+7),G(e)}else if("day"===H){let e=new Date(q);e.setDate(e.getDate()+1),G(e)}},eF=new Date,ez=(0,i.useMemo)(()=>eb(q),[q]),eC=(0,i.useMemo)(()=>ev(q),[q]),e_=e=>e.attendees_list&&e.attendees_list.length>0?e.attendees_list:e.attendees&&"string"==typeof e.attendees?e.attendees.split(",").map(e=>e.trim()).filter(e=>e):[],eS=(e,n)=>{en(e),Q(n),J(!0)};return t?(0,r.jsx)("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#F5F5ED"},children:(0,r.jsx)("div",{style:{width:"32px",height:"32px",border:"3px solid #C483D9",borderTop:"3px solid #5884FD",borderRadius:"50%",animation:"spin 1s linear infinite"}})}):n?_?(0,r.jsx)("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#F5F5ED"},children:(0,r.jsx)("div",{style:{width:"32px",height:"32px",border:"3px solid #C483D9",borderTop:"3px solid #5884FD",borderRadius:"50%",animation:"spin 1s linear infinite"}})}):(0,r.jsxs)("div",{children:[X&&(0,r.jsx)(z.Z,{title:"Timetable",isMobile:X}),(0,r.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n          @keyframes spin {\n            to { transform: rotate(360deg); }\n          }\n          body {\n            margin: 0;\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\n            background: #F5F5ED;\n          }\n          .timetable-container {\n            min-height: 100vh;\n            display: flex;\n            background: #f8fafc;\n            max-width: 100vw;\n            overflow-x: hidden;\n            box-sizing: border-box;\n          }\n          .main-content {\n            flex: 1;\n            margin-left: ".concat(X?"0":"280px",";\n            background: transparent;\n            max-width: ").concat(X?"100vw":"calc(100vw - 280px)",";\n            overflow-x: hidden;\n            box-sizing: border-box;\n            position: relative;\n            z-index: 1;\n            padding-top: ").concat(X?"70px":"0",";\n            padding-left: ").concat(X?"12px":"0",";\n            padding-right: ").concat(X?"12px":"0",";\n          }\n          .header {\n            background: rgba(255, 255, 255, 0.98);\n            backdrop-filter: blur(30px);\n            border-bottom: none;\n            padding: 2.5rem 2rem 1.5rem 2rem;\n            position: sticky;\n            top: 0;\n            z-index: 20;\n            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);\n            transition: all 0.3s ease;\n            box-sizing: border-box;\n            width: 100%;\n            overflow-x: hidden;\n          }\n          .header-content {\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n            margin-bottom: 1.5rem;\n            max-width: 1200px;\n            margin-left: auto;\n            margin-right: auto;\n            box-sizing: border-box;\n            width: 100%;\n            max-width: 100%;\n          }\n          .header-title {\n            font-size: 2.5rem;\n            font-weight: 800;\n            color: #1F2937;\n            margin: 0;\n            display: flex;\n            align-items: center;\n            gap: 0.75rem;\n            font-family: 'Mabry Pro', 'Inter', sans-serif;\n            letter-spacing: -0.02em;\n            line-height: 1.2;\n          }\n          .header-controls {\n            display: flex;\n            align-items: center;\n            gap: 2rem;\n          }\n          \n          .filter-controls {\n            display: flex;\n            gap: 1rem;\n          }\n          \n          .filter-btn {\n            background: rgba(255, 255, 255, 0.9);\n            backdrop-filter: blur(15px);\n            color: #1F2937;\n            border: 2px solid rgba(196, 131, 217, 0.3);\n            padding: 0.75rem 1.5rem;\n            border-radius: 16px;\n            font-weight: 600;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n            gap: 0.75rem;\n            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n            font-family: 'Mabry Pro', 'Inter', sans-serif;\n            font-size: 0.875rem;\n            position: relative;\n            overflow: hidden;\n          }\n          \n          .filter-btn::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: -100%;\n            width: 100%;\n            height: 100%;\n            background: linear-gradient(90deg, transparent, rgba(196, 131, 217, 0.1), transparent);\n            transition: left 0.6s ease;\n          }\n          \n          .filter-btn:hover {\n            background: rgba(196, 131, 217, 0.1);\n            border-color: #C483D9;\n            transform: translateY(-3px) scale(1.02);\n            box-shadow: 0 8px 25px rgba(196, 131, 217, 0.25);\n          }\n          \n          .filter-btn:hover::before {\n            left: 100%;\n          }\n          \n          .filter-btn.active {\n            background: linear-gradient(135deg, #C483D9, #E5A3F0);\n            color: #FFFFFF;\n            border-color: #C483D9;\n            box-shadow: 0 8px 25px rgba(196, 131, 217, 0.35);\n          }\n          .create-button {\n            background: linear-gradient(135deg, #5884FD, #7BA3FF);\n            color: #ffffff;\n            border: none;\n            padding: 0.75rem 1.5rem;\n            border-radius: 16px;\n            font-weight: 600;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n            gap: 0.75rem;\n            transition: all 0.3s ease;\n            font-family: 'Mabry Pro', 'Inter', sans-serif;\n            font-size: 0.875rem;\n            box-shadow: 0 4px 16px rgba(88, 132, 253, 0.3);\n          }\n          .create-button:hover {\n            background: linear-gradient(135deg, #4A6CF7, #5884FD);\n            transform: translateY(-2px);\n            box-shadow: 0 8px 25px rgba(88, 132, 253, 0.4);\n          }\n          .filter-section {\n            display: flex;\n            align-items: center;\n            gap: 1rem;\n          }\n          .filter-select {\n            padding: 0 0.5rem;\n            border: 2px solid #000000;\n            border-radius: 4px;\n            background: #ffffff;\n            color: #000000;\n            font-weight: 500;\n            height: 40px;\n            box-sizing: border-box;\n            line-height: 36px;\n          }\n          .main-content-area {\n            padding: 2rem;\n            max-width: 1200px;\n            margin: 0 auto;\n            box-sizing: border-box;\n            min-height: calc(100vh - 200px);\n            line-height: 1.6;\n          }\n          .error-message {\n            background: #ffffff;\n            border: 1px solid #F87239;\n            color: #F87239;\n            padding: 1rem;\n            border-radius: 12px;\n            margin-bottom: 1.5rem;\n            font-weight: 500;\n            box-shadow: 0 2px 8px rgba(248, 114, 57, 0.1);\n          }\n          \n          .timetable-stats {\n            display: grid;\n            grid-template-columns: repeat(4, 1fr);\n            gap: 1rem;\n            padding-top: 1.5rem;\n            max-width: 1000px;\n            margin: 0 auto;\n          }\n          \n          .timetable-stats .stat-item {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            gap: 0.5rem;\n            background: #FFFFFF;\n            padding: 1.25rem 1rem;\n            border-radius: 16px;\n            border: 1px solid #E5E7EB;\n            transition: all 0.2s ease;\n            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);\n          }\n          \n          .timetable-stats .stat-item:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n            border-color: #5884FD;\n          }\n          \n          .stat-label {\n            font-size: 0.75rem;\n            color: #6B7280;\n            font-weight: 500;\n            font-family: 'Mabry Pro', 'Inter', sans-serif;\n            text-transform: uppercase;\n            letter-spacing: 0.05em;\n          }\n          \n          .stat-value {\n            font-size: 1.875rem;\n            font-weight: 700;\n            color: #1F2937;\n            font-family: 'Mabry Pro', 'Inter', sans-serif;\n            letter-spacing: -0.01em;\n          }\n          \n          .stat-value.upcoming {\n            color: #5884FD;\n          }\n          \n          .stat-value.total {\n            color: #FFB333;\n          }\n          .meetings-section {\n            margin-bottom: 2rem;\n          }\n          .section-title {\n            font-size: 1.25rem;\n            font-weight: 600;\n            color: #000000;\n            margin-bottom: 1rem;\n            display: flex;\n            align-items: center;\n            gap: 0.5rem;\n          }\n          .meetings-grid {\n            display: grid;\n            gap: 1rem;\n          }\n          /* Desktop Styles */\n          @media (min-width: 1025px) {\n            .header {\n              padding: 2rem 2.5rem;\n              background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);\n              border-bottom: 3px solid #000000;\n              box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n            }\n            \n            .header-content {\n              max-width: 1400px;\n              margin: 0 auto;\n              align-items: flex-start;\n              gap: 1.5rem;\n            }\n            \n            .header-title {\n              font-size: 2rem;\n              gap: 1rem;\n              margin-bottom: 0.5rem;\n            }\n            \n            .header-title + p {\n              font-size: 1rem;\n              color: #666666;\n              margin: 0;\n              font-weight: 500;\n            }\n            \n            .header-actions {\n              display: flex;\n              gap: 1.5rem;\n              align-items: center;\n              max-width: none;\n              width: auto;\n              margin-left: auto;\n            }\n            \n            .filter-section {\n              display: flex;\n              align-items: center;\n              min-width: 200px;\n            }\n            \n            .filter-select {\n              padding: 0 1rem;\n              font-size: 0.9rem;\n              border: 2px solid #e5e7eb;\n              border-radius: 8px;\n              background: #ffffff;\n              transition: all 0.2s ease;\n              min-width: 180px;\n              height: 48px;\n              box-sizing: border-box;\n              font-weight: 600;\n              line-height: 1;\n            }\n            \n            .filter-select:hover {\n              border-color: #6b7280;\n            }\n            \n            .filter-select:focus {\n              outline: none;\n              border-color: #000000;\n              box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.1);\n            }\n            \n            .action-buttons-row {\n              display: flex;\n              gap: 1rem;\n              align-items: center;\n            }\n            \n            .view-toggle {\n              display: flex;\n              background: #f8f9fa;\n              border: 2px solid #e5e7eb;\n              border-radius: 8px;\n              overflow: hidden;\n              transition: all 0.2s ease;\n              height: 48px;\n              box-sizing: border-box;\n            }\n            \n            .view-toggle:hover {\n              border-color: #6b7280;\n            }\n            \n            .view-toggle button {\n              padding: 0 1.25rem;\n              border: none;\n              background: transparent;\n              font-size: 0.9rem;\n              font-weight: 600;\n              cursor: pointer;\n              transition: all 0.2s ease;\n              color: #6b7280;\n              height: 44px;\n              display: flex;\n              align-items: center;\n              justify-content: center;\n              box-sizing: border-box;\n            }\n            \n            .view-toggle button:hover {\n              background: rgba(0, 0, 0, 0.05);\n            }\n            \n            .view-toggle button.active {\n              background: #000000;\n              color: #ffffff;\n            }\n            \n            .create-button {\n              padding: 0 1.75rem;\n              font-size: 0.9rem;\n              border-radius: 8px;\n              background: linear-gradient(135deg, #000000 0%, #333333 100%);\n              box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n              transition: all 0.2s ease;\n              gap: 0.75rem;\n              height: 48px;\n              font-weight: 600;\n            }\n            \n            .create-button:hover {\n              background: linear-gradient(135deg, #333333 0%, #000000 100%);\n              transform: translateY(-1px);\n              box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);\n            }\n            \n            .main-content-area {\n              padding: 2.5rem 2.5rem;\n              max-width: 1400px;\n              margin: 0 auto;\n            }\n            \n            /* Desktop Calendar Navigation */\n            .calendar-navigation {\n              flex-direction: column !important;\n              gap: 1.5rem !important;\n              padding: 2rem !important;\n              background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);\n              border: 2px solid #e5e7eb;\n              border-radius: 12px;\n              box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n            }\n            \n            .calendar-nav-row-1 {\n              width: 100% !important;\n              display: flex !important;\n              justify-content: space-between !important;\n              align-items: center !important;\n            }\n            \n            .calendar-nav-row-2 {\n              display: flex !important;\n              justify-content: center !important;\n            }\n            \n            .calendar-navigation h2 {\n              font-size: 1.75rem !important;\n              font-weight: 700 !important;\n              color: #000000 !important;\n            }\n            \n            .nav-button {\n              padding: 0.875rem 1.5rem !important;\n              font-size: 1rem !important;\n              border: 2px solid #e5e7eb !important;\n              background: #ffffff !important;\n              border-radius: 8px !important;\n              transition: all 0.2s ease !important;\n              font-weight: 600 !important;\n            }\n            \n            .nav-button:hover {\n              border-color: #000000 !important;\n              background: #f8f9fa !important;\n              transform: translateY(-1px) !important;\n            }\n            \n            .calendar-mode-buttons {\n              border: 2px solid #e5e7eb !important;\n              border-radius: 8px !important;\n              background: #ffffff !important;\n              overflow: hidden !important;\n            }\n            \n            .calendar-mode-buttons button {\n              padding: 0.75rem 1.5rem !important;\n              font-size: 0.95rem !important;\n              font-weight: 600 !important;\n              transition: all 0.2s ease !important;\n            }\n          }\n          \n          /* Mobile Responsive Styles */\n          @media (max-width: 1024px) {\n            .main-content {\n              margin-left: 0;\n              max-width: 100vw;\n              width: 100%;\n              overflow-x: hidden;\n            }\n            \n            .header-controls {\n              flex-direction: column;\n              gap: 1rem;\n              align-items: stretch;\n            }\n            \n            .filter-controls {\n              justify-content: center;\n            }\n            \n            .timetable-stats {\n              grid-template-columns: repeat(2, 1fr);\n              gap: 0.75rem;\n            }\n          }\n          \n          /* Tablet Portrait - Better layout */\n          @media (max-width: 1024px) and (min-width: 769px) {\n            .header-content {\n              flex-direction: column;\n              gap: 1.5rem;\n            }\n            \n            .header-controls {\n              flex-direction: row;\n              justify-content: center;\n              gap: 2rem;\n            }\n            \n            .filter-controls {\n              gap: 0.5rem;\n            }\n            \n            .timetable-stats {\n              grid-template-columns: repeat(2, 1fr);\n            }\n          }\n          \n          @media (max-width: 768px) {\n            * {\n              box-sizing: border-box;\n            }\n            \n            body, html {\n              width: 100%;\n              max-width: 100vw;\n              overflow-x: hidden;\n            }\n            \n            .main-content {\n              margin-left: 0 !important;\n              width: 100vw !important;\n              max-width: 100vw !important;\n              overflow-x: hidden;\n            }\n            \n            .header {\n              padding: 1rem;\n              position: relative;\n              width: 100vw !important;\n              max-width: 100vw !important;\n              box-sizing: border-box;\n              margin: 0;\n              overflow-x: hidden;\n            }\n            \n            .header-content {\n              flex-direction: column;\n              gap: 1rem;\n              align-items: stretch;\n              width: 100%;\n              max-width: 100%;\n            }\n            \n            .header-title {\n              font-size: 1.75rem;\n              text-align: center;\n            }\n            \n            .header-title + p {\n              font-size: 0.9rem;\n              text-align: center;\n            }\n            \n            .header-controls {\n              flex-direction: column;\n              gap: 1rem;\n              align-items: stretch;\n              width: 100%;\n            }\n            \n            .filter-controls {\n              display: flex;\n              gap: 0.5rem;\n              justify-content: center;\n              flex-wrap: wrap;\n            }\n            \n            .filter-btn {\n              flex: 1;\n              padding: 0.5rem 1rem;\n              font-size: 0.8rem;\n              min-width: 120px;\n            }\n            \n            .create-button {\n              justify-content: center;\n              padding: 0.75rem 1rem;\n              font-size: 0.8rem;\n              align-self: center;\n              min-width: 200px;\n              width: 100%;\n              max-width: 300px;\n            }\n            \n            .timetable-stats {\n              grid-template-columns: repeat(2, 1fr);\n              gap: 0.75rem;\n              padding-top: 1rem;\n              width: 100%;\n              box-sizing: border-box;\n            }\n            \n            .timetable-stats .stat-item {\n              padding: 1rem 0.75rem;\n              min-height: 80px;\n              display: flex;\n              flex-direction: column;\n              justify-content: center;\n            }\n            \n            .stat-value {\n              font-size: 1.5rem;\n            }\n            \n            .stat-label {\n              font-size: 0.7rem;\n              text-align: center;\n            }\n            \n            .main-content-area {\n              padding: 1rem;\n              max-width: 100vw !important;\n              min-height: calc(100vh - 150px);\n              width: 100vw !important;\n              box-sizing: border-box;\n              margin: 0;\n              overflow-x: hidden;\n            }\n            \n            /* Calendar Navigation Mobile - 2 Row Layout */\n            .calendar-navigation {\n              display: flex !important;\n              flex-direction: column !important;\n              gap: 0.75rem !important;\n              padding: 0.75rem !important;\n              margin-bottom: 1rem !important;\n              align-items: center !important;\n              width: 100% !important;\n              box-sizing: border-box !important;\n            }\n            \n            .calendar-nav-row-1 {\n              display: flex !important;\n              justify-content: space-between !important;\n              align-items: center !important;\n              width: 100% !important;\n            }\n            \n            .calendar-navigation h2 {\n              font-size: 1rem !important;\n              text-align: center !important;\n              margin: 0 !important;\n              flex: 1 !important;\n            }\n            \n            .calendar-nav-row-2 {\n              display: flex !important;\n              justify-content: center !important;\n              width: 100% !important;\n            }\n            \n            .calendar-mode-buttons {\n              width: 200px !important;\n              height: 32px !important;\n            }\n            \n            .calendar-mode-buttons button {\n              padding: 0.4rem 0.75rem !important;\n              font-size: 0.75rem !important;\n            }\n            \n            .nav-button {\n              padding: 0.6rem 1rem !important;\n              font-size: 0.8rem !important;\n              min-width: 80px !important;\n            }\n            \n            /* ULTRA-AGGRESSIVE CALENDAR GRID FIXES */\n            .calendar-header-grid,\n            .calendar-body-grid,\n            .calendar-view div[style*=\"grid-template-columns\"],\n            .calendar-view > div:first-child,\n            .calendar-view > div:last-child,\n            .calendar-view > div > div {\n              display: grid !important;\n              grid-template-columns: repeat(7, 1fr) !important;\n              width: calc(100vw - 2rem) !important;\n              min-width: calc(100vw - 2rem) !important;\n              gap: 1px !important;\n              max-width: calc(100vw - 2rem) !important;\n              overflow-x: hidden !important;\n              box-sizing: border-box !important;\n              margin: 0 !important;\n              padding: 0 !important;\n            }\n            \n            /* FORCE ALL CALENDAR ELEMENTS */\n            .calendar-view,\n            .calendar-view * {\n              box-sizing: border-box !important;\n              max-width: calc(100vw - 2rem) !important;\n            }\n            \n            .calendar-view > div {\n              width: calc(100vw - 2rem) !important;\n              max-width: calc(100vw - 2rem) !important;\n              margin: 0 !important;\n            }\n            \n            /* OVERRIDE ANY CONFLICTING GRID STYLES */\n            .calendar-view div {\n              grid-column: unset !important;\n              grid-row: unset !important;\n            }\n            \n            /* Calendar Day Cells Mobile */\n            .calendar-day,\n            [class*=\"calendar-day\"],\n            .calendar-view div[style*=\"border-right\"] {\n              min-height: 100px !important;\n              padding: 8px !important;\n              font-size: 12px !important;\n              overflow: hidden !important;\n              border: 1px solid #E5E7EB !important;\n              background: white !important;\n              box-sizing: border-box !important;\n            }\n\n            /* Week and Day View Mobile Adjustments */\n            .calendar-view div[style*=\"gridTemplateColumns\"] {\n              grid-template-columns: repeat(7, 1fr) !important;\n              gap: 1px !important;\n            }\n\n            .calendar-view div[style*=\"minHeight: 500px\"] {\n              min-height: 300px !important;\n            }\n\n            .calendar-view div[style*=\"minHeight: 700px\"] {\n              min-height: 400px !important;\n            }\n            \n            /* FORCE CALENDAR STRUCTURE */\n            .calendar-view {\n              width: calc(100vw - 2rem) !important;\n              max-width: calc(100vw - 2rem) !important;\n              overflow-x: hidden !important;\n              margin: 0 !important;\n              padding: 0 !important;\n            }\n            \n            /* Calendar Headers Mobile */\n            .calendar-header,\n            [class*=\"calendar-header\"] {\n              padding: 8px 4px !important;\n              font-size: 12px !important;\n              font-weight: 600 !important;\n            }\n            \n            /* Calendar Legend Mobile */\n            .calendar-view > div:last-child {\n              padding: 0.75rem !important;\n              margin-top: 1rem !important;\n            }\n            \n            .calendar-view > div:last-child > div:first-child {\n              gap: 1rem !important;\n              flex-wrap: nowrap !important;\n              justify-content: center !important;\n            }\n            \n            .calendar-day-header {\n              padding: 0.4rem 0.125rem !important;\n              font-size: 0.65rem !important;\n              text-align: center !important;\n            }\n            \n            .calendar-day-cell {\n              min-height: 70px !important;\n              max-height: 70px !important;\n              padding: 0.25rem 0.125rem !important;\n              overflow: hidden !important;\n              display: flex !important;\n              flex-direction: column !important;\n            }\n            \n            .calendar-day-number {\n              font-size: 0.8rem !important;\n              margin-bottom: 0.25rem !important;\n              flex-shrink: 0 !important;\n            }\n            \n            .calendar-meeting-item {\n              font-size: 0.5rem !important;\n              padding: 0.125rem 0.25rem !important;\n              margin-bottom: 0.125rem !important;\n              line-height: 1.2 !important;\n              border-radius: 2px !important;\n            }\n            \n            .calendar-meeting-time {\n              display: none !important;\n            }\n            \n            .calendar-more-meetings {\n              font-size: 0.45rem !important;\n              padding: 0.1rem !important;\n              margin-top: auto !important;\n            }\n            \n            /* Meeting Cards Mobile */\n            .meetings-grid {\n              gap: 1rem;\n            }\n            \n            .meeting-card {\n              padding: 1rem;\n              position: relative;\n            }\n            \n            .meeting-header {\n              flex-direction: column;\n              gap: 0.75rem;\n              align-items: flex-start;\n              position: relative;\n              padding-right: 4rem;\n            }\n            \n            .meeting-actions {\n              position: absolute;\n              top: 0;\n              right: 0;\n              display: flex;\n              gap: 0.375rem;\n              z-index: 10;\n            }\n            \n            .meeting-actions .action-btn {\n              width: 32px;\n              height: 32px;\n              padding: 0;\n              display: flex;\n              align-items: center;\n              justify-content: center;\n              border-radius: 6px;\n              font-size: 0.75rem;\n            }\n            \n            .meeting-details {\n              grid-template-columns: 1fr;\n              gap: 0.75rem;\n            }\n            \n            .detail-item {\n              font-size: 0.875rem;\n            }\n            \n            .attendees-list {\n              gap: 0.375rem;\n            }\n            \n            .attendee-tag {\n              font-size: 0.7rem;\n              padding: 0.25rem 0.375rem;\n            }\n            \n            /* Modal Mobile */\n            .modal-overlay {\n              padding: 0.5rem;\n            }\n            \n            .modal-content {\n              max-width: calc(100vw - 1rem);\n              max-height: calc(100vh - 1rem);\n              margin: 0;\n            }\n            \n            .modal-header {\n              padding: 1rem;\n            }\n            \n            .modal-title {\n              font-size: 1.1rem;\n            }\n            \n            .modal-form {\n              padding: 1rem;\n            }\n            \n            .form-group {\n              margin-bottom: 1rem;\n            }\n            \n            .form-grid, .form-grid-3 {\n              grid-template-columns: 1fr;\n              gap: 1rem;\n            }\n            \n            .form-actions {\n              flex-direction: column;\n              gap: 0.75rem;\n            }\n          }\n          \n          @media (max-width: 480px) {\n            .header {\n              padding: 0.75rem;\n            }\n            \n            .header-title {\n              font-size: 1.25rem;\n              text-align: center;\n            }\n            \n            .header-title p {\n              font-size: 0.8rem;\n              line-height: 1.3;\n            }\n            \n            .main-content-area {\n              padding: 0.75rem;\n              min-height: calc(100vh - 120px);\n            }\n            \n            .timetable-stats {\n              grid-template-columns: 1fr;\n              gap: 0.5rem;\n            }\n            \n            .stat-item {\n              padding: 0.75rem;\n              min-height: 60px;\n            }\n            \n            .stat-value {\n              font-size: 1.25rem;\n            }\n            \n            .stat-label {\n              font-size: 0.65rem;\n            }\n            \n            .filter-btn {\n              padding: 0.5rem 0.75rem;\n              font-size: 0.75rem;\n              min-width: 100px;\n            }\n            \n            .create-button {\n              padding: 0.75rem;\n              font-size: 0.8rem;\n              width: 100%;\n              max-width: none;\n            }\n            \n            .meeting-card {\n              padding: 0.75rem;\n            }\n            \n            .meeting-title {\n              font-size: 1rem;\n            }\n            \n            .meeting-project {\n              font-size: 0.8rem;\n            }\n            \n            .header-actions {\n              gap: 0.5rem;\n            }\n            \n            .filter-section {\n              gap: 0.375rem;\n            }\n            \n            .filter-section label {\n              font-size: 0.7rem;\n            }\n            \n            .filter-select {\n              padding: 0 0.45rem;\n              font-size: 0.75rem;\n              height: 32px;\n              box-sizing: border-box;\n              line-height: 28px;\n            }\n            \n            .action-buttons-row {\n              gap: 0.375rem;\n              grid-template-columns: 1fr 1fr;\n              align-items: center;\n            }\n            \n            .view-toggle {\n              height: 32px !important;\n              box-sizing: border-box;\n              align-self: center;\n            }\n            \n            .view-toggle button {\n              font-size: 0.7rem !important;\n              padding: 0.35rem 0.4rem !important;\n              height: 32px;\n              box-sizing: border-box;\n              display: flex !important;\n              align-items: center !important;\n              justify-content: center !important;\n            }\n            \n            .create-button {\n              padding: 0.35rem 0.4rem;\n              font-size: 0.7rem;\n              height: 32px;\n              gap: 0.2rem;\n              box-sizing: border-box;\n            }\n            \n            .section-title {\n              font-size: 1rem;\n              gap: 0.25rem;\n            }\n            \n            .meeting-card {\n              padding: 0.75rem;\n              position: relative;\n            }\n            \n            .meeting-header {\n              padding-right: 3.5rem;\n            }\n            \n            .meeting-actions .action-btn {\n              width: 28px;\n              height: 28px;\n              font-size: 0.7rem;\n            }\n            \n            .meeting-title {\n              font-size: 0.9rem;\n            }\n            \n            .meeting-project {\n              font-size: 0.75rem;\n            }\n            \n            /* Ultra-compact Calendar for Small Screens */\n            .calendar-navigation {\n              padding: 0.5rem !important;\n              margin-bottom: 0.75rem !important;\n            }\n            \n            .calendar-nav-row-1 {\n              margin-bottom: 0.25rem !important;\n            }\n            \n            .calendar-navigation h2 {\n              font-size: 0.9rem !important;\n            }\n            \n            .calendar-mode-buttons {\n              width: 160px !important;\n              height: 28px !important;\n            }\n            \n            .calendar-mode-buttons button {\n              padding: 0.3rem 0.5rem !important;\n              font-size: 0.7rem !important;\n            }\n            \n            .nav-button {\n              padding: 0.5rem 0.75rem !important;\n              font-size: 0.75rem !important;\n              min-width: 60px !important;\n            }\n            \n            .calendar-day-cell {\n              min-height: 60px !important;\n              max-height: 60px !important;\n              padding: 0.125rem !important;\n            }\n            \n            .calendar-day-header {\n              padding: 0.3rem 0.1rem !important;\n              font-size: 0.6rem !important;\n            }\n            \n            .calendar-day-number {\n              font-size: 0.75rem !important;\n              margin-bottom: 0.2rem !important;\n            }\n            \n            .calendar-meeting-item {\n              font-size: 0.45rem !important;\n              padding: 0.1rem 0.15rem !important;\n              margin-bottom: 0.1rem !important;\n              line-height: 1.1 !important;\n            }\n            \n            .calendar-more-meetings {\n              font-size: 0.4rem !important;\n              padding: 0.05rem !important;\n            }\n            \n            /* Calendar Legend Mobile */\n            .calendar-view > div:last-child {\n              padding: 0.6rem !important;\n              margin-top: 0.75rem !important;\n            }\n            \n            .calendar-view > div:last-child > div:first-child {\n              gap: 0.75rem !important;\n              flex-wrap: nowrap !important;\n              justify-content: center !important;\n            }\n            \n            /* Modal Ultra-Mobile */\n            .modal-overlay {\n              padding: 0.25rem;\n            }\n            \n            .modal-content {\n              max-width: calc(100vw - 0.5rem);\n              max-height: calc(100vh - 0.5rem);\n              border-radius: 6px;\n            }\n            \n            .modal-header {\n              padding: 0.75rem;\n            }\n            \n            .modal-title {\n              font-size: 0.9rem;\n            }\n            \n            .modal-form {\n              padding: 0.75rem;\n            }\n            \n            .form-input, .form-textarea, .form-select {\n              padding: 0.75rem;\n              font-size: 0.9rem;\n            }\n            \n            .form-actions button {\n              padding: 0.875rem;\n              font-size: 0.9rem;\n            }\n          }\n          \n          @media (max-width: 380px) {\n            .header {\n              padding: 0.4rem;\n            }\n            \n            .header-title {\n              font-size: 0.9rem;\n            }\n            \n            .header-title p {\n              font-size: 0.65rem;\n            }\n            \n            .main-content-area {\n              padding: 0.6rem;\n              min-height: calc(100vh - 100px);\n            }\n            \n            .header-actions {\n              gap: 0.4rem;\n            }\n            \n            .action-buttons-row {\n              gap: 0.3rem;\n              grid-template-columns: 1fr 1fr;\n              align-items: center;\n            }\n            \n            .filter-section {\n              gap: 0.3rem;\n            }\n            \n            .filter-section label {\n              font-size: 0.65rem;\n            }\n            \n            .filter-select {\n              padding: 0 0.4rem;\n              font-size: 0.7rem;\n              height: 28px;\n              box-sizing: border-box;\n              line-height: 24px;\n            }\n            \n            .view-toggle {\n              height: 28px !important;\n              box-sizing: border-box;\n              align-self: center;\n            }\n            \n            .view-toggle button {\n              font-size: 0.65rem !important;\n              padding: 0.3rem 0.3rem !important;\n              height: 28px;\n              box-sizing: border-box;\n              display: flex !important;\n              align-items: center !important;\n              justify-content: center !important;\n            }\n            \n            .create-button {\n              padding: 0.3rem 0.3rem;\n              font-size: 0.65rem;\n              height: 28px;\n              gap: 0.15rem;\n              box-sizing: border-box;\n            }\n            \n            .calendar-navigation {\n              padding: 0.4rem !important;\n            }\n            \n            .calendar-nav-row-1 {\n              margin-bottom: 0.25rem !important;\n            }\n            \n            .calendar-navigation h2 {\n              font-size: 0.85rem !important;\n            }\n            \n            .calendar-mode-buttons {\n              width: 140px !important;\n              height: 26px !important;\n            }\n            \n            .nav-button {\n              min-width: 50px !important;\n              font-size: 0.7rem !important;\n              padding: 0.4rem 0.6rem !important;\n            }\n            \n            .calendar-day-cell {\n              min-height: 50px !important;\n              max-height: 50px !important;\n              padding: 0.1rem !important;\n            }\n            \n            .calendar-day-header {\n              padding: 0.25rem 0.05rem !important;\n              font-size: 0.55rem !important;\n            }\n            \n            .calendar-day-number {\n              font-size: 0.7rem !important;\n              margin-bottom: 0.15rem !important;\n            }\n            \n            .calendar-meeting-item {\n              font-size: 0.4rem !important;\n              padding: 0.05rem 0.1rem !important;\n              margin-bottom: 0.05rem !important;\n            }\n            \n                                     .calendar-more-meetings {\n              font-size: 0.35rem !important;\n            }\n            \n            /* Calendar Legend Ultra Mobile */\n            .calendar-view > div:last-child {\n              padding: 0.5rem !important;\n              margin-top: 0.5rem !important;\n            }\n            \n            .calendar-view > div:last-child > div:first-child {\n              gap: 0.5rem !important;\n              flex-wrap: nowrap !important;\n              justify-content: center !important;\n            }\n            \n            /* Ultra Small Meeting Cards */\n            .meeting-card {\n              padding: 0.5rem;\n            }\n            \n            .meeting-header {\n              padding-right: 3rem;\n            }\n            \n            .meeting-actions .action-btn {\n              width: 24px;\n              height: 24px;\n              font-size: 0.65rem;\n            }\n            \n            .meeting-title {\n              font-size: 0.85rem;\n            }\n            \n            .meeting-project {\n              font-size: 0.7rem;\n            }\n           }\n           \n           /* Landscape mobile optimization */\n           @media (max-width: 768px) and (orientation: landscape) {\n             .calendar-day-cell {\n               min-height: 50px !important;\n               max-height: 50px !important;\n             }\n             \n             .calendar-day-number {\n               font-size: 0.7rem !important;\n               margin-bottom: 0.15rem !important;\n             }\n             \n             .calendar-meeting-item {\n               font-size: 0.4rem !important;\n               padding: 0.08rem 0.15rem !important;\n               margin-bottom: 0.08rem !important;\n             }\n           }\n          \n          .meeting-card {\n            background: #ffffff;\n            border: 2px solid #000000;\n            border-radius: 4px;\n            padding: 1.5rem;\n            transition: all 0.2s ease;\n            position: relative;\n          }\n          .meeting-card:hover {\n            transform: translateY(-2px);\n            box-shadow: 4px 4px 0px #000000;\n          }\n          .meeting-header {\n            display: flex;\n            align-items: start;\n            justify-content: space-between;\n            margin-bottom: 1rem;\n          }\n          \n          /* Desktop Meeting Actions */\n          @media (min-width: 1025px) {\n            .meeting-actions {\n              position: static;\n              flex-direction: row;\n              gap: 0.5rem;\n            }\n            \n            .meeting-actions .action-btn {\n              width: auto;\n              height: auto;\n              padding: 0.25rem;\n            }\n          }\n          .meeting-title {\n            font-weight: 600;\n            color: #000000;\n            margin-bottom: 0.5rem;\n            font-size: 1.1rem;\n          }\n          .meeting-project {\n            font-size: 0.875rem;\n            color: #666666;\n            font-weight: 500;\n          }\n          .meeting-actions {\n            display: flex;\n            gap: 0.5rem;\n          }\n          .action-btn {\n            padding: 0.25rem;\n            border: 1px solid #000000;\n            background: #ffffff;\n            color: #000000;\n            border-radius: 2px;\n            cursor: pointer;\n            transition: all 0.2s ease;\n          }\n          .action-btn:hover {\n            background: #f0f0f0;\n          }\n          .action-btn.delete:hover {\n            background: #fef2f2;\n            border-color: #ef4444;\n            color: #ef4444;\n          }\n          .meeting-details {\n            display: grid;\n            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n            gap: 1rem;\n            margin-bottom: 1rem;\n          }\n          .detail-item {\n            display: flex;\n            align-items: center;\n            gap: 0.5rem;\n            font-size: 0.875rem;\n            color: #666666;\n          }\n          .meeting-description {\n            color: #000000;\n            line-height: 1.5;\n            margin-bottom: 1rem;\n          }\n          .attendees-list {\n            display: flex;\n            flex-wrap: wrap;\n            gap: 0.5rem;\n          }\n          .attendee-tag {\n            background: #f0f0f0;\n            border: 1px solid #000000;\n            padding: 0.25rem 0.5rem;\n            border-radius: 2px;\n            font-size: 0.75rem;\n            color: #000000;\n          }\n          .modal-overlay {\n            position: fixed;\n            inset: 0;\n            background: rgba(0, 0, 0, 0.75);\n            backdrop-filter: blur(8px);\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: 1rem;\n            z-index: 50;\n            animation: fadeIn 0.2s ease-out;\n          }\n          @keyframes fadeIn {\n            from { opacity: 0; }\n            to { opacity: 1; }\n          }\n          .modal-content {\n            background: #ffffff;\n            border: 2px solid #000000;\n            width: 100%;\n            max-width: 800px;\n            max-height: 90vh;\n            display: flex;\n            flex-direction: column;\n            border-radius: 8px;\n            animation: slideIn 0.3s ease-out;\n            overflow: hidden;\n          }\n          @keyframes slideIn {\n            from { transform: translateY(-20px) scale(0.95); opacity: 0; }\n            to { transform: translateY(0) scale(1); opacity: 1; }\n          }\n          .modal-header {\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n            padding: 1.5rem 1.5rem 1rem 1.5rem;\n            border-bottom: 1px solid #e5e7eb;\n            flex-shrink: 0;\n            background: #ffffff;\n          }\n          .modal-title {\n            font-size: 1.25rem;\n            font-weight: bold;\n            color: #000000;\n            margin: 0;\n          }\n          .modal-close-btn {\n            width: 32px;\n            height: 32px;\n            border: none;\n            background: #f3f4f6;\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-size: 1.25rem;\n            font-weight: bold;\n            color: #6b7280;\n            cursor: pointer;\n            transition: all 0.2s ease;\n          }\n          .modal-close-btn:hover {\n            background: #e5e7eb;\n            color: #374151;\n          }\n          .modal-form {\n            padding: 1.5rem;\n            overflow-y: auto;\n            flex: 1;\n            min-height: 0;\n          }\n          .form-group {\n            margin-bottom: 1.5rem;\n          }\n          .form-label {\n            display: block;\n            font-weight: 600;\n            color: #000000;\n            margin-bottom: 0.5rem;\n            font-size: 0.875rem;\n          }\n          .form-input {\n            width: 100%;\n            padding: 0.75rem;\n            border: 2px solid #000000;\n            border-radius: 4px;\n            font-size: 1rem;\n            box-sizing: border-box;\n            background: #ffffff;\n            color: #000000;\n          }\n          .form-input:focus {\n            outline: none;\n            border-color: #000000;\n            background: #f9f9f9;\n          }\n          .form-textarea {\n            width: 100%;\n            padding: 0.75rem;\n            border: 2px solid #000000;\n            border-radius: 4px;\n            font-size: 1rem;\n            box-sizing: border-box;\n            background: #ffffff;\n            color: #000000;\n            resize: vertical;\n            min-height: 100px;\n            font-family: inherit;\n          }\n          .form-select {\n            width: 100%;\n            padding: 0.75rem;\n            border: 2px solid #000000;\n            border-radius: 4px;\n            font-size: 1rem;\n            box-sizing: border-box;\n            background: #ffffff;\n            color: #000000;\n          }\n          .form-grid {\n            display: grid;\n            grid-template-columns: 1fr 1fr;\n            gap: 1rem;\n          }\n          .form-grid-3 {\n            display: grid;\n            grid-template-columns: 1fr 1fr 140px;\n            gap: 1rem;\n          }\n          .form-actions {\n            display: flex;\n            gap: 1rem;\n            margin-top: 1.5rem;\n            padding-top: 1rem;\n            border-top: 1px solid #e5e7eb;\n          }\n          .btn-primary {\n            flex: 1;\n            background: #000000;\n            color: #ffffff;\n            border: none;\n            padding: 0.75rem 1.5rem;\n            border-radius: 4px;\n            font-weight: 600;\n            cursor: pointer;\n            transition: all 0.2s ease;\n          }\n          .btn-primary:hover {\n            background: #333333;\n            transform: translateY(-1px);\n          }\n          .btn-secondary {\n            flex: 1;\n            background: #ffffff;\n            color: #000000;\n            border: 2px solid #000000;\n            padding: 0.75rem 1.5rem;\n            border-radius: 4px;\n            font-weight: 600;\n            cursor: pointer;\n            transition: all 0.2s ease;\n          }\n          .btn-secondary:hover {\n            background: #f0f0f0;\n            transform: translateY(-1px);\n          }\n          .empty-state {\n            text-align: center;\n            padding: 3rem 0;\n            color: #666666;\n          }\n          .empty-icon {\n            width: 64px;\n            height: 64px;\n            background: #f0f0f0;\n            border: 2px solid #000000;\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            margin: 0 auto 1rem;\n          }\n          @media (max-width: 768px) {\n            .main-content {\n              margin-left: 0;\n            }\n            .header-content {\n              flex-direction: column;\n              gap: 1rem;\n              align-items: start;\n            }\n            \n            /* FORCE CALENDAR TABLE LAYOUT */\n            .calendar-view table {\n              width: 100% !important;\n              table-layout: fixed !important;\n              border-collapse: collapse !important;\n            }\n            \n            .calendar-view th,\n            .calendar-view td {\n              width: 14.285% !important;\n              min-width: 40px !important;\n              box-sizing: border-box !important;\n              padding: 4px !important;\n              font-size: 10px !important;\n            }\n            .form-grid {\n              grid-template-columns: 1fr;\n            }\n            .form-grid-3 {\n              grid-template-columns: 1fr;\n            }\n          }\n        ")}}),(0,r.jsxs)("div",{className:"timetable-container",children:[!X&&(0,r.jsx)(f.Z,{projects:x,onCreateProject:()=>{console.log("Create project clicked")}}),(0,r.jsxs)("main",{className:"main-content",children:[(0,r.jsxs)("header",{className:"header",children:[(0,r.jsxs)("div",{className:"header-content",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"header-title",children:[(0,r.jsx)(d.Z,{style:{width:"32px",height:"32px"}}),"Timetable & Meetings"]}),(0,r.jsx)("p",{style:{color:"#666666",fontSize:"1.1rem",margin:"0.5rem 0 0 0",lineHeight:"1.5"},children:"Schedule and manage team meetings across all projects"})]}),(0,r.jsxs)("div",{className:"header-controls",children:[(0,r.jsxs)("div",{className:"filter-controls",children:[(0,r.jsx)("button",{onClick:()=>O("list"),className:"filter-btn ".concat("list"===Y?"active":""),children:"List View"}),(0,r.jsx)("button",{onClick:()=>O("calendar"),className:"filter-btn ".concat("calendar"===Y?"active":""),children:"Calendar View"})]}),(0,r.jsxs)("button",{onClick:()=>T(!0),className:"create-button",children:[(0,r.jsx)(l.Z,{style:{width:"20px",height:"20px"}}),"Schedule Meeting"]})]})]}),(0,r.jsxs)("div",{className:"timetable-stats",children:[(0,r.jsxs)("div",{className:"stat-item",children:[(0,r.jsx)("div",{className:"stat-label",children:"Total Meetings"}),(0,r.jsx)("div",{className:"stat-value total",children:b.length})]}),(0,r.jsxs)("div",{className:"stat-item",children:[(0,r.jsx)("div",{className:"stat-label",children:"Upcoming"}),(0,r.jsx)("div",{className:"stat-value upcoming",children:ex.length})]}),(0,r.jsxs)("div",{className:"stat-item",children:[(0,r.jsx)("div",{className:"stat-label",children:"Past Meetings"}),(0,r.jsx)("div",{className:"stat-value",children:eu.length})]}),(0,r.jsxs)("div",{className:"stat-item",children:[(0,r.jsx)("div",{className:"stat-label",children:"Active Projects"}),(0,r.jsx)("div",{className:"stat-value",children:x.length})]})]})]}),(0,r.jsxs)("div",{className:"main-content-area",children:[E&&(0,r.jsx)("div",{className:"error-message",children:E}),"calendar"===Y&&(0,r.jsxs)("div",{className:"calendar-navigation",style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"2rem",padding:"1.5rem",border:"2px solid #000000",borderRadius:"8px",background:"#ffffff",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",gap:"1rem"},children:[(0,r.jsxs)("div",{className:"calendar-nav-row-1",style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[(0,r.jsx)("button",{onClick:()=>eN(),className:"nav-button",style:{padding:"0.75rem 1rem",border:"2px solid #000000",background:"#ffffff",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"600",transition:"all 0.2s ease"},onMouseOver:e=>{e.currentTarget.style.background="#f0f0f0",e.currentTarget.style.transform="translateY(-1px)"},onMouseOut:e=>{e.currentTarget.style.background="#ffffff",e.currentTarget.style.transform="translateY(0)"},children:"← Previous"}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",flex:1,justifyContent:"center"},children:[(0,r.jsx)("button",{onClick:()=>{G(new Date)},style:{padding:"0.5rem 1rem",border:"1px solid #6b7280",background:"#ffffff",borderRadius:"6px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500",color:"#6b7280",transition:"all 0.2s ease"},onMouseOver:e=>{e.currentTarget.style.background="#f9fafb",e.currentTarget.style.borderColor="#374151",e.currentTarget.style.color="#374151"},onMouseOut:e=>{e.currentTarget.style.background="#ffffff",e.currentTarget.style.borderColor="#6b7280",e.currentTarget.style.color="#6b7280"},children:"Today"}),(0,r.jsx)("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:"700",color:"#000000",textAlign:"center"},children:"month"===H?"".concat(["January","February","March","April","May","June","July","August","September","October","November","December"][q.getMonth()]," ").concat(q.getFullYear()):"week"===H?"Week of ".concat(q.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})):q.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})})]}),(0,r.jsx)("button",{onClick:()=>ek(),className:"nav-button",style:{padding:"0.75rem 1rem",border:"2px solid #000000",background:"#ffffff",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"600",transition:"all 0.2s ease"},onMouseOver:e=>{e.currentTarget.style.background="#f0f0f0",e.currentTarget.style.transform="translateY(-1px)"},onMouseOut:e=>{e.currentTarget.style.background="#ffffff",e.currentTarget.style.transform="translateY(0)"},children:"Next →"})]}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"0.5rem"},children:[(0,r.jsx)("button",{onClick:()=>U("month"),style:{padding:"0.5rem 1rem",border:"month"===H?"2px solid #5884FD":"1px solid #d1d5db",background:"month"===H?"#5884FD":"#ffffff",color:"month"===H?"#ffffff":"#374151",borderRadius:"6px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500",transition:"all 0.2s ease"},onMouseOver:e=>{"month"!==H&&(e.currentTarget.style.background="#f9fafb",e.currentTarget.style.borderColor="#9ca3af")},onMouseOut:e=>{"month"!==H&&(e.currentTarget.style.background="#ffffff",e.currentTarget.style.borderColor="#d1d5db")},children:"Month"}),(0,r.jsx)("button",{onClick:()=>U("week"),style:{padding:"0.5rem 1rem",border:"week"===H?"2px solid #5884FD":"1px solid #d1d5db",background:"week"===H?"#5884FD":"#ffffff",color:"week"===H?"#ffffff":"#374151",borderRadius:"6px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500",transition:"all 0.2s ease"},onMouseOver:e=>{"week"!==H&&(e.currentTarget.style.background="#f9fafb",e.currentTarget.style.borderColor="#9ca3af")},onMouseOut:e=>{"week"!==H&&(e.currentTarget.style.background="#ffffff",e.currentTarget.style.borderColor="#d1d5db")},children:"Week"}),(0,r.jsx)("button",{onClick:()=>U("day"),style:{padding:"0.5rem 1rem",border:"day"===H?"2px solid #5884FD":"1px solid #d1d5db",background:"day"===H?"#5884FD":"#ffffff",color:"day"===H?"#ffffff":"#374151",borderRadius:"6px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500",transition:"all 0.2s ease"},onMouseOver:e=>{"day"!==H&&(e.currentTarget.style.background="#f9fafb",e.currentTarget.style.borderColor="#9ca3af")},onMouseOut:e=>{"day"!==H&&(e.currentTarget.style.background="#ffffff",e.currentTarget.style.borderColor="#d1d5db")},children:"Day"})]})]}),"list"===Y&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"meetings-section",children:[(0,r.jsxs)("h2",{className:"section-title",children:[(0,r.jsx)(m.Z,{style:{width:"20px",height:"20px",color:"#10b981"}}),"Upcoming Meetings (",ex.length,")"]}),0===ex.length?(0,r.jsxs)("div",{className:"empty-state",children:[(0,r.jsx)("div",{className:"empty-icon",children:(0,r.jsx)(d.Z,{style:{width:"32px",height:"32px",color:"#666666"}})}),(0,r.jsx)("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#000000",margin:"0 0 0.5rem 0"},children:"No upcoming meetings"}),(0,r.jsx)("p",{children:"Schedule your first meeting to get started"})]}):(0,r.jsx)("div",{className:"meetings-grid",children:ex.map(e=>(0,r.jsxs)("div",{className:"meeting-card",onClick:()=>es(e),style:{cursor:"pointer"},children:[(0,r.jsxs)("div",{className:"meeting-header",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"meeting-title",children:e.title}),(0,r.jsx)("p",{className:"meeting-project",children:e.project_name})]}),(0,r.jsxs)("div",{className:"meeting-actions",children:[(0,r.jsx)("button",{onClick:n=>{n.stopPropagation(),em(e)},className:"action-btn",title:"Edit meeting",children:(0,r.jsx)(c.Z,{style:{width:"16px",height:"16px"}})}),(0,r.jsx)("button",{onClick:n=>{n.stopPropagation(),ep(e.id)},className:"action-btn delete",title:"Delete meeting",children:(0,r.jsx)(p.Z,{style:{width:"16px",height:"16px"}})})]})]}),(0,r.jsxs)("div",{className:"meeting-details",children:[(0,r.jsxs)("div",{className:"detail-item",children:[(0,r.jsx)(m.Z,{style:{width:"16px",height:"16px"}}),(0,r.jsx)("span",{children:eg(e.date)})]}),(0,r.jsxs)("div",{className:"detail-item",children:[(0,r.jsx)(d.Z,{style:{width:"16px",height:"16px"}}),(0,r.jsxs)("span",{children:[ef(e.time)," (",eh(e.duration),")"]})]}),(0,r.jsxs)("div",{className:"detail-item",children:[(0,r.jsx)(g.Z,{style:{width:"16px",height:"16px"}}),(0,r.jsxs)("span",{children:["Organized by ",e.created_by.name]})]})]}),e.description&&(0,r.jsx)("p",{className:"meeting-description",children:e.description}),e_(e).length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#000000",marginBottom:"0.5rem"},children:"Attendees:"}),(0,r.jsx)("div",{className:"attendees-list",children:e_(e).map((e,n)=>(0,r.jsx)("span",{className:"attendee-tag",children:e},n))})]})]},e.id))})]}),eu.length>0&&(0,r.jsxs)("div",{className:"meetings-section",children:[(0,r.jsxs)("h2",{className:"section-title",children:[(0,r.jsx)(m.Z,{style:{width:"20px",height:"20px",color:"#6b7280"}}),"Past Meetings (",eu.length,")"]}),(0,r.jsx)("div",{className:"meetings-grid",children:eu.map(e=>(0,r.jsxs)("div",{className:"meeting-card",onClick:()=>es(e),style:{opacity:"0.7",cursor:"pointer"},children:[(0,r.jsxs)("div",{className:"meeting-header",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"meeting-title",children:e.title}),(0,r.jsx)("p",{className:"meeting-project",children:e.project_name})]}),(0,r.jsx)("div",{className:"meeting-actions",children:(0,r.jsx)("button",{onClick:n=>{n.stopPropagation(),ep(e.id)},className:"action-btn delete",title:"Delete meeting",children:(0,r.jsx)(p.Z,{style:{width:"16px",height:"16px"}})})})]}),(0,r.jsxs)("div",{className:"meeting-details",children:[(0,r.jsxs)("div",{className:"detail-item",children:[(0,r.jsx)(m.Z,{style:{width:"16px",height:"16px"}}),(0,r.jsx)("span",{children:eg(e.date)})]}),(0,r.jsxs)("div",{className:"detail-item",children:[(0,r.jsx)(d.Z,{style:{width:"16px",height:"16px"}}),(0,r.jsxs)("span",{children:[ef(e.time)," (",eh(e.duration),")"]})]}),(0,r.jsxs)("div",{className:"detail-item",children:[(0,r.jsx)(g.Z,{style:{width:"16px",height:"16px"}}),(0,r.jsxs)("span",{children:["Organized by ",e.created_by.name]})]})]}),e.description&&(0,r.jsx)("p",{className:"meeting-description",children:e.description}),e_(e).length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#000000",marginBottom:"0.5rem"},children:"Attendees:"}),(0,r.jsx)("div",{className:"attendees-list",children:e_(e).map((e,n)=>(0,r.jsx)("span",{className:"attendee-tag",children:e},n))})]})]},e.id))})]})]}),"calendar"===Y&&(0,r.jsxs)(r.Fragment,{children:["month"===H&&(0,r.jsx)("div",{className:"calendar-view",style:{width:X?"calc(100vw - 2rem)":"100%",maxWidth:X?"calc(100vw - 2rem)":"100%",overflow:"hidden",padding:"0",margin:"0 auto",boxSizing:"border-box"},children:(0,r.jsxs)("div",{style:{background:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"16px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.05)"},children:[(0,r.jsx)("div",{className:"calendar-header-grid",style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",background:"#F9FAFB",borderBottom:"1px solid #E5E7EB",width:"100%",minWidth:"100%"},children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,r.jsx)("div",{style:{padding:"1rem",textAlign:"center",fontWeight:"600",color:"#374151",borderRight:"1px solid #E5E7EB",fontFamily:"'Mabry Pro', 'Inter', sans-serif",fontSize:"0.75rem",letterSpacing:"0.05em",textTransform:"uppercase"},children:e},e))}),(0,r.jsxs)("div",{className:"calendar-body-grid",style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",width:"100%",minWidth:"100%",gap:"0"},children:[Array.from({length:eC},(e,n)=>{let t=new Date(q.getFullYear(),q.getMonth()-1),i=eb(t);return(0,r.jsx)("div",{className:"calendar-cell other-month",style:{minHeight:"150px",padding:"0.75rem",borderRight:"1px solid #E5E7EB",borderBottom:"1px solid #E5E7EB",background:"#F9FAFB",color:"#9CA3AF"},children:(0,r.jsx)("div",{style:{fontWeight:"600",color:"#9CA3AF",marginBottom:"0.5rem",fontFamily:"'Mabry Pro', 'Inter', sans-serif",fontSize:"1rem"},children:i-eC+n+1})},"prev-".concat(n))}),Array.from({length:ez},(e,n)=>{let t=n+1,i=new Date(q.getFullYear(),q.getMonth(),t),a=q.getMonth()===eF.getMonth()&&q.getFullYear()===eF.getFullYear()&&t===eF.getDate(),o=ey(i);return(0,r.jsxs)("div",{className:"calendar-cell ".concat(a?"today":""),style:{minHeight:"150px",padding:"0.75rem",borderRight:"1px solid #E5E7EB",borderBottom:"1px solid #E5E7EB",background:a?"rgba(88, 132, 253, 0.05)":"#FFFFFF",transition:"all 0.2s ease",cursor:"pointer",...a&&{borderRight:"1px solid #5884FD",borderBottom:"1px solid #5884FD",position:"relative"}},onMouseEnter:e=>{a||(e.currentTarget.style.background="#F9FAFB")},onMouseLeave:e=>{a||(e.currentTarget.style.background="#FFFFFF")},onClick:()=>{let e=i.getFullYear(),n=String(i.getMonth()+1).padStart(2,"0"),t=String(i.getDate()).padStart(2,"0"),r="".concat(e,"-").concat(n,"-").concat(t);er({...et,date:r,time:"09:00"}),T(!0)},children:[a&&(0,r.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"4px",height:"100%",background:"#5884FD"}}),(0,r.jsx)("div",{style:{fontWeight:a?"700":"600",color:a?"#5884FD":"#1F2937",marginBottom:"0.5rem",fontFamily:"'Mabry Pro', 'Inter', sans-serif",fontSize:"1rem"},children:t}),(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[(o||[]).slice(0,3).map(e=>(0,r.jsxs)("div",{style:{background:"#F8FAFC",border:"1px solid #E2E8F0",borderRadius:"8px",padding:"0.5rem",fontSize:"0.75rem",marginBottom:"0.25rem",cursor:"pointer",transition:"all 0.2s ease",borderLeft:"3px solid #5884FD"},onClick:n=>{n.stopPropagation(),es(e)},onMouseEnter:e=>{e.currentTarget.style.background="#F1F5F9",e.currentTarget.style.borderColor="#5884FD",e.currentTarget.style.borderLeftColor="#5884FD"},onMouseLeave:e=>{e.currentTarget.style.background="#F8FAFC",e.currentTarget.style.borderColor="#E2E8F0",e.currentTarget.style.borderLeftColor="#5884FD"},children:[(0,r.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.25rem"},children:(0,r.jsx)("div",{style:{fontWeight:"500",color:"#1F2937",lineHeight:"1.3",flex:1,marginRight:"0.25rem",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:e.title})}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"0.65rem"},children:[(0,r.jsx)("div",{style:{fontWeight:"500",maxWidth:"60%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:"#6B7280"},children:ef(e.time)}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.125rem",color:"#6B7280"},children:[(0,r.jsx)(g.Z,{style:{width:"10px",height:"10px"}}),e.created_by.name.split(" ")[0]]})]})]},e.id)),(o||[]).length>3&&(0,r.jsxs)("div",{style:{background:"#EEF2FF",border:"1px solid #C7D2FE",borderRadius:"6px",padding:"0.375rem 0.5rem",fontSize:"0.6875rem",color:"#5B21B6",textAlign:"center",cursor:"pointer",transition:"all 0.2s ease",fontWeight:"500",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},onClick:e=>{e.stopPropagation(),eS(i,o||[])},onMouseEnter:e=>{e.currentTarget.style.background="#E0E7FF",e.currentTarget.style.borderColor="#A5B4FC"},onMouseLeave:e=>{e.currentTarget.style.background="#EEF2FF",e.currentTarget.style.borderColor="#C7D2FE"},children:["+",(o||[]).length-3," more"]})]})]},t)}),Array.from({length:42-(eC+ez)},(e,n)=>(0,r.jsx)("div",{className:"calendar-cell other-month",style:{minHeight:"150px",padding:"0.75rem",borderRight:"1px solid #E5E7EB",borderBottom:"1px solid #E5E7EB",background:"#F9FAFB",color:"#9CA3AF"},children:(0,r.jsx)("div",{style:{fontWeight:"600",color:"#9CA3AF",marginBottom:"0.5rem",fontFamily:"'Mabry Pro', 'Inter', sans-serif",fontSize:"1rem"},children:n+1})},"next-".concat(n)))]})]})}),"week"===H&&(0,r.jsx)("div",{className:"calendar-view",style:{width:X?"calc(100vw - 2rem)":"100%",maxWidth:X?"calc(100vw - 2rem)":"100%",overflow:"hidden",padding:"0",margin:"0 auto",boxSizing:"border-box"},children:(0,r.jsxs)("div",{style:{background:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"16px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.05)",minHeight:"600px"},children:[(0,r.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",background:"#F9FAFB",borderBottom:"1px solid #E5E7EB"},children:ej(q).map((e,n)=>(0,r.jsx)("div",{style:{padding:"1rem",textAlign:"center",fontWeight:"600",color:"#374151",borderRight:n<6?"1px solid #E5E7EB":"none",fontFamily:"'Mabry Pro', 'Inter', sans-serif",fontSize:"0.875rem"},children:(0,r.jsx)("div",{children:ew(e)})},n))}),(0,r.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",minHeight:"500px"},children:ej(q).map((e,n)=>{let t=ey(e),i=e.toDateString()===new Date().toDateString();return(0,r.jsxs)("div",{style:{padding:"1rem",borderRight:n<6?"1px solid #E5E7EB":"none",background:i?"rgba(88, 132, 253, 0.05)":"#FFFFFF",minHeight:"500px",position:"relative"},children:[i&&(0,r.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"4px",height:"100%",background:"#5884FD"}}),(0,r.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:t.map(e=>(0,r.jsxs)("div",{onClick:()=>es(e),style:{background:"#F8FAFC",border:"1px solid #E2E8F0",borderRadius:"8px",padding:"0.75rem",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.2s ease",borderLeft:"3px solid #5884FD"},onMouseOver:e=>{e.currentTarget.style.background="#F1F5F9",e.currentTarget.style.borderColor="#5884FD"},onMouseOut:e=>{e.currentTarget.style.background="#F8FAFC",e.currentTarget.style.borderColor="#E2E8F0"},children:[(0,r.jsx)("div",{style:{fontWeight:"600",color:"#1F2937",marginBottom:"0.25rem"},children:e.title}),(0,r.jsx)("div",{style:{fontSize:"0.75rem",color:"#6B7280"},children:ef(e.time)})]},e.id))})]},n)})})]})}),"day"===H&&(0,r.jsx)("div",{className:"calendar-view",style:{width:X?"calc(100vw - 2rem)":"100%",maxWidth:X?"calc(100vw - 2rem)":"100%",overflow:"hidden",padding:"0",margin:"0 auto",boxSizing:"border-box"},children:(0,r.jsxs)("div",{style:{background:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"16px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.05)",minHeight:"700px"},children:[(0,r.jsx)("div",{style:{background:"#F9FAFB",borderBottom:"1px solid #E5E7EB",padding:"1.5rem",textAlign:"center"},children:(0,r.jsx)("h3",{style:{margin:0,fontSize:"1.25rem",fontWeight:"600",color:"#1F2937",fontFamily:"'Mabry Pro', 'Inter', sans-serif"},children:q.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})})}),(0,r.jsx)("div",{style:{padding:"1rem"},children:Array.from({length:24},(e,n)=>{let t="".concat(n.toString().padStart(2,"0"),":00"),i=ey(q).filter(e=>e.time.startsWith(n.toString().padStart(2,"0")));return(0,r.jsxs)("div",{style:{display:"flex",borderBottom:"1px solid #F3F4F6",minHeight:"60px",alignItems:"flex-start"},children:[(0,r.jsx)("div",{style:{width:"80px",padding:"0.5rem",fontSize:"0.875rem",color:"#6B7280",fontWeight:"500",textAlign:"right",borderRight:"1px solid #F3F4F6"},children:t}),(0,r.jsx)("div",{style:{flex:1,padding:"0.5rem",display:"flex",flexDirection:"column",gap:"0.25rem"},children:i.map(e=>(0,r.jsxs)("div",{onClick:()=>es(e),style:{background:"#EEF2FF",border:"1px solid #C7D2FE",borderRadius:"8px",padding:"0.75rem",cursor:"pointer",transition:"all 0.2s ease",borderLeft:"4px solid #5884FD"},onMouseOver:e=>{e.currentTarget.style.background="#E0E7FF",e.currentTarget.style.borderColor="#A5B4FC"},onMouseOut:e=>{e.currentTarget.style.background="#EEF2FF",e.currentTarget.style.borderColor="#C7D2FE"},children:[(0,r.jsx)("div",{style:{fontWeight:"600",color:"#1F2937",marginBottom:"0.25rem",fontSize:"1rem"},children:e.title}),(0,r.jsxs)("div",{style:{fontSize:"0.875rem",color:"#6B7280",marginBottom:"0.25rem"},children:[ef(e.time)," • ",e.project_name]}),e.description&&(0,r.jsx)("div",{style:{fontSize:"0.75rem",color:"#9CA3AF"},children:e.description})]},e.id))})]},n)})})]})})]})]})]})]}),R&&L&&(0,r.jsx)(F,{meeting:L,onClose:()=>{Z(!1),I(null)},onUpdate:ed,onDelete:el,projectMembers:w,projects:x,onProjectChange:e=>{ea(e)}}),V&&ee&&(0,r.jsx)("div",{className:"modal-overlay",onClick:()=>{J(!1),en(null),Q([])},children:(0,r.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"modal-header",children:[(0,r.jsxs)("h2",{className:"modal-title",children:["Meetings for ",ee.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]}),(0,r.jsx)("button",{type:"button",onClick:()=>{J(!1),en(null),Q([])},className:"modal-close-btn",children:"\xd7"})]}),(0,r.jsx)("div",{className:"modal-body",style:{maxHeight:"400px",overflowY:"auto"},children:0===K.length?(0,r.jsx)("p",{style:{textAlign:"center",color:"#666666",padding:"2rem"},children:"No meetings scheduled for this day"}):(0,r.jsx)("div",{className:"meetings-list",style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:K.map(e=>(0,r.jsxs)("div",{className:"meeting-item",style:{padding:"1rem",border:"2px solid #e0e0e0",borderRadius:"8px",background:"#ffffff",cursor:"pointer",transition:"all 0.2s ease"},onClick:()=>{J(!1),en(null),Q([]),es(e)},onMouseOver:e=>{e.currentTarget.style.background="#f5f5f5",e.currentTarget.style.borderColor="#000000"},onMouseOut:e=>{e.currentTarget.style.background="#ffffff",e.currentTarget.style.borderColor="#e0e0e0"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{style:{margin:0,fontSize:"1rem",fontWeight:"600",color:"#000000"},children:e.title}),(0,r.jsx)("p",{style:{margin:"0.25rem 0 0 0",fontSize:"0.875rem",color:"#666666"},children:e.project_name})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,r.jsx)("button",{onClick:n=>{n.stopPropagation(),J(!1),en(null),Q([]),em(e)},style:{padding:"0.25rem",border:"1px solid #e0e0e0",background:"#ffffff",borderRadius:"4px",cursor:"pointer",fontSize:"0.75rem"},title:"Edit meeting",children:"✏️"}),(0,r.jsx)("button",{onClick:n=>{n.stopPropagation(),ep(e.id),Q(K.filter(n=>n.id!==e.id))},style:{padding:"0.25rem",border:"1px solid #e0e0e0",background:"#ffffff",borderRadius:"4px",cursor:"pointer",fontSize:"0.75rem"},title:"Delete meeting",children:"\uD83D\uDDD1️"})]})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"1rem",fontSize:"0.875rem",color:"#666666"},children:[(0,r.jsxs)("span",{children:["\uD83D\uDD50 ",ef(e.time)]}),(0,r.jsxs)("span",{children:["⏱️ ",eh(e.duration)]}),(0,r.jsxs)("span",{children:["\uD83D\uDC64 ",e.created_by.name]})]}),e.description&&(0,r.jsx)("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.875rem",color:"#333333",lineHeight:"1.4"},children:e.description}),e_(e).length>0&&(0,r.jsxs)("div",{style:{marginTop:"0.5rem"},children:[(0,r.jsx)("span",{style:{fontSize:"0.75rem",fontWeight:"600",color:"#666666"},children:"Attendees:"}),(0,r.jsx)("span",{style:{fontSize:"0.75rem",color:"#333333"},children:e_(e).join(", ")})]})]},e.id))})})]})}),M&&(0,r.jsx)("div",{className:"modal-overlay",onClick:()=>{T(!1),B(null),er({title:"",description:"",date:"",time:"",duration:60,project_id:0,attendees:"",attendee_ids:[]})},children:(0,r.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"modal-header",children:[(0,r.jsx)("h2",{className:"modal-title",children:A?"Edit Meeting":"Schedule New Meeting"}),(0,r.jsx)("button",{type:"button",onClick:()=>{T(!1),B(null),er({title:"",description:"",date:"",time:"",duration:60,project_id:0,attendees:"",attendee_ids:[]})},className:"modal-close-btn",children:"\xd7"})]}),(0,r.jsxs)("form",{onSubmit:A?ec:eo,className:"modal-form",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Meeting Title *"}),(0,r.jsx)("input",{type:"text",required:!0,className:"form-input",placeholder:"Enter meeting title...",value:et.title,onChange:e=>er({...et,title:e.target.value})})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Description"}),(0,r.jsx)("textarea",{className:"form-textarea",placeholder:"What will be discussed in this meeting?",value:et.description,onChange:e=>er({...et,description:e.target.value})})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Project *"}),(0,r.jsxs)("select",{required:!0,className:"form-select",value:et.project_id,onChange:e=>er({...et,project_id:Number(e.target.value)}),children:[(0,r.jsx)("option",{value:0,children:"Select a project"}),x.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{className:"form-grid-3",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Date *"}),(0,r.jsx)("input",{type:"date",required:!0,className:"form-input",value:et.date,onChange:e=>er({...et,date:e.target.value})})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Time *"}),(0,r.jsx)("input",{type:"time",required:!0,className:"form-input",value:et.time,onChange:e=>er({...et,time:e.target.value})})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Duration"}),(0,r.jsx)("input",{type:"number",min:"15",max:"480",step:"15",className:"form-input",placeholder:"Minutes",value:et.duration,onChange:e=>er({...et,duration:Number(e.target.value)})})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Invite Attendees (Optional)"}),et.attendee_ids.length>0&&(0,r.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"0.75rem",padding:"0.75rem",backgroundColor:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"6px"},children:et.attendee_ids.map(e=>{let n=w.find(n=>n.id===e);return n?(0,r.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"0.25rem 0.75rem",backgroundColor:"#000000",color:"#ffffff",borderRadius:"20px",fontSize:"0.875rem"},children:[n.name,(0,r.jsx)("button",{type:"button",onClick:()=>er(n=>({...n,attendee_ids:n.attendee_ids.filter(n=>n!==e)})),style:{background:"none",border:"none",color:"#ffffff",cursor:"pointer",fontSize:"1rem",lineHeight:"1"},children:"\xd7"})]},e):null})}),w.length>0?(0,r.jsx)("div",{style:{border:"2px solid #e5e7eb",borderRadius:"6px",maxHeight:"200px",overflowY:"auto"},children:w.map(e=>{let n=et.attendee_ids.includes(e.id);return(0,r.jsxs)("div",{onClick:()=>{er(t=>({...t,attendee_ids:n?t.attendee_ids.filter(n=>n!==e.id):[...t.attendee_ids,e.id]}))},style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",borderBottom:"1px solid #e5e7eb",cursor:"pointer",backgroundColor:n?"#f0f9ff":"#ffffff",borderLeft:n?"4px solid #000000":"4px solid transparent"},children:[(0,r.jsx)("input",{type:"checkbox",checked:n,onChange:()=>{},style:{cursor:"pointer"}}),(0,r.jsxs)("div",{style:{flex:1},children:[(0,r.jsx)("div",{style:{fontWeight:"500",color:"#000000"},children:e.name}),(0,r.jsx)("div",{style:{fontSize:"0.875rem",color:"#6b7280"},children:e.email})]})]},e.id)})}):(0,r.jsx)("div",{style:{padding:"2rem",textAlign:"center",color:"#6b7280",border:"2px dashed #e5e7eb",borderRadius:"6px"},children:"Select a project first to see available members"})]}),(0,r.jsxs)("div",{className:"form-actions",children:[(0,r.jsx)("button",{type:"submit",className:"btn-primary",children:A?"Update Meeting":"Schedule Meeting"}),(0,r.jsx)("button",{type:"button",onClick:()=>{T(!1),B(null),er({title:"",description:"",date:"",time:"",duration:60,project_id:0,attendees:"",attendee_ids:[]})},className:"btn-secondary",children:"Cancel"})]})]})]})})]}):null}},7805:function(e,n,t){"use strict";var r=t(2265);let i=r.forwardRef(function({title:e,titleId:n,...t},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},t),e?r.createElement("title",{id:n},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))});n.Z=i},640:function(e,n,t){"use strict";var r=t(2265);let i=r.forwardRef(function({title:e,titleId:n,...t},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},t),e?r.createElement("title",{id:n},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))});n.Z=i},2125:function(e,n,t){"use strict";var r=t(2265);let i=r.forwardRef(function({title:e,titleId:n,...t},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},t),e?r.createElement("title",{id:n},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))});n.Z=i},7227:function(e,n,t){"use strict";var r=t(2265);let i=r.forwardRef(function({title:e,titleId:n,...t},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},t),e?r.createElement("title",{id:n},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))});n.Z=i},9649:function(e,n,t){"use strict";var r=t(2265);let i=r.forwardRef(function({title:e,titleId:n,...t},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},t),e?r.createElement("title",{id:n},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))});n.Z=i}},function(e){e.O(0,[8326,7708,2933,1460,8411,4560,3152,66,2971,2472,1744],function(){return e(e.s=7835)}),_N_E=e.O()}]);