(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9420],{29334:function(e,t,a){Promise.resolve().then(a.bind(a,70453))},70453:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return M}});var i=a(57437),o=a(2265),r=a(24033),l=a(3549),n=a(44331),s=a(68714),d=a(20976);let c="https://bayyefskgflbyyuwrlgm.supabase.co",g="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJheXllZnNrZ2ZsYnl5dXdybGdtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAyNTg0MzAsImV4cCI6MjA2NTgzNDQzMH0.eTr2bOWOO7N7hzRR45qapeQ6V-u2bgV5BbQygZZgGGM";async function p(e){try{let t=await fetch(e,{method:"GET",headers:{apikey:g,Authorization:"Bearer ".concat(g),"Content-Type":"application/json"}});if(!t.ok)return[];return await t.json()||[]}catch(e){return[]}}async function u(e,t,a){let i="".concat(c,"/rest/v1/projects_task?completed_at=gte.").concat(t,"T00:00:00&completed_at=lte.").concat(a,"T23:59:59&status=in.(done,completed)&select=id,completed_at,status");return p(i)}async function m(e,t,a){let i="".concat(c,"/rest/v1/projects_meeting?date=gte.").concat(t,"&date=lte.").concat(a,"&select=id,date,title");return p(i)}async function h(e,t,a){let i="".concat(c,"/rest/v1/time_blocks?user_id=eq.").concat(e,"&date=gte.").concat(t,"&date=lte.").concat(a,"&select=id,date,title,completed,type");return p(i)}async function y(e,t,a){let{data:i}=await d.tb.getCompletions(e,void 0,t,a);return i||[]}let f={getDailyReport:async(e,t)=>{try{var a;let[i,o,r,l,n]=await Promise.all([d.tb.getGoalsForDay(e,new Date(t).getDay()),d.tb.getCompletions(e,void 0,t,t),u(e,t,t),m(e,t,t),h(e,t,t)]),s=(null===(a=o.data)||void 0===a?void 0:a.length)||0,c=i.length,g=r.length,p=l.length,y=n.length,f=n.filter(e=>e.completed).length,b=0,_=0,x=0;_+=c,x+=s,_+=y,x+=f,_>0?b=Math.round(x/_*100):g>0&&(b=Math.min(20*g,100));let v={date:t,tasks_completed:g,tasks_total:g,goals_completed:s,goals_total:c,time_blocks_completed:f,time_blocks_total:y,meetings_attended:p,meetings_total:p,productivity_score:b};return{data:v,error:null}}catch(e){return console.error("Error getting daily report:",e),{data:{date:t,tasks_completed:0,tasks_total:0,goals_completed:0,goals_total:0,time_blocks_completed:0,time_blocks_total:0,meetings_attended:0,meetings_total:0,productivity_score:0},error:null}}},getWeeklyReport:async(e,t)=>{try{var a;let i=new Date(t);i.setDate(t.getDate()+6);let o=t.toISOString().split("T")[0],r=i.toISOString().split("T")[0],[l,n,s,c,g]=await Promise.all([d.tb.getGoals(e),y(e,o,r),u(e,o,r),m(e,o,r),h(e,o,r)]),p=[];for(let e=0;e<7;e++){let a=new Date(t);a.setDate(t.getDate()+e);let i=a.toISOString().split("T")[0],o=a.getDay(),r=(l.data||[]).filter(e=>"daily"===e.target_frequency||e.target_days&&e.target_days.includes(o)),d=n.filter(e=>e.completed_date===i),u=s.filter(e=>{var t;return null===(t=e.completed_at)||void 0===t?void 0:t.startsWith(i)}),m=c.filter(e=>e.date===i),h=g.filter(e=>e.date===i),y=h.filter(e=>e.completed).length,f=d.length,b=r.length,_=u.length,x=h.length,v=b+x,k=f+y,w=0;v>0?w=Math.round(k/v*100):_>0&&(w=Math.min(20*_,100)),p.push({date:i,tasks_completed:_,tasks_total:_,goals_completed:f,goals_total:b,time_blocks_completed:y,time_blocks_total:x,meetings_attended:m.length,meetings_total:m.length,productivity_score:w})}let f=p.reduce((e,t)=>e+t.tasks_completed,0),b=p.reduce((e,t)=>e+t.goals_completed,0),_=p.reduce((e,t)=>e+t.time_blocks_total,0),x=p.reduce((e,t)=>e+t.time_blocks_completed,0),v=p.reduce((e,t)=>e+t.meetings_total,0),k=p.length>0?Math.round(p.reduce((e,t)=>e+t.productivity_score,0)/p.length):0,w=(null===(a=p[0])||void 0===a?void 0:a.date)||o,j=0;p.forEach(e=>{e.productivity_score>j&&(j=e.productivity_score,w=e.date)});let S={week_start:o,week_end:r,daily_reports:p,total_tasks_completed:f,total_goals_completed:b,total_time_blocks:_,total_time_blocks_completed:x,total_meetings:v,average_productivity:k,best_day:w};return{data:S,error:null}}catch(i){console.error("Error getting weekly report:",i);let e=t.toISOString().split("T")[0],a=new Date(t);return a.setDate(t.getDate()+6),{data:{week_start:e,week_end:a.toISOString().split("T")[0],daily_reports:[],total_tasks_completed:0,total_goals_completed:0,total_time_blocks:0,total_time_blocks_completed:0,total_meetings:0,average_productivity:0,best_day:e},error:null}}},getMonthlyReport:async(e,t,a)=>{try{let i=new Date(t,a-1,1),o=new Date(t,a,0),r=i.toISOString().split("T")[0],l=o.toISOString().split("T")[0],[n,s,c,g,p]=await Promise.all([d.tb.getGoals(e),y(e,r,l),u(e,r,l),m(e,r,l),h(e,r,l)]),f=c.length,b=s.length,_=g.length,x=p.length,v=p.filter(e=>e.completed).length,k=o.getDate(),w=[];for(let e=1;e<=k;e++){let i=new Date(t,a-1,e),o=i.toISOString().split("T")[0],r=i.getDay(),l=(n.data||[]).filter(t=>{var a;return"daily"===t.target_frequency||"monthly"===t.target_frequency&&(null===(a=t.target_days_of_month)||void 0===a?void 0:a.includes(e))||t.target_days&&t.target_days.includes(r)}),d=s.filter(e=>e.completed_date===o),u=c.filter(e=>{var t;return null===(t=e.completed_at)||void 0===t?void 0:t.startsWith(o)}),m=g.filter(e=>e.date===o),h=p.filter(e=>e.date===o),y=h.filter(e=>e.completed).length,f=d.length,b=l.length,_=h.length,x=b+_,v=f+y,k=x>0?Math.round(v/x*100):0;w.push({date:o,tasks_completed:u.length,tasks_total:u.length,goals_completed:f,goals_total:b,time_blocks_completed:y,time_blocks_total:_,meetings_attended:m.length,meetings_total:m.length,productivity_score:k})}let j=(n.data||[]).map(e=>({goal_id:e.id,goal_title:e.title,streak:e.streak_current})).sort((e,t)=>t.streak-e.streak),S=w.reduce((e,t)=>e+t.goals_total+t.time_blocks_total,0),D=w.reduce((e,t)=>e+t.goals_completed+t.time_blocks_completed,0),C=Math.floor(k/2),E=w.slice(0,C).reduce((e,t)=>e+t.productivity_score,0),I=w.slice(C).reduce((e,t)=>e+t.productivity_score,0),R="stable";I>1.2*E?R="improving":I<.8*E&&(R="declining");let M={month:"".concat(t,"-").concat(String(a).padStart(2,"0")),year:t,weekly_reports:[],daily_reports:w,total_tasks_completed:f,total_goals_completed:b,total_time_blocks:x,total_time_blocks_completed:v,total_meetings:_,goal_streaks:j,completion_rate:S>0?Math.round(D/S*100):0,trend:R};return{data:M,error:null}}catch(e){return console.error("Error getting monthly report:",e),{data:{month:"".concat(t,"-").concat(String(a).padStart(2,"0")),year:t,weekly_reports:[],daily_reports:[],total_tasks_completed:0,total_goals_completed:0,total_time_blocks:0,total_time_blocks_completed:0,total_meetings:0,goal_streaks:[],completion_rate:0,trend:"stable"},error:null}}},getInsights:async e=>{try{let t=[],a=new Date,i=a.toISOString().split("T")[0],o=new Date(a);o.setDate(a.getDate()-a.getDay());let r=o.toISOString().split("T")[0],[l,n,s]=await Promise.all([d.tb.getGoals(e),y(e,r,i),u(e,r,i)]),c=l.data||[];if(c.length>0){let e=c.reduce((e,t)=>Math.max(e,t.streak_current),0);e>=7?t.push({type:"achievement",title:"Streak Master",description:"You have a ".concat(e,"-day streak! Keep it up!"),metric:e}):e>=3&&t.push({type:"achievement",title:"Building Momentum",description:"You're on a ".concat(e,"-day streak. Keep going!"),metric:e});let o=a.getDay(),r=c.filter(e=>"daily"===e.target_frequency||e.target_days&&e.target_days.includes(o)),l=n.filter(e=>e.completed_date===i),s=new Set(l.map(e=>e.goal_id)),d=r.filter(e=>!s.has(e.id));d.length>0&&a.getHours()>=18&&t.push({type:"warning",title:"Goals Pending",description:"You have ".concat(d.length," goal(s) to complete today!"),metric:d.length})}let g=n.length,p=s.length;return p>=10&&t.push({type:"achievement",title:"Task Champion",description:"You completed ".concat(p," tasks this week!"),metric:p}),g>=5&&t.push({type:"achievement",title:"Goal Getter",description:"You completed ".concat(g," goals this week!"),metric:g}),0===t.length&&(0===c.length?t.push({type:"suggestion",title:"Get Started",description:"Create your first goal to start tracking your progress!"}):t.push({type:"suggestion",title:"Keep It Up",description:"Complete your daily goals to build consistency and streaks!"})),{data:t,error:null}}catch(e){return console.error("Error getting insights:",e),{data:[{type:"suggestion",title:"Welcome",description:"Start by creating some goals to track your productivity!"}],error:null}}},getDashboardSummary:async e=>{var t;let a=new Date,i=a.toISOString().split("T")[0],o=new Date(a);o.setDate(a.getDate()-a.getDay());let[r,l,n,s]=await Promise.all([f.getDailyReport(e,i),f.getWeeklyReport(e,o),f.getInsights(e),d.tb.getGoals(e)]),c=(s.data||[]).reduce((e,t)=>e+t.streak_current,0);return{today:r.data,thisWeek:l.data,insights:n.data,activeGoals:(null===(t=s.data)||void 0===t?void 0:t.length)||0,totalStreakDays:c}}};var b=a(40651);let _=o.forwardRef(function({title:e,titleId:t,...a},i){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},a),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))});var x=a(10887),v=a(34713),k=a(33753),w=a(80654);let j=o.forwardRef(function({title:e,titleId:t,...a},i){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},a),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))});var S=a(82929),D=a(4103);let C=o.forwardRef(function({title:e,titleId:t,...a},i){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},a),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}),E=o.forwardRef(function({title:e,titleId:t,...a},i){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},a),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6 9 12.75l4.286-4.286a11.948 11.948 0 0 1 4.306 6.43l.776 2.898m0 0 3.182-5.511m-3.182 5.51-5.511-3.181"}))});var I=a(70432),R=a(6214);function M(){let{user:e,isAuthenticated:t,isLoading:a}=(0,l.useAuth)(),c=(0,r.useRouter)(),[g,p]=(0,o.useState)("week"),[u,m]=(0,o.useState)(new Date),[h,y]=(0,o.useState)(!0),[M,B]=(0,o.useState)(!1),[W,T]=(0,o.useState)(null),[z,O]=(0,o.useState)(null),[L,G]=(0,o.useState)(null),[A,P]=(0,o.useState)([]),[N,Y]=(0,o.useState)([]),H=(0,o.useCallback)(async()=>{if(null==e?void 0:e.id)try{y(!0);let[t,a]=await Promise.all([f.getInsights(e.id),d.tb.getGoals(e.id)]);if(P(t.data),Y(a.data||[]),"day"===g){let t=u.toISOString().split("T")[0],{data:a}=await f.getDailyReport(e.id,t);T(a)}else if("week"===g){let t=new Date(u);t.setDate(u.getDate()-u.getDay());let{data:a}=await f.getWeeklyReport(e.id,t);O(a)}else if("month"===g){let{data:t}=await f.getMonthlyReport(e.id,u.getFullYear(),u.getMonth()+1);G(t)}}catch(e){console.error("Error loading report data:",e)}finally{y(!1)}},[null==e?void 0:e.id,g,u]);(0,o.useEffect)(()=>{if(!a&&!t){c.push("/login");return}H()},[a,t,c,H]);let V=e=>{let t=new Date(u);"day"===g?t.setDate(u.getDate()+("next"===e?1:-1)):"week"===g?t.setDate(u.getDate()+("next"===e?7:-7)):"month"===g&&t.setMonth(u.getMonth()+("next"===e?1:-1)),m(t)},F=e=>{switch(e){case"achievement":return b.Z;case"suggestion":return _;case"warning":return x.Z;default:return v.Z}},J=e=>{switch(e){case"achievement":return"#10b981";case"suggestion":return"#3b82f6";case"warning":return"#f59e0b";default:return"#8b5cf6"}};return a||h?(0,i.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f8f9fa"},children:(0,i.jsx)(n.E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},style:{width:40,height:40,borderRadius:"50%",border:"3px solid rgba(59, 130, 246, 0.2)",borderTopColor:"#3b82f6"}})}):(0,i.jsxs)("div",{style:{display:"flex",minHeight:"100vh",background:"#f8f9fa"},children:[(0,i.jsx)(s.Z,{projects:[],onCreateProject:()=>{},onCollapsedChange:B}),(0,i.jsxs)("main",{className:"page-main",style:{flex:1,marginLeft:M?80:280,padding:"32px",transition:"margin-left 0.3s ease"},children:[(0,i.jsxs)(n.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},style:{marginBottom:32},children:[(0,i.jsx)("div",{style:{display:"flex",alignItems:"center",gap:16,marginBottom:8},children:(0,i.jsxs)("button",{onClick:()=>c.push("/personal"),style:{display:"flex",alignItems:"center",gap:8,padding:"8px 16px",background:"#fff",border:"1px solid #e5e7eb",borderRadius:8,color:"#4b5563",cursor:"pointer",fontSize:14},children:[(0,i.jsx)(k.Z,{style:{width:16,height:16}}),"Back to Personal"]})}),(0,i.jsxs)("h1",{style:{fontSize:36,fontWeight:700,color:"#111827",marginBottom:8,display:"flex",alignItems:"center",gap:12},children:[(0,i.jsx)(w.Z,{style:{width:40,height:40,color:"#3b82f6"}}),"Productivity Report"]}),(0,i.jsx)("p",{style:{color:"#6b7280",fontSize:16},children:"Track your progress and stay on top of your goals"})]}),(0,i.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:32,flexWrap:"wrap",gap:16},children:[(0,i.jsx)("div",{style:{display:"flex",background:"#fff",borderRadius:12,padding:4},children:["day","week","month"].map(e=>(0,i.jsx)("button",{onClick:()=>p(e),style:{padding:"10px 20px",background:g===e?"rgba(59, 130, 246, 0.2)":"transparent",border:"none",borderRadius:8,color:g===e?"#3b82f6":"#6b7280",fontSize:14,fontWeight:600,cursor:"pointer",textTransform:"capitalize",transition:"all 0.2s"},children:e},e))}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16},children:[(0,i.jsx)("button",{onClick:()=>V("prev"),style:{width:40,height:40,borderRadius:10,background:"#fff",border:"1px solid #e5e7eb",color:"#4b5563",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,i.jsx)(k.Z,{style:{width:18,height:18}})}),(0,i.jsx)("span",{style:{color:"#111827",fontSize:16,fontWeight:600,minWidth:200,textAlign:"center"},children:(()=>{if("day"===g)return u.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"});if("week"!==g)return u.toLocaleDateString("en-US",{month:"long",year:"numeric"});{let e=new Date(u);e.setDate(u.getDate()-u.getDay());let t=new Date(e);return t.setDate(e.getDate()+6),"".concat(e.toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ").concat(t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}))}})()}),(0,i.jsx)("button",{onClick:()=>V("next"),style:{width:40,height:40,borderRadius:10,background:"#fff",border:"1px solid #e5e7eb",color:"#4b5563",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,i.jsx)(j,{style:{width:18,height:18}})}),(0,i.jsx)("button",{onClick:()=>m(new Date),style:{padding:"10px 16px",background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:10,color:"#3b82f6",fontSize:14,fontWeight:600,cursor:"pointer"},children:"Today"})]})]}),A.length>0&&(0,i.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},style:{marginBottom:32},children:[(0,i.jsx)("h2",{style:{color:"#111827",fontSize:18,fontWeight:600,marginBottom:16},children:"Insights"}),(0,i.jsx)("div",{style:{display:"flex",gap:16,overflowX:"auto",paddingBottom:8},children:A.map((e,t)=>{let a=F(e.type),o=J(e.type);return(0,i.jsxs)(n.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1*t},style:{minWidth:280,padding:20,background:"".concat(o,"10"),border:"1px solid ".concat(o,"30"),borderRadius:16},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:12},children:[(0,i.jsx)("div",{style:{width:36,height:36,borderRadius:10,background:"".concat(o,"20"),display:"flex",alignItems:"center",justifyContent:"center"},children:(0,i.jsx)(a,{style:{width:20,height:20,color:o}})}),(0,i.jsx)("h3",{style:{color:o,fontSize:15,fontWeight:600},children:e.title})]}),(0,i.jsx)("p",{style:{color:"#4b5563",fontSize:13,lineHeight:1.5},children:e.description})]},t)})})]}),!h&&"day"===g&&W&&0===W.tasks_completed&&0===W.goals_completed&&0===W.meetings_total&&(0,i.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},style:{padding:48,textAlign:"center",background:"#fff",border:"1px solid #e5e7eb",borderRadius:20,marginBottom:32},children:[(0,i.jsx)(w.Z,{style:{width:64,height:64,color:"#d1d5db",margin:"0 auto 16px"}}),(0,i.jsx)("h3",{style:{color:"#111827",fontSize:20,fontWeight:600,marginBottom:8},children:"No Activity Yet"}),(0,i.jsx)("p",{style:{color:"#6b7280",fontSize:15,maxWidth:400,margin:"0 auto"},children:"Start completing tasks and goals to see your productivity data here. Check back after you've been productive today!"})]}),"day"===g&&W&&(W.goals_total>0||W.tasks_completed>0||W.meetings_total>0)&&(0,i.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[(0,i.jsxs)("div",{style:{padding:32,background:"linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(139, 92, 246, 0.1) 100%)",border:"1px solid rgba(59, 130, 246, 0.2)",borderRadius:20,marginBottom:24,textAlign:"center"},children:[(0,i.jsx)("p",{style:{color:"#6b7280",fontSize:14,marginBottom:8},children:"Productivity Score"}),(0,i.jsxs)("div",{style:{fontSize:72,fontWeight:800,background:"linear-gradient(135deg, #3b82f6, #8b5cf6)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:16},children:[W.productivity_score,"%"]}),(0,i.jsx)("div",{style:{width:"100%",maxWidth:400,margin:"0 auto",height:12,background:"#e5e7eb",borderRadius:6,overflow:"hidden"},children:(0,i.jsx)(n.E.div,{initial:{width:0},animate:{width:"".concat(W.productivity_score,"%")},transition:{duration:1,delay:.5},style:{height:"100%",background:"linear-gradient(90deg, #3b82f6, #8b5cf6)",borderRadius:6}})})]}),(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:16},children:[(0,i.jsx)(Z,{icon:I.Z,label:"Tasks Completed",value:W.tasks_completed,color:"#10b981"}),(0,i.jsx)(Z,{icon:R.Z,label:"Goals Completed",value:"".concat(W.goals_completed,"/").concat(W.goals_total),color:"#ef4444"}),(0,i.jsx)(Z,{icon:S.Z,label:"Time Blocks",value:"".concat(W.time_blocks_completed,"/").concat(W.time_blocks_total),color:"#3b82f6"}),(0,i.jsx)(Z,{icon:D.Z,label:"Meetings",value:W.meetings_total,color:"#8b5cf6"})]})]}),"week"===g&&z&&(0,i.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:16,marginBottom:32},children:[(0,i.jsx)(Z,{icon:w.Z,label:"Avg. Productivity",value:"".concat(z.average_productivity,"%"),color:"#3b82f6"}),(0,i.jsx)(Z,{icon:I.Z,label:"Tasks Completed",value:z.total_tasks_completed,color:"#10b981"}),(0,i.jsx)(Z,{icon:R.Z,label:"Goals Completed",value:z.total_goals_completed,color:"#ef4444"}),(0,i.jsx)(Z,{icon:S.Z,label:"Time Blocks",value:"".concat(z.total_time_blocks_completed||0,"/").concat(z.total_time_blocks),color:"#f59e0b"}),(0,i.jsx)(Z,{icon:D.Z,label:"Meetings",value:z.total_meetings,color:"#8b5cf6"})]}),(0,i.jsx)("h3",{style:{color:"#111827",fontSize:18,fontWeight:600,marginBottom:16},children:"Daily Breakdown"}),(0,i.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:12},children:z.daily_reports.map((e,t)=>{let a=new Date(e.date).toLocaleDateString("en-US",{weekday:"short"}),o=e.date===new Date().toISOString().split("T")[0];return(0,i.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},style:{padding:16,background:o?"linear-gradient(135deg, rgba(59, 130, 246, 0.2) 0%, rgba(59, 130, 246, 0.1) 100%)":"#fff",border:"1px solid ".concat(o?"rgba(59, 130, 246, 0.3)":"#e5e7eb"),borderRadius:16,textAlign:"center"},children:[(0,i.jsx)("p",{style:{color:o?"#3b82f6":"#6b7280",fontSize:13,fontWeight:600,marginBottom:12},children:a}),(0,i.jsx)("div",{style:{width:56,height:56,borderRadius:"50%",background:"conic-gradient(\n                        ".concat(e.productivity_score>=80?"#10b981":e.productivity_score>=50?"#f59e0b":"#ef4444"," ").concat(3.6*e.productivity_score,"deg,\n                        #e5e7eb 0deg\n                      )"),margin:"0 auto 12px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,i.jsx)("div",{style:{width:44,height:44,borderRadius:"50%",background:"#fff",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,i.jsx)("span",{style:{color:"#111827",fontSize:14,fontWeight:700},children:e.productivity_score})})}),(0,i.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:2,fontSize:10,color:"#9ca3af"},children:(0,i.jsxs)("span",{children:[e.goals_completed," goals â€¢ ",e.time_blocks_completed,"/",e.time_blocks_total," blocks"]})})]},e.date)})})]}),"month"===g&&L&&(0,i.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[(0,i.jsxs)("div",{style:{padding:24,background:"improving"===L.trend?"linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(16, 185, 129, 0.05) 100%)":"declining"===L.trend?"linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, rgba(239, 68, 68, 0.05) 100%)":"linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(59, 130, 246, 0.05) 100%)",border:"1px solid ".concat("improving"===L.trend?"rgba(16, 185, 129, 0.3)":"declining"===L.trend?"rgba(239, 68, 68, 0.3)":"rgba(59, 130, 246, 0.3)"),borderRadius:16,marginBottom:24,display:"flex",alignItems:"center",gap:16},children:["improving"===L.trend?(0,i.jsx)(C,{style:{width:32,height:32,color:"#10b981"}}):"declining"===L.trend?(0,i.jsx)(E,{style:{width:32,height:32,color:"#ef4444"}}):(0,i.jsx)(w.Z,{style:{width:32,height:32,color:"#3b82f6"}}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{style:{color:"improving"===L.trend?"#10b981":"declining"===L.trend?"#ef4444":"#3b82f6",fontSize:18,fontWeight:600,marginBottom:4},children:"improving"===L.trend?"Great Progress!":"declining"===L.trend?"Needs Attention":"Steady Performance"}),(0,i.jsx)("p",{style:{color:"#6b7280",fontSize:14},children:"improving"===L.trend?"Your productivity is trending upward this month!":"declining"===L.trend?"Consider adjusting your goals or schedule.":"You're maintaining consistent productivity."})]})]}),(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:16,marginBottom:32},children:[(0,i.jsx)(Z,{icon:w.Z,label:"Completion Rate",value:"".concat(L.completion_rate,"%"),color:"#10b981"}),(0,i.jsx)(Z,{icon:I.Z,label:"Tasks Completed",value:L.total_tasks_completed,color:"#3b82f6"}),(0,i.jsx)(Z,{icon:R.Z,label:"Goals Completed",value:L.total_goals_completed,color:"#ef4444"}),(0,i.jsx)(Z,{icon:S.Z,label:"Time Blocks",value:"".concat(L.total_time_blocks_completed||0,"/").concat(L.total_time_blocks||0),color:"#f59e0b"}),(0,i.jsx)(Z,{icon:D.Z,label:"Meetings",value:L.total_meetings||0,color:"#8b5cf6"})]}),L.daily_reports&&L.daily_reports.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h3",{style:{color:"#111827",fontSize:18,fontWeight:600,marginBottom:16},children:"Daily Breakdown"}),(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:8,marginBottom:32},children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,i.jsx)("div",{style:{textAlign:"center",fontSize:12,color:"#9ca3af",fontWeight:600,padding:"8px 0"},children:e},e)),Array.from({length:new Date(L.year,parseInt(L.month.split("-")[1])-1,1).getDay()}).map((e,t)=>(0,i.jsx)("div",{},"pad-".concat(t))),L.daily_reports.map((e,t)=>{let a=new Date(e.date).getDate(),o=e.date===new Date().toISOString().split("T")[0],r=e.goals_total>0||e.time_blocks_total>0,l=e.productivity_score>=80?"#10b981":e.productivity_score>=50?"#f59e0b":e.productivity_score>0?"#ef4444":"#e5e7eb";return(0,i.jsxs)(n.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.01*t},style:{padding:8,background:o?"rgba(59, 130, 246, 0.15)":"#fff",border:"1px solid ".concat(o?"rgba(59, 130, 246, 0.3)":"#e5e7eb"),borderRadius:10,textAlign:"center",minHeight:70},children:[(0,i.jsx)("div",{style:{fontSize:13,fontWeight:o?700:500,color:o?"#3b82f6":"#111827",marginBottom:6},children:a}),r&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:{width:28,height:28,borderRadius:"50%",background:"conic-gradient(".concat(l," ").concat(3.6*e.productivity_score,"deg, #e5e7eb 0deg)"),margin:"0 auto 4px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,i.jsx)("div",{style:{width:20,height:20,borderRadius:"50%",background:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:8,fontWeight:700,color:"#111827"},children:e.productivity_score})}),(0,i.jsxs)("div",{style:{fontSize:9,color:"#9ca3af"},children:[e.goals_completed,"g ",e.time_blocks_completed,"b"]})]})]},e.date)})]})]}),L.goal_streaks.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h3",{style:{color:"#111827",fontSize:18,fontWeight:600,marginBottom:16},children:"Top Streaks"}),(0,i.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:12},children:L.goal_streaks.slice(0,5).map((e,t)=>(0,i.jsxs)(n.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*t},style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:16,background:"#fff",border:"1px solid #e5e7eb",borderRadius:12},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[(0,i.jsxs)("span",{style:{color:"#9ca3af",fontSize:16,fontWeight:700,width:24},children:["#",t+1]}),(0,i.jsx)("span",{style:{color:"#111827",fontSize:15},children:e.goal_title})]}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6,padding:"6px 12px",background:"rgba(239, 68, 68, 0.1)",borderRadius:8},children:[(0,i.jsx)(R.Z,{style:{width:16,height:16,color:"#ef4444"}}),(0,i.jsxs)("span",{style:{color:"#ef4444",fontSize:14,fontWeight:600},children:[e.streak," days"]})]})]},e.goal_id))})]})]})]})]})}function Z(e){let{icon:t,label:a,value:o,color:r}=e;return(0,i.jsxs)(n.E.div,{whileHover:{y:-4},style:{padding:20,background:"".concat(r,"10"),border:"1px solid ".concat(r,"30"),borderRadius:16},children:[(0,i.jsx)("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:12},children:(0,i.jsx)("div",{style:{width:40,height:40,borderRadius:10,background:"".concat(r,"20"),display:"flex",alignItems:"center",justifyContent:"center"},children:(0,i.jsx)(t,{style:{width:22,height:22,color:r}})})}),(0,i.jsx)("p",{style:{color:"#6b7280",fontSize:13,marginBottom:4},children:a}),(0,i.jsx)("p",{style:{color:"#111827",fontSize:28,fontWeight:700},children:o})]})}},33753:function(e,t,a){"use strict";var i=a(2265);let o=i.forwardRef(function({title:e,titleId:t,...a},o){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},a),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))});t.Z=o},80654:function(e,t,a){"use strict";var i=a(2265);let o=i.forwardRef(function({title:e,titleId:t,...a},o){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},a),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))});t.Z=o},10887:function(e,t,a){"use strict";var i=a(2265);let o=i.forwardRef(function({title:e,titleId:t,...a},o){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},a),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))});t.Z=o},40651:function(e,t,a){"use strict";var i=a(2265);let o=i.forwardRef(function({title:e,titleId:t,...a},o){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},a),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))});t.Z=o},70432:function(e,t,a){"use strict";var i=a(2265);let o=i.forwardRef(function({title:e,titleId:t,...a},o){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},a),e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))});t.Z=o},6214:function(e,t,a){"use strict";var i=a(2265);let o=i.forwardRef(function({title:e,titleId:t,...a},o){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},a),e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",d:"M12.963 2.286a.75.75 0 0 0-1.071-.136 9.742 9.742 0 0 0-3.539 6.176 7.547 7.547 0 0 1-1.705-1.715.75.75 0 0 0-1.152-.082A9 9 0 1 0 15.68 4.534a7.46 7.46 0 0 1-2.717-2.248ZM15.75 14.25a3.75 3.75 0 1 1-7.313-1.172c.628.465 1.35.81 2.133 1a5.99 5.99 0 0 1 1.925-3.546 3.75 3.75 0 0 1 3.255 3.718Z",clipRule:"evenodd"}))});t.Z=o}},function(e){e.O(0,[8326,7708,4427,8411,3152,8714,976,2971,2472,1744],function(){return e(e.s=29334)}),_N_E=e.O()}]);