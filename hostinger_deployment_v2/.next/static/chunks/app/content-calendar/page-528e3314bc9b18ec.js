(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5040],{9983:function(e,t,r){Promise.resolve().then(r.bind(r,7030))},7030:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var n=r(7437),o=r(2265),i=r(4033),a=r(3549),l=r(2307),s=r(4164),d=r(5255),c=r(1205),m=r(9649),u=r(1253),f=r(2125),g=r(7227);let p=["Article","Video","Image","Infographic","Story","Reel","Post"],h=["Marketing","Educational","Promotional","Entertainment","News","Tutorial"],x=["Facebook","Instagram","Twitter","LinkedIn","TikTok","YouTube","Pinterest"],b=["planning","in_progress","review","completed"],y=[{value:"public",label:"Public",description:"Everyone can view",color:"#10b981"},{value:"restricted",label:"Restricted",description:"Selected members only",color:"#f59e0b"},{value:"confidential",label:"Confidential",description:"Manager+ only",color:"#ef4444"},{value:"secret",label:"Secret",description:"Admin only",color:"#7c3aed"}];function v(){let{user:e,isAuthenticated:t,isLoading:v}=(0,a.useAuth)(),j=(0,i.useRouter)(),[w,C]=(0,o.useState)(!0),[_,k]=(0,o.useState)(!1);(0,o.useEffect)(()=>{let e=()=>{k(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let[S,T]=(0,o.useState)(!1),[z,R]=(0,o.useState)(""),[F,I]=(0,o.useState)(null),[B,E]=(0,o.useState)([]),[D,M]=(0,o.useState)([]),[W,A]=(0,o.useState)([]),[L,N]=(0,o.useState)([]),[P,O]=(0,o.useState)(null),[U,H]=(0,o.useState)(null),[Y,Z]=(0,o.useState)([]),[q,K]=(0,o.useState)([]),[G,V]=(0,o.useState)(!1),[J,$]=(0,o.useState)(!1),[Q,X]=(0,o.useState)(!1),[ee,et]=(0,o.useState)(!1),[er,en]=(0,o.useState)(!1),[eo,ei]=(0,o.useState)(null),[ea,el]=(0,o.useState)(null),[es,ed]=(0,o.useState)([]),[ec,em]=(0,o.useState)([]),[eu,ef]=(0,o.useState)(null),[eg,ep]=(0,o.useState)({date:"",content_type:"",category:"",social_media:"",content_title:"",assigned_to:[],content_deadline:"",graphic_deadline:"",status:"planning",description:"",folder_id:null,security_level:"public",allowed_users:[]}),[eh,ex]=(0,o.useState)({name:"",description:"",folder_type:"month",color:"#ffffff"}),[eb,ey]=(0,o.useState)({key:"date",direction:"asc"}),[ev,ej]=(0,o.useState)(null),[ew,eC]=(0,o.useState)(null),[e_,ek]=(0,o.useState)(!1),[eS,eT]=(0,o.useState)(""),[ez,eR]=(0,o.useState)("member"),[eF,eI]=(0,o.useState)(null),[eB,eE]=(0,o.useState)({}),[eD,eM]=(0,o.useState)(new Date),eW=async()=>{if(null==e?void 0:e.id)try{let t=(await Promise.resolve().then(r.bind(r,8411))).supabase,{data:n,error:o}=await t.from("content_calendar_members").select("id, role").eq("user_id",e.id).single();if(n&&!o)T(!0),R(n.role);else{let{data:r,error:n}=await t.from("content_calendar_folder_members").select("id, role").eq("user_id",e.id).limit(1);if(r&&r.length>0&&!n)T(!0),R(r[0].role||"member");else{let{data:r,error:n}=await t.from("auth_user").select("id, name, email, role, is_superuser, is_staff").eq("id",e.id).single();if(n){T(!1);return}let o=r.is_superuser||r.is_staff||"admin"===r.role||"hr"===r.role;o?(T(!0),R("admin")):T(!1)}}}catch(e){console.error("Error checking access:",e),I("Failed to check access permissions")}},eA=async()=>{if(S&&(null==e?void 0:e.id))try{let{supabaseDb:t}=await Promise.resolve().then(r.bind(r,8411)),{data:n}=await t.getContentCalendarItems(),{data:o}=await t.getContentCalendarMembers(),{data:i}=await t.getUsers(),{data:a}=await t.getContentCalendarFolders(),l=await Promise.all((n||[]).map(async e=>{let t=[];if(e.assigned_to&&e.assigned_to.length>0){let r=e.assigned_to.map(async e=>{let t=(i||[]).find(t=>t.id===e);return t||{id:e,name:"Unknown User",email:"",role:"member"}});t=await Promise.all(r)}return{...e,assignees:t}}));console.log("Total content items before filtering:",l.length);let s=l.filter(e=>eQ(e));console.log("Accessible content items after filtering:",s.length),console.log("Accessible items:",s.map(e=>({id:e.id,content_title:e.content_title,security_level:e.security_level}))),E(s);let d=(o||[]).map(e=>({...e,user:e.auth_user||e.user||{id:e.user_id,name:"Unknown User",email:"",role:"member"}}));M(d),A(i||[]);let c=[];if("admin"===z||"manager"===z)c=(a||[]).filter((e,t,r)=>t===r.findIndex(t=>t.name===e.name&&t.folder_type===e.folder_type));else try{let t=(await Promise.resolve().then(r.bind(r,8411))).supabase,{data:n,error:o}=await t.from("content_calendar_folder_members").select("folder_id").eq("user_id",e.id);o&&console.error("Error fetching folder memberships:",o);let i=(n||[]).map(e=>e.folder_id);console.log("User folder IDs:",i),c=(a||[]).filter((t,r,n)=>{let o=r===n.findIndex(e=>e.name===t.name&&e.folder_type===t.folder_type),a=t.created_by_id===e.id||i.includes(t.id);return console.log("Folder ".concat(t.name," (ID: ").concat(t.id,"): created_by=").concat(t.created_by_id,", user_id=").concat(e.id,", in_memberships=").concat(i.includes(t.id),", hasAccess=").concat(a)),o&&a}),console.log("Accessible folders for user:",c.map(e=>e.name))}catch(t){console.error("Error in folder filtering:",t),c=(a||[]).filter((t,r,n)=>{let o=r===n.findIndex(e=>e.name===t.name&&e.folder_type===t.folder_type),i=t.created_by_id===e.id;return o&&i})}N(c),eN(l,P)}catch(e){console.error("Error fetching data:",e),I("Failed to load content calendar data")}},eL=async()=>{try{let{supabaseDb:e}=await Promise.resolve().then(r.bind(r,8411)),{data:t}=await e.getContentCalendarMembers(),n=(t||[]).map(e=>({...e,user:e.auth_user||e.user||{id:e.user_id,name:"Unknown User",email:"",role:"member"}}));M(n)}catch(e){console.error("Error fetching members:",e)}},eN=(e,t)=>{console.log("Filtering items by folder: ".concat(t||"root",", total items: ").concat(e.length));let r=[];null===t?(r=e,console.log("Showing all items (root folder)")):(r=e.filter(e=>e.folder_id===t),console.log("Items in folder ".concat(t,":"),r.length)),console.log("Applying security filtering...");let n=r.filter(e=>eQ(e));console.log("Final filtered items: ".concat(n.length)),console.log("Final items:",n.map(e=>({id:e.id,content_title:e.content_title,folder_id:e.folder_id}))),K(n)},eP=e=>{H(e),O(e.id),Z([...Y,e]),eN(B,e.id)},eO=e=>{if(null===e)H(null),O(null),Z([]),eN(B,null);else{let t=Y.findIndex(t=>t.id===e.id),r=Y.slice(0,t+1);H(e),O(e.id),Z(r),eN(B,e.id)}},eU=()=>null===U?L.filter(e=>!e.parent_folder_id):L.filter(e=>e.parent_folder_id===U.id);(0,o.useEffect)(()=>{if(!v){if(!t){j.push("/login");return}eW()}},[t,v,null==e?void 0:e.id,j]),(0,o.useEffect)(()=>{S?eA().finally(()=>C(!1)):v||C(!1)},[S,null==e?void 0:e.id]),(0,o.useEffect)(()=>{eN(B,P)},[B,P]),(0,o.useEffect)(()=>{let e=async()=>{let e=await e1();em(e)};U?e():em(D)},[U,D]);let eH=async e=>{e.preventDefault();try{let{supabaseDb:e}=await Promise.resolve().then(r.bind(r,8411)),o={...eg};console.log("Submitting content:",o);try{let t;eu?(console.log("Updating existing item:",eu.id),t=await e.updateContentCalendarItem(eu.id,o)):(console.log("Creating new item"),t=await e.createContentCalendarItem(o)),console.log("Submit result:",t),console.log("Refreshing data after successful submission..."),await eA(),e2(),console.log("Content submitted and data refreshed successfully")}catch(r){var t,n;if((null===(t=r.message)||void 0===t?void 0:t.includes("allowed_users"))||(null===(n=r.message)||void 0===n?void 0:n.includes("security_level"))){let t;let{security_level:r,allowed_users:n,...i}=o;console.log("Retrying without security fields due to missing database columns"),console.log("Basic data:",i),t=eu?await e.updateContentCalendarItem(eu.id,i):await e.createContentCalendarItem(i),console.log("Retry result:",t),console.log("Refreshing data after successful retry..."),await eA(),e2(),I("Content saved. Note: Security features require database migration."),console.log("Content submitted and data refreshed successfully (without security fields)")}else throw r}}catch(e){console.error("Error saving item:",e),I("Failed to save content item")}},eY=async e=>{if(confirm("Are you sure you want to delete this content item?"))try{let{supabaseDb:t}=await Promise.resolve().then(r.bind(r,8411));await t.deleteContentCalendarItem(e),await eA()}catch(e){console.error("Error deleting item:",e),I("Failed to delete content item")}},eZ=async e=>{try{let{supabaseDb:t}=await Promise.resolve().then(r.bind(r,8411));await t.addContentCalendarMember(e,"member"),await eA()}catch(e){console.error("Error adding member:",e),I("Failed to add member")}},eq=async e=>{if(confirm("Are you sure you want to remove this member?"))try{let{supabaseDb:t}=await Promise.resolve().then(r.bind(r,8411));await t.removeContentCalendarMember(e),await eA()}catch(e){console.error("Error removing member:",e),I("Failed to remove member")}},eK=async e=>{ei(e);try{let{supabaseDb:t}=await Promise.resolve().then(r.bind(r,8411)),{data:n,error:o}=await t.getContentCalendarFolderMembers(e.id);if(console.log("Raw folder members data:",n),console.log("Folder members error:",o),!n||0===n.length){console.log("No folder members found in database for folder:",e.id),ed([]),et(!0);return}let i=n.map(e=>{let t=e.auth_user;return t||(console.log("auth_user join failed for user_id:",e.user_id,"looking up in allUsers"),t=W.find(t=>t.id===e.user_id)),{...e,auth_user:t||{id:e.user_id,name:"User ".concat(e.user_id),email:"unknown@email.com",role:"member"}}});console.log("Transformed folder members:",i),ed(i),et(!0)}catch(e){console.error("Error fetching folder members:",e),I("Failed to load folder permissions")}},eG=async(e,t)=>{if(eo)try{console.log("Adding folder member:",{folderId:eo.id,userId:e,permissions:t});let{supabaseDb:n}=await Promise.resolve().then(r.bind(r,8411)),o=await n.addContentCalendarFolderMember(eo.id,e,t);if(console.log("Add folder member result:",o),o.error){console.error("Database error adding folder member:",o.error),I("Failed to add folder member: ".concat(String(o.error)));return}let{data:i}=await n.getContentCalendarFolderMembers(eo.id);ed(i||[]),await eA(),console.log("Folder member added successfully")}catch(e){console.error("Error adding folder member:",e),I("Failed to add folder member")}},eV=async e=>{if(console.log("Attempting to remove folder member with ID:",e),!confirm("Remove this member from the folder?")){console.log("User cancelled member removal");return}try{console.log("Removing folder member...");let{supabaseDb:t}=await Promise.resolve().then(r.bind(r,8411)),n=await t.removeContentCalendarFolderMember(e);if(console.log("Remove folder member result:",n),n.error){console.error("Database error removing folder member:",n.error),I("Failed to remove folder member: ".concat(String(n.error)));return}if(console.log("Member removed successfully, refreshing folder members..."),eo){let{data:e}=await t.getContentCalendarFolderMembers(eo.id);ed(e||[]),console.log("Folder members refreshed:",(null==e?void 0:e.length)||0,"members"),await eA()}}catch(e){console.error("Error removing folder member:",e),I("Failed to remove folder member")}},eJ=e=>{el(e),en(!0)},e$=async(e,t,n)=>{try{let{supabaseDb:a}=await Promise.resolve().then(r.bind(r,8411)),l={};try{l.security_level=t,l.allowed_users=n,await a.updateContentCalendarItem(e,l),await eA(),en(!1)}catch(e){var o,i;if((null===(o=e.message)||void 0===o?void 0:o.includes("allowed_users"))||(null===(i=e.message)||void 0===i?void 0:i.includes("security_level")))I("Security columns not yet added to database. Please run the database migration first."),console.error("Database schema needs updating. Run add_content_calendar_security_columns.sql");else throw e}}catch(e){console.error("Error updating file permissions:",e),I("Failed to update file permissions")}},eQ=t=>{var r,n,o;let i=t.id||"new",a=t.content_title||"untitled";if(console.log("Checking access for item ".concat(i," (").concat(a,"):"),{userRole:z,userId:null==e?void 0:e.id,itemCreatedBy:null===(r=t.created_by)||void 0===r?void 0:r.id,securityLevel:t.security_level,allowedUsers:t.allowed_users}),"admin"===z)return console.log("Access granted to ".concat(i,": user is admin")),!0;if((null===(n=t.created_by)||void 0===n?void 0:n.id)===(null==e?void 0:e.id))return console.log("Access granted to ".concat(i,": user is creator")),!0;if(!t.security_level||"public"===t.security_level)return console.log("Access granted to ".concat(i,": public or no security level")),!0;switch(t.security_level){case"restricted":let l=(null===(o=t.allowed_users)||void 0===o?void 0:o.includes((null==e?void 0:e.id)||0))||!1;return console.log("Access ".concat(l?"granted":"denied"," to ").concat(i,": restricted level, user in allowed list: ").concat(l)),l;case"confidential":let s=["admin","manager"].includes(z);return console.log("Access ".concat(s?"granted":"denied"," to ").concat(i,": confidential level, user role sufficient: ").concat(s)),s;case"secret":let d="admin"===z;return console.log("Access ".concat(d?"granted":"denied"," to ").concat(i,": secret level, user is admin: ").concat(d)),d;default:return console.log("Access granted to ".concat(i,": unknown security level, defaulting to allow")),!0}},eX=e=>"".concat(["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]," ").concat(e.getFullYear()),e0=e=>e.filter(e=>{let t=new Date(e.date);return t.getMonth()===eD.getMonth()&&t.getFullYear()===eD.getFullYear()}),e1=async()=>{if(console.log("getAssignableUsers called, currentFolder:",(null==U?void 0:U.name)||"No folder"),!U)return console.log("No current folder, returning all members:",D.map(e=>{var t;return(null===(t=e.user)||void 0===t?void 0:t.name)||"Unknown"})),D;try{console.log("Getting folder members for folder ID:",U.id);let{supabaseDb:e}=await Promise.resolve().then(r.bind(r,8411)),{data:t,error:n}=await e.getContentCalendarFolderMembers(U.id);if(console.log("Folder members data:",t),console.log("Folder members error:",n),!t||0===t.length)return console.log("No folder members found, showing all users from allUsers list"),W.map(e=>({user_id:e.id,role:"member",user:e}));let o=(t||[]).map(e=>{let t=e.auth_user;return t||(t=W.find(t=>t.id===e.user_id)),{user_id:e.user_id,role:e.role,user:t||{id:e.user_id,name:"User ".concat(e.user_id),email:"",role:"member"}}});if(U.created_by_id&&!o.some(e=>e.user_id===U.created_by_id)){let e=W.find(e=>e.id===U.created_by_id);e&&(console.log("Adding folder creator to assignable users:",e.name),o.push({user_id:e.id,role:"creator",user:e}))}return console.log("Final assignable users for folder:",o.map(e=>e.user.name||e.user.email)),o}catch(e){return console.error("Error getting assignable users:",e),console.log("Fallback: returning all members due to error"),D}},e5=async e=>{e.preventDefault();try{let{supabaseDb:e}=await Promise.resolve().then(r.bind(r,8411));await e.createContentCalendarFolder({...eh,parent_folder_id:(null==U?void 0:U.id)||null,sort_order:L.length+1}),await eA(),ex({name:"",description:"",folder_type:U?"week":"month",color:"#ffffff"}),X(!1)}catch(e){console.error("Error creating folder:",e),I("Failed to create folder")}},e2=()=>{ep({date:"",content_type:"",category:"",social_media:"",content_title:"",assigned_to:[],content_deadline:"",graphic_deadline:"",status:"planning",description:"",folder_id:(null==U?void 0:U.id)||null,security_level:"public",allowed_users:[]}),ef(null),V(!1)},e6=async e=>{if(ep({date:e.date,content_type:e.content_type,category:e.category,social_media:e.social_media,content_title:e.content_title,assigned_to:e.assigned_to,content_deadline:e.content_deadline||"",graphic_deadline:e.graphic_deadline||"",status:e.status,description:e.description||"",folder_id:e.folder_id||null,security_level:e.security_level||"public",allowed_users:e.allowed_users||[]}),ef(e),console.log("Opening Edit modal for item:",e.id,"in folder:",e.folder_id),e.folder_id){let t=L.find(t=>t.id===e.folder_id);if(t){H(t);try{let e=await e1();console.log("Assignable users for editing:",e.length,"users"),em(e)}catch(e){console.error("Error fetching assignable users for edit:",e),em(W.map(e=>({user_id:e.id,role:"member",user:e})))}}}else em(D);V(!0)},e8=e=>{let t=new Date(e),r=t.getDate().toString().padStart(2,"0"),n=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"][t.getMonth()],o=t.getFullYear();return"".concat(r,"/").concat(n,"/").concat(o)},e4=e=>{switch(e){case"planning":return"Planning";case"in_progress":return"In Progress";case"review":return"Review";case"completed":return"Completed";default:return e}},e7=e=>{let t="asc";eb.key===e&&"asc"===eb.direction&&(t="desc"),ey({key:e,direction:t});let r=[...q].sort((r,n)=>{let o=e9(r,e),i=e9(n,e);return null==o?"asc"===t?1:-1:null==i||o<i?"asc"===t?-1:1:o>i?"asc"===t?1:-1:0});K(r)},e9=(e,t)=>{switch(t){case"date":return new Date(e.date);case"content_type":return e.content_type;case"category":return e.category;case"social_media":return e.social_media;case"content_title":return e.content_title;case"assigned":var r;return(null===(r=e.assignees)||void 0===r?void 0:r.map(e=>e.name).join(", "))||"";case"content_deadline":return e.content_deadline?new Date(e.content_deadline):null;case"graphic_deadline":return e.graphic_deadline?new Date(e.graphic_deadline):null;case"status":return e.status;default:return""}},e3=(e,t,r)=>{eI({itemId:e,field:t}),eE({...eB,["".concat(e,"-").concat(t)]:r})},te=async(e,t,n)=>{try{let{supabaseDb:o}=await Promise.resolve().then(r.bind(r,8411));await o.updateContentCalendarItem(e,{[t]:n});let i=B.map(r=>r.id===e?{...r,[t]:n}:r);E(i),eN(i,P),eI(null),eE({})}catch(e){console.error("Error updating item:",e),I("Failed to update content item")}},tt=(e,t,r)=>{if("Enter"===e.key){let e=eB["".concat(t,"-").concat(r)];te(t,r,e)}else"Escape"===e.key&&(eI(null),eE({}))},tr=e=>eb.key!==e?(0,n.jsx)(l.Z,{style:{width:"12px",height:"12px",opacity:.3}}):"asc"===eb.direction?(0,n.jsx)(l.Z,{style:{width:"12px",height:"12px",color:"#5884FD"}}):(0,n.jsx)(s.Z,{style:{width:"12px",height:"12px",color:"#5884FD"}}),tn=(e,t)=>{ej(t),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",e.currentTarget.outerHTML),e.currentTarget.style.opacity="0.5"},to=e=>{e.currentTarget.style.opacity="1",ej(null),eC(null)},ti=(e,t)=>{e.preventDefault(),e.dataTransfer.dropEffect="move",eC(t)},ta=()=>{eC(null)},tl=(e,t)=>{if(e.preventDefault(),!ev)return;let r=q.findIndex(e=>e.id===ev.id);if(r===t)return;let n=[...q],[o]=n.splice(r,1);n.splice(t,0,o),K(n),eC(null),ej(null)},ts=async()=>{if(!eS.trim()){I("Please enter a valid email address");return}try{let{supabaseDb:e}=await Promise.resolve().then(r.bind(r,8411));await e.addContentCalendarMemberByEmail(eS.trim(),ez),await eL(),eT(""),eR("member"),I(""),alert("Member added successfully!")}catch(e){console.error("Error adding member:",e),I("Failed to add member: "+e.message)}},td=async e=>{if(confirm("Are you sure you want to remove this member?"))try{let{supabaseDb:t}=await Promise.resolve().then(r.bind(r,8411));await t.removeContentCalendarMember(e),await eL(),I(""),alert("Member removed successfully!")}catch(e){console.error("Error removing member:",e),I("Failed to remove member: "+e.message)}},tc=async(e,t)=>{try{let{supabaseDb:n}=await Promise.resolve().then(r.bind(r,8411));await n.updateContentCalendarMemberRole(e,t),await eL(),I("")}catch(e){console.error("Error updating member role:",e),I("Failed to update member role: "+e.message)}};return v||w?(0,n.jsx)("div",{style:{padding:"2rem",background:"#F5F5ED",flex:1,display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:(0,n.jsx)("div",{style:{width:"32px",height:"32px",border:"3px solid #C483D9",borderTop:"3px solid #5884FD",borderRadius:"50%",animation:"spin 1s linear infinite"}})}):S?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n          \n          /* Mobile Responsive Styles */\n          @media (max-width: 768px) {\n            .content-calendar-container {\n              display: block !important;\n              width: 100vw !important;\n              max-width: 100vw !important;\n              overflow-x: hidden;\n              margin: 0;\n              padding: 0;\n            }\n            \n            .content-calendar-main {\n              margin-left: 0 !important;\n              width: 100vw !important;\n              max-width: 100vw !important;\n              padding: 1rem !important;\n              padding-top: 80px !important;\n              overflow-x: hidden;\n              box-sizing: border-box;\n            }\n            \n            .content-calendar-header {\n              flex-direction: column !important;\n              gap: 1rem !important;\n              align-items: stretch !important;\n              margin-bottom: 2rem !important;\n              padding-bottom: 1rem !important;\n            }\n            \n            .content-calendar-title {\n              font-size: 1.75rem !important;\n              text-align: center !important;\n            }\n            \n            .content-calendar-subtitle {\n              font-size: 0.9rem !important;\n              text-align: center !important;\n            }\n            \n            .content-calendar-actions {\n              flex-direction: column !important;\n              gap: 0.75rem !important;\n              width: 100% !important;\n            }\n            \n            .content-calendar-actions button {\n              width: 100% !important;\n              justify-content: center !important;\n              padding: 0.875rem !important;\n              font-size: 0.9rem !important;\n            }\n            \n            .folder-grid {\n              grid-template-columns: 1fr !important;\n              gap: 1rem !important;\n            }\n            \n            .content-table {\n              overflow-x: auto !important;\n              -webkit-overflow-scrolling: touch !important;\n            }\n            \n            .content-table-header {\n              display: none !important;\n            }\n            \n            .content-item-row {\n              display: block !important;\n              background: #ffffff !important;\n              border-radius: 12px !important;\n              padding: 1.5rem !important;\n              margin-bottom: 1rem !important;\n              box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1) !important;\n              border: 1px solid #e5e7eb !important;\n            }\n            \n            .content-field {\n              display: flex !important;\n              justify-content: space-between !important;\n              align-items: center !important;\n              padding: 0.5rem 0 !important;\n              border-bottom: 1px solid rgba(0, 0, 0, 0.05) !important;\n            }\n            \n            .content-field:last-child {\n              border-bottom: none !important;\n            }\n            \n            .content-field-label {\n              font-weight: 600 !important;\n              color: #374151 !important;\n              font-size: 0.8rem !important;\n              min-width: 80px !important;\n            }\n            \n            .content-field-value {\n              font-size: 0.85rem !important;\n              color: #6b7280 !important;\n              text-align: right !important;\n              flex: 1 !important;\n            }\n            \n            .mobile-actions {\n              display: flex !important;\n              gap: 0.5rem !important;\n              justify-content: center !important;\n              margin-top: 1rem !important;\n            }\n            \n            .mobile-actions button {\n              flex: 1 !important;\n              padding: 0.75rem !important;\n              font-size: 0.8rem !important;\n            }\n          }\n          \n          @media (max-width: 480px) {\n            .content-calendar-main {\n              padding: 0.75rem !important;\n            }\n            \n            .content-calendar-title {\n              font-size: 1.5rem !important;\n            }\n            \n            .content-calendar-subtitle {\n              font-size: 0.8rem !important;\n            }\n            \n            .content-item-row {\n              padding: 1rem !important;\n            }\n            \n            .content-calendar-actions button {\n              padding: 0.75rem !important;\n              font-size: 0.8rem !important;\n            }\n          }\n        "}}),(0,n.jsx)("div",{className:"content-calendar-container",style:{minHeight:"100vh",background:"#f8fafc"},children:(0,n.jsxs)("div",{className:"content-calendar-main",style:{padding:_?"12px":"2rem",paddingTop:_?"80px":"2rem",background:"transparent",flex:1,minHeight:"100vh"},children:[(0,n.jsxs)("div",{className:"content-calendar-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"3rem",paddingBottom:"1.5rem"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"content-calendar-title",style:{fontSize:"2.5rem",fontWeight:"300",margin:"0",color:"#1a1a1a",letterSpacing:"-0.02em"},children:"Content Calendar"}),(0,n.jsx)("p",{className:"content-calendar-subtitle",style:{fontSize:"1.1rem",color:"#666666",margin:"0.5rem 0 0 0",lineHeight:"1.5"},children:"Manage your social media content planning and scheduling"})]}),(0,n.jsxs)("div",{className:"content-calendar-actions",style:{display:"flex",gap:"0.75rem"},children:[(0,n.jsx)("button",{onClick:()=>{ex({name:"",description:"",folder_type:U?"week":"month",color:"#ffffff"}),X(!0)},style:{padding:"0.75rem 1.5rem",background:"#ffffff",color:"#666666",border:"1px solid #e0e0e0",borderRadius:"12px",fontSize:"0.9rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:"Create Folder"}),(0,n.jsx)("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:(0,n.jsxs)("button",{onClick:async()=>{ep({...eg,folder_id:(null==U?void 0:U.id)||null}),console.log("Opening Add Content modal, fetching assignable users...");try{let e=await e1();console.log("Assignable users fetched:",e.length,"users"),em(e)}catch(e){console.error("Error fetching assignable users:",e),em(W.map(e=>({user_id:e.id,role:"member",user:e})))}V(!0)},style:{padding:"0.75rem 1.5rem",background:"#5884FD",color:"#ffffff",border:"none",borderRadius:"12px",fontSize:"0.9rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 4px 12px rgba(88, 132, 253, 0.3)",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,n.jsx)(d.Z,{style:{width:"16px",height:"16px"}}),U?"Add to ".concat(U.name):"Add Content"]})})]})]}),F&&(0,n.jsx)("div",{style:{background:"#ffffff",border:"1px solid #F87239",borderRadius:"12px",padding:"1rem",marginBottom:"2rem",color:"#F87239",fontWeight:"500",boxShadow:"0 2px 8px rgba(248, 114, 57, 0.1)"},children:F}),(0,n.jsxs)("div",{style:{background:"#ffffff",border:"1px solid #e8e8e8",borderRadius:"16px",padding:"2rem",marginBottom:"2rem",boxShadow:"0 2px 16px rgba(0, 0, 0, 0.04)"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1.5rem",fontSize:"0.9rem",color:"#666666"},children:[(0,n.jsx)("button",{onClick:()=>eO(null),style:{background:"transparent",border:"none",color:null===U?"#1a1a1a":"#666666",fontWeight:null===U?"500":"400",textDecoration:"none",cursor:"pointer",padding:"0.25rem 0.5rem",borderRadius:"6px",transition:"all 0.2s ease"},children:"Content Calendar"}),Y.map((e,t)=>(0,n.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,n.jsx)("span",{style:{color:"#C483D9"},children:"•"}),(0,n.jsx)("button",{onClick:()=>eO(e),style:{background:"transparent",border:"none",color:t===Y.length-1?"#1a1a1a":"#666666",fontWeight:t===Y.length-1?"500":"400",textDecoration:"none",cursor:"pointer",padding:"0.25rem 0.5rem",borderRadius:"6px",transition:"all 0.2s ease"},children:e.name})]},e.id))]}),(0,n.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,n.jsxs)("h3",{style:{fontSize:"1.2rem",fontWeight:"500",marginBottom:"1.5rem",color:"#1a1a1a",letterSpacing:"-0.01em"},children:[U?"".concat(U.name):"All Folders",null===U&&L.length>0&&(0,n.jsxs)("span",{style:{color:"#666666",fontSize:"0.9rem",fontWeight:"400"},children:["(",L.length," total)"]})]}),0===eU().length&&0===L.length?(0,n.jsxs)("div",{style:{textAlign:"center",padding:"3rem 2rem",color:"#999999",border:"1px dashed #e0e0e0",borderRadius:"12px",background:"#fafafa"},children:[(0,n.jsx)("div",{style:{width:"48px",height:"48px",background:"#f0f0f0",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem"},children:(0,n.jsx)(c.Z,{style:{width:"24px",height:"24px",color:"#999999"}})}),(0,n.jsx)("p",{style:{margin:"0 0 1rem 0",fontSize:"1.1rem",fontWeight:"500"},children:"No folders created yet"}),(0,n.jsx)("p",{style:{margin:"0",fontSize:"0.9rem",lineHeight:"1.5"},children:"Create folders to organize your content by month, campaign, or category"})]}):(0,n.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"1rem"},children:eU().map(e=>(0,n.jsxs)("div",{style:{padding:"1.5rem",background:"#ffffff",border:"1px solid #e8e8e8",borderRadius:"12px",display:"flex",alignItems:"center",gap:"1rem",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.04)",position:"relative"},onMouseEnter:e=>{e.currentTarget.style.borderColor="#C483D9",e.currentTarget.style.background="#fafafa",e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 4px 16px rgba(196, 131, 217, 0.2)"},onMouseLeave:e=>{e.currentTarget.style.borderColor="#e8e8e8",e.currentTarget.style.background="#ffffff",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.04)"},children:[(0,n.jsxs)("div",{onClick:()=>eP(e),style:{display:"flex",alignItems:"center",gap:"1rem",flex:1,cursor:"pointer"},children:[(0,n.jsx)("div",{style:{width:"40px",height:"40px",background:"#f0f0f0",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)(c.Z,{style:{width:"20px",height:"20px",color:"#999999"}})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{fontWeight:"500",color:"#1a1a1a",fontSize:"1rem"},children:e.name}),e.description&&(0,n.jsx)("div",{style:{fontSize:"0.85rem",color:"#666666",marginTop:"0.25rem",lineHeight:"1.4"},children:e.description})]})]}),(0,n.jsx)("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:(0,n.jsx)("button",{onClick:t=>{t.stopPropagation(),eK(e)},style:{background:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"6px",padding:"0.5rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.background="#e5e7eb",e.currentTarget.style.borderColor="#9ca3af"},onMouseLeave:e=>{e.currentTarget.style.background="#f3f4f6",e.currentTarget.style.borderColor="#d1d5db"},title:"Manage Folder Permissions",children:(0,n.jsx)(m.Z,{style:{width:"16px",height:"16px",color:"#6b7280"}})})})]},e.id))})]})]}),U&&(0,n.jsxs)("div",{style:{background:"#ffffff",border:"1px solid #e8e8e8",borderRadius:"16px",padding:"1.5rem 2rem",marginBottom:"1.5rem",boxShadow:"0 2px 16px rgba(0, 0, 0, 0.04)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsx)("button",{onClick:()=>{eM(e=>{let t=new Date(e);return t.setMonth(t.getMonth()-1),t})},style:{padding:"0.75rem 1.5rem",background:"#f3f4f6",color:"#374151",border:"1px solid #d1d5db",borderRadius:"12px",fontSize:"0.9rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"0.5rem"},onMouseEnter:e=>{e.currentTarget.style.background="#e5e7eb",e.currentTarget.style.borderColor="#9ca3af"},onMouseLeave:e=>{e.currentTarget.style.background="#f3f4f6",e.currentTarget.style.borderColor="#d1d5db"},children:"← Previous Month"}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,n.jsx)("h2",{style:{fontSize:"1.5rem",fontWeight:"600",margin:"0",color:"#1a1a1a"},children:eX(eD)}),(0,n.jsx)("button",{onClick:()=>{eM(new Date)},style:{padding:"0.5rem 1rem",background:"#5884FD",color:"#ffffff",border:"none",borderRadius:"8px",fontSize:"0.85rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.background="#4070fd"},onMouseLeave:e=>{e.currentTarget.style.background="#5884FD"},children:"Today"})]}),(0,n.jsx)("button",{onClick:()=>{eM(e=>{let t=new Date(e);return t.setMonth(t.getMonth()+1),t})},style:{padding:"0.75rem 1.5rem",background:"#f3f4f6",color:"#374151",border:"1px solid #d1d5db",borderRadius:"12px",fontSize:"0.9rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"0.5rem"},onMouseEnter:e=>{e.currentTarget.style.background="#e5e7eb",e.currentTarget.style.borderColor="#9ca3af"},onMouseLeave:e=>{e.currentTarget.style.background="#f3f4f6",e.currentTarget.style.borderColor="#d1d5db"},children:"Next Month →"})]}),U&&(0,n.jsxs)("div",{className:"content-table",style:{background:"#ffffff",border:"1px solid #e8e8e8",borderRadius:"16px",overflow:"auto",boxShadow:"0 2px 16px rgba(0, 0, 0, 0.04)",maxHeight:"70vh"},children:[(0,n.jsxs)("div",{className:"content-table-header",style:{display:"grid",gridTemplateColumns:"140px 120px 130px 130px 1fr 140px 140px 140px 120px 100px 120px",gap:"0",background:"#fafafa",borderBottom:"2px solid #e8e8e8",fontWeight:"600",fontSize:"0.8rem",color:"#444444",letterSpacing:"0.025em",position:"sticky",top:"0",zIndex:10},children:[(0,n.jsxs)("div",{onClick:()=>e7("date"),style:{padding:"1.25rem 1rem",borderRight:"1px solid #e0e0e0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",background:"#ffffff",position:"sticky",left:"0",zIndex:20,borderBottom:"2px solid #e8e8e8",transition:"background-color 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#f8f9fa"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#ffffff"},children:["PUBLISHED DATE",tr("date")]}),(0,n.jsxs)("div",{onClick:()=>e7("content_type"),style:{padding:"1.25rem 1rem",borderRight:"1px solid #e0e0e0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"background-color 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#f8f9fa"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:["TYPE",tr("content_type")]}),(0,n.jsxs)("div",{onClick:()=>e7("category"),style:{padding:"1.25rem 1rem",borderRight:"1px solid #e0e0e0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"background-color 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#f8f9fa"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:["CATEGORY",tr("category")]}),(0,n.jsxs)("div",{onClick:()=>e7("social_media"),style:{padding:"1.25rem 1rem",borderRight:"1px solid #e0e0e0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"background-color 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#f8f9fa"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:["PLATFORM",tr("social_media")]}),(0,n.jsxs)("div",{onClick:()=>e7("content_title"),style:{padding:"1.25rem 1rem",borderRight:"1px solid #e0e0e0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",background:"#ffffff",position:"sticky",left:"140px",zIndex:20,borderBottom:"2px solid #e8e8e8",transition:"background-color 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#f8f9fa"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#ffffff"},children:["TITLE",tr("content_title")]}),(0,n.jsxs)("div",{onClick:()=>e7("assigned"),style:{padding:"1.25rem 1rem",borderRight:"1px solid #e0e0e0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"background-color 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#f8f9fa"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:["ASSIGNED",tr("assigned")]}),(0,n.jsxs)("div",{onClick:()=>e7("content_deadline"),style:{padding:"1.25rem 1rem",borderRight:"1px solid #e0e0e0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"background-color 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#f8f9fa"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:["CONTENT DUE",tr("content_deadline")]}),(0,n.jsxs)("div",{onClick:()=>e7("graphic_deadline"),style:{padding:"1.25rem 1rem",borderRight:"1px solid #e0e0e0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"background-color 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#f8f9fa"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:["GRAPHIC DUE",tr("graphic_deadline")]}),(0,n.jsxs)("div",{onClick:()=>e7("status"),style:{padding:"1.25rem 1rem",borderRight:"1px solid #e0e0e0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"background-color 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#f8f9fa"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:["STATUS",tr("status")]}),(0,n.jsxs)("div",{onClick:()=>e7("security_level"),style:{padding:"1.25rem 1rem",borderRight:"1px solid #e0e0e0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"background-color 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#f8f9fa"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:["SECURITY",tr("security_level")]}),(0,n.jsx)("div",{style:{padding:"1.25rem 1rem"},children:"ACTIONS"})]}),0===e0(q).length?(0,n.jsxs)("div",{style:{padding:"4rem",textAlign:"center",color:"#999999",fontSize:"1.1rem"},children:[(0,n.jsx)("div",{style:{width:"48px",height:"48px",background:"#f0f0f0",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem"},children:(0,n.jsx)(u.Z,{style:{width:"24px",height:"24px",color:"#999999"}})}),(0,n.jsxs)("p",{style:{margin:"0",fontWeight:"500"},children:["No content items in ",eX(eD)]}),(0,n.jsx)("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.9rem",color:"#666666"},children:'Click "Add Content" to create one or navigate to a different month.'})]}):e0(q).map((e,t)=>{var r,o,i,a,l;return(0,n.jsx)("div",{className:_?"content-item-mobile":"content-item-row",draggable:!_,onDragStart:_?void 0:t=>tn(t,e),onDragEnd:_?void 0:to,onDragOver:_?void 0:e=>ti(e,t),onDragLeave:_?void 0:ta,onDrop:_?void 0:e=>tl(e,t),style:{display:_?"block":"grid",gridTemplateColumns:_?"none":"140px 120px 130px 130px 1fr 140px 140px 140px 120px 100px 120px",gap:"0",borderBottom:"1px solid #f0f0f0",fontSize:"0.85rem",transition:"all 0.2s ease",cursor:_?"default":"grab",backgroundColor:ew===t?"#f0f9ff":"#ffffff",borderTop:ew===t?"2px solid #3b82f6":"none"},onMouseEnter:e=>{ev||(e.currentTarget.style.backgroundColor="#f8f9fa")},onMouseLeave:e=>{ev||(e.currentTarget.style.backgroundColor="#ffffff")},children:_?(0,n.jsxs)("div",{className:"content-item-mobile",children:[(0,n.jsxs)("div",{className:"content-field",children:[(0,n.jsx)("span",{className:"content-field-label",children:"Date:"}),(0,n.jsx)("span",{className:"content-field-value",children:e8(e.date)})]}),(0,n.jsxs)("div",{className:"content-field",children:[(0,n.jsx)("span",{className:"content-field-label",children:"Type:"}),(0,n.jsx)("span",{className:"content-field-value",children:e.content_type})]}),(0,n.jsxs)("div",{className:"content-field",children:[(0,n.jsx)("span",{className:"content-field-label",children:"Category:"}),(0,n.jsx)("span",{className:"content-field-value",children:e.category})]}),(0,n.jsxs)("div",{className:"content-field",children:[(0,n.jsx)("span",{className:"content-field-label",children:"Platform:"}),(0,n.jsx)("span",{className:"content-field-value",children:e.social_media})]}),(0,n.jsxs)("div",{className:"content-field",children:[(0,n.jsx)("span",{className:"content-field-label",children:"Title:"}),(0,n.jsx)("span",{className:"content-field-value",children:e.content_title})]}),(0,n.jsxs)("div",{className:"content-field",children:[(0,n.jsx)("span",{className:"content-field-label",children:"Assigned:"}),(0,n.jsx)("span",{className:"content-field-value",children:(null===(r=e.assignees)||void 0===r?void 0:r.map(e=>e.name).join(", "))||"Unassigned"})]}),(0,n.jsxs)("div",{className:"content-field",children:[(0,n.jsx)("span",{className:"content-field-label",children:"Status:"}),(0,n.jsx)("span",{className:"content-field-value",children:(0,n.jsx)("span",{style:{padding:"0.25rem 0.5rem",background:"completed"===e.status?"#10B981":"in_progress"===e.status?"#5884FD":"review"===e.status?"#FFB333":"#C483D9",color:"#ffffff",borderRadius:"8px",fontSize:"0.7rem",fontWeight:"500"},children:e4(e.status)})})]}),(0,n.jsxs)("div",{className:"content-field",children:[(0,n.jsx)("span",{className:"content-field-label",children:"Security:"}),(0,n.jsx)("span",{className:"content-field-value",children:(0,n.jsx)("span",{style:{padding:"0.25rem 0.5rem",background:(null===(o=y.find(t=>t.value===(e.security_level||"public")))||void 0===o?void 0:o.color)||"#10b981",color:"#ffffff",borderRadius:"8px",fontSize:"0.7rem",fontWeight:"500"},children:(null===(i=y.find(t=>t.value===(e.security_level||"public")))||void 0===i?void 0:i.label)||"Public"})})]}),(0,n.jsxs)("div",{className:"mobile-actions",children:[(0,n.jsx)("button",{onClick:()=>e6(e),style:{padding:"0.75rem",background:"#5884FD",color:"#ffffff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.8rem",fontWeight:"500"},children:"Edit"}),(0,n.jsx)("button",{onClick:()=>eY(e.id),style:{padding:"0.75rem",background:"#F87239",color:"#ffffff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.8rem",fontWeight:"500"},children:"Delete"}),(0,n.jsx)("button",{onClick:()=>eJ(e),style:{padding:"0.75rem",background:"#6b7280",color:"#ffffff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.8rem",fontWeight:"500"},children:"Security"})]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{onDoubleClick:()=>e3(e.id,"date",e.date),style:{padding:"1rem",borderRight:"1px solid #f0f0f0",color:"#666666",background:"#ffffff",position:"sticky",left:"0",zIndex:5,cursor:"pointer"},children:(null==eF?void 0:eF.itemId)===e.id&&(null==eF?void 0:eF.field)==="date"?(0,n.jsx)("input",{type:"date",value:eB["".concat(e.id,"-date")]||e.date,onChange:t=>eE({...eB,["".concat(e.id,"-date")]:t.target.value}),onKeyDown:t=>tt(t,e.id,"date"),onBlur:()=>te(e.id,"date",eB["".concat(e.id,"-date")]),autoFocus:!0,style:{width:"100%",border:"2px solid #5884FD",borderRadius:"4px",padding:"0.25rem",fontSize:"0.85rem"}}):e8(e.date)}),(0,n.jsx)("div",{onDoubleClick:()=>e3(e.id,"content_type",e.content_type),style:{padding:"1rem",borderRight:"1px solid #f0f0f0",cursor:"pointer"},children:(null==eF?void 0:eF.itemId)===e.id&&(null==eF?void 0:eF.field)==="content_type"?(0,n.jsx)("select",{value:eB["".concat(e.id,"-content_type")]||e.content_type,onChange:t=>eE({...eB,["".concat(e.id,"-content_type")]:t.target.value}),onKeyDown:t=>tt(t,e.id,"content_type"),onBlur:()=>te(e.id,"content_type",eB["".concat(e.id,"-content_type")]),autoFocus:!0,style:{width:"100%",border:"2px solid #5884FD",borderRadius:"4px",padding:"0.25rem",fontSize:"0.85rem"},children:p.map(e=>(0,n.jsx)("option",{value:e,children:e},e))}):(0,n.jsx)("div",{style:{fontWeight:"500",color:"#1a1a1a"},children:e.content_type})}),(0,n.jsx)("div",{onDoubleClick:()=>e3(e.id,"category",e.category),style:{padding:"1rem",borderRight:"1px solid #f0f0f0",color:"#666666",cursor:"pointer"},children:(null==eF?void 0:eF.itemId)===e.id&&(null==eF?void 0:eF.field)==="category"?(0,n.jsx)("select",{value:eB["".concat(e.id,"-category")]||e.category,onChange:t=>eE({...eB,["".concat(e.id,"-category")]:t.target.value}),onKeyDown:t=>tt(t,e.id,"category"),onBlur:()=>te(e.id,"category",eB["".concat(e.id,"-category")]),autoFocus:!0,style:{width:"100%",border:"2px solid #5884FD",borderRadius:"4px",padding:"0.25rem",fontSize:"0.85rem"},children:h.map(e=>(0,n.jsx)("option",{value:e,children:e},e))}):e.category}),(0,n.jsx)("div",{onDoubleClick:()=>e3(e.id,"social_media",e.social_media),style:{padding:"1rem",borderRight:"1px solid #f0f0f0",color:"#666666",cursor:"pointer"},children:(null==eF?void 0:eF.itemId)===e.id&&(null==eF?void 0:eF.field)==="social_media"?(0,n.jsx)("select",{value:eB["".concat(e.id,"-social_media")]||e.social_media,onChange:t=>eE({...eB,["".concat(e.id,"-social_media")]:t.target.value}),onKeyDown:t=>tt(t,e.id,"social_media"),onBlur:()=>te(e.id,"social_media",eB["".concat(e.id,"-social_media")]),autoFocus:!0,style:{width:"100%",border:"2px solid #5884FD",borderRadius:"4px",padding:"0.25rem",fontSize:"0.85rem"},children:x.map(e=>(0,n.jsx)("option",{value:e,children:e},e))}):e.social_media}),(0,n.jsx)("div",{onDoubleClick:()=>e3(e.id,"content_title",e.content_title),style:{padding:"1rem",borderRight:"1px solid #f0f0f0",background:"#ffffff",position:"sticky",left:"140px",zIndex:5,cursor:"pointer"},children:(null==eF?void 0:eF.itemId)===e.id&&(null==eF?void 0:eF.field)==="content_title"?(0,n.jsx)("input",{type:"text",value:eB["".concat(e.id,"-content_title")]||e.content_title,onChange:t=>eE({...eB,["".concat(e.id,"-content_title")]:t.target.value}),onKeyDown:t=>tt(t,e.id,"content_title"),onBlur:()=>te(e.id,"content_title",eB["".concat(e.id,"-content_title")]),autoFocus:!0,style:{width:"100%",border:"2px solid #5884FD",borderRadius:"4px",padding:"0.25rem",fontSize:"0.85rem"}}):(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{fontWeight:"500",marginBottom:"0.25rem",color:"#1a1a1a"},children:e.content_title}),e.description&&(0,n.jsx)("div",{style:{fontSize:"0.75rem",color:"#666666",lineHeight:"1.4"},children:e.description.length>50?"".concat(e.description.substring(0,50),"..."):e.description})]})}),(0,n.jsx)("div",{style:{padding:"1rem",borderRight:"1px solid #f0f0f0",color:"#666666"},children:e.assignees&&e.assignees.length>0?(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:e.assignees.map((e,t)=>(0,n.jsx)("div",{style:{fontSize:"0.8rem",fontWeight:"500",color:"#374151",padding:"0.25rem 0.5rem",background:"#f9fafb",borderRadius:"4px",border:"1px solid #e5e7eb"},children:e.name},e.id))}):(0,n.jsx)("span",{style:{color:"#9ca3af",fontSize:"0.8rem"},children:"Unassigned"})}),(0,n.jsx)("div",{onDoubleClick:()=>e3(e.id,"content_deadline",e.content_deadline),style:{padding:"1rem",borderRight:"1px solid #f0f0f0",color:"#666666",cursor:"pointer"},children:(null==eF?void 0:eF.itemId)===e.id&&(null==eF?void 0:eF.field)==="content_deadline"?(0,n.jsx)("input",{type:"date",value:eB["".concat(e.id,"-content_deadline")]||e.content_deadline||"",onChange:t=>eE({...eB,["".concat(e.id,"-content_deadline")]:t.target.value}),onKeyDown:t=>tt(t,e.id,"content_deadline"),onBlur:()=>te(e.id,"content_deadline",eB["".concat(e.id,"-content_deadline")]),autoFocus:!0,style:{width:"100%",border:"2px solid #5884FD",borderRadius:"4px",padding:"0.25rem",fontSize:"0.85rem"}}):e.content_deadline?e8(e.content_deadline):"-"}),(0,n.jsx)("div",{onDoubleClick:()=>e3(e.id,"graphic_deadline",e.graphic_deadline),style:{padding:"1rem",borderRight:"1px solid #f0f0f0",color:"#666666",cursor:"pointer"},children:(null==eF?void 0:eF.itemId)===e.id&&(null==eF?void 0:eF.field)==="graphic_deadline"?(0,n.jsx)("input",{type:"date",value:eB["".concat(e.id,"-graphic_deadline")]||e.graphic_deadline||"",onChange:t=>eE({...eB,["".concat(e.id,"-graphic_deadline")]:t.target.value}),onKeyDown:t=>tt(t,e.id,"graphic_deadline"),onBlur:()=>te(e.id,"graphic_deadline",eB["".concat(e.id,"-graphic_deadline")]),autoFocus:!0,style:{width:"100%",border:"2px solid #5884FD",borderRadius:"4px",padding:"0.25rem",fontSize:"0.85rem"}}):e.graphic_deadline?e8(e.graphic_deadline):"-"}),(0,n.jsx)("div",{onDoubleClick:()=>e3(e.id,"status",e.status),style:{padding:"1rem",borderRight:"1px solid #f0f0f0",cursor:"pointer"},children:(null==eF?void 0:eF.itemId)===e.id&&(null==eF?void 0:eF.field)==="status"?(0,n.jsx)("select",{value:eB["".concat(e.id,"-status")]||e.status,onChange:t=>eE({...eB,["".concat(e.id,"-status")]:t.target.value}),onKeyDown:t=>tt(t,e.id,"status"),onBlur:()=>te(e.id,"status",eB["".concat(e.id,"-status")]),autoFocus:!0,style:{width:"100%",border:"2px solid #5884FD",borderRadius:"4px",padding:"0.25rem",fontSize:"0.85rem"},children:b.map(e=>(0,n.jsx)("option",{value:e,children:e4(e)},e))}):(0,n.jsx)("span",{style:{padding:"0.375rem 0.75rem",background:"completed"===e.status?"#10B981":"in_progress"===e.status?"#5884FD":"review"===e.status?"#FFB333":"#C483D9",color:"#ffffff",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"500"},children:e4(e.status)})}),(0,n.jsx)("div",{onDoubleClick:()=>e3(e.id,"security_level",e.security_level),style:{padding:"1rem",borderRight:"1px solid #f0f0f0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:(null==eF?void 0:eF.itemId)===e.id&&(null==eF?void 0:eF.field)==="security_level"?(0,n.jsx)("select",{value:eB["".concat(e.id,"-security_level")]||e.security_level||"public",onChange:t=>eE({...eB,["".concat(e.id,"-security_level")]:t.target.value}),onKeyDown:t=>tt(t,e.id,"security_level"),onBlur:()=>te(e.id,"security_level",eB["".concat(e.id,"-security_level")]),autoFocus:!0,style:{width:"100%",border:"1px solid #5884FD",borderRadius:"4px",padding:"0.25rem",fontSize:"0.85rem"},children:y.map(e=>(0,n.jsx)("option",{value:e.value,children:e.label},e.value))}):(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,n.jsx)("span",{style:{padding:"0.25rem 0.5rem",background:(null===(a=y.find(t=>t.value===(e.security_level||"public")))||void 0===a?void 0:a.color)||"#10b981",color:"#ffffff",borderRadius:"8px",fontSize:"0.7rem",fontWeight:"500"},children:(null===(l=y.find(t=>t.value===(e.security_level||"public")))||void 0===l?void 0:l.label)||"Public"}),(0,n.jsx)("button",{onClick:t=>{t.stopPropagation(),eJ(e)},style:{background:"transparent",border:"none",cursor:"pointer",padding:"0.25rem",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center"},title:"Manage File Permissions",children:(0,n.jsx)(m.Z,{style:{width:"14px",height:"14px",color:"#6b7280"}})})]})}),(0,n.jsxs)("div",{style:{padding:"1rem",display:"flex",gap:"0.5rem",alignItems:"flex-start"},children:[(0,n.jsx)("button",{onClick:()=>e6(e),style:{padding:"0.5rem",background:"#ffffff",border:"1px solid #e8e8e8",borderRadius:"8px",cursor:"pointer",color:"#5884FD",transition:"all 0.2s ease",height:"36px",width:"36px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},onMouseEnter:e=>{e.currentTarget.style.background="#5884FD",e.currentTarget.style.color="#ffffff",e.currentTarget.style.borderColor="#5884FD",e.currentTarget.style.transform="translateY(-1px)",e.currentTarget.style.boxShadow="0 4px 12px rgba(88, 132, 253, 0.3)"},onMouseLeave:e=>{e.currentTarget.style.background="#ffffff",e.currentTarget.style.color="#5884FD",e.currentTarget.style.borderColor="#e8e8e8",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.1)"},children:(0,n.jsx)(f.Z,{style:{width:"16px",height:"16px"}})}),(0,n.jsx)("button",{onClick:()=>eY(e.id),style:{padding:"0.5rem",background:"#ffffff",border:"1px solid #e8e8e8",borderRadius:"8px",cursor:"pointer",color:"#F87239",transition:"all 0.2s ease",height:"36px",width:"36px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},onMouseEnter:e=>{e.currentTarget.style.background="#F87239",e.currentTarget.style.color="#ffffff",e.currentTarget.style.borderColor="#F87239",e.currentTarget.style.transform="translateY(-1px)",e.currentTarget.style.boxShadow="0 4px 12px rgba(248, 114, 57, 0.3)"},onMouseLeave:e=>{e.currentTarget.style.background="#ffffff",e.currentTarget.style.color="#F87239",e.currentTarget.style.borderColor="#e8e8e8",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.1)"},children:(0,n.jsx)(g.Z,{style:{width:"16px",height:"16px"}})})]})]})},e.id)})]}),!U&&(0,n.jsxs)("div",{style:{background:"#ffffff",border:"1px solid #e8e8e8",borderRadius:"16px",padding:"4rem",textAlign:"center",color:"#666666",boxShadow:"0 2px 16px rgba(0, 0, 0, 0.04)"},children:[(0,n.jsx)("div",{style:{width:"64px",height:"64px",background:"#f0f0f0",borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 2rem"},children:(0,n.jsx)(c.Z,{style:{width:"32px",height:"32px",color:"#999999"}})}),(0,n.jsx)("h3",{style:{fontSize:"1.5rem",fontWeight:"400",margin:"0 0 1rem 0",color:"#1a1a1a",letterSpacing:"-0.01em"},children:"Choose a Folder to View Content"}),(0,n.jsx)("p",{style:{fontSize:"1.1rem",margin:"0 0 1rem 0",lineHeight:"1.5"},children:"Click on a folder above to see its content items and manage your social media content."}),(0,n.jsx)("p",{style:{fontSize:"0.9rem",margin:"0",color:"#999999"},children:"Create new folders to organize content by month, campaign, or category."})]}),G&&(0,n.jsx)("div",{style:{position:"fixed",top:"0",left:"0",right:"0",bottom:"0",background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,n.jsxs)("div",{style:{background:"#ffffff",border:"1px solid #e8e8e8",borderRadius:"20px",padding:"3rem",width:"95%",maxWidth:"700px",maxHeight:"95vh",overflow:"auto",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.1)"},children:[(0,n.jsxs)("div",{style:{textAlign:"center",marginBottom:"3rem",paddingBottom:"2rem",borderBottom:"1px solid #f0f0f0"},children:[(0,n.jsx)("h2",{style:{fontSize:"2rem",fontWeight:"400",margin:"0 0 0.5rem 0",color:"#1a1a1a",letterSpacing:"-0.025em"},children:eu?"Edit Content Item":"Add New Content Item"}),(0,n.jsx)("p",{style:{fontSize:"1.1rem",color:"#666666",margin:"0",fontWeight:"400",lineHeight:"1.5"},children:eu?"Update your content details below":"Fill in the details to create a new content item"})]}),(0,n.jsxs)("form",{onSubmit:eH,children:[(0,n.jsxs)("div",{style:{marginBottom:"3rem"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"2rem",paddingBottom:"1rem",borderBottom:"1px solid #f0f0f0"},children:[(0,n.jsx)("div",{style:{width:"4px",height:"24px",backgroundColor:"#5884FD",borderRadius:"2px"}}),(0,n.jsx)("h3",{style:{fontSize:"1.2rem",fontWeight:"500",margin:"0",color:"#1a1a1a",letterSpacing:"-0.015em"},children:"Basic Information"})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2.5rem",marginBottom:"2rem"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"0.75rem",fontWeight:"600",fontSize:"1rem",color:"#374151",letterSpacing:"-0.01em"},children:"Published Date"}),(0,n.jsx)("input",{type:"date",value:eg.date,onChange:e=>ep({...eg,date:e.target.value}),required:!0,style:{width:"100%",padding:"0.9rem",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"0.95rem",backgroundColor:"#fafafa"}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"0.75rem",fontWeight:"600",fontSize:"1rem",color:"#374151",letterSpacing:"-0.01em"},children:"Content Type"}),(0,n.jsxs)("select",{value:eg.content_type,onChange:e=>ep({...eg,content_type:e.target.value}),required:!0,style:{width:"100%",padding:"0.9rem",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"0.95rem",backgroundColor:"#fafafa"},children:[(0,n.jsx)("option",{value:"",children:"Select type"}),p.map(e=>(0,n.jsx)("option",{value:e,children:e},e))]})]})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2.5rem",marginBottom:"2rem"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"0.75rem",fontWeight:"600",fontSize:"1rem",color:"#374151",letterSpacing:"-0.01em"},children:"Category"}),(0,n.jsxs)("select",{value:eg.category,onChange:e=>ep({...eg,category:e.target.value}),required:!0,style:{width:"100%",padding:"0.9rem",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"0.95rem",backgroundColor:"#fafafa"},children:[(0,n.jsx)("option",{value:"",children:"Select category"}),h.map(e=>(0,n.jsx)("option",{value:e,children:e},e))]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"0.75rem",fontWeight:"600",fontSize:"1rem",color:"#374151",letterSpacing:"-0.01em"},children:"Social Media Platform"}),(0,n.jsxs)("select",{value:eg.social_media,onChange:e=>ep({...eg,social_media:e.target.value}),required:!0,style:{width:"100%",padding:"0.9rem",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"0.95rem",backgroundColor:"#fafafa"},children:[(0,n.jsx)("option",{value:"",children:"Select platform"}),x.map(e=>(0,n.jsx)("option",{value:e,children:e},e))]})]})]}),(0,n.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"0.75rem",fontWeight:"600",fontSize:"1rem",color:"#374151",letterSpacing:"-0.01em"},children:"Content Title"}),(0,n.jsx)("input",{type:"text",value:eg.content_title,onChange:e=>ep({...eg,content_title:e.target.value}),required:!0,placeholder:"Enter the content title...",style:{width:"100%",padding:"0.9rem",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"0.95rem",backgroundColor:"#fafafa"}})]})]}),(0,n.jsxs)("div",{style:{marginBottom:"3rem"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"2rem",paddingBottom:"1rem",borderBottom:"1px solid #f0f0f0"},children:[(0,n.jsx)("div",{style:{width:"4px",height:"24px",backgroundColor:"#C483D9",borderRadius:"2px"}}),(0,n.jsx)("h3",{style:{fontSize:"1.2rem",fontWeight:"500",margin:"0",color:"#1a1a1a",letterSpacing:"-0.015em"},children:"Deadlines"})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2.5rem",marginBottom:"2rem"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"0.75rem",fontWeight:"600",fontSize:"1rem",color:"#374151",letterSpacing:"-0.01em"},children:"Content Deadline"}),(0,n.jsx)("input",{type:"date",value:eg.content_deadline,onChange:e=>ep({...eg,content_deadline:e.target.value}),style:{width:"100%",padding:"0.9rem",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"0.95rem",backgroundColor:"#fafafa"}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"0.75rem",fontWeight:"600",fontSize:"1rem",color:"#374151",letterSpacing:"-0.01em"},children:"Graphic Deadline"}),(0,n.jsx)("input",{type:"date",value:eg.graphic_deadline,onChange:e=>ep({...eg,graphic_deadline:e.target.value}),style:{width:"100%",padding:"0.9rem",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"0.95rem",backgroundColor:"#fafafa"}})]})]})]}),(0,n.jsxs)("div",{style:{marginBottom:"3rem"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"2rem",paddingBottom:"1rem",borderBottom:"1px solid #f0f0f0"},children:[(0,n.jsx)("div",{style:{width:"4px",height:"24px",backgroundColor:"#F87239",borderRadius:"2px"}}),(0,n.jsx)("h3",{style:{fontSize:"1.2rem",fontWeight:"500",margin:"0",color:"#1a1a1a",letterSpacing:"-0.015em"},children:"Organization"})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2.5rem",marginBottom:"2rem"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"0.75rem",fontWeight:"600",fontSize:"1rem",color:"#374151",letterSpacing:"-0.01em"},children:"Status"}),(0,n.jsx)("select",{value:eg.status,onChange:e=>ep({...eg,status:e.target.value}),style:{width:"100%",padding:"0.9rem",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"0.95rem",backgroundColor:"#fafafa"},children:b.map(e=>(0,n.jsx)("option",{value:e,children:e4(e)},e))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"0.75rem",fontWeight:"600",fontSize:"1rem",color:"#374151",letterSpacing:"-0.01em"},children:"Security Level"}),(0,n.jsx)("select",{value:eg.security_level,onChange:e=>ep({...eg,security_level:e.target.value}),style:{width:"100%",padding:"0.9rem",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"0.95rem",backgroundColor:"#fafafa"},children:y.map(e=>(0,n.jsxs)("option",{value:e.value,children:[e.label," - ",e.description]},e.value))})]})]}),(0,n.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2.5rem",marginBottom:"2rem"},children:(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"0.75rem",fontWeight:"600",fontSize:"1rem",color:"#374151",letterSpacing:"-0.01em"},children:"Folder"}),(0,n.jsxs)("select",{value:eg.folder_id||"",onChange:e=>ep({...eg,folder_id:e.target.value?parseInt(e.target.value):null}),style:{width:"100%",padding:"0.9rem",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"0.95rem",backgroundColor:"#fafafa"},children:[(0,n.jsx)("option",{value:"",children:"No folder"}),L.map(e=>(0,n.jsx)("option",{value:e.id,children:e.name},e.id))]})]})}),(0,n.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,n.jsxs)("label",{style:{display:"block",marginBottom:"1rem",fontWeight:"600",fontSize:"1rem",color:"#374151",letterSpacing:"-0.01em"},children:["Assign To ",U?"(".concat(U.name," members only)"):"(All members)"]}),(0,n.jsx)("div",{style:{border:"2px solid #e5e7eb",borderRadius:"8px",padding:"1rem",maxHeight:"140px",overflow:"auto",backgroundColor:"#fafafa"},children:(ec||[]).map(e=>(0,n.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.75rem",cursor:"pointer",padding:"0.5rem",borderRadius:"4px",backgroundColor:"#ffffff",border:"1px solid #e5e7eb"},children:[(0,n.jsx)("input",{type:"checkbox",checked:(eg.assigned_to||[]).includes(e.user_id),onChange:t=>{t.target.checked?ep({...eg,assigned_to:[...eg.assigned_to||[],e.user_id]}):ep({...eg,assigned_to:(eg.assigned_to||[]).filter(t=>t!==e.user_id)})},style:{width:"18px",height:"18px"}}),(0,n.jsxs)("span",{style:{fontSize:"0.95rem",fontWeight:"500"},children:[e.user.name," (",e.user.email,")"]})]},e.user_id))})]})]}),(0,n.jsxs)("div",{style:{marginBottom:"3rem"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"2rem",paddingBottom:"1rem",borderBottom:"1px solid #f0f0f0"},children:[(0,n.jsx)("div",{style:{width:"4px",height:"24px",backgroundColor:"#FFB333",borderRadius:"2px"}}),(0,n.jsx)("h3",{style:{fontSize:"1.2rem",fontWeight:"500",margin:"0",color:"#1a1a1a",letterSpacing:"-0.015em"},children:"Additional Details"})]}),(0,n.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"1rem",fontWeight:"600",fontSize:"1rem",color:"#374151",letterSpacing:"-0.01em"},children:"Description"}),(0,n.jsx)("textarea",{value:eg.description,onChange:e=>ep({...eg,description:e.target.value}),rows:4,placeholder:"Add any additional notes or descriptions...",style:{width:"100%",padding:"1rem",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"0.95rem",resize:"vertical",backgroundColor:"#fafafa",lineHeight:"1.5"}})]})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"1.5rem",justifyContent:"center",paddingTop:"2.5rem",borderTop:"1px solid #f0f0f0",marginTop:"2rem"},children:[(0,n.jsx)("button",{type:"button",onClick:e2,style:{padding:"1rem 2.5rem",background:"#ffffff",color:"#666666",border:"1px solid #e0e0e0",borderRadius:"12px",fontSize:"1rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",minWidth:"140px",fontFamily:"inherit",outline:"none",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#f8f8f8",e.currentTarget.style.transform="translateY(-1px)",e.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15)"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="#ffffff",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.1)"},children:"Cancel"}),(0,n.jsx)("button",{type:"submit",style:{padding:"1rem 2.5rem",background:"#5884FD",color:"#ffffff",border:"none",borderRadius:"12px",fontSize:"1rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",minWidth:"140px",fontFamily:"inherit",outline:"none",boxShadow:"0 4px 12px rgba(88, 132, 253, 0.3)"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#4A6CF7",e.currentTarget.style.transform="translateY(-1px)",e.currentTarget.style.boxShadow="0 6px 16px rgba(88, 132, 253, 0.4)"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="#5884FD",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 12px rgba(88, 132, 253, 0.3)"},children:eu?"Update Content":"Create Content"})]})]})]})}),J&&"admin"===z&&(0,n.jsx)("div",{style:{position:"fixed",top:"0",left:"0",right:"0",bottom:"0",background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,n.jsxs)("div",{style:{background:"#ffffff",border:"1px solid #e8e8e8",borderRadius:"20px",padding:"2.5rem",width:"90%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.1)"},children:[(0,n.jsx)("h2",{style:{fontSize:"1.75rem",fontWeight:"400",marginBottom:"2rem",color:"#1a1a1a",letterSpacing:"-0.02em"},children:"Manage Content Calendar Members"}),(0,n.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,n.jsx)("h3",{style:{fontSize:"1.1rem",fontWeight:"600",marginBottom:"1rem"},children:"Current Members"}),(0,n.jsx)("div",{style:{border:"2px solid #e5e7eb",borderRadius:"6px",maxHeight:"200px",overflow:"auto"},children:(D||[]).map(e=>(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem",borderBottom:"1px solid #e5e7eb"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{fontWeight:"600"},children:e.user.name}),(0,n.jsxs)("span",{style:{color:"#666666",fontSize:"0.9rem",marginLeft:"0.5rem"},children:["(",e.user.email,")"]})]}),(0,n.jsx)("button",{onClick:()=>eq(e.user_id),style:{padding:"0.25rem 0.5rem",background:"#ffffff",color:"#000000",border:"1px solid #e5e7eb",borderRadius:"4px",fontSize:"0.8rem",cursor:"pointer"},children:"Remove"})]},e.user_id))})]}),(0,n.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,n.jsx)("h3",{style:{fontSize:"1.1rem",fontWeight:"600",marginBottom:"1rem"},children:"Add New Members"}),(0,n.jsx)("div",{style:{border:"2px solid #e5e7eb",borderRadius:"6px",maxHeight:"200px",overflow:"auto"},children:(W||[]).filter(e=>!(D||[]).some(t=>t.user_id===e.id)).map(e=>(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem",borderBottom:"1px solid #e5e7eb"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{fontWeight:"600"},children:e.name}),(0,n.jsxs)("span",{style:{color:"#666666",fontSize:"0.9rem",marginLeft:"0.5rem"},children:["(",e.email,")"]})]}),(0,n.jsx)("button",{onClick:()=>eZ(e.id),style:{padding:"0.25rem 0.5rem",background:"#000000",color:"#ffffff",border:"1px solid #000000",borderRadius:"4px",fontSize:"0.8rem",cursor:"pointer"},children:"Add"})]},e.id))})]}),(0,n.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,n.jsx)("button",{onClick:()=>$(!1),style:{padding:"0.875rem 2rem",background:"#5884FD",color:"#ffffff",border:"none",borderRadius:"12px",fontSize:"1rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 4px 12px rgba(88, 132, 253, 0.3)"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#4A6CF7",e.currentTarget.style.transform="translateY(-1px)",e.currentTarget.style.boxShadow="0 6px 16px rgba(88, 132, 253, 0.4)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#5884FD",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 12px rgba(88, 132, 253, 0.3)"},children:"Close"})})]})}),Q&&(0,n.jsx)("div",{style:{position:"fixed",top:"0",left:"0",right:"0",bottom:"0",background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,n.jsxs)("div",{style:{background:"#ffffff",border:"1px solid #e8e8e8",borderRadius:"20px",padding:"2.5rem",width:"90%",maxWidth:"500px",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.1)"},children:[(0,n.jsx)("h2",{style:{fontSize:"1.75rem",fontWeight:"400",marginBottom:"2rem",color:"#1a1a1a",letterSpacing:"-0.02em"},children:U?"Create Subfolder in ".concat(U.name):"Create New Folder"}),U&&(0,n.jsxs)("div",{style:{background:"#f0f0f0",border:"1px solid #e5e7eb",borderRadius:"6px",padding:"1rem",marginBottom:"1.5rem",fontSize:"0.9rem",color:"#666666"},children:[(0,n.jsx)("strong",{children:"Parent Folder:"})," ",U.name,(0,n.jsx)("br",{}),'This folder will be created inside "',U.name,'"']}),(0,n.jsxs)("form",{onSubmit:e5,children:[(0,n.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Folder Name"}),(0,n.jsx)("input",{type:"text",value:eh.name,onChange:e=>ex({...eh,name:e.target.value}),placeholder:U?"e.g., Week 1, Campaign A, Social Posts":"e.g., January 2025, Summer Campaign, Product Launch",required:!0,style:{width:"100%",padding:"0.75rem",border:"2px solid #e5e7eb",borderRadius:"6px",fontSize:"0.9rem"}})]}),(0,n.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Folder Type"}),(0,n.jsx)("select",{value:eh.folder_type,onChange:e=>ex({...eh,folder_type:e.target.value}),style:{width:"100%",padding:"0.75rem",border:"2px solid #e5e7eb",borderRadius:"6px",fontSize:"0.9rem"},children:U?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("option",{value:"week",children:"Weekly"}),(0,n.jsx)("option",{value:"campaign",children:"Campaign"}),(0,n.jsx)("option",{value:"project",children:"Project"}),(0,n.jsx)("option",{value:"category",children:"Category"}),(0,n.jsx)("option",{value:"month",children:"Monthly"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("option",{value:"month",children:"Monthly"}),(0,n.jsx)("option",{value:"campaign",children:"Campaign"}),(0,n.jsx)("option",{value:"project",children:"Project"}),(0,n.jsx)("option",{value:"category",children:"Category"})]})})]}),(0,n.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Description (Optional)"}),(0,n.jsx)("textarea",{value:eh.description,onChange:e=>ex({...eh,description:e.target.value}),placeholder:"Brief description of this folder's purpose",rows:3,style:{width:"100%",padding:"0.75rem",border:"2px solid #e5e7eb",borderRadius:"6px",fontSize:"0.9rem",resize:"vertical"}})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[(0,n.jsx)("button",{type:"button",onClick:()=>X(!1),style:{padding:"0.875rem 1.5rem",background:"#ffffff",color:"#666666",border:"1px solid #e0e0e0",borderRadius:"12px",fontSize:"1rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#f8f8f8",e.currentTarget.style.transform="translateY(-1px)",e.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#ffffff",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.1)"},children:"Cancel"}),(0,n.jsx)("button",{type:"submit",style:{padding:"0.875rem 1.5rem",background:"#C483D9",color:"#ffffff",border:"none",borderRadius:"12px",fontSize:"1rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 4px 12px rgba(196, 131, 217, 0.3)"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#B16EC4",e.currentTarget.style.transform="translateY(-1px)",e.currentTarget.style.boxShadow="0 6px 16px rgba(196, 131, 217, 0.4)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#C483D9",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 12px rgba(196, 131, 217, 0.3)"},children:U?"Create Subfolder":"Create Folder"})]})]})]})})]})}),e_&&(0,n.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"1rem"},children:(0,n.jsxs)("div",{style:{backgroundColor:"#ffffff",borderRadius:"16px",width:"100%",maxWidth:"600px",maxHeight:"80vh",overflow:"hidden",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[(0,n.jsxs)("div",{style:{padding:"1.5rem",borderBottom:"1px solid #e5e7eb",display:"flex",alignItems:"center",justifyContent:"space-between",background:"#f8fafc"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:"600",color:"#1a1a1a"},children:"Manage Calendar Members"}),(0,n.jsx)("p",{style:{margin:"0.5rem 0 0 0",color:"#666666",fontSize:"0.9rem"},children:"Control who can view and edit the content calendar"})]}),(0,n.jsx)("button",{onClick:()=>ek(!1),style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#666666",padding:"0.5rem",borderRadius:"8px"},children:"\xd7"})]}),(0,n.jsxs)("div",{style:{padding:"1.5rem",maxHeight:"60vh",overflowY:"auto"},children:[F&&(0,n.jsx)("div",{style:{backgroundColor:"#fee2e2",color:"#dc2626",padding:"0.75rem",borderRadius:"8px",marginBottom:"1rem",fontSize:"0.9rem"},children:F}),(0,n.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,n.jsx)("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.1rem",fontWeight:"600",color:"#1a1a1a"},children:"Add New Member"}),(0,n.jsxs)("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem"},children:[(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem",fontWeight:"500",color:"#374151"},children:"Email Address"}),(0,n.jsx)("input",{type:"email",value:eS,onChange:e=>eT(e.target.value),placeholder:"colleague@company.com",style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"0.9rem",outline:"none",transition:"border-color 0.2s ease",boxSizing:"border-box"},onFocus:e=>e.target.style.borderColor="#3b82f6",onBlur:e=>e.target.style.borderColor="#d1d5db"})]}),(0,n.jsxs)("div",{style:{minWidth:"120px"},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem",fontWeight:"500",color:"#374151"},children:"Role"}),(0,n.jsxs)("select",{value:ez,onChange:e=>eR(e.target.value),style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"0.9rem",outline:"none",backgroundColor:"#ffffff",boxSizing:"border-box"},children:[(0,n.jsx)("option",{value:"member",children:"Member"}),(0,n.jsx)("option",{value:"admin",children:"Admin"})]})]})]}),(0,n.jsx)("button",{onClick:ts,disabled:!eS.trim(),style:{width:"100%",padding:"0.75rem",backgroundColor:eS.trim()?"#3b82f6":"#9ca3af",color:"white",border:"none",borderRadius:"8px",fontSize:"0.9rem",fontWeight:"500",cursor:eS.trim()?"pointer":"not-allowed",transition:"all 0.2s ease"},children:"Add Member"})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.1rem",fontWeight:"600",color:"#1a1a1a"},children:["Current Members (",D.length,")"]}),0===D.length?(0,n.jsxs)("div",{style:{textAlign:"center",padding:"2rem",color:"#666666",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[(0,n.jsx)(m.Z,{style:{width:"24px",height:"24px",margin:"0 auto 0.5rem",color:"#9ca3af"}}),(0,n.jsx)("p",{style:{margin:0,fontSize:"0.9rem"},children:"No members added yet"})]}):(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:D.map(e=>(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("div",{style:{fontWeight:"500",color:"#1a1a1a",fontSize:"0.9rem"},children:e.user.name}),(0,n.jsx)("div",{style:{fontSize:"0.8rem",color:"#666666"},children:e.user.email})]}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[(0,n.jsxs)("select",{value:e.role,onChange:t=>tc(e.user_id,t.target.value),style:{padding:"0.5rem",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"0.8rem",backgroundColor:"#ffffff"},children:[(0,n.jsx)("option",{value:"member",children:"Member"}),(0,n.jsx)("option",{value:"admin",children:"Admin"})]}),(0,n.jsx)("button",{onClick:()=>td(e.user_id),style:{padding:"0.5rem",backgroundColor:"#fee2e2",color:"#dc2626",border:"none",borderRadius:"6px",fontSize:"0.8rem",cursor:"pointer",transition:"all 0.2s ease"},title:"Remove Member",children:"Remove"})]})]},e.user_id))})]})]})]})}),ee&&eo&&(0,n.jsx)("div",{style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.75)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50,padding:"1rem"},children:(0,n.jsxs)("div",{style:{background:"#ffffff",borderRadius:"16px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflow:"auto"},children:[(0,n.jsxs)("div",{style:{padding:"2rem",borderBottom:"1px solid #e5e7eb"},children:[(0,n.jsx)("h3",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#1f2937",margin:"0 0 0.5rem 0"},children:"Manage Folder Permissions"}),(0,n.jsxs)("p",{style:{color:"#6b7280",margin:0,fontSize:"1rem"},children:['Control who can access "',eo.name,'" folder']})]}),(0,n.jsxs)("div",{style:{padding:"2rem"},children:[(0,n.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,n.jsx)("h4",{style:{fontSize:"1.1rem",fontWeight:"600",marginBottom:"1rem",color:"#374151"},children:"Add Member"}),(0,n.jsx)("div",{style:{display:"flex",gap:"1rem",alignItems:"end"},children:(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem",fontWeight:"500",color:"#374151"},children:"Select User"}),(0,n.jsxs)("select",{style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"0.9rem"},onChange:e=>{e.target.value&&(eG(parseInt(e.target.value),{role:"viewer",can_create:!1,can_edit:!1,can_delete:!1,can_manage_members:!1}),e.target.value="")},children:[(0,n.jsx)("option",{value:"",children:"Select a user..."}),W.filter(e=>!es.some(t=>t.user_id===e.id)).map(e=>(0,n.jsxs)("option",{value:e.id,children:[e.name," (",e.email,")"]},e.id))]})]})})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("h4",{style:{fontSize:"1.1rem",fontWeight:"600",marginBottom:"1rem",color:"#374151"},children:["Current Members (",es.length,")"]}),0===es.length?(0,n.jsx)("p",{style:{color:"#6b7280",fontStyle:"italic"},children:"No members assigned to this folder"}):(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:es.map(e=>{var t,r;return(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",border:"1px solid #e5e7eb",borderRadius:"8px",background:"#f9fafb"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{fontWeight:"500",color:"#1f2937"},children:(null===(t=e.auth_user)||void 0===t?void 0:t.name)||"Unknown User"}),(0,n.jsx)("div",{style:{fontSize:"0.85rem",color:"#6b7280"},children:(null===(r=e.auth_user)||void 0===r?void 0:r.email)||""}),(0,n.jsxs)("div",{style:{fontSize:"0.8rem",color:"#374151",marginTop:"0.25rem"},children:["Role: ",e.role," | Create: ",e.can_create?"✓":"✗"," | Edit: ",e.can_edit?"✓":"✗"," | Delete: ",e.can_delete?"✓":"✗"]})]}),(0,n.jsx)("button",{onClick:()=>eV(e.id),style:{padding:"0.5rem",background:"#fee2e2",color:"#dc2626",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Remove"})]},e.id)})})]})]}),(0,n.jsx)("div",{style:{padding:"2rem",borderTop:"1px solid #e5e7eb",display:"flex",justifyContent:"flex-end"},children:(0,n.jsx)("button",{onClick:()=>et(!1),style:{padding:"0.75rem 1.5rem",background:"#6b7280",color:"#ffffff",border:"none",borderRadius:"8px",cursor:"pointer"},children:"Close"})})]})}),er&&ea&&(0,n.jsx)("div",{style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.75)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50,padding:"1rem"},children:(0,n.jsxs)("div",{style:{background:"#ffffff",borderRadius:"16px",maxWidth:"500px",width:"100%",maxHeight:"90vh",overflow:"auto"},children:[(0,n.jsxs)("div",{style:{padding:"2rem",borderBottom:"1px solid #e5e7eb"},children:[(0,n.jsx)("h3",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#1f2937",margin:"0 0 0.5rem 0"},children:"File Security Settings"}),(0,n.jsxs)("p",{style:{color:"#6b7280",margin:0,fontSize:"1rem"},children:['"',ea.content_title,'"']})]}),(0,n.jsx)("div",{style:{padding:"2rem"},children:(0,n.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"1rem",fontWeight:"600",fontSize:"1rem",color:"#374151"},children:"Security Level"}),(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:y.map(e=>(0,n.jsx)("div",{style:{padding:"1rem",border:"2px solid ".concat(ea.security_level===e.value?e.color:"#e5e7eb"),borderRadius:"8px",cursor:"pointer",background:ea.security_level===e.value?"".concat(e.color,"10"):"#ffffff"},onClick:()=>{e$(ea.id,e.value,ea.allowed_users||[])},children:(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{fontWeight:"600",color:e.color,fontSize:"1rem"},children:e.label}),(0,n.jsx)("div",{style:{fontSize:"0.85rem",color:"#6b7280",marginTop:"0.25rem"},children:e.description})]}),ea.security_level===e.value&&(0,n.jsx)("div",{style:{width:"20px",height:"20px",borderRadius:"50%",background:e.color,display:"flex",alignItems:"center",justifyContent:"center",color:"#ffffff",fontSize:"0.8rem"},children:"✓"})]})},e.value))})]})}),(0,n.jsx)("div",{style:{padding:"2rem",borderTop:"1px solid #e5e7eb",display:"flex",justifyContent:"flex-end"},children:(0,n.jsx)("button",{onClick:()=>en(!1),style:{padding:"0.75rem 1.5rem",background:"#6b7280",color:"#ffffff",border:"none",borderRadius:"8px",cursor:"pointer"},children:"Close"})})]})})]}):(0,n.jsx)("div",{style:{padding:"2rem",background:"#F5F5ED",flex:1,display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:(0,n.jsxs)("div",{style:{textAlign:"center",maxWidth:"500px"},children:[(0,n.jsx)("h1",{style:{fontSize:"2.5rem",fontWeight:"300",marginBottom:"1rem",color:"#1a1a1a",letterSpacing:"-0.02em"},children:"Access Denied"}),(0,n.jsx)("p",{style:{fontSize:"1.1rem",color:"#666666",marginBottom:"2rem",lineHeight:"1.6"},children:"You don't have permission to access the Content Calendar. Please contact an administrator to request access."}),(0,n.jsx)("button",{onClick:()=>j.push("/dashboard"),style:{padding:"0.875rem 2rem",background:"#5884FD",color:"#ffffff",border:"none",borderRadius:"12px",fontSize:"1rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 4px 12px rgba(88, 132, 253, 0.3)"},children:"Back to Dashboard"})]})})}},3549:function(e,t,r){"use strict";r.r(t),r.d(t,{AuthProvider:function(){return s},useAuth:function(){return l}});var n=r(7437),o=r(2265),i=r(8411);let a=(0,o.createContext)(void 0),l=()=>{let e=(0,o.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},s=e=>{let{children:t}=e,[r,l]=(0,o.useState)(null),[s,d]=(0,o.useState)(!0),[c,m]=(0,o.useState)(!1);(0,o.useEffect)(()=>{m(!0)},[]),(0,o.useEffect)(()=>{if(!c)return;let e=async()=>{try{console.log("Starting auth initialization..."),await new Promise(e=>setTimeout(e,50));let{user:o,error:a}=await i.supabaseAuth.getUser();if(console.log("Auth result:",{currentUser:o,error:a}),o&&!a){var e,t,r,n;let i={id:o.id,email:o.email,name:(null===(e=o.user_metadata)||void 0===e?void 0:e.name)||o.email,phone:(null===(t=o.user_metadata)||void 0===t?void 0:t.phone)||"",role:(null===(r=o.user_metadata)||void 0===r?void 0:r.role)||"member",position:(null===(n=o.user_metadata)||void 0===n?void 0:n.position)||"",date_joined:new Date().toISOString()};l(i),console.log("User set:",i)}else console.log("No user found or error occurred")}catch(e){console.error("Auth initialization error:",e)}finally{console.log("Setting isLoading to false"),d(!1)}},t=setTimeout(()=>{console.warn("Auth initialization timeout, proceeding without auth"),d(!1)},3e3),r=setTimeout(()=>{e().finally(()=>{clearTimeout(t)})},100);return()=>{clearTimeout(t),clearTimeout(r)}},[c]);let u=async(e,t)=>{try{console.log("Attempting login for:",e);let{user:s,error:d}=await i.supabaseAuth.signIn(e,t);if(d)throw console.error("Login error:",d),Error(d instanceof Error?d.message:"Login failed");if(s){var r,n,o,a;let e={id:s.id,email:s.email,name:(null===(r=s.user_metadata)||void 0===r?void 0:r.name)||s.email,phone:(null===(n=s.user_metadata)||void 0===n?void 0:n.phone)||"",role:(null===(o=s.user_metadata)||void 0===o?void 0:o.role)||"member",position:(null===(a=s.user_metadata)||void 0===a?void 0:a.position)||"",date_joined:new Date().toISOString()};l(e),console.log("Login successful:",e)}}catch(e){throw console.error("Login failed:",e),Error(e.message||"Login failed")}},f=async e=>{throw Error("Registration is disabled. Please contact an administrator.")},g=async()=>{try{await i.supabaseAuth.signOut(),l(null)}catch(e){console.error("Logout error:",e),l(null)}};return(0,n.jsx)(a.Provider,{value:{user:r,isLoading:s,login:u,register:f,logout:g,isAuthenticated:!!r},children:t})}},622:function(e,t,r){"use strict";var n=r(2265),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function d(e,t,r){var n,i={},d=null,c=null;for(n in void 0!==r&&(d=""+r),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,n)&&!s.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:o,type:e,key:d,ref:c,props:i,_owner:l.current}}t.Fragment=i,t.jsx=d,t.jsxs=d},7437:function(e,t,r){"use strict";e.exports=r(622)},4033:function(e,t,r){e.exports=r(94)},1253:function(e,t,r){"use strict";var n=r(2265);let o=n.forwardRef(function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))});t.Z=o},4164:function(e,t,r){"use strict";var n=r(2265);let o=n.forwardRef(function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))});t.Z=o},2307:function(e,t,r){"use strict";var n=r(2265);let o=n.forwardRef(function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))});t.Z=o},1205:function(e,t,r){"use strict";var n=r(2265);let o=n.forwardRef(function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))});t.Z=o},2125:function(e,t,r){"use strict";var n=r(2265);let o=n.forwardRef(function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))});t.Z=o},5255:function(e,t,r){"use strict";var n=r(2265);let o=n.forwardRef(function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))});t.Z=o},7227:function(e,t,r){"use strict";var n=r(2265);let o=n.forwardRef(function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))});t.Z=o},9649:function(e,t,r){"use strict";var n=r(2265);let o=n.forwardRef(function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))});t.Z=o}},function(e){e.O(0,[7708,8411,2971,2472,1744],function(){return e(e.s=9983)}),_N_E=e.O()}]);