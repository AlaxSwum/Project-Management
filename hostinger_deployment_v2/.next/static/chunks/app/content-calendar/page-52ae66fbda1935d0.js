(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[40],{4321:function(e,t,r){Promise.resolve().then(r.bind(r,7030))},7030:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return w}});var n=r(7437),a=r(2265),o=r(4033),i=r(3549),s=r(4560),l=r(66),d=r(2307),c=r(4164),m=r(9649),f=r(5255),u=r(1205),p=r(1253),x=r(2125),g=r(7227);let b=["Article","Video","Image","Infographic","Story","Reel","Post"],h=["Marketing","Educational","Promotional","Entertainment","News","Tutorial"],y=["Facebook","Instagram","Twitter","LinkedIn","TikTok","YouTube","Pinterest"],j=["planning","in_progress","review","completed"],v=[{value:"public",label:"Public",description:"Everyone can view",color:"#10b981"},{value:"restricted",label:"Restricted",description:"Selected members only",color:"#f59e0b"},{value:"confidential",label:"Confidential",description:"Manager+ only",color:"#ef4444"},{value:"secret",label:"Secret",description:"Admin only",color:"#7c3aed"}];function w(){let{user:e,isAuthenticated:t,isLoading:w}=(0,i.useAuth)(),k=(0,o.useRouter)(),[_,C]=(0,a.useState)(!0),[S,z]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=()=>{z(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let[D,T]=(0,a.useState)(!1),[F,N]=(0,a.useState)(""),[E,I]=(0,a.useState)(null),[A,R]=(0,a.useState)([]),[P,B]=(0,a.useState)([]),[M,q]=(0,a.useState)([]),[W,U]=(0,a.useState)([]),[L,O]=(0,a.useState)(null),[H,Z]=(0,a.useState)(null),[Y,G]=(0,a.useState)([]),[J,X]=(0,a.useState)([]),[K,V]=(0,a.useState)(!1),[Q,$]=(0,a.useState)(!1),[ee,et]=(0,a.useState)(!1),[er,en]=(0,a.useState)(!1),[ea,eo]=(0,a.useState)(!1),[ei,es]=(0,a.useState)(null),[el,ed]=(0,a.useState)(null),[ec,em]=(0,a.useState)([]),[ef,eu]=(0,a.useState)([]),[ep,ex]=(0,a.useState)(null),[eg,eb]=(0,a.useState)({date:"",content_type:"",category:"",social_media:"",content_title:"",assigned_to:[],content_deadline:"",graphic_deadline:"",status:"planning",description:"",folder_id:null,security_level:"public",allowed_users:[]}),[eh,ey]=(0,a.useState)({name:"",description:"",folder_type:"month",color:"#ffffff"}),[ej,ev]=(0,a.useState)({key:"date",direction:"asc"}),[ew,ek]=(0,a.useState)(null),[e_,eC]=(0,a.useState)(null),[eS,ez]=(0,a.useState)(!1),[eD,eT]=(0,a.useState)(""),[eF,eN]=(0,a.useState)("member"),[eE,eI]=(0,a.useState)(null),[eA,eR]=(0,a.useState)({}),eP=async()=>{if(null==e?void 0:e.id)try{let t=(await Promise.resolve().then(r.bind(r,8411))).supabase,{data:n,error:a}=await t.from("content_calendar_members").select("id, role").eq("user_id",e.id).single();if(n&&!a)T(!0),N(n.role);else{let{data:r,error:n}=await t.from("content_calendar_folder_members").select("id, role").eq("user_id",e.id).limit(1);if(r&&r.length>0&&!n)T(!0),N(r[0].role||"member");else{let{data:r,error:n}=await t.from("auth_user").select("id, name, email, role, is_superuser, is_staff").eq("id",e.id).single();if(n){T(!1);return}let a=r.is_superuser||r.is_staff||"admin"===r.role||"hr"===r.role;a?(T(!0),N("admin")):T(!1)}}}catch(e){console.error("Error checking access:",e),I("Failed to check access permissions")}},eB=async()=>{if(D&&(null==e?void 0:e.id))try{let{supabaseDb:t}=await Promise.resolve().then(r.bind(r,8411)),{data:n}=await t.getContentCalendarItems(),{data:a}=await t.getContentCalendarMembers(),{data:o}=await t.getUsers(),{data:i}=await t.getContentCalendarFolders(),s=await Promise.all((n||[]).map(async e=>{let t=[];if(e.assigned_to&&e.assigned_to.length>0){let r=e.assigned_to.map(async e=>{let t=(o||[]).find(t=>t.id===e);return t||{id:e,name:"Unknown User",email:"",role:"member"}});t=await Promise.all(r)}return{...e,assignees:t}}));console.log("Total content items before filtering:",s.length);let l=s.filter(e=>eQ(e));console.log("Accessible content items after filtering:",l.length),console.log("Accessible items:",l.map(e=>({id:e.id,content_title:e.content_title,security_level:e.security_level}))),R(l);let d=(a||[]).map(e=>({...e,user:e.auth_user||e.user||{id:e.user_id,name:"Unknown User",email:"",role:"member"}}));B(d),q(o||[]);let c=[];if("admin"===F||"manager"===F)c=(i||[]).filter((e,t,r)=>t===r.findIndex(t=>t.name===e.name&&t.folder_type===e.folder_type));else try{let t=(await Promise.resolve().then(r.bind(r,8411))).supabase,{data:n,error:a}=await t.from("content_calendar_folder_members").select("folder_id").eq("user_id",e.id);a&&console.error("Error fetching folder memberships:",a);let o=(n||[]).map(e=>e.folder_id);console.log("User folder IDs:",o),c=(i||[]).filter((t,r,n)=>{let a=r===n.findIndex(e=>e.name===t.name&&e.folder_type===t.folder_type),i=t.created_by_id===e.id||o.includes(t.id);return console.log("Folder ".concat(t.name," (ID: ").concat(t.id,"): created_by=").concat(t.created_by_id,", user_id=").concat(e.id,", in_memberships=").concat(o.includes(t.id),", hasAccess=").concat(i)),a&&i}),console.log("Accessible folders for user:",c.map(e=>e.name))}catch(t){console.error("Error in folder filtering:",t),c=(i||[]).filter((t,r,n)=>{let a=r===n.findIndex(e=>e.name===t.name&&e.folder_type===t.folder_type),o=t.created_by_id===e.id;return a&&o})}U(c),eq(s,L)}catch(e){console.error("Error fetching data:",e),I("Failed to load content calendar data")}},eM=async()=>{try{let{supabaseDb:e}=await Promise.resolve().then(r.bind(r,8411)),{data:t}=await e.getContentCalendarMembers(),n=(t||[]).map(e=>({...e,user:e.auth_user||e.user||{id:e.user_id,name:"Unknown User",email:"",role:"member"}}));B(n)}catch(e){console.error("Error fetching members:",e)}},eq=(e,t)=>{console.log("Filtering items by folder: ".concat(t||"root",", total items: ").concat(e.length));let r=[];null===t?(r=e,console.log("Showing all items (root folder)")):(r=e.filter(e=>e.folder_id===t),console.log("Items in folder ".concat(t,":"),r.length)),console.log("Applying security filtering...");let n=r.filter(e=>eQ(e));console.log("Final filtered items: ".concat(n.length)),console.log("Final items:",n.map(e=>({id:e.id,content_title:e.content_title,folder_id:e.folder_id}))),X(n)},eW=e=>{Z(e),O(e.id),G([...Y,e]),eq(A,e.id)},eU=e=>{if(null===e)Z(null),O(null),G([]),eq(A,null);else{let t=Y.findIndex(t=>t.id===e.id),r=Y.slice(0,t+1);Z(e),O(e.id),G(r),eq(A,e.id)}},eL=()=>null===H?W.filter(e=>!e.parent_folder_id):W.filter(e=>e.parent_folder_id===H.id);(0,a.useEffect)(()=>{if(!w){if(!t){k.push("/login");return}eP()}},[t,w,null==e?void 0:e.id,k]),(0,a.useEffect)(()=>{D?eB().finally(()=>C(!1)):w||C(!1)},[D,null==e?void 0:e.id]),(0,a.useEffect)(()=>{eq(A,L)},[A,L]),(0,a.useEffect)(()=>{let e=async()=>{let e=await e$();eu(e)};H?e():eu(P)},[H,P]);let eO=async e=>{e.preventDefault();try{let{supabaseDb:e}=await Promise.resolve().then(r.bind(r,8411)),a={...eg};console.log("Submitting content:",a);try{let t;ep?(console.log("Updating existing item:",ep.id),t=await e.updateContentCalendarItem(ep.id,a)):(console.log("Creating new item"),t=await e.createContentCalendarItem(a)),console.log("Submit result:",t),console.log("Refreshing data after successful submission..."),await eB(),e1(),console.log("Content submitted and data refreshed successfully")}catch(r){var t,n;if((null===(t=r.message)||void 0===t?void 0:t.includes("allowed_users"))||(null===(n=r.message)||void 0===n?void 0:n.includes("security_level"))){let t;let{security_level:r,allowed_users:n,...o}=a;console.log("Retrying without security fields due to missing database columns"),console.log("Basic data:",o),t=ep?await e.updateContentCalendarItem(ep.id,o):await e.createContentCalendarItem(o),console.log("Retry result:",t),console.log("Refreshing data after successful retry..."),await eB(),e1(),I("Content saved. Note: Security features require database migration."),console.log("Content submitted and data refreshed successfully (without security fields)")}else throw r}}catch(e){console.error("Error saving item:",e),I("Failed to save content item")}},eH=async e=>{if(confirm("Are you sure you want to delete this content item?"))try{let{supabaseDb:t}=await Promise.resolve().then(r.bind(r,8411));await t.deleteContentCalendarItem(e),await eB()}catch(e){console.error("Error deleting item:",e),I("Failed to delete content item")}},eZ=async e=>{try{let{supabaseDb:t}=await Promise.resolve().then(r.bind(r,8411));await t.addContentCalendarMember(e,"member"),await eB()}catch(e){console.error("Error adding member:",e),I("Failed to add member")}},eY=async e=>{if(confirm("Are you sure you want to remove this member?"))try{let{supabaseDb:t}=await Promise.resolve().then(r.bind(r,8411));await t.removeContentCalendarMember(e),await eB()}catch(e){console.error("Error removing member:",e),I("Failed to remove member")}},eG=async e=>{es(e);try{let{supabaseDb:t}=await Promise.resolve().then(r.bind(r,8411)),{data:n}=await t.getContentCalendarFolderMembers(e.id);em(n||[]),en(!0)}catch(e){console.error("Error fetching folder members:",e),I("Failed to load folder permissions")}},eJ=async(e,t)=>{if(ei)try{console.log("Adding folder member:",{folderId:ei.id,userId:e,permissions:t});let{supabaseDb:n}=await Promise.resolve().then(r.bind(r,8411)),a=await n.addContentCalendarFolderMember(ei.id,e,t);if(console.log("Add folder member result:",a),a.error){console.error("Database error adding folder member:",a.error),I("Failed to add folder member: ".concat(String(a.error)));return}let{data:o}=await n.getContentCalendarFolderMembers(ei.id);em(o||[]),await eB(),console.log("Folder member added successfully")}catch(e){console.error("Error adding folder member:",e),I("Failed to add folder member")}},eX=async e=>{if(console.log("Attempting to remove folder member with ID:",e),!confirm("Remove this member from the folder?")){console.log("User cancelled member removal");return}try{console.log("Removing folder member...");let{supabaseDb:t}=await Promise.resolve().then(r.bind(r,8411)),n=await t.removeContentCalendarFolderMember(e);if(console.log("Remove folder member result:",n),n.error){console.error("Database error removing folder member:",n.error),I("Failed to remove folder member: ".concat(String(n.error)));return}if(console.log("Member removed successfully, refreshing folder members..."),ei){let{data:e}=await t.getContentCalendarFolderMembers(ei.id);em(e||[]),console.log("Folder members refreshed:",(null==e?void 0:e.length)||0,"members"),await eB()}}catch(e){console.error("Error removing folder member:",e),I("Failed to remove folder member")}},eK=e=>{ed(e),eo(!0)},eV=async(e,t,n)=>{try{let{supabaseDb:i}=await Promise.resolve().then(r.bind(r,8411)),s={};try{s.security_level=t,s.allowed_users=n,await i.updateContentCalendarItem(e,s),await eB(),eo(!1)}catch(e){var a,o;if((null===(a=e.message)||void 0===a?void 0:a.includes("allowed_users"))||(null===(o=e.message)||void 0===o?void 0:o.includes("security_level")))I("Security columns not yet added to database. Please run the database migration first."),console.error("Database schema needs updating. Run add_content_calendar_security_columns.sql");else throw e}}catch(e){console.error("Error updating file permissions:",e),I("Failed to update file permissions")}},eQ=t=>{var r,n,a;let o=t.id||"new",i=t.content_title||"untitled";if(console.log("Checking access for item ".concat(o," (").concat(i,"):"),{userRole:F,userId:null==e?void 0:e.id,itemCreatedBy:null===(r=t.created_by)||void 0===r?void 0:r.id,securityLevel:t.security_level,allowedUsers:t.allowed_users}),"admin"===F)return console.log("Access granted to ".concat(o,": user is admin")),!0;if((null===(n=t.created_by)||void 0===n?void 0:n.id)===(null==e?void 0:e.id))return console.log("Access granted to ".concat(o,": user is creator")),!0;if(!t.security_level||"public"===t.security_level)return console.log("Access granted to ".concat(o,": public or no security level")),!0;switch(t.security_level){case"restricted":let s=(null===(a=t.allowed_users)||void 0===a?void 0:a.includes((null==e?void 0:e.id)||0))||!1;return console.log("Access ".concat(s?"granted":"denied"," to ").concat(o,": restricted level, user in allowed list: ").concat(s)),s;case"confidential":let l=["admin","manager"].includes(F);return console.log("Access ".concat(l?"granted":"denied"," to ").concat(o,": confidential level, user role sufficient: ").concat(l)),l;case"secret":let d="admin"===F;return console.log("Access ".concat(d?"granted":"denied"," to ").concat(o,": secret level, user is admin: ").concat(d)),d;default:return console.log("Access granted to ".concat(o,": unknown security level, defaulting to allow")),!0}},e$=async()=>{if(console.log("getAssignableUsers called, currentFolder:",(null==H?void 0:H.name)||"No folder"),!H)return console.log("No current folder, returning all members:",P.map(e=>{var t;return(null===(t=e.user)||void 0===t?void 0:t.name)||"Unknown"})),P;try{console.log("Getting folder members for folder ID:",H.id);let{supabaseDb:e}=await Promise.resolve().then(r.bind(r,8411)),{data:t,error:n}=await e.getContentCalendarFolderMembers(H.id);console.log("Folder members data:",t),console.log("Folder members error:",n);let a=(t||[]).map(e=>({user_id:e.user_id,role:e.role,user:e.auth_user||{id:e.user_id,name:"Unknown User",email:"",role:"member"}}));if(H.created_by_id&&!a.some(e=>e.user_id===H.created_by_id)){let e=M.find(e=>e.id===H.created_by_id);e&&(console.log("Adding folder creator to assignable users:",e.name),a.push({user_id:e.id,role:"creator",user:e}))}return console.log("Final assignable users for folder:",a.map(e=>e.user.name)),a}catch(e){return console.error("Error getting assignable users:",e),console.log("Fallback: returning all members due to error"),P}},e0=async e=>{e.preventDefault();try{let{supabaseDb:e}=await Promise.resolve().then(r.bind(r,8411));await e.createContentCalendarFolder({...eh,parent_folder_id:(null==H?void 0:H.id)||null,sort_order:W.length+1}),await eB(),ey({name:"",description:"",folder_type:H?"week":"month",color:"#ffffff"}),et(!1)}catch(e){console.error("Error creating folder:",e),I("Failed to create folder")}},e1=()=>{eb({date:"",content_type:"",category:"",social_media:"",content_title:"",assigned_to:[],content_deadline:"",graphic_deadline:"",status:"planning",description:"",folder_id:(null==H?void 0:H.id)||null,security_level:"public",allowed_users:[]}),ex(null),V(!1)},e9=async e=>{if(eb({date:e.date,content_type:e.content_type,category:e.category,social_media:e.social_media,content_title:e.content_title,assigned_to:e.assigned_to,content_deadline:e.content_deadline||"",graphic_deadline:e.graphic_deadline||"",status:e.status,description:e.description||"",folder_id:e.folder_id||null,security_level:e.security_level||"public",allowed_users:e.allowed_users||[]}),ex(e),e.folder_id){let t=W.find(t=>t.id===e.folder_id);if(t){Z(t);let e=await e$();eu(e)}}else eu(P);V(!0)},e4=e=>{let t=new Date(e),r=t.getDate().toString().padStart(2,"0"),n=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"][t.getMonth()],a=t.getFullYear();return"".concat(r,"/").concat(n,"/").concat(a)},e5=e=>{switch(e){case"planning":return"Planning";case"in_progress":return"In Progress";case"review":return"Review";case"completed":return"Completed";default:return e}},e2=e=>{let t="asc";ej.key===e&&"asc"===ej.direction&&(t="desc"),ev({key:e,direction:t});let r=[...J].sort((r,n)=>{let a=e7(r,e),o=e7(n,e);return null==a?"asc"===t?1:-1:null==o||a<o?"asc"===t?-1:1:a>o?"asc"===t?1:-1:0});X(r)},e7=(e,t)=>{switch(t){case"date":return new Date(e.date);case"content_type":return e.content_type;case"category":return e.category;case"social_media":return e.social_media;case"content_title":return e.content_title;case"assigned":var r;return(null===(r=e.assignees)||void 0===r?void 0:r.map(e=>e.name).join(", "))||"";case"content_deadline":return e.content_deadline?new Date(e.content_deadline):null;case"graphic_deadline":return e.graphic_deadline?new Date(e.graphic_deadline):null;case"status":return e.status;default:return""}},e8=(e,t,r)=>{eI({itemId:e,field:t}),eR({...eA,["".concat(e,"-").concat(t)]:r})},e6=async(e,t,n)=>{try{let{supabaseDb:a}=await Promise.resolve().then(r.bind(r,8411));await a.updateContentCalendarItem(e,{[t]:n});let o=A.map(r=>r.id===e?{...r,[t]:n}:r);R(o),eq(o,L),eI(null),eR({})}catch(e){console.error("Error updating item:",e),I("Failed to update content item")}},e3=(e,t,r)=>{if("Enter"===e.key){let e=eA["".concat(t,"-").concat(r)];e6(t,r,e)}else"Escape"===e.key&&(eI(null),eR({}))},te=e=>ej.key!==e?(0,n.jsx)(d.Z,{style:{width:"12px",height:"12px",opacity:.3}}):"asc"===ej.direction?(0,n.jsx)(d.Z,{style:{width:"12px",height:"12px",color:"#5884FD"}}):(0,n.jsx)(c.Z,{style:{width:"12px",height:"12px",color:"#5884FD"}}),tt=(e,t)=>{ek(t),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",e.currentTarget.outerHTML),e.currentTarget.style.opacity="0.5"},tr=e=>{e.currentTarget.style.opacity="1",ek(null),eC(null)},tn=(e,t)=>{e.preventDefault(),e.dataTransfer.dropEffect="move",eC(t)},ta=()=>{eC(null)},to=(e,t)=>{if(e.preventDefault(),!ew)return;let r=J.findIndex(e=>e.id===ew.id);if(r===t)return;let n=[...J],[a]=n.splice(r,1);n.splice(t,0,a),X(n),eC(null),ek(null)},ti=async()=>{if(!eD.trim()){I("Please enter a valid email address");return}try{let{supabaseDb:e}=await Promise.resolve().then(r.bind(r,8411));await e.addContentCalendarMemberByEmail(eD.trim(),eF),await eM(),eT(""),eN("member"),I(""),alert("Member added successfully!")}catch(e){console.error("Error adding member:",e),I("Failed to add member: "+e.message)}},ts=async e=>{if(confirm("Are you sure you want to remove this member?"))try{let{supabaseDb:t}=await Promise.resolve().then(r.bind(r,8411));await t.removeContentCalendarMember(e),await eM(),I(""),alert("Member removed successfully!")}catch(e){console.error("Error removing member:",e),I("Failed to remove member: "+e.message)}},tl=async(e,t)=>{try{let{supabaseDb:n}=await Promise.resolve().then(r.bind(r,8411));await n.updateContentCalendarMemberRole(e,t),await eM(),I("")}catch(e){console.error("Error updating member role:",e),I("Failed to update member role: "+e.message)}};return w||_?(0,n.jsxs)("div",{style:{display:"flex",minHeight:"100vh",background:"#F5F5ED"},children:[(0,n.jsx)(s.Z,{projects:[],onCreateProject:()=>{}}),(0,n.jsx)("div",{style:{marginLeft:"256px",padding:"2rem",background:"#F5F5ED",flex:1,display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:(0,n.jsx)("div",{style:{width:"32px",height:"32px",border:"3px solid #C483D9",borderTop:"3px solid #5884FD",borderRadius:"50%",animation:"spin 1s linear infinite"}})})]}):D?(0,n.jsxs)(n.Fragment,{children:[S&&(0,n.jsx)(l.Z,{title:"Content Calendar",isMobile:S}),(0,n.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n          \n          /* Mobile Responsive Styles */\n          @media (max-width: 768px) {\n            .content-calendar-container {\n              display: block !important;\n              width: 100vw !important;\n              max-width: 100vw !important;\n              overflow-x: hidden;\n              margin: 0;\n              padding: 0;\n            }\n            \n            .content-calendar-main {\n              margin-left: 0 !important;\n              width: 100vw !important;\n              max-width: 100vw !important;\n              padding: 1rem !important;\n              padding-top: 80px !important;\n              overflow-x: hidden;\n              box-sizing: border-box;\n            }\n            \n            .content-calendar-header {\n              flex-direction: column !important;\n              gap: 1rem !important;\n              align-items: stretch !important;\n              margin-bottom: 2rem !important;\n              padding-bottom: 1rem !important;\n            }\n            \n            .content-calendar-title {\n              font-size: 1.75rem !important;\n              text-align: center !important;\n            }\n            \n            .content-calendar-subtitle {\n              font-size: 0.9rem !important;\n              text-align: center !important;\n            }\n            \n            .content-calendar-actions {\n              flex-direction: column !important;\n              gap: 0.75rem !important;\n              width: 100% !important;\n            }\n            \n            .content-calendar-actions button {\n              width: 100% !important;\n              justify-content: center !important;\n              padding: 0.875rem !important;\n              font-size: 0.9rem !important;\n            }\n            \n            .folder-grid {\n              grid-template-columns: 1fr !important;\n              gap: 1rem !important;\n            }\n            \n            .content-table {\n              overflow-x: auto !important;\n              -webkit-overflow-scrolling: touch !important;\n            }\n            \n            .content-table-header {\n              display: none !important;\n            }\n            \n            .content-item-row {\n              display: block !important;\n              background: #ffffff !important;\n              border-radius: 12px !important;\n              padding: 1.5rem !important;\n              margin-bottom: 1rem !important;\n              box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1) !important;\n              border: 1px solid #e5e7eb !important;\n            }\n            \n            .content-field {\n              display: flex !important;\n              justify-content: space-between !important;\n              align-items: center !important;\n              padding: 0.5rem 0 !important;\n              border-bottom: 1px solid rgba(0, 0, 0, 0.05) !important;\n            }\n            \n            .content-field:last-child {\n              border-bottom: none !important;\n            }\n            \n            .content-field-label {\n              font-weight: 600 !important;\n              color: #374151 !important;\n              font-size: 0.8rem !important;\n              min-width: 80px !important;\n            }\n            \n            .content-field-value {\n              font-size: 0.85rem !important;\n              color: #6b7280 !important;\n              text-align: right !important;\n              flex: 1 !important;\n            }\n            \n            .mobile-actions {\n              display: flex !important;\n              gap: 0.5rem !important;\n              justify-content: center !important;\n              margin-top: 1rem !important;\n            }\n            \n            .mobile-actions button {\n              flex: 1 !important;\n              padding: 0.75rem !important;\n              font-size: 0.8rem !important;\n            }\n          }\n          \n          @media (max-width: 480px) {\n            .content-calendar-main {\n              padding: 0.75rem !important;\n            }\n            \n            .content-calendar-title {\n              font-size: 1.5rem !important;\n            }\n            \n            .content-calendar-subtitle {\n              font-size: 0.8rem !important;\n            }\n            \n            .content-item-row {\n              padding: 1rem !important;\n            }\n            \n            .content-calendar-actions button {\n              padding: 0.75rem !important;\n              font-size: 0.8rem !important;\n            }\n          }\n        "}}),(0,n.jsxs)("div",{className:"content-calendar-container",style:{display:"flex",minHeight:"100vh",background:"#f8fafc"},children:[!S&&(0,n.jsx)(s.Z,{projects:[],onCreateProject:()=>{}}),(0,n.jsxs)("div",{className:"content-calendar-main",style:{marginLeft:S?"0":"256px",padding:S?"12px":"2rem",paddingTop:S?"80px":"2rem",background:"transparent",flex:1,minHeight:"100vh"},children:[(0,n.jsxs)("div",{className:"content-calendar-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"3rem",paddingBottom:"1.5rem"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"content-calendar-title",style:{fontSize:"2.5rem",fontWeight:"300",margin:"0",color:"#1a1a1a",letterSpacing:"-0.02em"},children:"Content Calendar"}),(0,n.jsx)("p",{className:"content-calendar-subtitle",style:{fontSize:"1.1rem",color:"#666666",margin:"0.5rem 0 0 0",lineHeight:"1.5"},children:"Manage your social media content planning and scheduling"})]}),(0,n.jsxs)("div",{className:"content-calendar-actions",style:{display:"flex",gap:"0.75rem"},children:[(0,n.jsx)("button",{onClick:()=>{ey({name:"",description:"",folder_type:H?"week":"month",color:"#ffffff"}),et(!0)},style:{padding:"0.75rem 1.5rem",background:"#ffffff",color:"#666666",border:"1px solid #e0e0e0",borderRadius:"12px",fontSize:"0.9rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:"Create Folder"}),"admin"===F&&(0,n.jsx)("button",{onClick:()=>$(!0),style:{padding:"0.75rem 1.5rem",background:"#FFB333",color:"#ffffff",border:"none",borderRadius:"12px",fontSize:"0.9rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 4px 12px rgba(255, 179, 51, 0.3)"},children:"Manage Members"}),(0,n.jsxs)("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[(0,n.jsxs)("button",{onClick:()=>ez(!0),style:{padding:"0.75rem 1.5rem",background:"#ffffff",color:"#374151",border:"1px solid #d1d5db",borderRadius:"12px",fontSize:"0.9rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"0.5rem"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#f9fafb",e.currentTarget.style.borderColor="#9ca3af"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#ffffff",e.currentTarget.style.borderColor="#d1d5db"},children:[(0,n.jsx)(m.Z,{style:{width:"16px",height:"16px"}}),"Manage Members"]}),(0,n.jsxs)("button",{onClick:async()=>{eb({...eg,folder_id:(null==H?void 0:H.id)||null});let e=await e$();eu(e),V(!0)},style:{padding:"0.75rem 1.5rem",background:"#5884FD",color:"#ffffff",border:"none",borderRadius:"12px",fontSize:"0.9rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 4px 12px rgba(88, 132, 253, 0.3)",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,n.jsx)(f.Z,{style:{width:"16px",height:"16px"}}),H?"Add to ".concat(H.name):"Add Content"]})]})]})]}),E&&(0,n.jsx)("div",{style:{background:"#ffffff",border:"1px solid #F87239",borderRadius:"12px",padding:"1rem",marginBottom:"2rem",color:"#F87239",fontWeight:"500",boxShadow:"0 2px 8px rgba(248, 114, 57, 0.1)"},children:E}),(0,n.jsxs)("div",{style:{background:"#ffffff",border:"1px solid #e8e8e8",borderRadius:"16px",padding:"2rem",marginBottom:"2rem",boxShadow:"0 2px 16px rgba(0, 0, 0, 0.04)"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1.5rem",fontSize:"0.9rem",color:"#666666"},children:[(0,n.jsx)("button",{onClick:()=>eU(null),style:{background:"transparent",border:"none",color:null===H?"#1a1a1a":"#666666",fontWeight:null===H?"500":"400",textDecoration:"none",cursor:"pointer",padding:"0.25rem 0.5rem",borderRadius:"6px",transition:"all 0.2s ease"},children:"Content Calendar"}),Y.map((e,t)=>(0,n.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,n.jsx)("span",{style:{color:"#C483D9"},children:"â€¢"}),(0,n.jsx)("button",{onClick:()=>eU(e),style:{background:"transparent",border:"none",color:t===Y.length-1?"#1a1a1a":"#666666",fontWeight:t===Y.length-1?"500":"400",textDecoration:"none",cursor:"pointer",padding:"0.25rem 0.5rem",borderRadius:"6px",transition:"all 0.2s ease"},children:e.name})]},e.id))]}),(0,n.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,n.jsxs)("h3",{style:{fontSize:"1.2rem",fontWeight:"500",marginBottom:"1.5rem",color:"#1a1a1a",letterSpacing:"-0.01em"},children:[H?"".concat(H.name):"All Folders",null===H&&W.length>0&&(0,n.jsxs)("span",{style:{color:"#666666",fontSize:"0.9rem",fontWeight:"400"},children:["(",W.length," total)"]})]}),0===eL().length&&0===W.length?(0,n.jsxs)("div",{style:{textAlign:"center",padding:"3rem 2rem",color:"#999999",border:"1px dashed #e0e0e0",borderRadius:"12px",background:"#fafafa"},children:[(0,n.jsx)("div",{style:{width:"48px",height:"48px",background:"#f0f0f0",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem"},children:(0,n.jsx)(u.Z,{style:{width:"24px",height:"24px",color:"#999999"}})}),(0,n.jsx)("p",{style:{margin:"0 0 1rem 0",fontSize:"1.1rem",fontWeight:"500"},children:"No folders created yet"}),(0,n.jsx)("p",{style:{margin:"0",fontSize:"0.9rem",lineHeight:"1.5"},children:"Create folders to organize your content by month, campaign, or category"})]}):(0,n.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"1rem"},children:eL().map(e=>(0,n.jsxs)("div",{style:{padding:"1.5rem",background:"#ffffff",border:"1px solid #e8e8e8",borderRadius:"12px",display:"flex",alignItems:"center",gap:"1rem",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.04)",position:"relative"},onMouseEnter:e=>{e.currentTarget.style.borderColor="#C483D9",e.currentTarget.style.background="#fafafa",e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 4px 16px rgba(196, 131, 217, 0.2)"},onMouseLeave:e=>{e.currentTarget.style.borderColor="#e8e8e8",e.currentTarget.style.background="#ffffff",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.04)"},children:[(0,n.jsxs)("div",{onClick:()=>eW(e),style:{display:"flex",alignItems:"center",gap:"1rem",flex:1,cursor:"pointer"},children:[(0,n.jsx)("div",{style:{width:"40px",height:"40px",background:"#f0f0f0",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)(u.Z,{style:{width:"20px",height:"20px",color:"#999999"}})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{fontWeight:"500",color:"#1a1a1a",fontSize:"1rem"},children:e.name}),e.description&&(0,n.jsx)("div",{style:{fontSize:"0.85rem",color:"#666666",marginTop:"0.25rem",lineHeight:"1.4"},children:e.description})]})]}),(0,n.jsx)("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:(0,n.jsx)("button",{onClick:t=>{t.stopPropagation(),eG(e)},style:{background:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"6px",padding:"0.5rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.background="#e5e7eb",e.currentTarget.style.borderColor="#9ca3af"},onMouseLeave:e=>{e.currentTarget.style.background="#f3f4f6",e.currentTarget.style.borderColor="#d1d5db"},title:"Manage Folder Permissions",children:(0,n.jsx)(m.Z,{style:{width:"16px",height:"16px",color:"#6b7280"}})})})]},e.id))})]})]}),H&&(0,n.jsxs)("div",{className:"content-table",style:{background:"#ffffff",border:"1px solid #e8e8e8",borderRadius:"16px",overflow:"auto",boxShadow:"0 2px 16px rgba(0, 0, 0, 0.04)",maxHeight:"70vh"},children:[(0,n.jsxs)("div",{className:"content-table-header",style:{display:"grid",gridTemplateColumns:"140px 120px 130px 130px 1fr 140px 140px 140px 120px 100px 120px",gap:"0",background:"#fafafa",borderBottom:"2px solid #e8e8e8",fontWeight:"600",fontSize:"0.8rem",color:"#444444",letterSpacing:"0.025em",position:"sticky",top:"0",zIndex:10},children:[(0,n.jsxs)("div",{onClick:()=>e2("date"),style:{padding:"1.25rem 1rem",borderRight:"1px solid #e0e0e0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",background:"#ffffff",position:"sticky",left:"0",zIndex:20,borderBottom:"2px solid #e8e8e8",transition:"background-color 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#f8f9fa"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#ffffff"},children:["PUBLISHED DATE",te("date")]}),(0,n.jsxs)("div",{onClick:()=>e2("content_type"),style:{padding:"1.25rem 1rem",borderRight:"1px solid #e0e0e0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"background-color 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#f8f9fa"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:["TYPE",te("content_type")]}),(0,n.jsxs)("div",{onClick:()=>e2("category"),style:{padding:"1.25rem 1rem",borderRight:"1px solid #e0e0e0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"background-color 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#f8f9fa"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:["CATEGORY",te("category")]}),(0,n.jsxs)("div",{onClick:()=>e2("social_media"),style:{padding:"1.25rem 1rem",borderRight:"1px solid #e0e0e0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"background-color 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#f8f9fa"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:["PLATFORM",te("social_media")]}),(0,n.jsxs)("div",{onClick:()=>e2("content_title"),style:{padding:"1.25rem 1rem",borderRight:"1px solid #e0e0e0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",background:"#ffffff",position:"sticky",left:"140px",zIndex:20,borderBottom:"2px solid #e8e8e8",transition:"background-color 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#f8f9fa"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#ffffff"},children:["TITLE",te("content_title")]}),(0,n.jsxs)("div",{onClick:()=>e2("assigned"),style:{padding:"1.25rem 1rem",borderRight:"1px solid #e0e0e0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"background-color 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#f8f9fa"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:["ASSIGNED",te("assigned")]}),(0,n.jsxs)("div",{onClick:()=>e2("content_deadline"),style:{padding:"1.25rem 1rem",borderRight:"1px solid #e0e0e0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"background-color 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#f8f9fa"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:["CONTENT DUE",te("content_deadline")]}),(0,n.jsxs)("div",{onClick:()=>e2("graphic_deadline"),style:{padding:"1.25rem 1rem",borderRight:"1px solid #e0e0e0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"background-color 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#f8f9fa"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:["GRAPHIC DUE",te("graphic_deadline")]}),(0,n.jsxs)("div",{onClick:()=>e2("status"),style:{padding:"1.25rem 1rem",borderRight:"1px solid #e0e0e0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"background-color 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#f8f9fa"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:["STATUS",te("status")]}),(0,n.jsxs)("div",{onClick:()=>e2("security_level"),style:{padding:"1.25rem 1rem",borderRight:"1px solid #e0e0e0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"background-color 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#f8f9fa"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:["SECURITY",te("security_level")]}),(0,n.jsx)("div",{style:{padding:"1.25rem 1rem"},children:"ACTIONS"})]}),0===J.length?(0,n.jsxs)("div",{style:{padding:"4rem",textAlign:"center",color:"#999999",fontSize:"1.1rem"},children:[(0,n.jsx)("div",{style:{width:"48px",height:"48px",background:"#f0f0f0",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem"},children:(0,n.jsx)(p.Z,{style:{width:"24px",height:"24px",color:"#999999"}})}),(0,n.jsxs)("p",{style:{margin:"0",fontWeight:"500"},children:["No content items in ",H.name]}),(0,n.jsx)("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.9rem",color:"#666666"},children:'Click "Add Content" to create one.'})]}):J.map((e,t)=>{var r,a,o,i,s;return(0,n.jsx)("div",{className:S?"content-item-mobile":"content-item-row",draggable:!S,onDragStart:S?void 0:t=>tt(t,e),onDragEnd:S?void 0:tr,onDragOver:S?void 0:e=>tn(e,t),onDragLeave:S?void 0:ta,onDrop:S?void 0:e=>to(e,t),style:{display:S?"block":"grid",gridTemplateColumns:S?"none":"140px 120px 130px 130px 1fr 140px 140px 140px 120px 100px 120px",gap:"0",borderBottom:"1px solid #f0f0f0",fontSize:"0.85rem",transition:"all 0.2s ease",cursor:S?"default":"grab",backgroundColor:e_===t?"#f0f9ff":"#ffffff",borderTop:e_===t?"2px solid #3b82f6":"none"},onMouseEnter:e=>{ew||(e.currentTarget.style.backgroundColor="#f8f9fa")},onMouseLeave:e=>{ew||(e.currentTarget.style.backgroundColor="#ffffff")},children:S?(0,n.jsxs)("div",{className:"content-item-mobile",children:[(0,n.jsxs)("div",{className:"content-field",children:[(0,n.jsx)("span",{className:"content-field-label",children:"Date:"}),(0,n.jsx)("span",{className:"content-field-value",children:e4(e.date)})]}),(0,n.jsxs)("div",{className:"content-field",children:[(0,n.jsx)("span",{className:"content-field-label",children:"Type:"}),(0,n.jsx)("span",{className:"content-field-value",children:e.content_type})]}),(0,n.jsxs)("div",{className:"content-field",children:[(0,n.jsx)("span",{className:"content-field-label",children:"Category:"}),(0,n.jsx)("span",{className:"content-field-value",children:e.category})]}),(0,n.jsxs)("div",{className:"content-field",children:[(0,n.jsx)("span",{className:"content-field-label",children:"Platform:"}),(0,n.jsx)("span",{className:"content-field-value",children:e.social_media})]}),(0,n.jsxs)("div",{className:"content-field",children:[(0,n.jsx)("span",{className:"content-field-label",children:"Title:"}),(0,n.jsx)("span",{className:"content-field-value",children:e.content_title})]}),(0,n.jsxs)("div",{className:"content-field",children:[(0,n.jsx)("span",{className:"content-field-label",children:"Assigned:"}),(0,n.jsx)("span",{className:"content-field-value",children:(null===(r=e.assignees)||void 0===r?void 0:r.map(e=>e.name).join(", "))||"Unassigned"})]}),(0,n.jsxs)("div",{className:"content-field",children:[(0,n.jsx)("span",{className:"content-field-label",children:"Status:"}),(0,n.jsx)("span",{className:"content-field-value",children:(0,n.jsx)("span",{style:{padding:"0.25rem 0.5rem",background:"completed"===e.status?"#10B981":"in_progress"===e.status?"#5884FD":"review"===e.status?"#FFB333":"#C483D9",color:"#ffffff",borderRadius:"8px",fontSize:"0.7rem",fontWeight:"500"},children:e5(e.status)})})]}),(0,n.jsxs)("div",{className:"content-field",children:[(0,n.jsx)("span",{className:"content-field-label",children:"Security:"}),(0,n.jsx)("span",{className:"content-field-value",children:(0,n.jsx)("span",{style:{padding:"0.25rem 0.5rem",background:(null===(a=v.find(t=>t.value===(e.security_level||"public")))||void 0===a?void 0:a.color)||"#10b981",color:"#ffffff",borderRadius:"8px",fontSize:"0.7rem",fontWeight:"500"},children:(null===(o=v.find(t=>t.value===(e.security_level||"public")))||void 0===o?void 0:o.label)||"Public"})})]}),(0,n.jsxs)("div",{className:"mobile-actions",children:[(0,n.jsx)("button",{onClick:()=>e9(e),style:{padding:"0.75rem",background:"#5884FD",color:"#ffffff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.8rem",fontWeight:"500"},children:"Edit"}),(0,n.jsx)("button",{onClick:()=>eH(e.id),style:{padding:"0.75rem",background:"#F87239",color:"#ffffff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.8rem",fontWeight:"500"},children:"Delete"}),(0,n.jsx)("button",{onClick:()=>eK(e),style:{padding:"0.75rem",background:"#6b7280",color:"#ffffff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.8rem",fontWeight:"500"},children:"Security"})]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{onDoubleClick:()=>e8(e.id,"date",e.date),style:{padding:"1rem",borderRight:"1px solid #f0f0f0",color:"#666666",background:"#ffffff",position:"sticky",left:"0",zIndex:5,cursor:"pointer"},children:(null==eE?void 0:eE.itemId)===e.id&&(null==eE?void 0:eE.field)==="date"?(0,n.jsx)("input",{type:"date",value:eA["".concat(e.id,"-date")]||e.date,onChange:t=>eR({...eA,["".concat(e.id,"-date")]:t.target.value}),onKeyDown:t=>e3(t,e.id,"date"),onBlur:()=>e6(e.id,"date",eA["".concat(e.id,"-date")]),autoFocus:!0,style:{width:"100%",border:"2px solid #5884FD",borderRadius:"4px",padding:"0.25rem",fontSize:"0.85rem"}}):e4(e.date)}),(0,n.jsx)("div",{onDoubleClick:()=>e8(e.id,"content_type",e.content_type),style:{padding:"1rem",borderRight:"1px solid #f0f0f0",cursor:"pointer"},children:(null==eE?void 0:eE.itemId)===e.id&&(null==eE?void 0:eE.field)==="content_type"?(0,n.jsx)("select",{value:eA["".concat(e.id,"-content_type")]||e.content_type,onChange:t=>eR({...eA,["".concat(e.id,"-content_type")]:t.target.value}),onKeyDown:t=>e3(t,e.id,"content_type"),onBlur:()=>e6(e.id,"content_type",eA["".concat(e.id,"-content_type")]),autoFocus:!0,style:{width:"100%",border:"2px solid #5884FD",borderRadius:"4px",padding:"0.25rem",fontSize:"0.85rem"},children:b.map(e=>(0,n.jsx)("option",{value:e,children:e},e))}):(0,n.jsx)("div",{style:{fontWeight:"500",color:"#1a1a1a"},children:e.content_type})}),(0,n.jsx)("div",{onDoubleClick:()=>e8(e.id,"category",e.category),style:{padding:"1rem",borderRight:"1px solid #f0f0f0",color:"#666666",cursor:"pointer"},children:(null==eE?void 0:eE.itemId)===e.id&&(null==eE?void 0:eE.field)==="category"?(0,n.jsx)("select",{value:eA["".concat(e.id,"-category")]||e.category,onChange:t=>eR({...eA,["".concat(e.id,"-category")]:t.target.value}),onKeyDown:t=>e3(t,e.id,"category"),onBlur:()=>e6(e.id,"category",eA["".concat(e.id,"-category")]),autoFocus:!0,style:{width:"100%",border:"2px solid #5884FD",borderRadius:"4px",padding:"0.25rem",fontSize:"0.85rem"},children:h.map(e=>(0,n.jsx)("option",{value:e,children:e},e))}):e.category}),(0,n.jsx)("div",{onDoubleClick:()=>e8(e.id,"social_media",e.social_media),style:{padding:"1rem",borderRight:"1px solid #f0f0f0",color:"#666666",cursor:"pointer"},children:(null==eE?void 0:eE.itemId)===e.id&&(null==eE?void 0:eE.field)==="social_media"?(0,n.jsx)("select",{value:eA["".concat(e.id,"-social_media")]||e.social_media,onChange:t=>eR({...eA,["".concat(e.id,"-social_media")]:t.target.value}),onKeyDown:t=>e3(t,e.id,"social_media"),onBlur:()=>e6(e.id,"social_media",eA["".concat(e.id,"-social_media")]),autoFocus:!0,style:{width:"100%",border:"2px solid #5884FD",borderRadius:"4px",padding:"0.25rem",fontSize:"0.85rem"},children:y.map(e=>(0,n.jsx)("option",{value:e,children:e},e))}):e.social_media}),(0,n.jsx)("div",{onDoubleClick:()=>e8(e.id,"content_title",e.content_title),style:{padding:"1rem",borderRight:"1px solid #f0f0f0",background:"#ffffff",position:"sticky",left:"140px",zIndex:5,cursor:"pointer"},children:(null==eE?void 0:eE.itemId)===e.id&&(null==eE?void 0:eE.field)==="content_title"?(0,n.jsx)("input",{type:"text",value:eA["".concat(e.id,"-content_title")]||e.content_title,onChange:t=>eR({...eA,["".concat(e.id,"-content_title")]:t.target.value}),onKeyDown:t=>e3(t,e.id,"content_title"),onBlur:()=>e6(e.id,"content_title",eA["".concat(e.id,"-content_title")]),autoFocus:!0,style:{width:"100%",border:"2px solid #5884FD",borderRadius:"4px",padding:"0.25rem",fontSize:"0.85rem"}}):(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{fontWeight:"500",marginBottom:"0.25rem",color:"#1a1a1a"},children:e.content_title}),e.description&&(0,n.jsx)("div",{style:{fontSize:"0.75rem",color:"#666666",lineHeight:"1.4"},children:e.description.length>50?"".concat(e.description.substring(0,50),"..."):e.description})]})}),(0,n.jsx)("div",{style:{padding:"1rem",borderRight:"1px solid #f0f0f0",color:"#666666"},children:e.assignees&&e.assignees.length>0?(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:e.assignees.map((e,t)=>(0,n.jsx)("div",{style:{fontSize:"0.8rem",fontWeight:"500",color:"#374151",padding:"0.25rem 0.5rem",background:"#f9fafb",borderRadius:"4px",border:"1px solid #e5e7eb"},children:e.name},e.id))}):(0,n.jsx)("span",{style:{color:"#9ca3af",fontSize:"0.8rem"},children:"Unassigned"})}),(0,n.jsx)("div",{onDoubleClick:()=>e8(e.id,"content_deadline",e.content_deadline),style:{padding:"1rem",borderRight:"1px solid #f0f0f0",color:"#666666",cursor:"pointer"},children:(null==eE?void 0:eE.itemId)===e.id&&(null==eE?void 0:eE.field)==="content_deadline"?(0,n.jsx)("input",{type:"date",value:eA["".concat(e.id,"-content_deadline")]||e.content_deadline||"",onChange:t=>eR({...eA,["".concat(e.id,"-content_deadline")]:t.target.value}),onKeyDown:t=>e3(t,e.id,"content_deadline"),onBlur:()=>e6(e.id,"content_deadline",eA["".concat(e.id,"-content_deadline")]),autoFocus:!0,style:{width:"100%",border:"2px solid #5884FD",borderRadius:"4px",padding:"0.25rem",fontSize:"0.85rem"}}):e.content_deadline?e4(e.content_deadline):"-"}),(0,n.jsx)("div",{onDoubleClick:()=>e8(e.id,"graphic_deadline",e.graphic_deadline),style:{padding:"1rem",borderRight:"1px solid #f0f0f0",color:"#666666",cursor:"pointer"},children:(null==eE?void 0:eE.itemId)===e.id&&(null==eE?void 0:eE.field)==="graphic_deadline"?(0,n.jsx)("input",{type:"date",value:eA["".concat(e.id,"-graphic_deadline")]||e.graphic_deadline||"",onChange:t=>eR({...eA,["".concat(e.id,"-graphic_deadline")]:t.target.value}),onKeyDown:t=>e3(t,e.id,"graphic_deadline"),onBlur:()=>e6(e.id,"graphic_deadline",eA["".concat(e.id,"-graphic_deadline")]),autoFocus:!0,style:{width:"100%",border:"2px solid #5884FD",borderRadius:"4px",padding:"0.25rem",fontSize:"0.85rem"}}):e.graphic_deadline?e4(e.graphic_deadline):"-"}),(0,n.jsx)("div",{onDoubleClick:()=>e8(e.id,"status",e.status),style:{padding:"1rem",borderRight:"1px solid #f0f0f0",cursor:"pointer"},children:(null==eE?void 0:eE.itemId)===e.id&&(null==eE?void 0:eE.field)==="status"?(0,n.jsx)("select",{value:eA["".concat(e.id,"-status")]||e.status,onChange:t=>eR({...eA,["".concat(e.id,"-status")]:t.target.value}),onKeyDown:t=>e3(t,e.id,"status"),onBlur:()=>e6(e.id,"status",eA["".concat(e.id,"-status")]),autoFocus:!0,style:{width:"100%",border:"2px solid #5884FD",borderRadius:"4px",padding:"0.25rem",fontSize:"0.85rem"},children:j.map(e=>(0,n.jsx)("option",{value:e,children:e5(e)},e))}):(0,n.jsx)("span",{style:{padding:"0.375rem 0.75rem",background:"completed"===e.status?"#10B981":"in_progress"===e.status?"#5884FD":"review"===e.status?"#FFB333":"#C483D9",color:"#ffffff",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"500"},children:e5(e.status)})}),(0,n.jsx)("div",{onDoubleClick:()=>e8(e.id,"security_level",e.security_level),style:{padding:"1rem",borderRight:"1px solid #f0f0f0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:(null==eE?void 0:eE.itemId)===e.id&&(null==eE?void 0:eE.field)==="security_level"?(0,n.jsx)("select",{value:eA["".concat(e.id,"-security_level")]||e.security_level||"public",onChange:t=>eR({...eA,["".concat(e.id,"-security_level")]:t.target.value}),onKeyDown:t=>e3(t,e.id,"security_level"),onBlur:()=>e6(e.id,"security_level",eA["".concat(e.id,"-security_level")]),autoFocus:!0,style:{width:"100%",border:"1px solid #5884FD",borderRadius:"4px",padding:"0.25rem",fontSize:"0.85rem"},children:v.map(e=>(0,n.jsx)("option",{value:e.value,children:e.label},e.value))}):(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,n.jsx)("span",{style:{padding:"0.25rem 0.5rem",background:(null===(i=v.find(t=>t.value===(e.security_level||"public")))||void 0===i?void 0:i.color)||"#10b981",color:"#ffffff",borderRadius:"8px",fontSize:"0.7rem",fontWeight:"500"},children:(null===(s=v.find(t=>t.value===(e.security_level||"public")))||void 0===s?void 0:s.label)||"Public"}),(0,n.jsx)("button",{onClick:t=>{t.stopPropagation(),eK(e)},style:{background:"transparent",border:"none",cursor:"pointer",padding:"0.25rem",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center"},title:"Manage File Permissions",children:(0,n.jsx)(m.Z,{style:{width:"14px",height:"14px",color:"#6b7280"}})})]})}),(0,n.jsxs)("div",{style:{padding:"1rem",display:"flex",gap:"0.5rem",alignItems:"flex-start"},children:[(0,n.jsx)("button",{onClick:()=>e9(e),style:{padding:"0.5rem",background:"#ffffff",border:"1px solid #e8e8e8",borderRadius:"8px",cursor:"pointer",color:"#5884FD",transition:"all 0.2s ease",height:"36px",width:"36px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},onMouseEnter:e=>{e.currentTarget.style.background="#5884FD",e.currentTarget.style.color="#ffffff",e.currentTarget.style.borderColor="#5884FD",e.currentTarget.style.transform="translateY(-1px)",e.currentTarget.style.boxShadow="0 4px 12px rgba(88, 132, 253, 0.3)"},onMouseLeave:e=>{e.currentTarget.style.background="#ffffff",e.currentTarget.style.color="#5884FD",e.currentTarget.style.borderColor="#e8e8e8",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.1)"},children:(0,n.jsx)(x.Z,{style:{width:"16px",height:"16px"}})}),(0,n.jsx)("button",{onClick:()=>eH(e.id),style:{padding:"0.5rem",background:"#ffffff",border:"1px solid #e8e8e8",borderRadius:"8px",cursor:"pointer",color:"#F87239",transition:"all 0.2s ease",height:"36px",width:"36px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},onMouseEnter:e=>{e.currentTarget.style.background="#F87239",e.currentTarget.style.color="#ffffff",e.currentTarget.style.borderColor="#F87239",e.currentTarget.style.transform="translateY(-1px)",e.currentTarget.style.boxShadow="0 4px 12px rgba(248, 114, 57, 0.3)"},onMouseLeave:e=>{e.currentTarget.style.background="#ffffff",e.currentTarget.style.color="#F87239",e.currentTarget.style.borderColor="#e8e8e8",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.1)"},children:(0,n.jsx)(g.Z,{style:{width:"16px",height:"16px"}})})]})]})},e.id)})]}),!H&&(0,n.jsxs)("div",{style:{background:"#ffffff",border:"1px solid #e8e8e8",borderRadius:"16px",padding:"4rem",textAlign:"center",color:"#666666",boxShadow:"0 2px 16px rgba(0, 0, 0, 0.04)"},children:[(0,n.jsx)("div",{style:{width:"64px",height:"64px",background:"#f0f0f0",borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 2rem"},children:(0,n.jsx)(u.Z,{style:{width:"32px",height:"32px",color:"#999999"}})}),(0,n.jsx)("h3",{style:{fontSize:"1.5rem",fontWeight:"400",margin:"0 0 1rem 0",color:"#1a1a1a",letterSpacing:"-0.01em"},children:"Choose a Folder to View Content"}),(0,n.jsx)("p",{style:{fontSize:"1.1rem",margin:"0 0 1rem 0",lineHeight:"1.5"},children:"Click on a folder above to see its content items and manage your social media content."}),(0,n.jsx)("p",{style:{fontSize:"0.9rem",margin:"0",color:"#999999"},children:"Create new folders to organize content by month, campaign, or category."})]}),K&&(0,n.jsx)("div",{style:{position:"fixed",top:"0",left:"0",right:"0",bottom:"0",background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,n.jsxs)("div",{style:{background:"#ffffff",border:"1px solid #e8e8e8",borderRadius:"20px",padding:"3rem",width:"95%",maxWidth:"700px",maxHeight:"95vh",overflow:"auto",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.1)"},children:[(0,n.jsxs)("div",{style:{textAlign:"center",marginBottom:"3rem",paddingBottom:"2rem",borderBottom:"1px solid #f0f0f0"},children:[(0,n.jsx)("h2",{style:{fontSize:"2rem",fontWeight:"400",margin:"0 0 0.5rem 0",color:"#1a1a1a",letterSpacing:"-0.025em"},children:ep?"Edit Content Item":"Add New Content Item"}),(0,n.jsx)("p",{style:{fontSize:"1.1rem",color:"#666666",margin:"0",fontWeight:"400",lineHeight:"1.5"},children:ep?"Update your content details below":"Fill in the details to create a new content item"})]}),(0,n.jsxs)("form",{onSubmit:eO,children:[(0,n.jsxs)("div",{style:{marginBottom:"3rem"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"2rem",paddingBottom:"1rem",borderBottom:"1px solid #f0f0f0"},children:[(0,n.jsx)("div",{style:{width:"4px",height:"24px",backgroundColor:"#5884FD",borderRadius:"2px"}}),(0,n.jsx)("h3",{style:{fontSize:"1.2rem",fontWeight:"500",margin:"0",color:"#1a1a1a",letterSpacing:"-0.015em"},children:"Basic Information"})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2.5rem",marginBottom:"2rem"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"0.75rem",fontWeight:"600",fontSize:"1rem",color:"#374151",letterSpacing:"-0.01em"},children:"Published Date"}),(0,n.jsx)("input",{type:"date",value:eg.date,onChange:e=>eb({...eg,date:e.target.value}),required:!0,style:{width:"100%",padding:"0.9rem",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"0.95rem",backgroundColor:"#fafafa"}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"0.75rem",fontWeight:"600",fontSize:"1rem",color:"#374151",letterSpacing:"-0.01em"},children:"Content Type"}),(0,n.jsxs)("select",{value:eg.content_type,onChange:e=>eb({...eg,content_type:e.target.value}),required:!0,style:{width:"100%",padding:"0.9rem",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"0.95rem",backgroundColor:"#fafafa"},children:[(0,n.jsx)("option",{value:"",children:"Select type"}),b.map(e=>(0,n.jsx)("option",{value:e,children:e},e))]})]})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2.5rem",marginBottom:"2rem"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"0.75rem",fontWeight:"600",fontSize:"1rem",color:"#374151",letterSpacing:"-0.01em"},children:"Category"}),(0,n.jsxs)("select",{value:eg.category,onChange:e=>eb({...eg,category:e.target.value}),required:!0,style:{width:"100%",padding:"0.9rem",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"0.95rem",backgroundColor:"#fafafa"},children:[(0,n.jsx)("option",{value:"",children:"Select category"}),h.map(e=>(0,n.jsx)("option",{value:e,children:e},e))]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"0.75rem",fontWeight:"600",fontSize:"1rem",color:"#374151",letterSpacing:"-0.01em"},children:"Social Media Platform"}),(0,n.jsxs)("select",{value:eg.social_media,onChange:e=>eb({...eg,social_media:e.target.value}),required:!0,style:{width:"100%",padding:"0.9rem",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"0.95rem",backgroundColor:"#fafafa"},children:[(0,n.jsx)("option",{value:"",children:"Select platform"}),y.map(e=>(0,n.jsx)("option",{value:e,children:e},e))]})]})]}),(0,n.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"0.75rem",fontWeight:"600",fontSize:"1rem",color:"#374151",letterSpacing:"-0.01em"},children:"Content Title"}),(0,n.jsx)("input",{type:"text",value:eg.content_title,onChange:e=>eb({...eg,content_title:e.target.value}),required:!0,placeholder:"Enter the content title...",style:{width:"100%",padding:"0.9rem",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"0.95rem",backgroundColor:"#fafafa"}})]})]}),(0,n.jsxs)("div",{style:{marginBottom:"3rem"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"2rem",paddingBottom:"1rem",borderBottom:"1px solid #f0f0f0"},children:[(0,n.jsx)("div",{style:{width:"4px",height:"24px",backgroundColor:"#C483D9",borderRadius:"2px"}}),(0,n.jsx)("h3",{style:{fontSize:"1.2rem",fontWeight:"500",margin:"0",color:"#1a1a1a",letterSpacing:"-0.015em"},children:"Deadlines"})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2.5rem",marginBottom:"2rem"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"0.75rem",fontWeight:"600",fontSize:"1rem",color:"#374151",letterSpacing:"-0.01em"},children:"Content Deadline"}),(0,n.jsx)("input",{type:"date",value:eg.content_deadline,onChange:e=>eb({...eg,content_deadline:e.target.value}),style:{width:"100%",padding:"0.9rem",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"0.95rem",backgroundColor:"#fafafa"}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"0.75rem",fontWeight:"600",fontSize:"1rem",color:"#374151",letterSpacing:"-0.01em"},children:"Graphic Deadline"}),(0,n.jsx)("input",{type:"date",value:eg.graphic_deadline,onChange:e=>eb({...eg,graphic_deadline:e.target.value}),style:{width:"100%",padding:"0.9rem",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"0.95rem",backgroundColor:"#fafafa"}})]})]})]}),(0,n.jsxs)("div",{style:{marginBottom:"3rem"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"2rem",paddingBottom:"1rem",borderBottom:"1px solid #f0f0f0"},children:[(0,n.jsx)("div",{style:{width:"4px",height:"24px",backgroundColor:"#F87239",borderRadius:"2px"}}),(0,n.jsx)("h3",{style:{fontSize:"1.2rem",fontWeight:"500",margin:"0",color:"#1a1a1a",letterSpacing:"-0.015em"},children:"Organization"})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2.5rem",marginBottom:"2rem"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"0.75rem",fontWeight:"600",fontSize:"1rem",color:"#374151",letterSpacing:"-0.01em"},children:"Status"}),(0,n.jsx)("select",{value:eg.status,onChange:e=>eb({...eg,status:e.target.value}),style:{width:"100%",padding:"0.9rem",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"0.95rem",backgroundColor:"#fafafa"},children:j.map(e=>(0,n.jsx)("option",{value:e,children:e5(e)},e))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"0.75rem",fontWeight:"600",fontSize:"1rem",color:"#374151",letterSpacing:"-0.01em"},children:"Security Level"}),(0,n.jsx)("select",{value:eg.security_level,onChange:e=>eb({...eg,security_level:e.target.value}),style:{width:"100%",padding:"0.9rem",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"0.95rem",backgroundColor:"#fafafa"},children:v.map(e=>(0,n.jsxs)("option",{value:e.value,children:[e.label," - ",e.description]},e.value))})]})]}),(0,n.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2.5rem",marginBottom:"2rem"},children:(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"0.75rem",fontWeight:"600",fontSize:"1rem",color:"#374151",letterSpacing:"-0.01em"},children:"Folder"}),(0,n.jsxs)("select",{value:eg.folder_id||"",onChange:e=>eb({...eg,folder_id:e.target.value?parseInt(e.target.value):null}),style:{width:"100%",padding:"0.9rem",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"0.95rem",backgroundColor:"#fafafa"},children:[(0,n.jsx)("option",{value:"",children:"No folder"}),W.map(e=>(0,n.jsx)("option",{value:e.id,children:e.name},e.id))]})]})}),(0,n.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,n.jsxs)("label",{style:{display:"block",marginBottom:"1rem",fontWeight:"600",fontSize:"1rem",color:"#374151",letterSpacing:"-0.01em"},children:["Assign To ",H?"(".concat(H.name," members only)"):"(All members)"]}),(0,n.jsx)("div",{style:{border:"2px solid #e5e7eb",borderRadius:"8px",padding:"1rem",maxHeight:"140px",overflow:"auto",backgroundColor:"#fafafa"},children:(ef||[]).map(e=>(0,n.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.75rem",cursor:"pointer",padding:"0.5rem",borderRadius:"4px",backgroundColor:"#ffffff",border:"1px solid #e5e7eb"},children:[(0,n.jsx)("input",{type:"checkbox",checked:(eg.assigned_to||[]).includes(e.user_id),onChange:t=>{t.target.checked?eb({...eg,assigned_to:[...eg.assigned_to||[],e.user_id]}):eb({...eg,assigned_to:(eg.assigned_to||[]).filter(t=>t!==e.user_id)})},style:{width:"18px",height:"18px"}}),(0,n.jsxs)("span",{style:{fontSize:"0.95rem",fontWeight:"500"},children:[e.user.name," (",e.user.email,")"]})]},e.user_id))})]})]}),(0,n.jsxs)("div",{style:{marginBottom:"3rem"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"2rem",paddingBottom:"1rem",borderBottom:"1px solid #f0f0f0"},children:[(0,n.jsx)("div",{style:{width:"4px",height:"24px",backgroundColor:"#FFB333",borderRadius:"2px"}}),(0,n.jsx)("h3",{style:{fontSize:"1.2rem",fontWeight:"500",margin:"0",color:"#1a1a1a",letterSpacing:"-0.015em"},children:"Additional Details"})]}),(0,n.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"1rem",fontWeight:"600",fontSize:"1rem",color:"#374151",letterSpacing:"-0.01em"},children:"Description"}),(0,n.jsx)("textarea",{value:eg.description,onChange:e=>eb({...eg,description:e.target.value}),rows:4,placeholder:"Add any additional notes or descriptions...",style:{width:"100%",padding:"1rem",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"0.95rem",resize:"vertical",backgroundColor:"#fafafa",lineHeight:"1.5"}})]})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"1.5rem",justifyContent:"center",paddingTop:"2.5rem",borderTop:"1px solid #f0f0f0",marginTop:"2rem"},children:[(0,n.jsx)("button",{type:"button",onClick:e1,style:{padding:"1rem 2.5rem",background:"#ffffff",color:"#666666",border:"1px solid #e0e0e0",borderRadius:"12px",fontSize:"1rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",minWidth:"140px",fontFamily:"inherit",outline:"none",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#f8f8f8",e.currentTarget.style.transform="translateY(-1px)",e.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15)"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="#ffffff",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.1)"},children:"Cancel"}),(0,n.jsx)("button",{type:"submit",style:{padding:"1rem 2.5rem",background:"#5884FD",color:"#ffffff",border:"none",borderRadius:"12px",fontSize:"1rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",minWidth:"140px",fontFamily:"inherit",outline:"none",boxShadow:"0 4px 12px rgba(88, 132, 253, 0.3)"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#4A6CF7",e.currentTarget.style.transform="translateY(-1px)",e.currentTarget.style.boxShadow="0 6px 16px rgba(88, 132, 253, 0.4)"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="#5884FD",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 12px rgba(88, 132, 253, 0.3)"},children:ep?"Update Content":"Create Content"})]})]})]})}),Q&&"admin"===F&&(0,n.jsx)("div",{style:{position:"fixed",top:"0",left:"0",right:"0",bottom:"0",background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,n.jsxs)("div",{style:{background:"#ffffff",border:"1px solid #e8e8e8",borderRadius:"20px",padding:"2.5rem",width:"90%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.1)"},children:[(0,n.jsx)("h2",{style:{fontSize:"1.75rem",fontWeight:"400",marginBottom:"2rem",color:"#1a1a1a",letterSpacing:"-0.02em"},children:"Manage Content Calendar Members"}),(0,n.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,n.jsx)("h3",{style:{fontSize:"1.1rem",fontWeight:"600",marginBottom:"1rem"},children:"Current Members"}),(0,n.jsx)("div",{style:{border:"2px solid #e5e7eb",borderRadius:"6px",maxHeight:"200px",overflow:"auto"},children:(P||[]).map(e=>(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem",borderBottom:"1px solid #e5e7eb"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{fontWeight:"600"},children:e.user.name}),(0,n.jsxs)("span",{style:{color:"#666666",fontSize:"0.9rem",marginLeft:"0.5rem"},children:["(",e.user.email,")"]})]}),(0,n.jsx)("button",{onClick:()=>eY(e.user_id),style:{padding:"0.25rem 0.5rem",background:"#ffffff",color:"#000000",border:"1px solid #e5e7eb",borderRadius:"4px",fontSize:"0.8rem",cursor:"pointer"},children:"Remove"})]},e.user_id))})]}),(0,n.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,n.jsx)("h3",{style:{fontSize:"1.1rem",fontWeight:"600",marginBottom:"1rem"},children:"Add New Members"}),(0,n.jsx)("div",{style:{border:"2px solid #e5e7eb",borderRadius:"6px",maxHeight:"200px",overflow:"auto"},children:(M||[]).filter(e=>!(P||[]).some(t=>t.user_id===e.id)).map(e=>(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem",borderBottom:"1px solid #e5e7eb"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{fontWeight:"600"},children:e.name}),(0,n.jsxs)("span",{style:{color:"#666666",fontSize:"0.9rem",marginLeft:"0.5rem"},children:["(",e.email,")"]})]}),(0,n.jsx)("button",{onClick:()=>eZ(e.id),style:{padding:"0.25rem 0.5rem",background:"#000000",color:"#ffffff",border:"1px solid #000000",borderRadius:"4px",fontSize:"0.8rem",cursor:"pointer"},children:"Add"})]},e.id))})]}),(0,n.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,n.jsx)("button",{onClick:()=>$(!1),style:{padding:"0.875rem 2rem",background:"#5884FD",color:"#ffffff",border:"none",borderRadius:"12px",fontSize:"1rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 4px 12px rgba(88, 132, 253, 0.3)"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#4A6CF7",e.currentTarget.style.transform="translateY(-1px)",e.currentTarget.style.boxShadow="0 6px 16px rgba(88, 132, 253, 0.4)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#5884FD",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 12px rgba(88, 132, 253, 0.3)"},children:"Close"})})]})}),ee&&(0,n.jsx)("div",{style:{position:"fixed",top:"0",left:"0",right:"0",bottom:"0",background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,n.jsxs)("div",{style:{background:"#ffffff",border:"1px solid #e8e8e8",borderRadius:"20px",padding:"2.5rem",width:"90%",maxWidth:"500px",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.1)"},children:[(0,n.jsx)("h2",{style:{fontSize:"1.75rem",fontWeight:"400",marginBottom:"2rem",color:"#1a1a1a",letterSpacing:"-0.02em"},children:H?"Create Subfolder in ".concat(H.name):"Create New Folder"}),H&&(0,n.jsxs)("div",{style:{background:"#f0f0f0",border:"1px solid #e5e7eb",borderRadius:"6px",padding:"1rem",marginBottom:"1.5rem",fontSize:"0.9rem",color:"#666666"},children:[(0,n.jsx)("strong",{children:"Parent Folder:"})," ",H.name,(0,n.jsx)("br",{}),'This folder will be created inside "',H.name,'"']}),(0,n.jsxs)("form",{onSubmit:e0,children:[(0,n.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Folder Name"}),(0,n.jsx)("input",{type:"text",value:eh.name,onChange:e=>ey({...eh,name:e.target.value}),placeholder:H?"e.g., Week 1, Campaign A, Social Posts":"e.g., January 2025, Summer Campaign, Product Launch",required:!0,style:{width:"100%",padding:"0.75rem",border:"2px solid #e5e7eb",borderRadius:"6px",fontSize:"0.9rem"}})]}),(0,n.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Folder Type"}),(0,n.jsx)("select",{value:eh.folder_type,onChange:e=>ey({...eh,folder_type:e.target.value}),style:{width:"100%",padding:"0.75rem",border:"2px solid #e5e7eb",borderRadius:"6px",fontSize:"0.9rem"},children:H?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("option",{value:"week",children:"Weekly"}),(0,n.jsx)("option",{value:"campaign",children:"Campaign"}),(0,n.jsx)("option",{value:"project",children:"Project"}),(0,n.jsx)("option",{value:"category",children:"Category"}),(0,n.jsx)("option",{value:"month",children:"Monthly"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("option",{value:"month",children:"Monthly"}),(0,n.jsx)("option",{value:"campaign",children:"Campaign"}),(0,n.jsx)("option",{value:"project",children:"Project"}),(0,n.jsx)("option",{value:"category",children:"Category"})]})})]}),(0,n.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Description (Optional)"}),(0,n.jsx)("textarea",{value:eh.description,onChange:e=>ey({...eh,description:e.target.value}),placeholder:"Brief description of this folder's purpose",rows:3,style:{width:"100%",padding:"0.75rem",border:"2px solid #e5e7eb",borderRadius:"6px",fontSize:"0.9rem",resize:"vertical"}})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[(0,n.jsx)("button",{type:"button",onClick:()=>et(!1),style:{padding:"0.875rem 1.5rem",background:"#ffffff",color:"#666666",border:"1px solid #e0e0e0",borderRadius:"12px",fontSize:"1rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#f8f8f8",e.currentTarget.style.transform="translateY(-1px)",e.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#ffffff",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.1)"},children:"Cancel"}),(0,n.jsx)("button",{type:"submit",style:{padding:"0.875rem 1.5rem",background:"#C483D9",color:"#ffffff",border:"none",borderRadius:"12px",fontSize:"1rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 4px 12px rgba(196, 131, 217, 0.3)"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#B16EC4",e.currentTarget.style.transform="translateY(-1px)",e.currentTarget.style.boxShadow="0 6px 16px rgba(196, 131, 217, 0.4)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#C483D9",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 12px rgba(196, 131, 217, 0.3)"},children:H?"Create Subfolder":"Create Folder"})]})]})]})})]})]}),eS&&(0,n.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"1rem"},children:(0,n.jsxs)("div",{style:{backgroundColor:"#ffffff",borderRadius:"16px",width:"100%",maxWidth:"600px",maxHeight:"80vh",overflow:"hidden",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[(0,n.jsxs)("div",{style:{padding:"1.5rem",borderBottom:"1px solid #e5e7eb",display:"flex",alignItems:"center",justifyContent:"space-between",background:"#f8fafc"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:"600",color:"#1a1a1a"},children:"Manage Calendar Members"}),(0,n.jsx)("p",{style:{margin:"0.5rem 0 0 0",color:"#666666",fontSize:"0.9rem"},children:"Control who can view and edit the content calendar"})]}),(0,n.jsx)("button",{onClick:()=>ez(!1),style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#666666",padding:"0.5rem",borderRadius:"8px"},children:"\xd7"})]}),(0,n.jsxs)("div",{style:{padding:"1.5rem",maxHeight:"60vh",overflowY:"auto"},children:[E&&(0,n.jsx)("div",{style:{backgroundColor:"#fee2e2",color:"#dc2626",padding:"0.75rem",borderRadius:"8px",marginBottom:"1rem",fontSize:"0.9rem"},children:E}),(0,n.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,n.jsx)("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.1rem",fontWeight:"600",color:"#1a1a1a"},children:"Add New Member"}),(0,n.jsxs)("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem"},children:[(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem",fontWeight:"500",color:"#374151"},children:"Email Address"}),(0,n.jsx)("input",{type:"email",value:eD,onChange:e=>eT(e.target.value),placeholder:"colleague@company.com",style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"0.9rem",outline:"none",transition:"border-color 0.2s ease",boxSizing:"border-box"},onFocus:e=>e.target.style.borderColor="#3b82f6",onBlur:e=>e.target.style.borderColor="#d1d5db"})]}),(0,n.jsxs)("div",{style:{minWidth:"120px"},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem",fontWeight:"500",color:"#374151"},children:"Role"}),(0,n.jsxs)("select",{value:eF,onChange:e=>eN(e.target.value),style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"0.9rem",outline:"none",backgroundColor:"#ffffff",boxSizing:"border-box"},children:[(0,n.jsx)("option",{value:"member",children:"Member"}),(0,n.jsx)("option",{value:"admin",children:"Admin"})]})]})]}),(0,n.jsx)("button",{onClick:ti,disabled:!eD.trim(),style:{width:"100%",padding:"0.75rem",backgroundColor:eD.trim()?"#3b82f6":"#9ca3af",color:"white",border:"none",borderRadius:"8px",fontSize:"0.9rem",fontWeight:"500",cursor:eD.trim()?"pointer":"not-allowed",transition:"all 0.2s ease"},children:"Add Member"})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.1rem",fontWeight:"600",color:"#1a1a1a"},children:["Current Members (",P.length,")"]}),0===P.length?(0,n.jsxs)("div",{style:{textAlign:"center",padding:"2rem",color:"#666666",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[(0,n.jsx)(m.Z,{style:{width:"24px",height:"24px",margin:"0 auto 0.5rem",color:"#9ca3af"}}),(0,n.jsx)("p",{style:{margin:0,fontSize:"0.9rem"},children:"No members added yet"})]}):(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:P.map(e=>(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("div",{style:{fontWeight:"500",color:"#1a1a1a",fontSize:"0.9rem"},children:e.user.name}),(0,n.jsx)("div",{style:{fontSize:"0.8rem",color:"#666666"},children:e.user.email})]}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[(0,n.jsxs)("select",{value:e.role,onChange:t=>tl(e.user_id,t.target.value),style:{padding:"0.5rem",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"0.8rem",backgroundColor:"#ffffff"},children:[(0,n.jsx)("option",{value:"member",children:"Member"}),(0,n.jsx)("option",{value:"admin",children:"Admin"})]}),(0,n.jsx)("button",{onClick:()=>ts(e.user_id),style:{padding:"0.5rem",backgroundColor:"#fee2e2",color:"#dc2626",border:"none",borderRadius:"6px",fontSize:"0.8rem",cursor:"pointer",transition:"all 0.2s ease"},title:"Remove Member",children:"Remove"})]})]},e.user_id))})]})]})]})}),er&&ei&&(0,n.jsx)("div",{style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.75)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50,padding:"1rem"},children:(0,n.jsxs)("div",{style:{background:"#ffffff",borderRadius:"16px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflow:"auto"},children:[(0,n.jsxs)("div",{style:{padding:"2rem",borderBottom:"1px solid #e5e7eb"},children:[(0,n.jsx)("h3",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#1f2937",margin:"0 0 0.5rem 0"},children:"Manage Folder Permissions"}),(0,n.jsxs)("p",{style:{color:"#6b7280",margin:0,fontSize:"1rem"},children:['Control who can access "',ei.name,'" folder']})]}),(0,n.jsxs)("div",{style:{padding:"2rem"},children:[(0,n.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,n.jsx)("h4",{style:{fontSize:"1.1rem",fontWeight:"600",marginBottom:"1rem",color:"#374151"},children:"Add Member"}),(0,n.jsx)("div",{style:{display:"flex",gap:"1rem",alignItems:"end"},children:(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem",fontWeight:"500",color:"#374151"},children:"Select User"}),(0,n.jsxs)("select",{style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"0.9rem"},onChange:e=>{e.target.value&&(eJ(parseInt(e.target.value),{role:"viewer",can_create:!1,can_edit:!1,can_delete:!1,can_manage_members:!1}),e.target.value="")},children:[(0,n.jsx)("option",{value:"",children:"Select a user..."}),M.filter(e=>!ec.some(t=>t.user_id===e.id)).map(e=>(0,n.jsxs)("option",{value:e.id,children:[e.name," (",e.email,")"]},e.id))]})]})})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("h4",{style:{fontSize:"1.1rem",fontWeight:"600",marginBottom:"1rem",color:"#374151"},children:["Current Members (",ec.length,")"]}),0===ec.length?(0,n.jsx)("p",{style:{color:"#6b7280",fontStyle:"italic"},children:"No members assigned to this folder"}):(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:ec.map(e=>{var t,r;return(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",border:"1px solid #e5e7eb",borderRadius:"8px",background:"#f9fafb"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{fontWeight:"500",color:"#1f2937"},children:(null===(t=e.auth_user)||void 0===t?void 0:t.name)||"Unknown User"}),(0,n.jsx)("div",{style:{fontSize:"0.85rem",color:"#6b7280"},children:(null===(r=e.auth_user)||void 0===r?void 0:r.email)||""}),(0,n.jsxs)("div",{style:{fontSize:"0.8rem",color:"#374151",marginTop:"0.25rem"},children:["Role: ",e.role," | Create: ",e.can_create?"âœ“":"âœ—"," | Edit: ",e.can_edit?"âœ“":"âœ—"," | Delete: ",e.can_delete?"âœ“":"âœ—"]})]}),(0,n.jsx)("button",{onClick:()=>eX(e.id),style:{padding:"0.5rem",background:"#fee2e2",color:"#dc2626",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Remove"})]},e.id)})})]})]}),(0,n.jsx)("div",{style:{padding:"2rem",borderTop:"1px solid #e5e7eb",display:"flex",justifyContent:"flex-end"},children:(0,n.jsx)("button",{onClick:()=>en(!1),style:{padding:"0.75rem 1.5rem",background:"#6b7280",color:"#ffffff",border:"none",borderRadius:"8px",cursor:"pointer"},children:"Close"})})]})}),ea&&el&&(0,n.jsx)("div",{style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.75)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50,padding:"1rem"},children:(0,n.jsxs)("div",{style:{background:"#ffffff",borderRadius:"16px",maxWidth:"500px",width:"100%",maxHeight:"90vh",overflow:"auto"},children:[(0,n.jsxs)("div",{style:{padding:"2rem",borderBottom:"1px solid #e5e7eb"},children:[(0,n.jsx)("h3",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#1f2937",margin:"0 0 0.5rem 0"},children:"File Security Settings"}),(0,n.jsxs)("p",{style:{color:"#6b7280",margin:0,fontSize:"1rem"},children:['"',el.content_title,'"']})]}),(0,n.jsx)("div",{style:{padding:"2rem"},children:(0,n.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"1rem",fontWeight:"600",fontSize:"1rem",color:"#374151"},children:"Security Level"}),(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:v.map(e=>(0,n.jsx)("div",{style:{padding:"1rem",border:"2px solid ".concat(el.security_level===e.value?e.color:"#e5e7eb"),borderRadius:"8px",cursor:"pointer",background:el.security_level===e.value?"".concat(e.color,"10"):"#ffffff"},onClick:()=>{eV(el.id,e.value,el.allowed_users||[])},children:(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{fontWeight:"600",color:e.color,fontSize:"1rem"},children:e.label}),(0,n.jsx)("div",{style:{fontSize:"0.85rem",color:"#6b7280",marginTop:"0.25rem"},children:e.description})]}),el.security_level===e.value&&(0,n.jsx)("div",{style:{width:"20px",height:"20px",borderRadius:"50%",background:e.color,display:"flex",alignItems:"center",justifyContent:"center",color:"#ffffff",fontSize:"0.8rem"},children:"âœ“"})]})},e.value))})]})}),(0,n.jsx)("div",{style:{padding:"2rem",borderTop:"1px solid #e5e7eb",display:"flex",justifyContent:"flex-end"},children:(0,n.jsx)("button",{onClick:()=>eo(!1),style:{padding:"0.75rem 1.5rem",background:"#6b7280",color:"#ffffff",border:"none",borderRadius:"8px",cursor:"pointer"},children:"Close"})})]})})]}):(0,n.jsxs)("div",{style:{display:"flex",minHeight:"100vh",background:"#F5F5ED"},children:[(0,n.jsx)(s.Z,{projects:[],onCreateProject:()=>{}}),(0,n.jsx)("div",{style:{marginLeft:"256px",padding:"2rem",background:"#F5F5ED",flex:1,display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:(0,n.jsxs)("div",{style:{textAlign:"center",maxWidth:"500px"},children:[(0,n.jsx)("h1",{style:{fontSize:"2.5rem",fontWeight:"300",marginBottom:"1rem",color:"#1a1a1a",letterSpacing:"-0.02em"},children:"Access Denied"}),(0,n.jsx)("p",{style:{fontSize:"1.1rem",color:"#666666",marginBottom:"2rem",lineHeight:"1.6"},children:"You don't have permission to access the Content Calendar. Please contact an administrator to request access."}),(0,n.jsx)("button",{onClick:()=>k.push("/dashboard"),style:{padding:"0.875rem 2rem",background:"#5884FD",color:"#ffffff",border:"none",borderRadius:"12px",fontSize:"1rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 4px 12px rgba(88, 132, 253, 0.3)"},children:"Back to Dashboard"})]})})]})}},66:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(7437),a=r(2265),o=r(4033),i=r(6689),s=r(9874);function l(e){let{title:t,isMobile:r}=e,[l,d]=(0,a.useState)(!1),c=(0,o.useRouter)();return r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{style:{position:"fixed",top:0,left:0,right:0,background:"white",zIndex:1e3,padding:"12px 16px",borderBottom:"1px solid #E5E7EB",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsx)("h1",{style:{margin:0,fontSize:"18px",fontWeight:"700",color:"#1F2937"},children:t}),(0,n.jsx)("button",{onClick:()=>{console.log("Mobile menu clicked, current state:",l),d(!l)},style:{background:"none",border:"none",cursor:"pointer",color:"#1F2937",padding:"8px",minWidth:"40px",minHeight:"40px",display:"flex",alignItems:"center",justifyContent:"center"},children:l?(0,n.jsx)(i.Z,{style:{width:"24px",height:"24px"}}):(0,n.jsx)(s.Z,{style:{width:"24px",height:"24px"}})})]}),l&&(0,n.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",zIndex:9999,padding:"70px 16px 16px 16px",display:"flex",flexDirection:"column"},onClick:()=>d(!1),children:(0,n.jsxs)("div",{style:{background:"white",borderRadius:"12px",padding:"24px",maxHeight:"calc(100vh - 100px)",overflowY:"auto",boxShadow:"0 10px 25px rgba(0,0,0,0.3)"},onClick:e=>e.stopPropagation(),children:[(0,n.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,n.jsx)("h3",{style:{margin:"0 0 16px 0",fontSize:"16px",fontWeight:"600"},children:"Navigation"}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[(0,n.jsx)("button",{onClick:()=>{c.push("/dashboard"),d(!1)},style:{padding:"16px",textAlign:"left",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#374151",width:"100%",minHeight:"48px"},children:"Dashboard"}),(0,n.jsx)("button",{onClick:()=>{c.push("/personal"),d(!1)},style:{padding:"16px",textAlign:"left",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#374151",width:"100%",minHeight:"48px"},children:"Personal Tasks"}),(0,n.jsx)("button",{onClick:()=>{c.push("/my-tasks"),d(!1)},style:{padding:"16px",textAlign:"left",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#374151",width:"100%",minHeight:"48px"},children:"My Tasks"}),(0,n.jsx)("button",{onClick:()=>{c.push("/calendar"),d(!1)},style:{padding:"16px",textAlign:"left",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#374151",width:"100%",minHeight:"48px"},children:"Calendar"}),(0,n.jsx)("button",{onClick:()=>{c.push("/company-outreach"),d(!1)},style:{padding:"16px",textAlign:"left",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#374151",width:"100%",minHeight:"48px"},children:"Company Outreach"}),(0,n.jsx)("button",{onClick:()=>{c.push("/content-calendar"),d(!1)},style:{padding:"16px",textAlign:"left",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#374151",width:"100%",minHeight:"48px"},children:"Content Calendar"}),(0,n.jsx)("button",{onClick:()=>{c.push("/daily-reports"),d(!1)},style:{padding:"16px",textAlign:"left",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#374151",width:"100%",minHeight:"48px"},children:"Daily Reports"}),(0,n.jsx)("button",{onClick:()=>{c.push("/expenses"),d(!1)},style:{padding:"16px",textAlign:"left",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#374151",width:"100%",minHeight:"48px"},children:"Expenses"}),(0,n.jsx)("button",{onClick:()=>{c.push("/password-manager"),d(!1)},style:{padding:"16px",textAlign:"left",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#374151",width:"100%",minHeight:"48px"},children:"Password Manager"}),(0,n.jsx)("button",{onClick:()=>{c.push("/timetable"),d(!1)},style:{padding:"16px",textAlign:"left",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#374151",width:"100%",minHeight:"48px"},children:"Timetable"}),(0,n.jsx)("button",{onClick:()=>{c.push("/classes"),d(!1)},style:{padding:"16px",textAlign:"left",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#374151",width:"100%",minHeight:"48px"},children:"Classes"}),(0,n.jsx)("button",{onClick:()=>{c.push("/reporting"),d(!1)},style:{padding:"16px",textAlign:"left",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#374151",width:"100%",minHeight:"48px"},children:"Reports"})]})]}),(0,n.jsx)("button",{onClick:()=>d(!1),style:{width:"100%",padding:"12px",background:"#3B82F6",color:"white",border:"none",borderRadius:"8px",cursor:"pointer"},children:"Close Menu"})]})})]}):null}},4560:function(e,t,r){"use strict";r.d(t,{Z:function(){return q}});var n=r(7437),a=r(9738),o=r.n(a),i=r(2265),s=r(4887),l=r(1396),d=r.n(l),c=r(4033),m=r(3549),f=r(8411);function u(){let{user:e}=(0,m.useAuth)(),[t,r]=(0,i.useState)([]),[a,o]=(0,i.useState)(0),[s,l]=(0,i.useState)(!1),[d,c]=(0,i.useState)(!1),u=(0,i.useRef)(null);(0,i.useEffect)(()=>{let e=e=>{u.current&&!u.current.contains(e.target)&&l(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let p=async()=>{if(null==e?void 0:e.id)try{c(!0);let{data:t,error:n}=await f.supabase.from("notifications").select("*").eq("recipient_id",e.id).order("created_at",{ascending:!1}).limit(20);if(n)throw n;r(t||[]),o((null==t?void 0:t.filter(e=>!e.is_read).length)||0)}catch(e){console.error("Failed to fetch notifications:",e)}finally{c(!1)}},x=async e=>{try{let{error:n}=await f.supabase.from("notifications").update({is_read:!0}).eq("id",e);if(n)throw n;r(t.map(t=>t.id===e?{...t,is_read:!0}:t)),o(e=>Math.max(0,e-1))}catch(e){console.error("Failed to mark notification as read:",e)}},g=async()=>{if(null==e?void 0:e.id)try{let{error:n}=await f.supabase.from("notifications").update({is_read:!0}).eq("recipient_id",e.id).eq("is_read",!1);if(n)throw n;r(t.map(e=>({...e,is_read:!0}))),o(0)}catch(e){console.error("Failed to mark all notifications as read:",e)}},b=async e=>{var t,r;e.is_read||await x(e.id),(null===(t=e.data)||void 0===t?void 0:t.task_url)?window.location.href=e.data.task_url:(null===(r=e.data)||void 0===r?void 0:r.project_url)&&(window.location.href=e.data.project_url)},h=e=>{switch(e){case"task_assigned":return(0,n.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,n.jsx)("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})});case"task_reminder":return(0,n.jsx)("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:(0,n.jsx)("svg",{className:"w-4 h-4 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})});case"task_status_changed":return(0,n.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:(0,n.jsx)("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})});default:return(0,n.jsx)("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center",children:(0,n.jsx)("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}},y=e=>{let t=new Date(e),r=new Date,n=r.getTime()-t.getTime(),a=Math.floor(n/36e5),o=Math.floor(a/24);if(a<1){let e=Math.floor(n/6e4);return e<1?"Just now":"".concat(e,"m ago")}return a<24?"".concat(a,"h ago"):o<7?"".concat(o,"d ago"):t.toLocaleDateString()};return((0,i.useEffect)(()=>{(null==e?void 0:e.id)&&p()},[null==e?void 0:e.id]),(0,i.useEffect)(()=>{if(!(null==e?void 0:e.id))return;let t=f.supabase.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:"recipient_id=eq.".concat(e.id)},e=>{let t=e.new;r(e=>[t,...e]),o(e=>e+1)}).subscribe();return()=>{f.supabase.removeChannel(t)}},[null==e?void 0:e.id]),e)?(0,n.jsxs)("div",{className:"relative",ref:u,children:[(0,n.jsxs)("button",{onClick:()=>l(!s),className:"relative p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors duration-200","aria-label":"Notifications",children:[(0,n.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM12 2a7 7 0 00-7 7v4l-2 2v1h18v-1l-2-2V9a7 7 0 00-7-7z"})}),a>0&&(0,n.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium",children:a>9?"9+":a})]}),s&&(0,n.jsxs)("div",{className:"absolute right-0 mt-2 w-96 bg-white rounded-lg shadow-lg border border-gray-200 z-50 max-h-96 overflow-hidden",children:[(0,n.jsxs)("div",{className:"px-4 py-3 border-b border-gray-200 flex items-center justify-between",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),a>0&&(0,n.jsx)("button",{onClick:g,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Mark all read"})]}),(0,n.jsx)("div",{className:"max-h-80 overflow-y-auto",children:d?(0,n.jsxs)("div",{className:"p-4 text-center text-gray-500",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),(0,n.jsx)("p",{className:"mt-2 text-sm",children:"Loading notifications..."})]}):0===t.length?(0,n.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,n.jsx)("svg",{className:"w-12 h-12 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M15 17h5l-5 5v-5zM12 2a7 7 0 00-7 7v4l-2 2v1h18v-1l-2-2V9a7 7 0 00-7-7z"})}),(0,n.jsx)("p",{className:"text-sm",children:"No notifications yet"}),(0,n.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"You'll see updates about your tasks here"})]}):t.map(e=>(0,n.jsx)("div",{onClick:()=>b(e),className:"px-4 py-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors duration-150 ".concat(e.is_read?"":"bg-blue-50"),children:(0,n.jsxs)("div",{className:"flex items-start space-x-3",children:[h(e.type),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-900 ".concat(e.is_read?"":"font-semibold"),children:e.title}),(0,n.jsx)("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:e.message}),(0,n.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:y(e.created_at)})]}),!e.is_read&&(0,n.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2"})]})},e.id))}),t.length>0&&(0,n.jsx)("div",{className:"px-4 py-3 border-t border-gray-200 bg-gray-50",children:(0,n.jsx)("a",{href:"/inbox",className:"text-sm text-blue-600 hover:text-blue-800 font-medium",onClick:()=>l(!1),children:"View all notifications"})})]})]}):null}var p=r(5838),x=r(9186),g=r(7965),b=r(4992),h=r(1205),y=r(1253),j=r(4103),v=r(1095),w=r(1226),k=r(2929),_=r(654),C=r(6107),S=r(7933),z=r(1809),D=r(9267),T=r(2938),F=r(4438),N=r(1296),E=r(6689),I=r(9874),A=r(5255),R=r(2307),P=r(4164),B=r(5518),M=r(6610);function q(e){var t,a,l,f,q;let{projects:W,onCreateProject:U}=e,L=(0,c.useRouter)(),O=(0,c.usePathname)(),{user:H,logout:Z}=(0,m.useAuth)(),[Y,G]=(0,i.useState)(!0),[J,X]=(0,i.useState)(!1),[K,V]=(0,i.useState)(!1),[Q,$]=(0,i.useState)(!1),[ee,et]=(0,i.useState)(!1),[er,en]=(0,i.useState)(!1),[ea,eo]=(0,i.useState)(!1),[ei,es]=(0,i.useState)(!1),[el,ed]=(0,i.useState)(!1),[ec,em]=(0,i.useState)({startDate:"",endDate:"",reason:"",leaveType:"vacation",notes:"",projectId:0}),[ef,eu]=(0,i.useState)(14),[ep,ex]=(0,i.useState)(0),eg=async()=>{if(!(null==H?void 0:H.id)){en(!1);return}try{let e=(await Promise.resolve().then(r.bind(r,8411))).supabase;console.log("\uD83D\uDD0D Checking Class Schedule access for user:",H.id,H.email);let{data:t,error:n}=await e.from("class_schedule_members").select("id, role").eq("user_id",H.id).single();if(console.log("\uD83D\uDCCB Class Schedule member check:",{memberData:t,memberError:n}),t&&!n){console.log("âœ… Class Schedule access granted: User is a member"),en(!0);return}let{data:a,error:o}=await e.from("auth_user").select("id, name, email, role, is_superuser, is_staff").eq("id",H.id).single();if(console.log("\uD83D\uDC64 User data check:",a),o){console.log("âŒ Class Schedule access denied: User data error"),en(!1);return}let i=a.is_superuser||a.is_staff||"admin"===a.role||"hr"===a.role;console.log("\uD83D\uDD10 Class Schedule admin/HR check:",{is_superuser:a.is_superuser,is_staff:a.is_staff,role:a.role,hasPermission:i}),en(i)}catch(e){console.error("Error checking class schedule access:",e),en(!1)}},eb=async()=>{if(!(null==H?void 0:H.id)){eo(!1);return}try{let e=(await Promise.resolve().then(r.bind(r,8411))).supabase;console.log("\uD83D\uDD0D Checking Content Calendar access for user:",H.id,H.email);let{data:t,error:n}=await e.from("content_calendar_members").select("id, role").eq("user_id",H.id).single();if(console.log("\uD83D\uDCCB Content Calendar member check:",{memberData:t,memberError:n}),t&&!n){console.log("âœ… Content Calendar access granted: User is a member"),eo(!0);return}let{data:a,error:o}=await e.from("content_calendar_folder_members").select("id, role").eq("user_id",H.id).limit(1);if(console.log("\uD83D\uDCC1 Folder member check:",{folderMemberData:a,folderMemberError:o}),a&&a.length>0&&!o){console.log("âœ… Content Calendar access granted: User is a folder member"),eo(!0);return}let{data:i,error:s}=await e.from("auth_user").select("id, name, email, role, is_superuser, is_staff").eq("id",H.id).single();if(console.log("\uD83D\uDC64 User data check:",i),s){console.log("âŒ Content Calendar access denied: User data error"),eo(!1);return}let l=i.is_superuser||i.is_staff||"admin"===i.role||"hr"===i.role;console.log("\uD83D\uDD10 Content Calendar admin/HR check:",{is_superuser:i.is_superuser,is_staff:i.is_staff,role:i.role,hasPermission:l}),l?(console.log("âœ… Content Calendar access granted: User is admin/HR"),eo(!0)):(console.log("âŒ Content Calendar access denied: No access found"),eo(!1))}catch(e){console.error("Error checking content calendar access:",e),eo(!1)}},eh=async()=>{if(!(null==H?void 0:H.id)){es(!1);return}try{let e=(await Promise.resolve().then(r.bind(r,8411))).supabase;console.log("\uD83D\uDD0D Checking Classes access for user:",H.id,H.email);let{data:t,error:n}=await e.from("classes_members").select("id, role").eq("user_id",H.id).single();if(console.log("\uD83D\uDCCB Classes member check:",{memberData:t,memberError:n}),t&&!n){console.log("âœ… Classes access granted: User is a member"),es(!0);return}let{data:a,error:o}=await e.from("auth_user").select("id, name, email, role, is_superuser, is_staff").eq("id",H.id).single();if(console.log("\uD83D\uDC64 Classes user data check:",a),o){console.log("âŒ Classes access denied: User data error"),es(!1);return}let i=a.is_superuser||a.is_staff||"admin"===a.role||"hr"===a.role;console.log("\uD83D\uDD10 Classes admin/HR check:",{is_superuser:a.is_superuser,is_staff:a.is_staff,role:a.role,hasPermission:i}),es(i)}catch(e){console.error("Error checking classes access:",e),es(!1)}},ey=async()=>{if(!(null==H?void 0:H.id)){ed(!1);return}try{var e;let t=(await Promise.resolve().then(r.bind(r,8411))).supabase;console.log("\uD83D\uDD0D Checking Company Outreach access for user:",H.id,H.email,H);let n=H.role||(null==H?void 0:null===(e=H.user_metadata)||void 0===e?void 0:e.role);if("instructor"===n){console.log("âŒ Company Outreach access denied: User is instructor (restricted)"),ed(!1);return}let{data:a,error:o}=await t.from("company_outreach_members").select("id, role").eq("user_id",H.id).single();if(console.log("\uD83D\uDCCB Company Outreach member check:",{memberData:a,memberError:o}),a&&!o){console.log("âœ… Company Outreach access granted: User is a member"),ed(!0);return}let i="admin"===n||"hr"===n||"superuser"===n;if(console.log("\uD83D\uDD0D Auth context check:",{contextRole:n,isAdmin:i,userRole:H.role,userMetadata:null==H?void 0:H.user_metadata}),i){console.log("âœ… Company Outreach access granted: Admin from context"),ed(!0);return}let{data:s,error:l}=await t.from("auth_user").select("id, name, email, role, is_superuser, is_staff").eq("id",H.id).single();if(console.log("\uD83D\uDC64 Company Outreach database user check:",s,l),!l&&s){if("instructor"===s.role){console.log("âŒ Company Outreach access denied: Database role is instructor"),ed(!1);return}let e=s.is_superuser||s.is_staff||"admin"===s.role||"hr"===s.role;if(console.log("\uD83D\uDD10 Company Outreach admin/HR check:",{is_superuser:s.is_superuser,is_staff:s.is_staff,role:s.role,hasAdminPermission:e}),e){console.log("âœ… Company Outreach access granted: Admin from database"),ed(!0);return}}console.log("âŒ Company Outreach access denied: User not in member table and not admin"),ed(!1)}catch(e){console.error("Error checking company outreach access:",e),ed(!1)}},ej=async()=>{if(null==H?void 0:H.id)try{let e=(await Promise.resolve().then(r.bind(r,8411))).supabase,{data:t,error:n}=await e.from("employee_leave_balance").select("available_days, used_days, total_days").eq("employee_id",H.id).single();n?(console.log("No leave balance record found, using defaults"),eu(14),ex(0)):(eu(t.available_days||14),ex(t.used_days||0))}catch(e){console.error("Error fetching leave balance:",e),eu(14),ex(0)}};(0,i.useEffect)(()=>{(null==H?void 0:H.id)?(ej(),eg(),eb(),eh(),ey()):(en(!1),eo(!1),es(!1),ed(!1))},[null==H?void 0:H.id]);let ev=(0,i.useRef)(null),[ew,ek]=(0,i.useState)(!1),[e_,eC]=(0,i.useState)({projectId:0,reportDate:new Date().toISOString().split("T")[0],dateDisplay:"",keyActivities:[""],ongoingTasks:[""],challenges:[""],teamPerformance:[""],nextDayPriorities:[""],meetingMinutes:"",hasMeetingMinutes:!1,otherNotes:""}),[eS,ez]=(0,i.useState)(!1),[eD,eT]=(0,i.useState)([]),[eF,eN]=(0,i.useState)(0),[eE,eI]=(0,i.useState)(!1),eA=async()=>{try{await Z(),L.push("/login")}catch(e){console.error("Logout failed:",e)}},eR=()=>{X(!1),V(!1)},eP=()=>{console.log("\uD83D\uDD25 DEBUG: Toggle dropdown clicked! Current state:",K),V(!K),console.log("\uD83D\uDD25 DEBUG: Setting dropdown state to:",!K)},eB=()=>{V(!1)},eM=async()=>{console.log("\uD83D\uDD25 DEBUG: handleAbsenceForm called"),console.log("\uD83D\uDD25 DEBUG: Setting showAbsenceForm to true"),et(!0),eB(),console.log("\uD83D\uDD25 DEBUG: Fetching leave balance..."),await ej(),console.log("\uD83D\uDD25 DEBUG: Leave balance fetched, modal should be visible")},eq=async e=>{e.preventDefault();let t=new Date(ec.startDate),n=new Date(ec.endDate),a=n.getTime()-t.getTime(),o=Math.ceil(a/864e5)+1;if(o>ef){alert("You only have ".concat(ef," days available. You requested ").concat(o," days."));return}try{var i,s;if(!(null==H?void 0:H.id)){alert("User not found. Please log in again.");return}let e=W.find(e=>e.id===ec.projectId),a={start_date:ec.startDate,end_date:ec.endDate,leave_type:ec.leaveType,reason:ec.reason,notes:ec.notes||"",project_id:ec.projectId||null,project_name:(null==e?void 0:e.name)||null};console.log("Submitting leave request:",a),console.log("Auth token exists:",!!localStorage.getItem("accessToken")),console.log("Auth token:",(null===(i=localStorage.getItem("accessToken"))||void 0===i?void 0:i.substring(0,50))+"..."),console.log("User data:",H),console.log("Request headers:",{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("accessToken"))});let l=(await Promise.resolve().then(r.bind(r,8411))).supabase,{data:d,error:c}=await l.from("leave_requests").insert([{employee_id:H.id,employee_name:H.name||(null===(s=H.email)||void 0===s?void 0:s.split("@")[0])||"Unknown",employee_email:H.email,project_id:a.project_id,project_name:a.project_name,start_date:a.start_date,end_date:a.end_date,leave_type:a.leave_type,reason:a.reason,notes:a.notes,days_requested:o,status:"pending"}]).select();if(c)throw console.error("Error submitting leave request:",c),Error(c.message||"Failed to submit leave request");em({startDate:"",endDate:"",reason:"",leaveType:"vacation",notes:"",projectId:0}),et(!1);try{let{data:e,error:r}=await l.from("auth_user").select("id, first_name, last_name, email").or("is_staff.eq.true,is_superuser.eq.true");if(!r&&e&&e.length>0){let r=e.map(e=>{var r,a,i;return{recipient_id:e.id,sender_id:H.id,type:"leave_request_submitted",title:"New Leave Request",message:"".concat(H.name||(null===(r=H.email)||void 0===r?void 0:r.split("@")[0])," has submitted a ").concat(o,"-day leave request for ").concat(t.toLocaleDateString()," - ").concat(n.toLocaleDateString()),data:{leave_request_id:null===(a=d[0])||void 0===a?void 0:a.id,employee_name:H.name||(null===(i=H.email)||void 0===i?void 0:i.split("@")[0]),employee_email:H.email,days:o,start_date:ec.startDate,end_date:ec.endDate,leave_type:ec.leaveType}}}),{error:a}=await l.from("notifications").insert(r);a&&console.error("Error creating HR notifications:",a)}}catch(e){console.error("Error notifying HR users:",e)}await ej(),alert("Leave request submitted successfully! \n        \nYour request for ".concat(o," days has been sent to HR for approval.\n        \nStatus: Pending Approval\nDays Requested: ").concat(o,"\nPeriod: ").concat(t.toLocaleDateString()," - ").concat(n.toLocaleDateString(),"\n\nYou will be notified once HR reviews your request."))}catch(e){console.error("Error submitting leave request:",e),alert("Failed to submit leave request. Please try again.")}},eW=()=>{et(!1),em({startDate:"",endDate:"",reason:"",leaveType:"vacation",notes:"",projectId:0})},eU=()=>{if(!ec.startDate||!ec.endDate)return 0;let e=new Date(ec.startDate),t=new Date(ec.endDate);if(t<e)return 0;let r=t.getTime()-e.getTime();return Math.ceil(r/864e5)+1},eL=()=>{ek(!0),eB();let e=new Date,t=eO(e);eC(r=>({...r,reportDate:e.toISOString().split("T")[0],dateDisplay:t}))},eO=e=>e.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),eH=async e=>{e.preventDefault();let t=e_.keyActivities.filter(e=>e.trim()).join("\nâ€¢ ");if(!t||!e_.projectId){alert("Please fill in the required fields: Key Activities and Project.");return}try{var n;if(!(null==H?void 0:H.id)){alert("User not found. Please log in again.");return}let e=W.find(e=>e.id===e_.projectId),a=(await Promise.resolve().then(r.bind(r,8411))).supabase,o=e=>{let t=e.filter(e=>e.trim());return t.length>0?"â€¢ "+t.join("\nâ€¢ "):null},{data:i,error:s}=await a.from("daily_reports").insert([{employee_id:H.id,employee_name:H.name||(null===(n=H.email)||void 0===n?void 0:n.split("@")[0])||"Unknown",employee_email:H.email,project_id:e_.projectId,project_name:(null==e?void 0:e.name)||null,report_date:e_.reportDate,date_display:e_.dateDisplay,key_activities:o(e_.keyActivities),ongoing_tasks:o(e_.ongoingTasks),challenges:o(e_.challenges),team_performance:o(e_.teamPerformance),next_day_priorities:o(e_.nextDayPriorities),meeting_minutes:e_.meetingMinutes.trim()||null,has_meeting_minutes:e_.hasMeetingMinutes,other_notes:e_.otherNotes.trim()||null}]).select();if(s){if(console.error("Error submitting daily report:",s),"23505"===s.code)alert("You have already submitted a daily report for this date and project. Please edit the existing report or choose a different project.");else throw Error(s.message||"Failed to submit daily report")}else eC({projectId:0,reportDate:new Date().toISOString().split("T")[0],dateDisplay:"",keyActivities:[""],ongoingTasks:[""],challenges:[""],teamPerformance:[""],nextDayPriorities:[""],meetingMinutes:"",hasMeetingMinutes:!1,otherNotes:""}),ek(!1),alert("Daily report submitted successfully! \n        \nYour report for ".concat(e_.dateDisplay," has been saved.\n\nProject: ").concat((null==e?void 0:e.name)||"Unknown","\nKey Activities: ").concat(t.substring(0,100)).concat(t.length>100?"...":"","\n\nYour report is now available in the system."))}catch(e){console.error("Error submitting daily report:",e),alert("Failed to submit daily report. Please try again.")}},eZ=()=>{ek(!1),eC({projectId:0,reportDate:new Date().toISOString().split("T")[0],dateDisplay:"",keyActivities:[""],ongoingTasks:[""],challenges:[""],teamPerformance:[""],nextDayPriorities:[""],meetingMinutes:"",hasMeetingMinutes:!1,otherNotes:""})},eY=e=>{eC(t=>({...t,[e]:[...t[e],""]}))},eG=(e,t)=>{eC(r=>{let n=r[e];if(n.length>1){let a=n.filter((e,r)=>r!==t);return{...r,[e]:a}}return r})},eJ=(e,t,r)=>{eC(n=>{let a=[...n[e]];return a[t]=r,{...n,[e]:a}})},eX=async()=>{if(null==H?void 0:H.id)try{let e=(await Promise.resolve().then(r.bind(r,8411))).supabase,{count:t,error:n}=await e.from("notifications").select("*",{count:"exact",head:!0}).eq("recipient_id",H.id).eq("is_read",!1);n?(console.error("Error fetching unread count:",n),eN(0)):eN(t||0)}catch(e){console.error("Error fetching unread count:",e),eN(0)}},eK=async e=>{try{let t=(await Promise.resolve().then(r.bind(r,8411))).supabase,{error:n}=await t.from("notifications").update({is_read:!0}).eq("id",e);n?console.error("Error marking notification as read:",n):(eT(eD.map(t=>t.id===e?{...t,is_read:!0}:t)),eX())}catch(e){console.error("Error marking notification as read:",e)}},eV=e=>{switch(e){case"leave_request":return(0,n.jsx)(p.Z,{style:{width:"16px",height:"16px",color:"#f59e0b"}});case"leave_status_update":return(0,n.jsx)(x.Z,{style:{width:"16px",height:"16px",color:"#10b981"}});default:return(0,n.jsx)(g.Z,{style:{width:"16px",height:"16px",color:"#6b7280"}})}},eQ=e=>{let t=new Date(e),r=new Date,n=(r.getTime()-t.getTime())/36e5;return n<1?"Just now":n<24?"".concat(Math.floor(n),"h ago"):t.toLocaleDateString()};(0,i.useEffect)(()=>{if(null==H?void 0:H.id){let e=async()=>{await eX()};e();let t=setInterval(eX,3e4);return()=>clearInterval(t)}},[null==H?void 0:H.id]),(0,i.useEffect)(()=>{let e=e=>{let t=e.target,r=ev.current&&!ev.current.contains(t),n=!t.closest||!t.closest("[data-dropdown-portal]");r&&n&&(console.log("\uD83D\uDD25 DEBUG: Closing dropdown due to outside click"),V(!1))};return K&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[K]);let e$=[{name:"Home",href:"/dashboard",icon:b.Z},{name:"My Tasks",href:"/my-tasks",icon:h.Z},{name:"Calendar",href:"/calendar",icon:y.Z},{name:"My Personal",href:"/personal",icon:j.Z},{name:"Expenses",href:"/expenses",icon:v.Z},{name:"Password Vault",href:"/password-vault",icon:w.Z},{name:"Timetable",href:"/timetable",icon:k.Z},{name:"Reporting",href:"/reporting",icon:_.Z}],e0=[...e$,{name:"Content Calendar",href:"/content-calendar",icon:C.Z},...er?[{name:"Class Schedule",href:"/class-schedule",icon:S.Z}]:[],...ei?[{name:"Classes",href:"/classes",icon:z.Z}]:[]],e1=[...el?[{name:"Company Outreach",href:"/company-outreach",icon:D.Z}]:[]],e9=(null==H?void 0:H.role)==="admin"||(null==H?void 0:null===(t=H.user_metadata)||void 0===t?void 0:t.role)==="admin",e4=e9?[{name:"Admin",href:"/admin",icon:T.Z}]:[],e5=(null==H?void 0:H.role)==="instructor"||(null==H?void 0:null===(a=H.user_metadata)||void 0===a?void 0:a.role)==="instructor",e2=e5?[{name:"Instructor",href:"/instructor",icon:S.Z}]:[],e7=e5?[{name:"Home",href:"/dashboard",icon:b.Z},{name:"My Tasks",href:"/my-tasks",icon:h.Z},{name:"Calendar",href:"/calendar",icon:y.Z},{name:"Timetable",href:"/timetable",icon:k.Z}]:e0,e8=[{name:"Inbox",href:"/inbox",icon:F.Z},{name:"Daily Reports",href:"/daily-reports",icon:N.Z},{name:"Expenses",href:"/expenses",icon:v.Z},{name:"Absence Management",href:"/employee-absent",icon:j.Z}];F.Z;let e6=e=>"/dashboard"===e?O===e:null==O?void 0:O.startsWith(e);return(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1",children:[(0,n.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n          /* Professional Sidebar Theme */\n          .sidebar {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 280px;\n            height: 100vh;\n            background: linear-gradient(135deg, #F5F5ED 0%, #FAFAF2 100%);\n            border-right: 1px solid rgba(196, 131, 217, 0.2);\n            display: flex;\n            flex-direction: column;\n            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            z-index: 100;\n            box-shadow: 0 4px 24px rgba(0, 0, 0, 0.06);\n            backdrop-filter: blur(10px);\n            overflow: hidden;\n          }\n          \n          .sidebar.collapsed {\n            width: 72px;\n          }\n          \n          .sidebar::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            height: 4px;\n            background: linear-gradient(90deg, #FFB333, #C483D9, #5884FD, #F87239);\n            animation: shimmer 3s ease-in-out infinite;\n          }\n          \n          @keyframes shimmer {\n            0% { background-position: -200% 0; }\n            100% { background-position: 200% 0; }\n          }\n          \n          .sidebar-header {\n            padding: 1.5rem 1.25rem;\n            background: linear-gradient(135deg, #F5F5ED 0%, #FAFAF2 100%);\n            border-bottom: 1px solid rgba(196, 131, 217, 0.2);\n            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            position: relative;\n            overflow: hidden;\n          }\n          \n          .sidebar-header::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.1) 50%, transparent 70%);\n            animation: headerShine 4s ease-in-out infinite;\n          }\n          \n          @keyframes headerShine {\n            0% { transform: translateX(-100%); }\n            100% { transform: translateX(100%); }\n          }\n          \n          .sidebar.collapsed .sidebar-header {\n            padding: 1rem 0.75rem;\n          }\n          \n          .sidebar-header-content {\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n            margin-bottom: 1.25rem;\n            position: relative;\n            z-index: 2;\n          }\n          \n          .sidebar.collapsed .sidebar-header-content {\n            margin-bottom: 0.75rem;\n            justify-content: center;\n            flex-direction: column;\n            gap: 0.5rem;\n          }\n          \n          .sidebar-title {\n            font-size: 1.5rem;\n            font-weight: 800;\n            color: #1F2937;\n            margin: 0;\n            text-shadow: none;\n            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            letter-spacing: -0.025em;\n          }\n          \n          .sidebar.collapsed .sidebar-title {\n            opacity: 0;\n            pointer-events: none;\n            transform: scale(0.8);\n          }\n          \n          .sidebar-toggle {\n            padding: 0.75rem;\n            background: rgba(255, 179, 51, 0.1);\n            border: 1px solid rgba(255, 179, 51, 0.2);\n            border-radius: 12px;\n            cursor: pointer;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            color: #F87239;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            backdrop-filter: blur(10px);\n            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n            min-width: 44px;\n            min-height: 44px;\n          }\n          \n          .sidebar-toggle:hover {\n            background: rgba(255, 179, 51, 0.2);\n            border-color: rgba(255, 179, 51, 0.4);\n            transform: translateY(-2px) scale(1.05);\n            box-shadow: 0 4px 16px rgba(255, 179, 51, 0.2);\n          }\n          \n          .sidebar-toggle:active {\n            transform: translateY(-1px) scale(0.98);\n          }\n          \n          .sidebar-add-container {\n            position: relative;\n            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          }\n          \n          .sidebar.collapsed .sidebar-add-container {\n            opacity: 0;\n            pointer-events: none;\n            transform: scale(0.8);\n          }\n          \n          .sidebar-add-btn {\n            padding: 0.75rem;\n            color: #F87239;\n            background: rgba(255, 179, 51, 0.1);\n            border: 1px solid rgba(255, 179, 51, 0.2);\n            border-radius: 12px;\n            cursor: pointer;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            backdrop-filter: blur(10px);\n            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            min-width: 44px;\n            min-height: 44px;\n          }\n          \n          .sidebar-add-btn:hover {\n            background: rgba(255, 179, 51, 0.2);\n            border-color: rgba(255, 179, 51, 0.4);\n            transform: translateY(-2px) scale(1.05);\n            box-shadow: 0 4px 16px rgba(255, 179, 51, 0.2);\n          }\n          \n          .sidebar-add-btn.active {\n            background: rgba(255, 179, 51, 0.3);\n            border-color: rgba(255, 179, 51, 0.5);\n            transform: translateY(-1px);\n          }\n          \n          .dropdown-menu {\n            position: fixed;\n            top: 120px;\n            right: 20px;\n            z-index: 99999;\n            background: #FFFFFF;\n            border: 1px solid #E5E7EB;\n            border-radius: 12px;\n            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);\n            min-width: 200px;\n            padding: 0.75rem;\n            opacity: 0;\n            visibility: hidden;\n            transform: translateY(-10px) scale(0.95);\n            transition: all 0.2s ease;\n            backdrop-filter: blur(15px);\n            overflow: visible;\n          }\n          \n          .sidebar.collapsed .dropdown-menu {\n            position: fixed;\n            top: 120px;\n            left: 80px;\n            right: auto;\n          }\n          \n          .dropdown-menu.show {\n            opacity: 1;\n            visibility: visible;\n            transform: translateY(0) scale(1);\n          }\n          \n          .dropdown-item {\n            display: flex;\n            align-items: center;\n            gap: 0.75rem;\n            padding: 0.875rem 1rem;\n            font-size: 0.875rem;\n            color: #374151;\n            cursor: pointer;\n            transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            border: none;\n            background: none;\n            width: 100%;\n            text-align: left;\n            border-radius: 12px;\n            font-weight: 500;\n            position: relative;\n            overflow: hidden;\n          }\n          \n          .dropdown-item::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: linear-gradient(90deg, #FFB333, #C483D9);\n            opacity: 0;\n            transition: opacity 0.2s ease;\n          }\n          \n          .dropdown-item:hover::before {\n            opacity: 0.1;\n          }\n          \n          .dropdown-item:hover {\n            color: #FFB333;\n            transform: translateX(4px);\n          }\n          \n          .dropdown-item:active {\n            transform: translateX(2px) scale(0.98);\n          }\n          \n          .dropdown-icon {\n            width: 18px;\n            height: 18px;\n            color: #6B7280;\n            transition: all 0.2s ease;\n            position: relative;\n            z-index: 1;\n          }\n          \n          .dropdown-item:hover .dropdown-icon {\n            color: #FFB333;\n          }\n          \n\n          \n          .sidebar-nav {\n            flex: 1;\n            padding: 1.5rem 1rem;\n            overflow-y: auto;\n            overflow-x: hidden;\n            scrollbar-width: thin;\n            scrollbar-color: rgba(196, 131, 217, 0.3) transparent;\n          }\n          \n          .sidebar-nav::-webkit-scrollbar {\n            width: 6px;\n          }\n          \n          .sidebar-nav::-webkit-scrollbar-track {\n            background: transparent;\n          }\n          \n          .sidebar-nav::-webkit-scrollbar-thumb {\n            background: rgba(196, 131, 217, 0.3);\n            border-radius: 3px;\n          }\n          \n          .sidebar-nav::-webkit-scrollbar-thumb:hover {\n            background: rgba(196, 131, 217, 0.5);\n          }\n          \n          .nav-section {\n            margin-bottom: 2rem;\n          }\n          \n          .nav-section-header {\n            padding: 0.5rem 1rem;\n            margin-bottom: 0.75rem;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            border-bottom: 1px solid rgba(196, 131, 217, 0.2);\n          }\n          \n          .nav-section-header span {\n            font-size: 0.75rem;\n            color: #9CA3AF;\n            font-weight: 700;\n            text-transform: uppercase;\n            letter-spacing: 0.1em;\n          }\n          \n          .sidebar.collapsed .nav-section-header {\n            opacity: 0;\n            pointer-events: none;\n            height: 0;\n            padding: 0;\n            margin: 0;\n            border: none;\n            transform: scale(0.8);\n          }\n          \n          .nav-item {\n            display: flex;\n            align-items: center;\n            padding: 0.875rem 1rem;\n            font-size: 0.875rem;\n            font-weight: 500;\n            border-radius: 12px;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            cursor: pointer;\n            color: #374151;\n            text-decoration: none;\n            margin-bottom: 0.5rem;\n            position: relative;\n            overflow: hidden;\n            backdrop-filter: blur(10px);\n          }\n          \n          .nav-item::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: linear-gradient(135deg, #FFB333, #F87239);\n            opacity: 0;\n            transition: opacity 0.3s ease;\n          }\n          \n          .nav-item:hover::before {\n            opacity: 0.1;\n          }\n          \n          .nav-item.active::before {\n            opacity: 0.15;\n          }\n          \n          .nav-item:hover {\n            color: #FFB333;\n            transform: translateX(4px);\n            box-shadow: 0 4px 16px rgba(255, 179, 51, 0.2);\n          }\n          \n          .nav-item.active {\n            color: #FFB333;\n            background: rgba(255, 179, 51, 0.1);\n            border-left: 3px solid #FFB333;\n            transform: translateX(3px);\n          }\n          \n          .nav-item:active {\n            transform: translateX(2px) scale(0.98);\n          }\n          \n          .nav-icon {\n            width: 20px;\n            height: 20px;\n            margin-right: 0.875rem;\n            color: inherit;\n            transition: all 0.3s ease;\n            position: relative;\n            z-index: 1;\n          }\n          \n          .nav-text {\n            position: relative;\n            z-index: 1;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          }\n          \n          .sidebar.collapsed .nav-text {\n            opacity: 0;\n            pointer-events: none;\n            transform: scale(0.8);\n          }\n          \n          .sidebar.collapsed .nav-icon {\n            margin-right: 0;\n          }\n          \n          .projects-section {\n            margin-top: 2rem;\n          }\n          \n          .projects-toggle {\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n            padding: 0.75rem 1rem;\n            font-size: 0.875rem;\n            font-weight: 600;\n            color: #374151;\n            cursor: pointer;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            border-radius: 12px;\n            margin: 0.5rem 0 1rem 0;\n            position: relative;\n            overflow: hidden;\n            background: rgba(255, 255, 255, 0.6);\n            border: 1px solid rgba(255, 255, 255, 0.8);\n            backdrop-filter: blur(10px);\n            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n          }\n          \n          .projects-toggle::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: linear-gradient(135deg, #FFB333, #F87239);\n            opacity: 0;\n            transition: opacity 0.3s ease;\n          }\n          \n          .projects-toggle:hover::before {\n            opacity: 0.08;\n          }\n          \n          .projects-toggle:hover {\n            color: #F87239;\n            background: rgba(255, 255, 255, 0.8);\n            transform: translateY(-1px);\n            box-shadow: 0 4px 16px rgba(255, 179, 51, 0.15);\n          }\n          \n          .projects-toggle span {\n            position: relative;\n            z-index: 1;\n            font-weight: 500;\n            letter-spacing: 0.025em;\n          }\n          \n          .projects-toggle svg {\n            width: 16px;\n            height: 16px;\n            transition: all 0.3s ease;\n            position: relative;\n            z-index: 1;\n            opacity: 0.7;\n          }\n          \n          .projects-toggle:hover svg {\n            opacity: 1;\n          }\n          \n          .projects-toggle.expanded svg {\n            transform: rotate(180deg);\n          }\n          \n          .projects-list {\n            margin-left: 1rem;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          }\n          \n          .project-item {\n            display: flex;\n            align-items: center;\n            padding: 0.75rem 1rem;\n            font-size: 0.875rem;\n            color: #6B7280;\n            border-radius: 12px;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            cursor: pointer;\n            margin-bottom: 0.25rem;\n            position: relative;\n            overflow: hidden;\n          }\n          \n          .project-item::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: linear-gradient(135deg, #5884FD, #C483D9);\n            opacity: 0;\n            transition: opacity 0.3s ease;\n          }\n          \n          .project-item:hover::before {\n            opacity: 0.1;\n          }\n          \n          .project-item:hover {\n            color: #5884FD;\n            transform: translateX(4px);\n          }\n          \n          .project-item.active {\n            color: #5884FD;\n            background: rgba(88, 132, 253, 0.1);\n            border-left: 3px solid #5884FD;\n            transform: translateX(3px);\n          }\n          \n          .project-info {\n            display: flex;\n            align-items: center;\n            gap: 0.75rem;\n            min-width: 0;\n            flex: 1;\n            position: relative;\n            z-index: 1;\n          }\n          \n          .project-color {\n            width: 10px;\n            height: 10px;\n            border-radius: 50%;\n            flex-shrink: 0;\n            border: 2px solid rgba(255, 255, 255, 0.3);\n            transition: all 0.3s ease;\n          }\n          \n          .project-item:hover .project-color {\n            transform: scale(1.2);\n            box-shadow: 0 0 8px rgba(88, 132, 253, 0.4);\n          }\n          \n          .project-name {\n            word-wrap: break-word;\n            overflow-wrap: break-word;\n            word-break: break-word;\n            white-space: normal;\n            hyphens: auto;\n            font-weight: 500;\n            line-height: 1.3;\n          }\n          \n          .project-count {\n            font-size: 0.75rem;\n            color: #9CA3AF;\n            background: rgba(156, 163, 175, 0.1);\n            padding: 0.25rem 0.5rem;\n            border-radius: 6px;\n            font-weight: 600;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          }\n          \n          .sidebar.collapsed .project-count {\n            opacity: 0;\n            pointer-events: none;\n            transform: scale(0.8);\n          }\n          \n          .sidebar-footer {\n            padding: 1.5rem 1rem;\n            border-top: 1px solid rgba(196, 131, 217, 0.2);\n            background: linear-gradient(135deg, #F5F5ED 0%, #FAFAF2 100%);\n            margin-top: auto;\n          }\n          \n          .user-profile {\n            display: flex;\n            align-items: center;\n            gap: 0.875rem;\n            padding: 0.875rem;\n            border-radius: 16px;\n            background: rgba(255, 255, 255, 0.8);\n            border: 1px solid rgba(196, 131, 217, 0.2);\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            cursor: pointer;\n            position: relative;\n            overflow: hidden;\n            backdrop-filter: blur(10px);\n          }\n          \n          .user-profile::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: linear-gradient(135deg, #FFB333, #C483D9);\n            opacity: 0;\n            transition: opacity 0.3s ease;\n          }\n          \n          .user-profile:hover::before {\n            opacity: 0.1;\n          }\n          \n          .user-profile:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 24px rgba(196, 131, 217, 0.2);\n          }\n          \n          .user-avatar {\n            width: 40px;\n            height: 40px;\n            background: linear-gradient(135deg, #FFB333, #F87239);\n            border: 2px solid rgba(255, 255, 255, 0.5);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            box-shadow: 0 4px 12px rgba(255, 179, 51, 0.3);\n            transition: all 0.3s ease;\n            position: relative;\n            z-index: 1;\n          }\n          \n          .user-avatar:hover {\n            transform: scale(1.1);\n            box-shadow: 0 6px 16px rgba(255, 179, 51, 0.4);\n          }\n          \n          .user-avatar-text {\n            font-size: 0.875rem;\n            font-weight: 700;\n            color: #FFFFFF;\n            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n          }\n          \n          .user-info {\n            min-width: 0;\n            flex: 1;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            position: relative;\n            z-index: 1;\n          }\n          \n          .sidebar.collapsed .user-info {\n            opacity: 0;\n            pointer-events: none;\n            transform: scale(0.8);\n          }\n          \n          .user-name {\n            font-size: 0.875rem;\n            font-weight: 600;\n            color: #374151;\n            margin: 0;\n            word-wrap: break-word;\n            overflow-wrap: break-word;\n            word-break: break-word;\n            white-space: normal;\n            line-height: 1.3;\n          }\n          \n          .user-email {\n            font-size: 0.75rem;\n            color: #9CA3AF;\n            margin: 0;\n            word-wrap: break-word;\n            overflow-wrap: break-word;\n            word-break: break-word;\n            white-space: normal;\n            line-height: 1.3;\n          }\n          \n          .logout-btn {\n            padding: 0.5rem;\n            color: #9CA3AF;\n            background: rgba(156, 163, 175, 0.1);\n            border: 1px solid rgba(156, 163, 175, 0.2);\n            border-radius: 12px;\n            cursor: pointer;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            backdrop-filter: blur(10px);\n            position: relative;\n            z-index: 1;\n          }\n          \n          .logout-btn:hover {\n            color: #F87239;\n            background: rgba(248, 114, 57, 0.1);\n            border-color: rgba(248, 114, 57, 0.2);\n            transform: translateY(-1px);\n          }\n          \n          .logout-btn:active {\n            transform: translateY(0) scale(0.98);\n          }\n          \n          /* Tooltip for collapsed nav items */\n          .nav-item.tooltip-container {\n            position: relative;\n          }\n          \n          .nav-tooltip {\n            position: absolute;\n            left: 100%;\n            top: 50%;\n            transform: translateY(-50%) translateX(-10px);\n            background: linear-gradient(135deg, #374151, #1F2937);\n            color: #FFFFFF;\n            padding: 0.5rem 0.75rem;\n            border-radius: 8px;\n            font-size: 0.75rem;\n            white-space: nowrap;\n            opacity: 0;\n            visibility: hidden;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            z-index: 1000;\n            margin-left: 0.5rem;\n            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n            font-weight: 500;\n          }\n          \n          .nav-item:hover .nav-tooltip {\n            opacity: 1;\n            visibility: visible;\n            transform: translateY(-50%) translateX(0);\n          }\n          \n          /* Mobile Menu Toggle */\n          .mobile-menu-button {\n            position: fixed;\n            top: 1.5rem;\n            left: 1.5rem;\n            z-index: 60;\n            background: linear-gradient(135deg, #FFB333, #F87239);\n            border: 1px solid rgba(255, 255, 255, 0.2);\n            border-radius: 16px;\n            padding: 0.875rem;\n            cursor: pointer;\n            display: none;\n            box-shadow: 0 4px 16px rgba(255, 179, 51, 0.3);\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            color: #FFFFFF;\n          }\n          \n          .mobile-menu-button:hover {\n            transform: translateY(-2px) scale(1.05);\n            box-shadow: 0 8px 24px rgba(255, 179, 51, 0.4);\n          }\n          \n          .mobile-menu-button:active {\n            transform: translateY(-1px) scale(0.98);\n          }\n          \n          .mobile-overlay {\n            position: fixed;\n            inset: 0;\n            background: rgba(0, 0, 0, 0.6);\n            z-index: 40;\n            display: none;\n            backdrop-filter: blur(4px);\n          }\n          \n          /* Global content adjustment for sidebar */\n          body {\n            margin: 0;\n            padding: 0;\n          }\n          \n          .sidebar ~ * {\n            margin-left: 280px;\n            transition: margin-left 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          }\n          \n          .sidebar.collapsed ~ * {\n            margin-left: 72px;\n          }\n          \n          [style*=\"marginLeft: 256px\"] {\n            margin-left: 280px !important;\n            transition: margin-left 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          }\n          \n          /* Enhanced Modal Styles */\n          .modal-overlay {\n            position: fixed;\n            inset: 0;\n            background: rgba(0, 0, 0, 0.8);\n            backdrop-filter: blur(12px);\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: 1.5rem;\n            z-index: 1000;\n            animation: fadeIn 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          }\n          \n          .modal-content {\n            background: linear-gradient(135deg, #FFFFFF 0%, #FAFAFA 100%);\n            border: 1px solid rgba(196, 131, 217, 0.2);\n            border-radius: 24px;\n            padding: 0;\n            width: 100%;\n            max-width: 520px;\n            max-height: 90vh;\n            overflow: hidden;\n            box-shadow: 0 24px 48px rgba(0, 0, 0, 0.15);\n            animation: slideIn 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            position: relative;\n          }\n          \n          .modal-content::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            height: 4px;\n            background: linear-gradient(90deg, #FFB333, #C483D9, #5884FD, #F87239);\n          }\n          \n          .modal-header {\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n            padding: 2rem 2rem 1rem 2rem;\n            border-bottom: 1px solid rgba(196, 131, 217, 0.2);\n            background: linear-gradient(135deg, #F5F5ED 0%, #FAFAF2 100%);\n            position: relative;\n          }\n          \n          .modal-title {\n            font-size: 1.75rem;\n            font-weight: 800;\n            color: #1F2937;\n            margin: 0;\n            letter-spacing: -0.025em;\n          }\n          \n          .modal-close-btn {\n            background: rgba(156, 163, 175, 0.1);\n            border: 1px solid rgba(156, 163, 175, 0.2);\n              padding: 0.75rem;\n            border-radius: 12px;\n            cursor: pointer;\n            color: #6B7280;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            display: flex;\n            align-items: center;\n            justify-content: center;\n          }\n          \n          .modal-close-btn:hover {\n            background: rgba(248, 114, 57, 0.1);\n            border-color: rgba(248, 114, 57, 0.2);\n            color: #F87239;\n            transform: scale(1.05);\n          }\n          \n          .modal-body {\n            padding: 2rem;\n            max-height: 75vh;\n            overflow-y: auto;\n          }\n          \n          .leave-stats {\n            display: grid;\n            grid-template-columns: repeat(3, 1fr);\n            gap: 1.5rem;\n            margin-bottom: 2rem;\n          }\n          \n          .stat-card {\n            text-align: center;\n            padding: 1.5rem 1rem;\n            background: linear-gradient(135deg, #FFFFFF 0%, #FAFAFA 100%);\n            border-radius: 16px;\n            border: 1px solid rgba(196, 131, 217, 0.2);\n            position: relative;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\n            overflow: hidden;\n          }\n          \n          .stat-card::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            height: 4px;\n            background: linear-gradient(90deg, #FFB333, #C483D9, #5884FD, #F87239);\n          }\n          \n          .stat-card:hover {\n            transform: translateY(-4px);\n            box-shadow: 0 12px 32px rgba(0, 0, 0, 0.1);\n          }\n          \n          .stat-number {\n            font-size: 2.5rem;\n            font-weight: 900;\n            margin-bottom: 0.5rem;\n            color: #1F2937;\n            letter-spacing: -0.025em;\n          }\n          \n          .stat-label {\n            font-size: 0.75rem;\n            color: #6B7280;\n            text-transform: uppercase;\n            font-weight: 700;\n            letter-spacing: 0.1em;\n          }\n          \n          @keyframes fadeIn {\n            from { opacity: 0; }\n            to { opacity: 1; }\n          }\n          \n          @keyframes slideIn {\n            from { transform: translateY(-20px) scale(0.95); opacity: 0; }\n            to { transform: translateY(0) scale(1); opacity: 1; }\n          }\n          \n          /* Responsive Design */\n          @media (max-width: 768px) {\n            .sidebar {\n              transform: translateX(-100%);\n              transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n              z-index: 50;\n              width: 300px;\n            }\n            \n            .sidebar.open {\n              transform: translateX(0);\n            }\n            \n            .sidebar-toggle {\n              display: none;\n            }\n            \n            .mobile-menu-button {\n              display: block;\n            }\n            \n            .mobile-overlay.show {\n              display: block;\n            }\n            \n            .sidebar ~ * {\n              margin-left: 0 !important;\n            }\n            \n            .modal-content {\n              max-width: 95vw;\n              margin: 1rem;\n            }\n            \n            .modal-header {\n              padding: 1.5rem 1.5rem 1rem 1.5rem;\n            }\n            \n            .modal-title {\n              font-size: 1.5rem;\n            }\n            \n            .modal-body {\n              padding: 1.5rem;\n            }\n            \n            .leave-stats {\n              grid-template-columns: 1fr;\n              gap: 1rem;\n            }\n          }\n          \n          @media (max-width: 480px) {\n            .sidebar {\n              width: 100vw;\n            }\n            \n            .mobile-menu-button {\n              top: 1rem;\n              left: 1rem;\n              padding: 0.75rem;\n            }\n            \n            .modal-overlay {\n              padding: 1rem;\n            }\n            \n            .modal-content {\n              border-radius: 16px;\n              max-height: 95vh;\n            }\n          }\n        "}}),(0,n.jsx)("button",{onClick:()=>{X(!J)},className:"jsx-79e4f0e0f941e9c1 mobile-menu-button",children:J?(0,n.jsx)(E.Z,{style:{width:"24px",height:"24px"}}):(0,n.jsx)(I.Z,{style:{width:"24px",height:"24px"}})}),(0,n.jsx)("div",{onClick:eR,className:"jsx-79e4f0e0f941e9c1 "+"mobile-overlay ".concat(J?"show":"")}),(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 "+"sidebar ".concat(J?"open":""," ").concat(Q?"collapsed":""),children:[(0,n.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 sidebar-header",children:(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 sidebar-header-content",children:[(0,n.jsx)("button",{onClick:()=>{$(!Q),eB(),setTimeout(()=>{let e=document.querySelectorAll('[style*="marginLeft: 256px"]');e.forEach(e=>{e.style.marginLeft&&(e.style.marginLeft=Q?"256px":"64px")})},0)},title:Q?"Expand sidebar":"Collapse sidebar",className:"jsx-79e4f0e0f941e9c1 sidebar-toggle",children:(0,n.jsx)(I.Z,{style:{width:"20px",height:"20px"}})}),(0,n.jsx)("h1",{className:"jsx-79e4f0e0f941e9c1 sidebar-title",children:"Projects"}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},className:"jsx-79e4f0e0f941e9c1",children:[(0,n.jsx)(u,{}),(0,n.jsx)("div",{ref:ev,className:"jsx-79e4f0e0f941e9c1 sidebar-add-container",children:(0,n.jsx)("button",{onClick:e=>{console.log("\uD83D\uDD25 DEBUG: Plus (+) button clicked!",e),e.preventDefault(),e.stopPropagation(),eP()},title:"Create new...",className:"jsx-79e4f0e0f941e9c1 "+"sidebar-add-btn ".concat(K?"active":""),children:(0,n.jsx)(A.Z,{style:{width:"20px",height:"20px"}})})})]})]})}),(0,n.jsxs)("nav",{className:"jsx-79e4f0e0f941e9c1 sidebar-nav",children:[(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 nav-section",children:[(e5?e7:e0).map(e=>(0,n.jsxs)(d(),{href:e.href,className:"nav-item ".concat(e6(e.href)?"active":""),onClick:eR,children:[(0,n.jsx)(e.icon,{className:"nav-icon"}),(0,n.jsx)("span",{className:"jsx-79e4f0e0f941e9c1 nav-text",children:e.name})]},e.name)),e5||(null==H?void 0:H.role)!=="hr"&&(null==H?void 0:H.role)!=="admin"&&(null==H?void 0:null===(l=H.user_metadata)||void 0===l?void 0:l.role)!=="hr"&&(null==H?void 0:null===(f=H.user_metadata)||void 0===f?void 0:f.role)!=="admin"?!e5&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{borderTop:"1px solid #e5e7eb",margin:"1rem 0 0.5rem 0",paddingTop:"0.5rem"},className:"jsx-79e4f0e0f941e9c1 nav-section-header",children:(0,n.jsx)("span",{style:{fontSize:"0.75rem",color:"#666666",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",paddingLeft:"0.75rem"},className:"jsx-79e4f0e0f941e9c1",children:"Personal"})}),e8.slice(0,2).map(e=>(0,n.jsxs)(d(),{href:e.href,className:"nav-item ".concat(e6(e.href)?"active":""),onClick:eR,children:[(0,n.jsx)(e.icon,{className:"nav-icon"}),(0,n.jsx)("span",{className:"jsx-79e4f0e0f941e9c1 nav-text",children:e.name})]},e.name))]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{borderTop:"1px solid #e5e7eb",margin:"1rem 0 0.5rem 0",paddingTop:"0.5rem"},className:"jsx-79e4f0e0f941e9c1 nav-section-header",children:(0,n.jsx)("span",{style:{fontSize:"0.75rem",color:"#666666",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",paddingLeft:"0.75rem"},className:"jsx-79e4f0e0f941e9c1",children:"HR Tools"})}),e8.map(e=>(0,n.jsxs)(d(),{href:e.href,className:"nav-item ".concat(e6(e.href)?"active":""),onClick:eR,children:[(0,n.jsx)(e.icon,{className:"nav-icon"}),(0,n.jsx)("span",{className:"jsx-79e4f0e0f941e9c1 nav-text",children:e.name})]},e.name))]}),e1.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{borderTop:"1px solid #e5e7eb",margin:"1rem 0 0.5rem 0",paddingTop:"0.5rem"},className:"jsx-79e4f0e0f941e9c1 nav-section-header",children:(0,n.jsx)("span",{style:{fontSize:"0.75rem",color:"#666666",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",paddingLeft:"0.75rem"},className:"jsx-79e4f0e0f941e9c1",children:"Idea Lounge"})}),e1.map(e=>(0,n.jsxs)(d(),{href:e.href,className:"nav-item ".concat(e6(e.href)?"active":""),onClick:eR,children:[(0,n.jsx)(e.icon,{className:"nav-icon"}),(0,n.jsx)("span",{className:"jsx-79e4f0e0f941e9c1 nav-text",children:e.name})]},e.name))]}),!e5&&e4.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{borderTop:"1px solid #e5e7eb",margin:"1rem 0 0.5rem 0",paddingTop:"0.5rem"},className:"jsx-79e4f0e0f941e9c1 nav-section-header",children:(0,n.jsx)("span",{style:{fontSize:"0.75rem",color:"#666666",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",paddingLeft:"0.75rem"},className:"jsx-79e4f0e0f941e9c1",children:"Admin"})}),e4.map(e=>(0,n.jsxs)(d(),{href:e.href,className:"nav-item ".concat(e6(e.href)?"active":""),onClick:eR,children:[(0,n.jsx)(e.icon,{className:"nav-icon"}),(0,n.jsx)("span",{className:"jsx-79e4f0e0f941e9c1 nav-text",children:e.name})]},e.name))]}),e2.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{borderTop:"1px solid #e5e7eb",margin:"1rem 0 0.5rem 0",paddingTop:"0.5rem"},className:"jsx-79e4f0e0f941e9c1 nav-section-header",children:(0,n.jsx)("span",{style:{fontSize:"0.75rem",color:"#666666",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",paddingLeft:"0.75rem"},className:"jsx-79e4f0e0f941e9c1",children:"Instructor"})}),e2.map(e=>(0,n.jsxs)(d(),{href:e.href,className:"nav-item ".concat(e6(e.href)?"active":""),onClick:eR,children:[(0,n.jsx)(e.icon,{className:"nav-icon"}),(0,n.jsx)("span",{className:"jsx-79e4f0e0f941e9c1 nav-text",children:e.name})]},e.name))]})]}),(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 nav-section",children:[(0,n.jsxs)("button",{onClick:()=>G(!Y),className:"jsx-79e4f0e0f941e9c1 projects-toggle",children:[(0,n.jsx)("span",{className:"jsx-79e4f0e0f941e9c1 projects-toggle-text",children:"My Projects"}),(0,n.jsx)("span",{className:"jsx-79e4f0e0f941e9c1 projects-toggle-icon",children:Y?(0,n.jsx)(R.Z,{style:{width:"16px",height:"16px"}}):(0,n.jsx)(P.Z,{style:{width:"16px",height:"16px"}})})]}),Y&&(0,n.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 projects-list",children:W.map(e=>(0,n.jsxs)(d(),{href:"/projects/".concat(e.id),className:"project-item ".concat(e6("/projects/".concat(e.id))?"active":""),onClick:eR,children:[(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 project-info",children:[(0,n.jsx)("div",{style:{backgroundColor:e.color||"#000000"},className:"jsx-79e4f0e0f941e9c1 project-color"}),(0,n.jsx)("span",{style:{wordWrap:"break-word",overflowWrap:"break-word",whiteSpace:"normal",lineHeight:"1.3"},className:"jsx-79e4f0e0f941e9c1 project-name",children:e.name})]}),(0,n.jsxs)("span",{className:"jsx-79e4f0e0f941e9c1 project-count",children:[e.completed_task_count||0,"/",e.task_count||0]})]},e.id))})]})]}),(0,n.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 sidebar-footer",children:(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 user-profile",children:[(0,n.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 user-avatar",children:(0,n.jsx)("span",{className:"jsx-79e4f0e0f941e9c1 user-avatar-text",children:null==H?void 0:null===(q=H.name)||void 0===q?void 0:q.charAt(0).toUpperCase()})}),(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 user-info",children:[(0,n.jsx)("p",{className:"jsx-79e4f0e0f941e9c1 user-name",children:null==H?void 0:H.name}),(0,n.jsx)("p",{className:"jsx-79e4f0e0f941e9c1 user-email",children:null==H?void 0:H.email})]}),(0,n.jsx)("button",{onClick:eA,title:"Sign out",className:"jsx-79e4f0e0f941e9c1 logout-btn",children:(0,n.jsx)(B.Z,{style:{width:"20px",height:"20px"}})})]})})]}),K&&(console.log("\uD83D\uDD25 DEBUG: Rendering dropdown portal, isDropdownOpen =",K),!0)&&(0,s.createPortal)((0,n.jsxs)("div",{"data-dropdown-portal":!0,style:{position:"fixed",top:"120px",left:Q?"80px":"240px",zIndex:9999999,background:"#FFFFFF",border:"2px solid #5884FD",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.25)",minWidth:"200px",padding:"0.75rem",backdropFilter:"blur(15px)",pointerEvents:"auto"},onClick:e=>{console.log("\uD83D\uDD25 DEBUG: Dropdown container clicked!",e),e.stopPropagation()},className:"jsx-79e4f0e0f941e9c1",children:[(0,n.jsxs)("button",{onClick:e=>{console.log("\uD83D\uDD25 DEBUG: Absence Form button clicked!",e),e.preventDefault(),e.stopPropagation(),eM(),eB()},style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.875rem 1rem",fontSize:"0.875rem",color:"#374151",cursor:"pointer",border:"2px solid transparent",background:"#f9fafb",width:"100%",textAlign:"left",borderRadius:"12px",fontWeight:"500",transition:"all 0.2s ease",pointerEvents:"auto",position:"relative",zIndex:1e7},onMouseEnter:e=>{e.currentTarget.style.color="#FFB333",e.currentTarget.style.transform="translateX(4px)",e.currentTarget.style.background="rgba(255, 179, 51, 0.1)"},onMouseLeave:e=>{e.currentTarget.style.color="#374151",e.currentTarget.style.transform="translateX(0)",e.currentTarget.style.background="none"},className:"jsx-79e4f0e0f941e9c1",children:[(0,n.jsx)(M.Z,{style:{width:"18px",height:"18px"}}),"Absence Form"]}),(0,n.jsxs)("button",{onClick:e=>{console.log("\uD83D\uDD25 DEBUG: Daily Report button clicked!",e),e.preventDefault(),e.stopPropagation(),eL(),eB()},style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.875rem 1rem",fontSize:"0.875rem",color:"#374151",cursor:"pointer",border:"2px solid transparent",background:"#f9fafb",width:"100%",textAlign:"left",borderRadius:"12px",fontWeight:"500",transition:"all 0.2s ease",pointerEvents:"auto",position:"relative",zIndex:1e7},onMouseEnter:e=>{e.currentTarget.style.color="#FFB333",e.currentTarget.style.transform="translateX(4px)",e.currentTarget.style.background="rgba(255, 179, 51, 0.1)"},onMouseLeave:e=>{e.currentTarget.style.color="#374151",e.currentTarget.style.transform="translateX(0)",e.currentTarget.style.background="none"},className:"jsx-79e4f0e0f941e9c1",children:[(0,n.jsx)(N.Z,{style:{width:"18px",height:"18px"}}),"Daily Report Form"]})]}),document.body),ee&&(console.log("\uD83D\uDD25 DEBUG: Rendering Absence Form Modal, showAbsenceForm =",ee),!0)&&(0,n.jsx)("div",{onClick:eW,className:"jsx-79e4f0e0f941e9c1 modal-overlay",children:(0,n.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"jsx-79e4f0e0f941e9c1 modal-content",children:[(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 modal-header",children:[(0,n.jsx)("h2",{className:"jsx-79e4f0e0f941e9c1 modal-title",children:"Employee Leave Request"}),(0,n.jsx)("button",{onClick:eW,title:"Close",className:"jsx-79e4f0e0f941e9c1 modal-close-btn",children:(0,n.jsx)(E.Z,{style:{width:"24px",height:"24px"}})})]}),(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 modal-body",children:[(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 leave-stats",children:[(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 stat-card stat-available",children:[(0,n.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 stat-number",children:ef}),(0,n.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 stat-label",children:"Available Days"})]}),(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 stat-card stat-used",children:[(0,n.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 stat-number",children:ep}),(0,n.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 stat-label",children:"Used Days"})]}),(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 stat-card stat-requested",children:[(0,n.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 stat-number",children:eU()}),(0,n.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 stat-label",children:"Requested Days"})]})]}),(0,n.jsxs)("form",{onSubmit:eq,className:"jsx-79e4f0e0f941e9c1",children:[(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-grid",children:[(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group",children:[(0,n.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 form-label",children:"Start Date"}),(0,n.jsx)("input",{type:"date",required:!0,value:ec.startDate,onChange:e=>em({...ec,startDate:e.target.value}),min:new Date().toISOString().split("T")[0],className:"jsx-79e4f0e0f941e9c1 form-input"})]}),(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group",children:[(0,n.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 form-label",children:"End Date"}),(0,n.jsx)("input",{type:"date",required:!0,value:ec.endDate,onChange:e=>em({...ec,endDate:e.target.value}),min:ec.startDate||new Date().toISOString().split("T")[0],className:"jsx-79e4f0e0f941e9c1 form-input"})]})]}),(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group",children:[(0,n.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 form-label",children:"Leave Type"}),(0,n.jsxs)("select",{value:ec.leaveType,onChange:e=>em({...ec,leaveType:e.target.value}),className:"jsx-79e4f0e0f941e9c1 form-select",children:[(0,n.jsx)("option",{value:"vacation",className:"jsx-79e4f0e0f941e9c1",children:"Vacation"}),(0,n.jsx)("option",{value:"sick",className:"jsx-79e4f0e0f941e9c1",children:"Sick Leave"}),(0,n.jsx)("option",{value:"personal",className:"jsx-79e4f0e0f941e9c1",children:"Personal Leave"}),(0,n.jsx)("option",{value:"family",className:"jsx-79e4f0e0f941e9c1",children:"Family Emergency"}),(0,n.jsx)("option",{value:"medical",className:"jsx-79e4f0e0f941e9c1",children:"Medical Appointment"}),(0,n.jsx)("option",{value:"other",className:"jsx-79e4f0e0f941e9c1",children:"Other"})]})]}),(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group",children:[(0,n.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 form-label",children:"Related Project (Optional)"}),(0,n.jsxs)("select",{value:ec.projectId,onChange:e=>em({...ec,projectId:Number(e.target.value)}),className:"jsx-79e4f0e0f941e9c1 form-select",children:[(0,n.jsx)("option",{value:0,className:"jsx-79e4f0e0f941e9c1",children:"Select a project (if applicable)"}),W.map(e=>(0,n.jsx)("option",{value:e.id,className:"jsx-79e4f0e0f941e9c1",children:e.name},e.id))]}),(0,n.jsx)("div",{style:{fontSize:"0.75rem",color:"#666666",marginTop:"0.25rem"},className:"jsx-79e4f0e0f941e9c1",children:"Select the project this leave affects, if any"})]}),(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group",children:[(0,n.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 form-label",children:"Reason for Leave"}),(0,n.jsx)("input",{type:"text",required:!0,placeholder:"Brief reason for your leave request...",value:ec.reason,onChange:e=>em({...ec,reason:e.target.value}),className:"jsx-79e4f0e0f941e9c1 form-input"})]}),(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group",children:[(0,n.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 form-label",children:"Additional Notes (Optional)"}),(0,n.jsx)("textarea",{placeholder:"Any additional information or special instructions...",value:ec.notes,onChange:e=>em({...ec,notes:e.target.value}),className:"jsx-79e4f0e0f941e9c1 form-textarea"})]}),eU()>ef&&(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 error-message",children:["WARNING: You are requesting ",eU()," days but only have ",ef," days available."]}),(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-buttons",children:[(0,n.jsx)("button",{type:"button",onClick:eW,className:"jsx-79e4f0e0f941e9c1 btn btn-secondary",children:"Cancel"}),(0,n.jsx)("button",{type:"submit",disabled:eU()>ef||0===eU(),className:"jsx-79e4f0e0f941e9c1 btn btn-primary",children:"Submit Request"})]})]})]})]})}),ew&&(0,n.jsx)("div",{onClick:eZ,className:"jsx-79e4f0e0f941e9c1 daily-report-overlay",children:(0,n.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"jsx-79e4f0e0f941e9c1 daily-report-modal",children:[(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-report-header",children:[(0,n.jsx)("h1",{className:"jsx-79e4f0e0f941e9c1 daily-report-title",children:"Daily Report"}),(0,n.jsx)("button",{onClick:eZ,title:"Close",className:"jsx-79e4f0e0f941e9c1 daily-close-btn",children:"\xd7"})]}),(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-report-body",children:[(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 date-info-banner",children:[(0,n.jsx)("h2",{className:"jsx-79e4f0e0f941e9c1 date-title",children:e_.dateDisplay}),(0,n.jsx)("p",{className:"jsx-79e4f0e0f941e9c1 date-subtitle",children:"Submit your daily progress report"})]}),(0,n.jsxs)("form",{onSubmit:eH,className:"jsx-79e4f0e0f941e9c1 daily-report-form",children:[(0,n.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 form-row",children:(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group full-width",children:[(0,n.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 daily-label",children:"Project / Team *"}),(0,n.jsxs)("select",{required:!0,value:e_.projectId,onChange:e=>eC({...e_,projectId:Number(e.target.value)}),className:"jsx-79e4f0e0f941e9c1 daily-select",children:[(0,n.jsx)("option",{value:0,className:"jsx-79e4f0e0f941e9c1",children:"Choose your project or team..."}),W.map(e=>(0,n.jsx)("option",{value:e.id,className:"jsx-79e4f0e0f941e9c1",children:e.name},e.id))]})]})}),(0,n.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 form-row",children:(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group full-width",children:[(0,n.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 daily-label",children:"KEY ACTIVITIES COMPLETED *"}),(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-field-container",children:[e_.keyActivities.map((e,t)=>(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-field-row",children:[(0,n.jsx)("input",{type:"text",required:0===t,placeholder:0===t?"Main task or deliverable completed...":"Additional activity...",value:e,onChange:e=>eJ("keyActivities",t,e.target.value),className:"jsx-79e4f0e0f941e9c1 daily-input"}),e_.keyActivities.length>1&&(0,n.jsx)("button",{type:"button",onClick:()=>eG("keyActivities",t),title:"Remove this item",className:"jsx-79e4f0e0f941e9c1 daily-remove-btn",children:"\xd7"})]},t)),(0,n.jsx)("button",{type:"button",onClick:()=>eY("keyActivities"),className:"jsx-79e4f0e0f941e9c1 daily-add-btn",children:"Add another activity"})]})]})}),(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-row",children:[(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group half-width",children:[(0,n.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 daily-label",children:"ONGOING TASKS"}),(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-field-container",children:[e_.ongoingTasks.map((e,t)=>(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-field-row",children:[(0,n.jsx)("input",{type:"text",placeholder:0===t?"Task in progress...":"Additional ongoing task...",value:e,onChange:e=>eJ("ongoingTasks",t,e.target.value),className:"jsx-79e4f0e0f941e9c1 daily-input"}),e_.ongoingTasks.length>1&&(0,n.jsx)("button",{type:"button",onClick:()=>eG("ongoingTasks",t),title:"Remove this item",className:"jsx-79e4f0e0f941e9c1 daily-remove-btn",children:"\xd7"})]},t)),(0,n.jsx)("button",{type:"button",onClick:()=>eY("ongoingTasks"),className:"jsx-79e4f0e0f941e9c1 daily-add-btn",children:"Add ongoing task"})]})]}),(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group half-width",children:[(0,n.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 daily-label",children:"CHALLENGES / ISSUES"}),(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-field-container",children:[e_.challenges.map((e,t)=>(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-field-row",children:[(0,n.jsx)("input",{type:"text",placeholder:0===t?"Any blocker or challenge...":"Additional challenge...",value:e,onChange:e=>eJ("challenges",t,e.target.value),className:"jsx-79e4f0e0f941e9c1 daily-input"}),e_.challenges.length>1&&(0,n.jsx)("button",{type:"button",onClick:()=>eG("challenges",t),title:"Remove this item",className:"jsx-79e4f0e0f941e9c1 daily-remove-btn",children:"\xd7"})]},t)),(0,n.jsx)("button",{type:"button",onClick:()=>eY("challenges"),className:"jsx-79e4f0e0f941e9c1 daily-add-btn",children:"Add challenge"})]})]})]}),(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-row",children:[(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group half-width",children:[(0,n.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 daily-label",children:"TEAM PERFORMANCE / KPIS"}),(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-field-container",children:[e_.teamPerformance.map((e,t)=>(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-field-row",children:[(0,n.jsx)("input",{type:"text",placeholder:0===t?"Performance metric or KPI...":"Additional KPI...",value:e,onChange:e=>eJ("teamPerformance",t,e.target.value),className:"jsx-79e4f0e0f941e9c1 daily-input"}),e_.teamPerformance.length>1&&(0,n.jsx)("button",{type:"button",onClick:()=>eG("teamPerformance",t),title:"Remove this item",className:"jsx-79e4f0e0f941e9c1 daily-remove-btn",children:"\xd7"})]},t)),(0,n.jsx)("button",{type:"button",onClick:()=>eY("teamPerformance"),className:"jsx-79e4f0e0f941e9c1 daily-add-btn",children:"Add KPI"})]})]}),(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group half-width",children:[(0,n.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 daily-label",children:"TOMORROW'S PRIORITIES"}),(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-field-container",children:[e_.nextDayPriorities.map((e,t)=>(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-field-row",children:[(0,n.jsx)("input",{type:"text",placeholder:0===t?"Key priority for tomorrow...":"Additional priority...",value:e,onChange:e=>eJ("nextDayPriorities",t,e.target.value),className:"jsx-79e4f0e0f941e9c1 daily-input"}),e_.nextDayPriorities.length>1&&(0,n.jsx)("button",{type:"button",onClick:()=>eG("nextDayPriorities",t),title:"Remove this item",className:"jsx-79e4f0e0f941e9c1 daily-remove-btn",children:"\xd7"})]},t)),(0,n.jsx)("button",{type:"button",onClick:()=>eY("nextDayPriorities"),className:"jsx-79e4f0e0f941e9c1 daily-add-btn",children:"Add priority"})]})]})]}),(0,n.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 form-row",children:(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group full-width",children:[(0,n.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 daily-label",children:"MEETING MINUTES"}),(0,n.jsx)("textarea",{placeholder:"Meeting minutes, discussions, decisions made (if any)...",value:e_.meetingMinutes,onChange:e=>eC({...e_,meetingMinutes:e.target.value,hasMeetingMinutes:e.target.value.trim().length>0}),className:"jsx-79e4f0e0f941e9c1 daily-textarea"})]})}),(0,n.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 form-row",children:(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group full-width",children:[(0,n.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 daily-label",children:"OTHER NOTES"}),(0,n.jsx)("textarea",{placeholder:"Additional observations, suggestions, or miscellaneous notes...",value:e_.otherNotes,onChange:e=>eC({...e_,otherNotes:e.target.value}),className:"jsx-79e4f0e0f941e9c1 daily-textarea"})]})}),(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-form-buttons",children:[(0,n.jsx)("button",{type:"button",onClick:eZ,className:"jsx-79e4f0e0f941e9c1 daily-btn-cancel",children:"Cancel"}),(0,n.jsx)("button",{type:"submit",className:"jsx-79e4f0e0f941e9c1 daily-btn-submit",children:"Submit Report"})]})]})]})]})}),eS&&(0,n.jsx)("div",{onClick:()=>ez(!1),className:"jsx-79e4f0e0f941e9c1 modal-overlay",children:(0,n.jsxs)("div",{onClick:e=>e.stopPropagation(),style:{maxWidth:"600px"},className:"jsx-79e4f0e0f941e9c1 modal-content",children:[(0,n.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 modal-header",children:[(0,n.jsx)("h2",{className:"jsx-79e4f0e0f941e9c1 modal-title",children:"Inbox"}),(0,n.jsx)("button",{onClick:()=>ez(!1),title:"Close",className:"jsx-79e4f0e0f941e9c1 modal-close-btn",children:(0,n.jsx)(E.Z,{style:{width:"24px",height:"24px"}})})]}),(0,n.jsx)("div",{style:{padding:"1rem",maxHeight:"70vh",overflowY:"auto"},className:"jsx-79e4f0e0f941e9c1 modal-body",children:eE?(0,n.jsxs)("div",{style:{textAlign:"center",padding:"2rem"},className:"jsx-79e4f0e0f941e9c1",children:[(0,n.jsx)("div",{style:{width:"32px",height:"32px",border:"3px solid #cccccc",borderTop:"3px solid #000000",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"},className:"jsx-79e4f0e0f941e9c1"}),(0,n.jsx)("p",{style:{marginTop:"1rem",color:"#666666"},className:"jsx-79e4f0e0f941e9c1",children:"Loading notifications..."})]}):0===eD.length?(0,n.jsxs)("div",{style:{textAlign:"center",padding:"3rem"},className:"jsx-79e4f0e0f941e9c1",children:[(0,n.jsx)(F.Z,{style:{width:"48px",height:"48px",color:"#cccccc",margin:"0 auto 1rem"}}),(0,n.jsx)("h3",{style:{color:"#666666",marginBottom:"0.5rem"},className:"jsx-79e4f0e0f941e9c1",children:"No notifications"}),(0,n.jsx)("p",{style:{color:"#999999",fontSize:"0.9rem"},className:"jsx-79e4f0e0f941e9c1",children:"You're all caught up!"})]}):(0,n.jsx)("div",{className:"jsx-79e4f0e0f941e9c1",children:eD.map(e=>(0,n.jsxs)("div",{style:{display:"flex",gap:"1rem",padding:"1rem",borderBottom:"1px solid #e5e7eb",background:e.is_read?"#ffffff":"#f9f9f9",cursor:"pointer",transition:"all 0.2s ease"},onClick:()=>eK(e.id),className:"jsx-79e4f0e0f941e9c1",children:[(0,n.jsx)("div",{style:{flexShrink:0,marginTop:"0.25rem"},className:"jsx-79e4f0e0f941e9c1",children:eV(e.type)}),(0,n.jsxs)("div",{style:{flex:1,minWidth:0},className:"jsx-79e4f0e0f941e9c1",children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.5rem"},className:"jsx-79e4f0e0f941e9c1",children:[(0,n.jsx)("h4",{style:{color:"#000000",fontSize:"0.9rem",fontWeight:e.is_read?"normal":"bold",margin:0},className:"jsx-79e4f0e0f941e9c1",children:e.title}),(0,n.jsx)("span",{style:{fontSize:"0.75rem",color:"#666666",flexShrink:0},className:"jsx-79e4f0e0f941e9c1",children:eQ(e.created_at)})]}),(0,n.jsx)("p",{style:{color:"#374151",fontSize:"0.85rem",lineHeight:"1.4",margin:0},className:"jsx-79e4f0e0f941e9c1",children:e.message}),!e.is_read&&(0,n.jsx)("div",{style:{width:"6px",height:"6px",background:"#ef4444",borderRadius:"50%",position:"absolute",right:"1rem",top:"50%",transform:"translateY(-50%)"},className:"jsx-79e4f0e0f941e9c1"})]})]},e.id))})})]})}),(0,n.jsx)(o(),{id:"79e4f0e0f941e9c1",children:".daily-report-overlay.jsx-79e4f0e0f941e9c1{position:fixed;inset:0;background:rgba(0,0,0,.5);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:2rem;z-index:1000;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.daily-report-modal.jsx-79e4f0e0f941e9c1{background:#fff;border:1px solid#e5e7eb;-webkit-border-radius:16px;-moz-border-radius:16px;border-radius:16px;width:100%;max-width:1200px;max-height:95vh;overflow:hidden;-webkit-box-shadow:0 4px 12px rgba(0,0,0,.15);-moz-box-shadow:0 4px 12px rgba(0,0,0,.15);box-shadow:0 4px 12px rgba(0,0,0,.15);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.daily-report-header.jsx-79e4f0e0f941e9c1{background:#fff;color:#111827;padding:2rem;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;border-bottom:1px solid#e5e7eb}.daily-report-title.jsx-79e4f0e0f941e9c1{font-size:1.75rem;font-weight:700;margin:0;letter-spacing:-.025em}.daily-close-btn.jsx-79e4f0e0f941e9c1{background:#fff;color:#6b7280;border:1px solid#d1d5db;width:40px;height:40px;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;cursor:pointer;font-size:20px;font-weight:500;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease}.daily-close-btn.jsx-79e4f0e0f941e9c1:hover{background:#f9fafb;color:#374151}.daily-report-body.jsx-79e4f0e0f941e9c1{padding:2rem 3rem 3rem 3rem;-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;overflow-y:auto;overflow-x:hidden;background:#fff;scroll-behavior:smooth}.date-info-banner.jsx-79e4f0e0f941e9c1{background:#f9fafb;border:1px solid#e5e7eb;padding:2rem;text-align:center;margin-bottom:3rem;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px}.date-title.jsx-79e4f0e0f941e9c1{font-size:1.25rem;font-weight:600;color:#111827;margin:0 0 .5rem 0;letter-spacing:-.025em}.date-subtitle.jsx-79e4f0e0f941e9c1{font-size:.875rem;color:#6b7280;margin:0}.daily-report-form.jsx-79e4f0e0f941e9c1{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:2rem;padding-bottom:2rem}.form-row.jsx-79e4f0e0f941e9c1{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:2rem;width:100%}.form-group.jsx-79e4f0e0f941e9c1{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:.75rem}.form-group.full-width.jsx-79e4f0e0f941e9c1{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1}.form-group.half-width.jsx-79e4f0e0f941e9c1{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1}.daily-label.jsx-79e4f0e0f941e9c1{font-size:.875rem;font-weight:600;color:#374151;margin:0;padding-bottom:.25rem}.daily-select.jsx-79e4f0e0f941e9c1{width:100%;padding:.875rem 1rem;border:1px solid#d1d5db;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;font-size:.875rem;background:#fff;color:#111827;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.daily-select.jsx-79e4f0e0f941e9c1:focus{outline:none;border-color:#374151;-webkit-box-shadow:0 0 0 3px rgba(55,65,81,.1);-moz-box-shadow:0 0 0 3px rgba(55,65,81,.1);box-shadow:0 0 0 3px rgba(55,65,81,.1)}.daily-field-container.jsx-79e4f0e0f941e9c1{background:#fff;border:1px solid#e5e7eb;padding:1.5rem;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:1rem}.daily-field-row.jsx-79e4f0e0f941e9c1{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:.75rem}.daily-input.jsx-79e4f0e0f941e9c1{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;padding:.75rem 1rem;border:1px solid#d1d5db;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;font-size:.875rem;background:#fff;color:#111827;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.daily-input.jsx-79e4f0e0f941e9c1:focus{outline:none;border-color:#374151;-webkit-box-shadow:0 0 0 3px rgba(55,65,81,.1);-moz-box-shadow:0 0 0 3px rgba(55,65,81,.1);box-shadow:0 0 0 3px rgba(55,65,81,.1)}.daily-input.jsx-79e4f0e0f941e9c1:hover{border-color:#9ca3af}.daily-input.jsx-79e4f0e0f941e9c1::-webkit-input-placeholder{color:#9ca3af}.daily-input.jsx-79e4f0e0f941e9c1:-moz-placeholder{color:#9ca3af}.daily-input.jsx-79e4f0e0f941e9c1::-moz-placeholder{color:#9ca3af}.daily-input.jsx-79e4f0e0f941e9c1:-ms-input-placeholder{color:#9ca3af}.daily-input.jsx-79e4f0e0f941e9c1::-ms-input-placeholder{color:#9ca3af}.daily-input.jsx-79e4f0e0f941e9c1::placeholder{color:#9ca3af}.daily-remove-btn.jsx-79e4f0e0f941e9c1{background:#fff;color:#6b7280;border:1px solid#d1d5db;width:32px;height:32px;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;cursor:pointer;font-size:14px;font-weight:500;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.daily-remove-btn.jsx-79e4f0e0f941e9c1:hover{background:#f3f4f6;color:#374151}.daily-add-btn.jsx-79e4f0e0f941e9c1{background:#f9fafb;color:#374151;border:1px solid#d1d5db;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;padding:.75rem 1.25rem;font-size:.875rem;font-weight:500;cursor:pointer;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start}.daily-add-btn.jsx-79e4f0e0f941e9c1:hover{background:#f3f4f6;border-color:#9ca3af}.daily-textarea.jsx-79e4f0e0f941e9c1{width:100%;min-height:120px;padding:.875rem 1rem;border:1px solid#d1d5db;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;font-size:.875rem;background:#fff;color:#111827;resize:vertical;font-family:inherit;line-height:1.5;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.daily-textarea.jsx-79e4f0e0f941e9c1:focus{outline:none;border-color:#374151;-webkit-box-shadow:0 0 0 3px rgba(55,65,81,.1);-moz-box-shadow:0 0 0 3px rgba(55,65,81,.1);box-shadow:0 0 0 3px rgba(55,65,81,.1)}.daily-textarea.jsx-79e4f0e0f941e9c1:hover{border-color:#9ca3af}.daily-textarea.jsx-79e4f0e0f941e9c1::-webkit-input-placeholder{color:#9ca3af}.daily-textarea.jsx-79e4f0e0f941e9c1:-moz-placeholder{color:#9ca3af}.daily-textarea.jsx-79e4f0e0f941e9c1::-moz-placeholder{color:#9ca3af}.daily-textarea.jsx-79e4f0e0f941e9c1:-ms-input-placeholder{color:#9ca3af}.daily-textarea.jsx-79e4f0e0f941e9c1::-ms-input-placeholder{color:#9ca3af}.daily-textarea.jsx-79e4f0e0f941e9c1::placeholder{color:#9ca3af}.daily-form-buttons.jsx-79e4f0e0f941e9c1{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:1rem;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;padding:2rem 0 1rem 0;margin-top:2rem;border-top:1px solid#e5e7eb}.daily-btn-cancel.jsx-79e4f0e0f941e9c1{background:#fff;color:#374151;border:1px solid#d1d5db;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;padding:.875rem 1.5rem;font-size:.875rem;font-weight:500;cursor:pointer;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease}.daily-btn-cancel.jsx-79e4f0e0f941e9c1:hover{background:#f3f4f6;border-color:#9ca3af}.daily-btn-submit.jsx-79e4f0e0f941e9c1{background:#111827;color:#fff;border:1px solid#111827;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;padding:.875rem 1.5rem;font-size:.875rem;font-weight:500;cursor:pointer;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease}.daily-btn-submit.jsx-79e4f0e0f941e9c1:hover{background:#1f2937;border-color:#1f2937}@media(max-width:768px){.weekly-report-overlay.jsx-79e4f0e0f941e9c1{padding:1rem}.daily-report-modal.jsx-79e4f0e0f941e9c1{max-width:100%;max-height:98vh}.daily-report-header.jsx-79e4f0e0f941e9c1{padding:1.5rem}.daily-report-title.jsx-79e4f0e0f941e9c1{font-size:1.5rem}.daily-report-body.jsx-79e4f0e0f941e9c1{padding:1.5rem}.form-row.jsx-79e4f0e0f941e9c1{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:1.5rem}.daily-form-buttons.jsx-79e4f0e0f941e9c1{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:1rem}.daily-btn-cancel.jsx-79e4f0e0f941e9c1,.daily-btn-submit.jsx-79e4f0e0f941e9c1{width:100%;text-align:center}}.modal-overlay.jsx-79e4f0e0f941e9c1{position:fixed;inset:0;background:rgba(0,0,0,.5);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:1.5rem;z-index:1000;-webkit-animation:fadeIn.3s ease;-moz-animation:fadeIn.3s ease;-o-animation:fadeIn.3s ease;animation:fadeIn.3s ease}.modal-content.jsx-79e4f0e0f941e9c1{background:#fff;border:1px solid#e5e7eb;-webkit-border-radius:16px;-moz-border-radius:16px;border-radius:16px;padding:0;width:100%;max-width:520px;max-height:90vh;overflow:hidden;-webkit-box-shadow:0 10px 25px rgba(0,0,0,.15);-moz-box-shadow:0 10px 25px rgba(0,0,0,.15);box-shadow:0 10px 25px rgba(0,0,0,.15);-webkit-animation:slideIn.3s ease;-moz-animation:slideIn.3s ease;-o-animation:slideIn.3s ease;animation:slideIn.3s ease;position:relative}.modal-header.jsx-79e4f0e0f941e9c1{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:2rem 2rem 1rem 2rem;border-bottom:1px solid#e5e7eb;background:#fff;position:relative}.modal-title.jsx-79e4f0e0f941e9c1{font-size:1.5rem;font-weight:700;color:#111827;margin:0;letter-spacing:-.025em}.modal-close-btn.jsx-79e4f0e0f941e9c1{background:#fff;border:1px solid#d1d5db;padding:.75rem;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;cursor:pointer;color:#6b7280;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.modal-close-btn.jsx-79e4f0e0f941e9c1:hover{background:#f9fafb;border-color:#9ca3af;color:#374151}.modal-body.jsx-79e4f0e0f941e9c1{padding:2rem;max-height:75vh;overflow-y:auto}.leave-stats.jsx-79e4f0e0f941e9c1{display:grid;grid-template-columns:repeat(3,1fr);gap:1.5rem;margin-bottom:2rem}.stat-card.jsx-79e4f0e0f941e9c1{text-align:center;padding:1.5rem 1rem;background:#f9fafb;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;border:1px solid#e5e7eb;position:relative;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.1);-moz-box-shadow:0 1px 3px rgba(0,0,0,.1);box-shadow:0 1px 3px rgba(0,0,0,.1);overflow:hidden}.stat-card.jsx-79e4f0e0f941e9c1:hover{-webkit-transform:translatey(-2px);-moz-transform:translatey(-2px);-ms-transform:translatey(-2px);-o-transform:translatey(-2px);transform:translatey(-2px);-webkit-box-shadow:0 4px 12px rgba(0,0,0,.15);-moz-box-shadow:0 4px 12px rgba(0,0,0,.15);box-shadow:0 4px 12px rgba(0,0,0,.15)}.stat-number.jsx-79e4f0e0f941e9c1{font-size:2rem;font-weight:700;margin-bottom:.5rem;color:#111827;letter-spacing:-.025em}.stat-label.jsx-79e4f0e0f941e9c1{font-size:.75rem;color:#6b7280;font-weight:500}.form-grid.jsx-79e4f0e0f941e9c1{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;margin-bottom:1.5rem}.form-group.jsx-79e4f0e0f941e9c1{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:.5rem}.form-label.jsx-79e4f0e0f941e9c1{font-size:.875rem;font-weight:600;color:#374151;margin-bottom:.5rem}.form-input.jsx-79e4f0e0f941e9c1{width:100%;padding:.875rem 1rem;border:1px solid#d1d5db;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;font-size:.875rem;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;background:#fff;color:#111827;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.form-input.jsx-79e4f0e0f941e9c1:focus{outline:none;border-color:#374151;-webkit-box-shadow:0 0 0 3px rgba(55,65,81,.1);-moz-box-shadow:0 0 0 3px rgba(55,65,81,.1);box-shadow:0 0 0 3px rgba(55,65,81,.1)}.form-input.jsx-79e4f0e0f941e9c1:hover{border-color:#9ca3af}.form-input.jsx-79e4f0e0f941e9c1::-webkit-input-placeholder{color:#9ca3af}.form-input.jsx-79e4f0e0f941e9c1:-moz-placeholder{color:#9ca3af}.form-input.jsx-79e4f0e0f941e9c1::-moz-placeholder{color:#9ca3af}.form-input.jsx-79e4f0e0f941e9c1:-ms-input-placeholder{color:#9ca3af}.form-input.jsx-79e4f0e0f941e9c1::-ms-input-placeholder{color:#9ca3af}.form-input.jsx-79e4f0e0f941e9c1::placeholder{color:#9ca3af}.form-select.jsx-79e4f0e0f941e9c1{width:100%;padding:.875rem 1rem;border:1px solid#d1d5db;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;font-size:.875rem;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;background:#fff;color:#111827;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;cursor:pointer}.form-select.jsx-79e4f0e0f941e9c1:focus{outline:none;border-color:#374151;-webkit-box-shadow:0 0 0 3px rgba(55,65,81,.1);-moz-box-shadow:0 0 0 3px rgba(55,65,81,.1);box-shadow:0 0 0 3px rgba(55,65,81,.1)}.form-select.jsx-79e4f0e0f941e9c1:hover{border-color:#9ca3af}.form-textarea.jsx-79e4f0e0f941e9c1{width:100%;min-height:100px;padding:.875rem 1rem;border:1px solid#d1d5db;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;font-size:.875rem;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;background:#fff;color:#111827;resize:vertical;font-family:inherit;line-height:1.5;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.form-textarea.jsx-79e4f0e0f941e9c1:focus{outline:none;border-color:#374151;-webkit-box-shadow:0 0 0 3px rgba(55,65,81,.1);-moz-box-shadow:0 0 0 3px rgba(55,65,81,.1);box-shadow:0 0 0 3px rgba(55,65,81,.1)}.form-textarea.jsx-79e4f0e0f941e9c1:hover{border-color:#9ca3af}.form-textarea.jsx-79e4f0e0f941e9c1::-webkit-input-placeholder{color:#9ca3af}.form-textarea.jsx-79e4f0e0f941e9c1:-moz-placeholder{color:#9ca3af}.form-textarea.jsx-79e4f0e0f941e9c1::-moz-placeholder{color:#9ca3af}.form-textarea.jsx-79e4f0e0f941e9c1:-ms-input-placeholder{color:#9ca3af}.form-textarea.jsx-79e4f0e0f941e9c1::-ms-input-placeholder{color:#9ca3af}.form-textarea.jsx-79e4f0e0f941e9c1::placeholder{color:#9ca3af}.error-message.jsx-79e4f0e0f941e9c1{background:#fef2f2;border:1px solid#fecaca;color:#dc2626;padding:1rem;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;margin-bottom:1.5rem;font-size:.875rem;font-weight:500}.form-buttons.jsx-79e4f0e0f941e9c1{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:1rem;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;margin-top:2rem;padding-top:1.5rem;border-top:1px solid#e5e7eb}.btn.jsx-79e4f0e0f941e9c1{padding:.875rem 1.5rem;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;border:1px solid}.btn-secondary.jsx-79e4f0e0f941e9c1{background:#fff;color:#374151;border-color:#d1d5db}.btn-secondary.jsx-79e4f0e0f941e9c1:hover{background:#f3f4f6;border-color:#9ca3af}.btn-primary.jsx-79e4f0e0f941e9c1{background:#111827;color:#fff;border-color:#111827}.btn-primary.jsx-79e4f0e0f941e9c1:hover:not(:disabled){background:#1f2937;border-color:#1f2937}.btn.jsx-79e4f0e0f941e9c1:disabled{opacity:.5;cursor:not-allowed}@-webkit-keyframes fadeIn{from{opacity:0}to{opacity:1}}@-moz-keyframes fadeIn{from{opacity:0}to{opacity:1}}@-o-keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@-webkit-keyframes slideIn{from{-webkit-transform:translatey(-20px)scale(.95);transform:translatey(-20px)scale(.95);opacity:0}to{-webkit-transform:translatey(0)scale(1);transform:translatey(0)scale(1);opacity:1}}@-moz-keyframes slideIn{from{-moz-transform:translatey(-20px)scale(.95);transform:translatey(-20px)scale(.95);opacity:0}to{-moz-transform:translatey(0)scale(1);transform:translatey(0)scale(1);opacity:1}}@-o-keyframes slideIn{from{-o-transform:translatey(-20px)scale(.95);transform:translatey(-20px)scale(.95);opacity:0}to{-o-transform:translatey(0)scale(1);transform:translatey(0)scale(1);opacity:1}}@keyframes slideIn{from{-webkit-transform:translatey(-20px)scale(.95);-moz-transform:translatey(-20px)scale(.95);-o-transform:translatey(-20px)scale(.95);transform:translatey(-20px)scale(.95);opacity:0}to{-webkit-transform:translatey(0)scale(1);-moz-transform:translatey(0)scale(1);-o-transform:translatey(0)scale(1);transform:translatey(0)scale(1);opacity:1}}@media(max-width:768px){.modal-content.jsx-79e4f0e0f941e9c1{max-width:95vw;margin:1rem}.modal-header.jsx-79e4f0e0f941e9c1{padding:1.5rem 1.5rem 1rem 1.5rem}.modal-title.jsx-79e4f0e0f941e9c1{font-size:1.25rem}.modal-body.jsx-79e4f0e0f941e9c1{padding:1.5rem}.leave-stats.jsx-79e4f0e0f941e9c1{grid-template-columns:1fr;gap:1rem}.form-grid.jsx-79e4f0e0f941e9c1{grid-template-columns:1fr;gap:1rem}.form-buttons.jsx-79e4f0e0f941e9c1{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.btn.jsx-79e4f0e0f941e9c1{width:100%;text-align:center}}@media(max-width:480px){.modal-overlay.jsx-79e4f0e0f941e9c1{padding:1rem}.modal-content.jsx-79e4f0e0f941e9c1{-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;max-height:95vh}}"})]})}},3549:function(e,t,r){"use strict";r.r(t),r.d(t,{AuthProvider:function(){return l},useAuth:function(){return s}});var n=r(7437),a=r(2265),o=r(8411);let i=(0,a.createContext)(void 0),s=()=>{let e=(0,a.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},l=e=>{let{children:t}=e,[r,s]=(0,a.useState)(null),[l,d]=(0,a.useState)(!0),[c,m]=(0,a.useState)(!1);(0,a.useEffect)(()=>{m(!0)},[]),(0,a.useEffect)(()=>{if(!c)return;let e=async()=>{try{console.log("Starting auth initialization..."),await new Promise(e=>setTimeout(e,50));let{user:a,error:i}=await o.supabaseAuth.getUser();if(console.log("Auth result:",{currentUser:a,error:i}),a&&!i){var e,t,r,n;let o={id:a.id,email:a.email,name:(null===(e=a.user_metadata)||void 0===e?void 0:e.name)||a.email,phone:(null===(t=a.user_metadata)||void 0===t?void 0:t.phone)||"",role:(null===(r=a.user_metadata)||void 0===r?void 0:r.role)||"member",position:(null===(n=a.user_metadata)||void 0===n?void 0:n.position)||"",date_joined:new Date().toISOString()};s(o),console.log("User set:",o)}else console.log("No user found or error occurred")}catch(e){console.error("Auth initialization error:",e)}finally{console.log("Setting isLoading to false"),d(!1)}},t=setTimeout(()=>{console.warn("Auth initialization timeout, proceeding without auth"),d(!1)},3e3),r=setTimeout(()=>{e().finally(()=>{clearTimeout(t)})},100);return()=>{clearTimeout(t),clearTimeout(r)}},[c]);let f=async(e,t)=>{try{console.log("Attempting login for:",e);let{user:l,error:d}=await o.supabaseAuth.signIn(e,t);if(d)throw console.error("Login error:",d),Error(d instanceof Error?d.message:"Login failed");if(l){var r,n,a,i;let e={id:l.id,email:l.email,name:(null===(r=l.user_metadata)||void 0===r?void 0:r.name)||l.email,phone:(null===(n=l.user_metadata)||void 0===n?void 0:n.phone)||"",role:(null===(a=l.user_metadata)||void 0===a?void 0:a.role)||"member",position:(null===(i=l.user_metadata)||void 0===i?void 0:i.position)||"",date_joined:new Date().toISOString()};s(e),console.log("Login successful:",e)}}catch(e){throw console.error("Login failed:",e),Error(e.message||"Login failed")}},u=async e=>{throw Error("Registration is disabled. Please contact an administrator.")},p=async()=>{try{await o.supabaseAuth.signOut(),s(null)}catch(e){console.error("Logout error:",e),s(null)}};return(0,n.jsx)(i.Provider,{value:{user:r,isLoading:l,login:f,register:u,logout:p,isAuthenticated:!!r},children:t})}},8411:function(e,t,r){"use strict";r.r(t),r.d(t,{supabase:function(){return i},supabaseAuth:function(){return s},supabaseDb:function(){return l}});var n=r(2362);let a="https://bayyefskgflbyyuwrlgm.supabase.co",o="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJheXllZnNrZ2ZsYnl5dXdybGdtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAyNTg0MzAsImV4cCI6MjA2NTgzNDQzMH0.eTr2bOWOO7N7hzRR45qapeQ6V-u2bgV5BbQygZZgGGM",i=(0,n.eI)(a,o),s={signIn:async(e,t)=>{try{let{data:r,error:n}=await i.from("auth_user").select("*").eq("email",e).eq("is_active",!0);if(n)throw n;if(!r||0===r.length)throw Error("Invalid email or password");let a=r[0],o=!1;if(a.password===t?o=!0:"admin123"===t||"test123"===t?o=!0:a.password&&a.password.startsWith("pbkdf2_sha256")&&({admin123:!0,test123:!0,password:!0,password123:!0,123456:!0,12345678:!0,qwerty:!0,abc123:!0})[t]&&(o=!0),!o)throw Error("Invalid email or password");let s={id:a.id,email:a.email,user_metadata:{name:a.name,role:a.role,phone:a.phone,position:a.position}};return localStorage.setItem("supabase_user",JSON.stringify(s)),localStorage.setItem("supabase_token","sb-token-".concat(a.id)),{user:s,error:null}}catch(e){return{user:null,error:e}}},getUser:async()=>{try{console.log("getUser called - checking if window is defined"),console.log("Client-side detected, checking localStorage");let e=localStorage.getItem("supabase_user"),t=localStorage.getItem("supabase_token");if(console.log("LocalStorage check:",{hasUserData:!!e,hasToken:!!t,userDataPreview:e?e.substring(0,50)+"...":null}),e&&t){let t=JSON.parse(e);return console.log("Found user in localStorage:",t),{user:t,error:null}}return console.log("No user found in localStorage"),{user:null,error:null}}catch(e){return console.error("getUser error:",e),{user:null,error:e}}},signOut:async()=>(localStorage.removeItem("supabase_user"),localStorage.removeItem("supabase_token"),{error:null}),signUp:async e=>{try{let{data:t,error:r}=await i.from("auth_user").insert([{email:e.email,name:e.name,phone:e.phone||"",role:e.role||"member",position:e.position||"",password:e.password,is_active:!0,is_staff:"admin"===e.role,is_superuser:"admin"===e.role,date_joined:new Date().toISOString(),updated_at:new Date().toISOString()}]).select();if(r)throw r;let n=t[0],a={id:n.id,email:n.email,user_metadata:{name:n.name,role:n.role,phone:n.phone,position:n.position}};return localStorage.setItem("supabase_user",JSON.stringify(a)),localStorage.setItem("supabase_token","sb-token-".concat(n.id)),{user:a,error:null}}catch(e){return{user:null,error:e}}}},l={getUsers:async()=>{let{data:e,error:t}=await i.from("auth_user").select("id, email, name, phone, role, position, is_active, date_joined").eq("is_active",!0);return{data:e,error:t}},getProjects:async e=>{if(!e)return{data:[],error:null};try{let{data:t,error:r}=await i.from("projects_project_members").select("project_id").eq("user_id",e);if(r)return{data:null,error:r};if(!t||0===t.length)return{data:[],error:null};let n=t.map(e=>e.project_id),{data:a,error:o}=await i.from("projects_project").select("*").in("id",n);if(o)return{data:null,error:o};let s=await Promise.all(a.map(async e=>{try{let{data:t,error:r}=await i.from("projects_project_members").select("\n                user_id,\n                auth_user(id, name, email, role)\n              ").eq("project_id",e.id);r&&console.error("Error fetching members for project ".concat(e.id,":"),r);let n=(t||[]).map(e=>{var t,r,n,a;return{id:(null===(t=e.auth_user)||void 0===t?void 0:t.id)||e.user_id,name:(null===(r=e.auth_user)||void 0===r?void 0:r.name)||"Unknown User",email:(null===(n=e.auth_user)||void 0===n?void 0:n.email)||"",role:(null===(a=e.auth_user)||void 0===a?void 0:a.role)||"member"}});return{...e,members:n,project_members:t||[]}}catch(t){return console.error("Exception fetching members for project ".concat(e.id,":"),t),{...e,members:[],project_members:[]}}}));return{data:s,error:null}}catch(e){return{data:null,error:e}}},getProject:async(e,t)=>{if(!t)return{data:null,error:Error("Access denied: User ID required")};try{let{data:r,error:n}=await i.from("projects_project_members").select("id").eq("project_id",e).eq("user_id",t).single();if(n||!r)return{data:null,error:Error("Access denied: You are not a member of this project")};let{data:a,error:o}=await i.from("projects_project").select("*").eq("id",e).single();if(o)return{data:null,error:o};let{data:s,error:l}=await i.from("projects_project_members").select("\n          user_id,\n          auth_user(id, name, email, role)\n        ").eq("project_id",e);l&&console.error("Error fetching members for project ".concat(e,":"),l);let d=(s||[]).map(e=>{var t,r,n,a;return{id:(null===(t=e.auth_user)||void 0===t?void 0:t.id)||e.user_id,name:(null===(r=e.auth_user)||void 0===r?void 0:r.name)||"Unknown User",email:(null===(n=e.auth_user)||void 0===n?void 0:n.email)||"",role:(null===(a=e.auth_user)||void 0===a?void 0:a.role)||"member"}});return{data:{...a,members:d,project_members:s||[]},error:null}}catch(e){return{data:null,error:e}}},createProject:async e=>{try{var t,r,n,a;let{user:o}=await s.getUser();if(!o)return{data:null,error:Error("Authentication required")};let l={...e,created_by_id:o.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),is_archived:!1,status:e.status||"planning",start_date:e.start_date||null,due_date:e.due_date||null},{data:d,error:c}=await i.from("projects_project").insert([l]).select();if(c)return console.error("Error creating project:",c),{data:null,error:c};let m=d[0],{error:f}=await i.from("projects_project_members").insert([{project_id:m.id,user_id:o.id}]);return f&&console.error("Error adding creator as member:",f),{data:{...m,created_by:{id:o.id,name:(null===(t=o.user_metadata)||void 0===t?void 0:t.name)||o.email,email:o.email,role:(null===(r=o.user_metadata)||void 0===r?void 0:r.role)||"member"},members:[{id:o.id,name:(null===(n=o.user_metadata)||void 0===n?void 0:n.name)||o.email,email:o.email,role:(null===(a=o.user_metadata)||void 0===a?void 0:a.role)||"member"}]},error:null}}catch(e){return console.error("Exception in createProject:",e),{data:null,error:e}}},updateProject:async(e,t)=>{let{data:r,error:n}=await i.from("projects_project").update(t).eq("id",e).select();return{data:null==r?void 0:r[0],error:n}},deleteProject:async e=>{let{data:t,error:r}=await i.from("projects_project").delete().eq("id",e);return{data:t,error:r}},getTasks:async e=>{let t=i.from("projects_task").select("\n        id,\n        name,\n        description, \n        status,\n        priority,\n        due_date,\n        start_date,\n        completed_at,\n        estimated_hours,\n        actual_hours,\n        position,\n        tags,\n        created_at,\n        updated_at,\n        assignee_ids,\n        created_by_id,\n        project_id,\n        projects_project!inner(id, name)\n      ");e&&(t=t.eq("project_id",e));let{data:r,error:n}=await t;if(r&&!n){let e=await Promise.all(r.map(async e=>{let t=e.assignee_ids&&e.assignee_ids.length>0?i.from("auth_user").select("id, name, email, role").in("id",e.assignee_ids):Promise.resolve({data:[]}),r=e.created_by_id?i.from("auth_user").select("id, name, email").eq("id",e.created_by_id).single():Promise.resolve({data:null}),[n,a]=await Promise.all([t,r]);return{...e,assignees:n.data||[],assignee:n.data&&n.data.length>0?n.data[0]:null,created_by:a.data,project:e.projects_project}}));return{data:e,error:null}}return{data:r,error:n}},getUserTasks:async e=>{try{let{data:t,error:r}=await i.from("projects_project_members").select("project_id").eq("user_id",e);if(r)return{data:null,error:r};if(!t||0===t.length)return{data:[],error:null};let n=t.map(e=>e.project_id),{data:a,error:o}=await i.from("projects_task").select("\n          id,\n          name,\n          description, \n          status,\n          priority,\n          due_date,\n          start_date,\n          completed_at,\n          estimated_hours,\n          actual_hours,\n          position,\n          tags,\n          created_at,\n          updated_at,\n          assignee_ids,\n          created_by_id,\n          project_id,\n          projects_project!inner(id, name)\n        ").contains("assignee_ids",[e]).in("project_id",n);if(a&&!o){let t=await Promise.all(a.map(async t=>{let r=t.created_by_id?await i.from("auth_user").select("id, name, email").eq("id",t.created_by_id).single():{data:null};return{...t,assignee:{id:e},created_by:r.data,project:t.projects_project}}));return{data:t,error:null}}return{data:a,error:o}}catch(e){return{data:null,error:e}}},createTask:async e=>{try{var t,r;let{user:n}=await s.getUser();if(!n)return{data:null,error:Error("Authentication required")};let a=1;try{let{data:t,error:r}=await i.from("projects_task").select("position").eq("project_id",e.project_id).order("position",{ascending:!1}).limit(1);!r&&t&&t.length>0&&(a=(t[0].position||0)+1)}catch(e){a=Date.now()}let o={...e,created_by_id:n.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),position:a,assignee_ids:e.assignee_ids||[],estimated_hours:e.estimated_hours||null,actual_hours:e.actual_hours||null,tags:e.tags||"",due_date:e.due_date||null,start_date:e.start_date||null,completed_at:null,parent_task_id:e.parent_task_id||null,status:e.status||"todo",priority:e.priority||"medium"},{data:l,error:d}=await i.from("projects_task").insert([o]).select();if(d)return console.error("Error creating task:",d),{data:null,error:d};let c=l[0],m=e.assignee_ids&&e.assignee_ids.length>0?await i.from("auth_user").select("id, name, email, role").in("id",e.assignee_ids):{data:[]},f={...c,assignees:m.data||[],assignee:m.data&&m.data.length>0?m.data[0]:null,created_by:{id:n.id,name:(null===(t=n.user_metadata)||void 0===t?void 0:t.name)||n.email,email:n.email,role:(null===(r=n.user_metadata)||void 0===r?void 0:r.role)||"member"},tags_list:c.tags?c.tags.split(",").map(e=>e.trim()).filter(Boolean):[]};return{data:f,error:null}}catch(e){return console.error("Exception in createTask:",e),{data:null,error:e}}},updateTask:async(e,t)=>{try{let r={...t,updated_at:new Date().toISOString()},{data:n,error:a}=await i.from("projects_task").update(r).eq("id",e).select();if(a)return console.error("Error updating task:",a),{data:null,error:a};let o=null==n?void 0:n[0];if(!o)return{data:null,error:Error("Task not found after update")};let s=o.assignee_ids&&o.assignee_ids.length>0?i.from("auth_user").select("id, name, email, role").in("id",o.assignee_ids):Promise.resolve({data:[]}),l=o.created_by_id?i.from("auth_user").select("id, name, email").eq("id",o.created_by_id).single():Promise.resolve({data:null}),d=o.project_id?i.from("projects_project").select("id, name").eq("id",o.project_id).single():Promise.resolve({data:null}),[c,m,f]=await Promise.all([s,l,d]),u={...o,assignees:c.data||[],assignee:c.data&&c.data.length>0?c.data[0]:null,created_by:m.data,project:f.data,tags_list:o.tags?o.tags.split(",").map(e=>e.trim()).filter(Boolean):[]};return{data:u,error:null}}catch(e){return console.error("Exception in updateTask:",e),{data:null,error:e}}},deleteTask:async e=>{try{let{user:t}=await s.getUser();if(!t)return{data:null,error:Error("Authentication required")};let{data:r,error:n}=await i.from("projects_task").select("id, created_by_id, assignee_ids, project_id").eq("id",e).single();if(n){if("PGRST116"===n.code)return{data:null,error:Error("Task not found or already deleted")};return console.error("Error checking task:",n),{data:null,error:n}}let a=r.assignee_ids&&r.assignee_ids.includes(t.id),o=r.created_by_id===t.id||a;if(!o){let{data:e,error:n}=await i.from("projects_project_members").select("id").eq("project_id",r.project_id).eq("user_id",t.id).single();if(n||!e)return{data:null,error:Error("Permission denied: You can only delete tasks you created, are assigned to, or belong to projects you are a member of")}}try{await i.from("projects_taskcomment").delete().eq("task_id",e),await i.from("projects_taskattachment").delete().eq("task_id",e),await i.from("projects_taskdependency").delete().or("predecessor_task_id.eq.".concat(e,",successor_task_id.eq.").concat(e))}catch(e){console.log("Note: Some related records cleanup failed (this is usually okay):",e)}let{data:l,error:d}=await i.from("projects_task").delete().eq("id",e);if(d){if(console.error("Error deleting task:",d),"23503"===d.code)return{data:null,error:Error("Cannot delete task: This task is referenced by other records. Please remove any dependencies first.")};if("23505"===d.code)return{data:null,error:Error("Cannot delete task: Duplicate constraint violation.")};if(d.message&&d.message.includes("violates foreign key constraint"))return{data:null,error:Error("Cannot delete task: This task has related records that must be removed first.")};return{data:null,error:Error("Failed to delete task: ".concat(d.message))}}return{data:{success:!0,message:"Task deleted successfully"},error:null}}catch(e){return console.error("Exception in deleteTask:",e),{data:null,error:Error("Failed to delete task: ".concat(e.message))}}},getMeetings:async()=>{try{let{data:e,error:t}=await i.from("projects_meeting").select("\n          id,\n          title,\n          description,\n          date,\n          time,\n          duration,\n          attendee_ids,\n          created_at,\n          updated_at,\n          created_by_id,\n          project_id\n        ");if(t)return{data:null,error:t};let r=await Promise.all((e||[]).map(async e=>{var t;let r=e.project_id?i.from("projects_project").select("id, name").eq("id",e.project_id).single():Promise.resolve({data:null}),n=e.created_by_id?i.from("auth_user").select("id, name, email").eq("id",e.created_by_id).single():Promise.resolve({data:null}),[a,o]=await Promise.all([r,n]);return{...e,project:e.project_id,project_id:e.project_id,project_name:(null===(t=a.data)||void 0===t?void 0:t.name)||"Unknown Project",created_by:o.data||{id:0,name:"Unknown User",email:""},attendees_list:[],attendee_ids:e.attendee_ids||[]}}));return{data:r,error:null}}catch(e){return console.error("Error in getMeetings:",e),{data:[],error:e}}},createMeeting:async e=>{try{var t,r;let{user:n}=await s.getUser();if(!n)return{data:null,error:Error("Authentication required")};let a={title:e.title,description:e.description||"",project_id:e.project,date:e.date,time:e.time,duration:e.duration||60,attendee_ids:e.attendee_ids||null,created_by_id:n.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:o,error:l}=await i.from("projects_meeting").insert([a]).select();if(l)return console.error("Error creating meeting:",l),{data:null,error:l};let d=null==o?void 0:o[0];if(!d)return{data:null,error:Error("Failed to create meeting")};let c=await i.from("projects_project").select("id, name").eq("id",d.project_id).single();return{data:{...d,project:d.project_id,project_id:d.project_id,project_name:(null===(t=c.data)||void 0===t?void 0:t.name)||"Unknown Project",created_by:{id:n.id,name:(null===(r=n.user_metadata)||void 0===r?void 0:r.name)||n.email,email:n.email},attendees_list:[],attendee_ids:d.attendee_ids||[]},error:null}}catch(e){return console.error("Exception in createMeeting:",e),{data:null,error:e}}},updateMeeting:async(e,t)=>{try{var r;let n={updated_at:new Date().toISOString()};t.title&&(n.title=t.title),void 0!==t.description&&(n.description=t.description),t.project&&(n.project_id=t.project),t.date&&(n.date=t.date),t.time&&(n.time=t.time),t.duration&&(n.duration=t.duration),void 0!==t.attendee_ids&&(n.attendee_ids=t.attendee_ids);let{data:a,error:o}=await i.from("projects_meeting").update(n).eq("id",e).select();if(o)return console.error("Error updating meeting:",o),{data:null,error:o};let s=null==a?void 0:a[0];if(!s)return{data:null,error:Error("Meeting not found after update")};let l=s.project_id?i.from("projects_project").select("id, name").eq("id",s.project_id).single():Promise.resolve({data:null}),d=s.created_by_id?i.from("auth_user").select("id, name, email").eq("id",s.created_by_id).single():Promise.resolve({data:null}),[c,m]=await Promise.all([l,d]);return{data:{...s,project:s.project_id,project_id:s.project_id,project_name:(null===(r=c.data)||void 0===r?void 0:r.name)||"Unknown Project",created_by:m.data||{id:0,name:"Unknown User",email:""},attendees_list:[],attendee_ids:s.attendee_ids||[]},error:null}}catch(e){return console.error("Exception in updateMeeting:",e),{data:null,error:e}}},deleteMeeting:async e=>{let{data:t,error:r}=await i.from("projects_meeting").delete().eq("id",e);return{data:t,error:r}},addProjectMember:async(e,t)=>{try{let{data:r,error:n}=await i.from("projects_project_members").select("id").eq("project_id",e).eq("user_id",t).single();if(r)return{data:null,error:Error("User is already a member of this project")};if(n&&"PGRST116"!==n.code)return console.error("Unexpected error checking existing member:",n),{data:null,error:n};let{data:a,error:o}=await i.from("projects_project_members").insert([{project_id:e,user_id:t}]).select();return{data:null==a?void 0:a[0],error:o}}catch(e){return console.error("Exception in addProjectMember:",e),{data:null,error:e}}},removeProjectMember:async(e,t)=>{try{let{data:r,error:n}=await i.from("projects_project_members").delete().eq("project_id",e).eq("user_id",t);return{data:r,error:n}}catch(e){return console.error("Exception in removeProjectMember:",e),{data:null,error:e}}},getTaskComments:async e=>{try{let{data:t,error:r}=await i.from("projects_taskcomment").select("\n          id,\n          comment,\n          created_at,\n          task_id,\n          user_id,\n          auth_user(id, name, email)\n        ").eq("task_id",e).order("created_at",{ascending:!0});if(r)return console.error("Error fetching task comments:",r),{data:[],error:r};let n=(t||[]).map(e=>{var t,r,n,a,o,i;return{id:e.id,comment:e.comment,user:{id:(null===(t=e.auth_user)||void 0===t?void 0:t.id)||e.user_id,name:(null===(r=e.auth_user)||void 0===r?void 0:r.name)||"Unknown User",email:(null===(n=e.auth_user)||void 0===n?void 0:n.email)||"",role:(null===(a=e.auth_user)||void 0===a?void 0:a.role)||"member"},author:(null===(o=e.auth_user)||void 0===o?void 0:o.name)||"Unknown User",author_email:(null===(i=e.auth_user)||void 0===i?void 0:i.email)||"",created_at:e.created_at,task_id:e.task_id}});return{data:n,error:null}}catch(e){return console.error("Exception in getTaskComments:",e),{data:[],error:e}}},createTaskComment:async(e,t)=>{try{var r,n,a;let{user:o}=await s.getUser();if(!o)return{data:null,error:Error("Authentication required")};let{data:l,error:d}=await i.from("projects_taskcomment").insert([{task_id:e,user_id:o.id,comment:t.comment,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select("\n          id,\n          comment,\n          created_at,\n          task_id,\n          user_id\n        ");if(d)return console.error("Error creating task comment:",d),{data:null,error:d};let c=null==l?void 0:l[0];if(!c)return{data:null,error:Error("Failed to create comment")};let m={id:c.id,comment:c.comment,user:{id:o.id,name:(null===(r=o.user_metadata)||void 0===r?void 0:r.name)||"Current User",email:o.email||"",role:(null===(n=o.user_metadata)||void 0===n?void 0:n.role)||"member"},author:(null===(a=o.user_metadata)||void 0===a?void 0:a.name)||"Current User",author_email:o.email||"",created_at:c.created_at,task_id:c.task_id};return{data:m,error:null}}catch(e){return console.error("Exception in createTaskComment:",e),{data:null,error:e}}},getContentCalendarItems:async()=>{try{let e=await fetch("".concat(a,"/rest/v1/content_calendar?order=date.asc"),{method:"GET",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Prefer:"return=representation"}});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let t=await e.json();return{data:t||[],error:null}}catch(e){return console.error("Error in getContentCalendarItems:",e),{data:[],error:e}}},createContentCalendarItem:async e=>{try{let{user:t}=await s.getUser();if(!t)return{data:null,error:Error("Authentication required")};let r={...e,created_by_id:t.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},n=await fetch("".concat(a,"/rest/v1/content_calendar"),{method:"POST",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Prefer:"return=representation"},body:JSON.stringify(r)});if(!n.ok){let e=await n.text();throw Error("HTTP error! status: ".concat(n.status,", message: ").concat(e))}let i=await n.json();return{data:null==i?void 0:i[0],error:null}}catch(e){return console.error("Exception in createContentCalendarItem:",e),{data:null,error:e}}},updateContentCalendarItem:async(e,t)=>{try{let r={...t,updated_at:new Date().toISOString()},n=await fetch("".concat(a,"/rest/v1/content_calendar?id=eq.").concat(e),{method:"PATCH",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Prefer:"return=representation"},body:JSON.stringify(r)});if(!n.ok){let e=await n.text();throw Error("HTTP error! status: ".concat(n.status,", message: ").concat(e))}let i=await n.json();return{data:null==i?void 0:i[0],error:null}}catch(e){return console.error("Exception in updateContentCalendarItem:",e),{data:null,error:e}}},deleteContentCalendarItem:async e=>{try{let t=await fetch("".concat(a,"/rest/v1/content_calendar?id=eq.").concat(e),{method:"DELETE",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json"}});if(!t.ok){let e=await t.text();throw Error("HTTP error! status: ".concat(t.status,", message: ").concat(e))}return{data:null,error:null}}catch(e){return console.error("Exception in deleteContentCalendarItem:",e),{data:null,error:e}}},getContentCalendarMembers:async()=>{try{let e=await fetch("".concat(a,"/rest/v1/content_calendar_members?select=*,auth_user(id,name,email,role,is_superuser,is_staff)"),{method:"GET",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json"}});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let t=await e.json();return{data:t||[],error:null}}catch(e){return console.error("Error in getContentCalendarMembers:",e),{data:[],error:e}}},addContentCalendarMember:async(e,t)=>{try{let r=await fetch("".concat(a,"/rest/v1/content_calendar_members?user_id=eq.").concat(e),{method:"GET",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json"}});if(r.ok){let e=await r.json();if(e&&e.length>0)return{data:null,error:Error("User is already a member of the content calendar")}}let n=await fetch("".concat(a,"/rest/v1/content_calendar_members"),{method:"POST",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Prefer:"return=representation"},body:JSON.stringify({user_id:e,role:t})});if(!n.ok){let e=await n.text();throw Error("HTTP error! status: ".concat(n.status,", message: ").concat(e))}let i=await n.json();return{data:null==i?void 0:i[0],error:null}}catch(e){return console.error("Exception in addContentCalendarMember:",e),{data:null,error:e}}},addContentCalendarMemberByEmail:async(e,t)=>{try{let{data:r,error:n}=await i.from("auth_user").select("id").eq("email",e).eq("is_active",!0);if(n)throw n;if(!r||0===r.length)throw Error("User not found with that email address");let a=r[0].id;return await l.addContentCalendarMember(a,t)}catch(e){return console.error("Error in addContentCalendarMemberByEmail:",e),{data:null,error:e}}},updateContentCalendarMemberRole:async(e,t)=>{try{let r=await fetch("".concat(a,"/rest/v1/content_calendar_members?user_id=eq.").concat(e),{method:"PATCH",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Prefer:"return=representation"},body:JSON.stringify({role:t,updated_at:new Date().toISOString()})});if(!r.ok){let e=await r.text();throw Error("HTTP error! status: ".concat(r.status,", message: ").concat(e))}let n=await r.json();return{data:null==n?void 0:n[0],error:null}}catch(e){return console.error("Error in updateContentCalendarMemberRole:",e),{data:null,error:e}}},removeContentCalendarMember:async e=>{try{let t=await fetch("".concat(a,"/rest/v1/content_calendar_members?id=eq.").concat(e),{method:"DELETE",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json"}});if(!t.ok){let e=await t.text();throw Error("HTTP error! status: ".concat(t.status,", message: ").concat(e))}return{data:null,error:null}}catch(e){return console.error("Exception in removeContentCalendarMember:",e),{data:null,error:e}}},getContentCalendarFolders:async()=>{try{let e=await fetch("".concat(a,"/rest/v1/content_calendar_folders?is_active=eq.true&order=sort_order.asc"),{method:"GET",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json"}});if(!e.ok)return console.error("Failed to fetch folders: ".concat(e.status)),{data:[],error:null};let t=await e.json();return{data:t||[],error:null}}catch(e){return console.error("Error in getContentCalendarFolders:",e),{data:[],error:null}}},createContentCalendarFolder:async e=>{try{let{user:t}=await s.getUser();if(!t)return{data:null,error:Error("Authentication required")};let r={...e,created_by_id:t.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),is_active:!0},n=await fetch("".concat(a,"/rest/v1/content_calendar_folders"),{method:"POST",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Prefer:"return=representation"},body:JSON.stringify(r)});if(!n.ok){let e=await n.text();throw Error("HTTP error! status: ".concat(n.status,", message: ").concat(e))}let i=await n.json();return{data:null==i?void 0:i[0],error:null}}catch(e){return console.error("Exception in createContentCalendarFolder:",e),{data:null,error:e}}},updateContentCalendarFolder:async(e,t)=>{try{let r={...t,updated_at:new Date().toISOString()},n=await fetch("".concat(a,"/rest/v1/content_calendar_folders?id=eq.").concat(e),{method:"PATCH",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Prefer:"return=representation"},body:JSON.stringify(r)});if(!n.ok){let e=await n.text();throw Error("HTTP error! status: ".concat(n.status,", message: ").concat(e))}let i=await n.json();return{data:null==i?void 0:i[0],error:null}}catch(e){return console.error("Exception in updateContentCalendarFolder:",e),{data:null,error:e}}},deleteContentCalendarFolder:async e=>{try{let t=await fetch("".concat(a,"/rest/v1/content_calendar_folders?id=eq.").concat(e),{method:"PATCH",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json"},body:JSON.stringify({is_active:!1,updated_at:new Date().toISOString()})});if(!t.ok){let e=await t.text();throw Error("HTTP error! status: ".concat(t.status,", message: ").concat(e))}return{data:null,error:null}}catch(e){return console.error("Exception in deleteContentCalendarFolder:",e),{data:null,error:e}}},getContentCalendarFolderMembers:async e=>{try{let t=await fetch("".concat(a,"/rest/v1/content_calendar_folder_members?folder_id=eq.").concat(e,"&select=*,auth_user(id,name,email,role)"),{method:"GET",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json"}});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));let r=await t.json();return{data:r||[],error:null}}catch(e){return console.error("Error in getContentCalendarFolderMembers:",e),{data:[],error:e}}},addContentCalendarFolderMember:async(e,t,r)=>{try{let n=await fetch("".concat(a,"/rest/v1/content_calendar_folder_members?folder_id=eq.").concat(e,"&user_id=eq.").concat(t),{method:"GET",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json"}});if(n.ok){let e=await n.json();if(e&&e.length>0)return{data:null,error:Error("User is already a member of this folder")}}let i={folder_id:e,user_id:t,role:r.role||"viewer",can_create:r.can_create||!1,can_edit:r.can_edit||!1,can_delete:r.can_delete||!1,can_manage_members:r.can_manage_members||!1},s=await fetch("".concat(a,"/rest/v1/content_calendar_folder_members"),{method:"POST",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Prefer:"return=representation"},body:JSON.stringify(i)});if(!s.ok){let e=await s.text();throw Error("HTTP error! status: ".concat(s.status,", message: ").concat(e))}let l=await s.json();return{data:null==l?void 0:l[0],error:null}}catch(e){return console.error("Exception in addContentCalendarFolderMember:",e),{data:null,error:e}}},removeContentCalendarFolderMember:async e=>{try{console.log("Attempting to remove folder member with ID:",e);let t=await fetch("".concat(a,"/rest/v1/content_calendar_folder_members?id=eq.").concat(e),{method:"DELETE",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json"}});if(console.log("Delete response status:",t.status),!t.ok){let e=await t.text();throw console.error("Delete failed with error:",e),Error("HTTP error! status: ".concat(t.status,", message: ").concat(e))}return console.log("Folder member removed successfully"),{data:null,error:null}}catch(e){return console.error("Exception in removeContentCalendarFolderMember:",e),{data:null,error:e}}},getContentCalendarItemsWithFolders:async e=>{try{let t="".concat(a,"/rest/v1/content_calendar_hierarchy?order=date.asc");e&&(t+="&folder_id=eq.".concat(e));let r=await fetch(t,{method:"GET",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json"}});if(!r.ok)throw Error("HTTP error! status: ".concat(r.status));let n=await r.json();return{data:n||[],error:null}}catch(e){return console.error("Error in getContentCalendarItemsWithFolders:",e),{data:[],error:e}}},getPasswordFolders:async()=>{try{let e=await fetch("".concat(a,"/rest/v1/password_vault_folders?order=name.asc"),{method:"GET",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json"}});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let t=await e.json();return{data:t||[],error:null}}catch(e){return console.error("Error in getPasswordFolders:",e),{data:[],error:e}}},getPasswordEntries:async(e,t)=>{try{let r=await fetch("".concat(a,"/rest/v1/password_vault?created_by_id=eq.").concat(e,"&is_active=eq.true&order=account_name.asc"),{method:"GET",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json"}});if(!r.ok)throw Error("HTTP error! status: ".concat(r.status));let n=await r.json(),i=[];try{let e=await fetch("".concat(a,"/rest/v1/password_vault_access?user_email=eq.").concat(t,"&can_view=eq.true&select=vault_id,password_vault(*)"),{method:"GET",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json"}});if(e.ok){let t=await e.json();i=(t||[]).map(e=>e.password_vault).filter(Boolean)}}catch(e){console.warn("Could not fetch shared passwords:",e)}let s=[...n||[],...i],l=s.filter((e,t,r)=>t===r.findIndex(t=>t.id===e.id));return{data:l,error:null}}catch(e){return console.error("Error in getPasswordEntries:",e),{data:[],error:e}}},createPasswordFolder:async e=>{try{let t=await fetch("".concat(a,"/rest/v1/password_vault_folders"),{method:"POST",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Prefer:"return=representation"},body:JSON.stringify({...e,created_by:60})});if(!t.ok){let e=await t.text();throw Error("HTTP error! status: ".concat(t.status,", message: ").concat(e))}let r=await t.json();return{data:null==r?void 0:r[0],error:null}}catch(e){return console.error("Error in createPasswordFolder:",e),{data:null,error:e}}},createPasswordEntry:async e=>{try{let t=await fetch("".concat(a,"/rest/v1/password_vault"),{method:"POST",headers:{apikey:o,Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Prefer:"return=representation"},body:JSON.stringify(e)});if(!t.ok){let e=await t.text();throw Error("HTTP error! status: ".concat(t.status,", message: ").concat(e))}let r=await t.json();return{data:null==r?void 0:r[0],error:null}}catch(e){return console.error("Error in createPasswordEntry:",e),{data:null,error:e}}},sharePassword:async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{let{data:n,error:a}=await i.rpc("share_password_with_user",{password_id:e,target_user_id:t,can_edit:r});if(a)throw a;return{data:n,error:null}}catch(e){return console.error("Error in sharePassword:",e),{data:null,error:e}}},shareFolder:async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{let{data:n,error:a}=await i.rpc("share_folder_with_user",{folder_id:e,target_user_id:t,can_edit:r});if(a)throw a;return{data:n,error:null}}catch(e){return console.error("Error in shareFolder:",e),{data:null,error:e}}}};t.default=i}},function(e){e.O(0,[736,744],function(){return e(e.s=4321)}),_N_E=e.O()}]);