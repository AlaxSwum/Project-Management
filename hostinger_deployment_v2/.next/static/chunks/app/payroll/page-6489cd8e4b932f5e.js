(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{96413:function(e,t,l){Promise.resolve().then(l.bind(l,29218))},29218:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return D},dynamic:function(){return I},revalidate:function(){return k}});var n=l(57437),r=l(2265),i=l(24033),a=l(3549),o=l(68714),s=l(78411),d=l(60930);let p={r:77,g:166,b:169},c={r:220,g:242,b:243},x={r:51,g:51,b:51},h={r:102,g:102,b:102},y={r:200,g:200,b:200},m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\xa3",l="string"==typeof e?parseFloat(e):e;return isNaN(l)?"".concat(t,"0.00"):"".concat(t).concat(l.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2}))},g=e=>{if(!e)return"-";try{let t=new Date(e);return t.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(t){return e}};function u(e){let t=new d.kH("p","mm","a4"),l=t.internal.pageSize.getWidth(),n=l-30,r=15;t.setFontSize(28),t.setFont("helvetica","bold"),t.setTextColor(x.r,x.g,x.b),t.text("PAYSLIP",15,r+12),t.setFontSize(18),t.setTextColor(p.r,p.g,p.b),t.text("Hush Healthcare",l-15,r+10,{align:"right"}),t.setFontSize(10),t.setTextColor(h.r,h.g,h.b),t.text("Ltd",l-15,r+16,{align:"right"}),r+=28,t.setFillColor(p.r,p.g,p.b),t.rect(15,r,n,8,"F"),t.setTextColor(255,255,255),t.setFontSize(10),t.setFont("helvetica","bold"),t.text("Hush Healthcare Ltd",19,r+5.5),r+=8,t.setTextColor(x.r,x.g,x.b),t.setFontSize(9),t.setFont("helvetica","normal"),t.text("Healthcare Services",19,r+6),t.text("PAYE Ref: "+(e.employerPAYEReference||"120/WE94437"),19,r+12),r+=18,t.setDrawColor(y.r,y.g,y.b),t.line(15,r,l-15,r),r+=8;let i=(n-10)/2;t.setFillColor(p.r,p.g,p.b),t.rect(15,r,i,8,"F"),t.setTextColor(255,255,255),t.setFontSize(9),t.setFont("helvetica","bold"),t.text("Employee Details",19,r+5.5),t.setFillColor(p.r,p.g,p.b),t.rect(15+i+10,r,i,8,"F"),t.setTextColor(255,255,255),t.text("Payment Details",15+i+14,r+5.5),r+=8,t.setFillColor(c.r,c.g,c.b),t.rect(15,r,i,32,"F"),t.setFillColor(c.r,c.g,c.b),t.rect(15+i+10,r,i,32,"F"),t.setTextColor(x.r,x.g,x.b),t.setFontSize(8),t.setFont("helvetica","bold"),t.text("Employee Name",19,r+8),t.setFont("helvetica","normal"),t.text(e.employeeName||"-",19,r+14),t.setFont("helvetica","bold"),t.text("Employee ID",19,r+22),t.setFont("helvetica","normal"),t.text(e.employeeId||"-",19,r+28),t.setTextColor(x.r,x.g,x.b),t.setFont("helvetica","bold"),t.text("Tax Code",15+i+14,r+8),t.setFont("helvetica","normal"),t.text(e.taxCode||"-",15+i+50,r+8),t.setFont("helvetica","bold"),t.text("NI Number",15+i+14,r+16),t.setFont("helvetica","normal"),t.text(e.nationalInsuranceNumber||"-",15+i+50,r+16),t.setFont("helvetica","bold"),t.text("NI Table",15+i+14,r+24),t.setFont("helvetica","normal"),t.text(e.nationalInsuranceTable||"A",15+i+50,r+24),r+=40,t.setDrawColor(y.r,y.g,y.b),t.line(15,r,l-15,r),r+=2,t.setTextColor(x.r,x.g,x.b),t.setFontSize(9),t.setFont("helvetica","bold"),t.text("Period End",19,r+6),t.setFont("helvetica","normal"),t.text(g(e.monthEnding),55,r+6),t.setFont("helvetica","bold"),t.text("Payment Date",15+i+14,r+6),t.setFont("helvetica","normal"),t.text(g(e.paidDate),15+i+50,r+6),r+=14,t.line(15,r,l-15,r),r+=8,t.setFillColor(p.r,p.g,p.b),t.rect(15,r,n,8,"F"),t.setTextColor(255,255,255),t.setFontSize(8),t.setFont("helvetica","bold");t.text("Payments",19,r+5.5),t.text("Type",85,r+5.5),t.text("Rate",115,r+5.5),t.text("Hours",145,r+5.5),t.text("Amount",175,r+5.5),r+=8,t.setTextColor(x.r,x.g,x.b),t.setFont("helvetica","normal"),t.text("Basic Pay",19,r+6),t.text("Hourly",85,r+6),t.text(m(e.rate),115,r+6),t.text(e.hours||"0",145,r+6),t.text(m(e.grossPay),175,r+6),r+=8,t.text("Holiday Pay",19,r+6),t.text("Allowance",85,r+6),t.text("-",115,r+6),t.text("-",145,r+6),t.text(m(e.holidayPay),175,r+6),r+=10,t.line(15,r,l-15,r),t.setFont("helvetica","bold"),t.text("Total Gross Pay",19,r+6),t.text(m(e.totalPayments),175,r+6),r+=14,t.setFillColor(p.r,p.g,p.b),t.rect(15,r,n,8,"F"),t.setTextColor(255,255,255),t.setFontSize(8),t.setFont("helvetica","bold"),t.text("Deductions",19,r+5.5),t.text("Amount",175,r+5.5),r+=8,t.setTextColor(x.r,x.g,x.b),t.setFont("helvetica","normal"),t.text("PAYE Tax",19,r+6),t.text(m(e.tax),175,r+6),r+=8,t.text("National Insurance",19,r+6),t.text(m(e.nationalInsurance),175,r+6),r+=8,t.text("Holiday Repayment",19,r+6),t.text(m(e.holidayRepayment),175,r+6),r+=10,t.line(15,r,l-15,r),t.setFont("helvetica","bold"),t.text("Total Deductions",19,r+6),t.text(m(e.totalDeductions),175,r+6),r+=16,t.setFillColor(p.r,p.g,p.b),t.rect(15,r,n,14,"F"),t.setTextColor(255,255,255),t.setFontSize(12),t.setFont("helvetica","bold"),t.text("NET PAY",19,r+9),t.setFontSize(14),t.text(m(e.netPay),l-15-4,r+9,{align:"right"}),r+=22,t.setFillColor(p.r,p.g,p.b),t.rect(15,r,n,8,"F"),t.setTextColor(255,255,255),t.setFontSize(8),t.setFont("helvetica","bold"),t.text("Year to Date Summary",19,r+5.5),r+=8;let a=n/4,o=[{label:"Taxable Gross",value:m(e.taxableGrossPayYTD)},{label:"Tax Paid",value:m(e.taxYTD)},{label:"Employee NI",value:m(e.employeeNationalInsuranceYTD)},{label:"Employer NI",value:m(e.employerNationalInsuranceYTD)}];return t.setFillColor(c.r,c.g,c.b),t.rect(15,r,n,16,"F"),t.setTextColor(x.r,x.g,x.b),t.setFontSize(7),o.forEach((e,l)=>{let n=19+l*a;t.setFont("helvetica","normal"),t.text(e.label,n,r+6),t.setFont("helvetica","bold"),t.text(e.value,n,r+12)}),t}function b(e){let t=new d.kH("p","mm","a4"),l=t.internal.pageSize.getWidth(),n=l-40,r=20;t.setFontSize(28),t.setFont("helvetica","bold"),t.setTextColor(x.r,x.g,x.b),t.text("PAYSLIP",20,r+12),t.setFontSize(18),t.setTextColor(p.r,p.g,p.b),t.text("Hush Healthcare",l-20,r+10,{align:"right"}),t.setFontSize(10),t.setTextColor(h.r,h.g,h.b),t.text("Myanmar Division",l-20,r+16,{align:"right"}),r+=28,t.setFillColor(p.r,p.g,p.b),t.rect(20,r,n,8,"F"),t.setTextColor(255,255,255),t.setFontSize(10),t.setFont("helvetica","bold"),t.text("Hush Healthcare Ltd - Myanmar Division",24,r+5.5),r+=8,t.setTextColor(x.r,x.g,x.b),t.setFontSize(9),t.setFont("helvetica","normal"),t.text("Healthcare Services",24,r+6),r+=12,t.setDrawColor(y.r,y.g,y.b),t.line(20,r,l-20,r),r+=8,t.setFillColor(p.r,p.g,p.b),t.rect(20,r,n,8,"F"),t.setTextColor(255,255,255),t.setFontSize(9),t.setFont("helvetica","bold"),t.text("Employee Details",24,r+5.5),r+=8,t.setFillColor(c.r,c.g,c.b),t.rect(20,r,n,28,"F"),t.setTextColor(x.r,x.g,x.b),t.setFontSize(8),t.setFont("helvetica","bold"),t.text("Employee ID",24,r+8),t.setFont("helvetica","normal"),t.text(e.employeeId||"-",70,r+8),t.setFont("helvetica","bold"),t.text("Employee Name",24,r+16),t.setFont("helvetica","normal"),t.text(e.employeeName||"-",70,r+16),t.setFont("helvetica","bold"),t.text("Email",24,r+24),t.setFont("helvetica","normal"),t.text(e.email||"-",70,r+24),r+=36,t.setDrawColor(y.r,y.g,y.b),t.line(20,r,l-20,r),r+=2,t.setTextColor(x.r,x.g,x.b),t.setFontSize(9),t.setFont("helvetica","bold"),t.text("Period End",24,r+6),t.setFont("helvetica","normal"),t.text(g(e.monthEnding),60,r+6),t.setFont("helvetica","bold"),t.text("Issue Date",20+n/2,r+6),t.setFont("helvetica","normal"),t.text(new Date().toLocaleDateString("en-GB"),20+n/2+30,r+6),r+=14,t.line(20,r,l-20,r),r+=10,t.setFillColor(p.r,p.g,p.b),t.rect(20,r,n,8,"F"),t.setTextColor(255,255,255),t.setFontSize(8),t.setFont("helvetica","bold"),t.text("Payment",24,r+5.5),t.text("Amount",l-20-4,r+5.5,{align:"right"}),r+=8,t.setTextColor(x.r,x.g,x.b),t.setFont("helvetica","normal"),t.text("Net Salary",24,r+8);let i=parseFloat(e.payrollAmount||"0").toLocaleString("en-US");return t.setFont("helvetica","bold"),t.text("MMK ".concat(i),l-20-4,r+8,{align:"right"}),r+=14,t.line(20,r,l-20,r),r+=6,t.setFillColor(p.r,p.g,p.b),t.rect(20,r,n,16,"F"),t.setTextColor(255,255,255),t.setFontSize(12),t.setFont("helvetica","bold"),t.text("NET PAY",24,r+10),t.setFontSize(16),t.text("MMK ".concat(i),l-20-4,r+11,{align:"right"}),r+=26,t.setFillColor(c.r,c.g,c.b),t.rect(20,r,n,16,"F"),t.setTextColor(x.r,x.g,x.b),t.setFontSize(8),t.setFont("helvetica","bold"),t.text("Payment Method",24,r+6),t.setFont("helvetica","normal"),t.text("Bank Transfer",24,r+12),t.setFont("helvetica","bold"),t.text("Status",20+n/2,r+6),t.setFont("helvetica","normal"),t.text("Processed",20+n/2,r+12),t}var f=l(66610),j=l(71615),v=l(79267),S=l(20787),F=l(61095),T=l(84209),C=l(55856),P=l(96689),w=l(95255),E=l(77227);let I="force-dynamic",k=0,z={input:{width:"100%",padding:"0.75rem 1rem",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"0.875rem",backgroundColor:"#ffffff",transition:"all 0.2s ease",outline:"none",fontFamily:"'Mabry Pro', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif",color:"#111827",boxSizing:"border-box",lineHeight:"1.5"},inputReadonly:{width:"100%",padding:"0.75rem 1rem",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"0.875rem",backgroundColor:"#f9fafb",transition:"all 0.2s ease",outline:"none",fontFamily:"'Mabry Pro', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif",color:"#111827",boxSizing:"border-box",cursor:"not-allowed",fontWeight:"600",lineHeight:"1.5"},select:{width:"100%",padding:"0.75rem 1rem",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"0.875rem",backgroundColor:"#ffffff",transition:"all 0.2s ease",outline:"none",cursor:"pointer",fontFamily:"'Mabry Pro', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif",color:"#111827",boxSizing:"border-box",lineHeight:"1.5"},label:{display:"block",marginBottom:"0.5rem",fontWeight:"600",fontSize:"0.8125rem",color:"#374151",fontFamily:"'Mabry Pro', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif",lineHeight:"1.4"},card:{background:"white",borderRadius:"12px",boxShadow:"0 4px 24px rgba(0, 0, 0, 0.06)",padding:"1.25rem",marginBottom:"1.25rem"},sectionTitle:{fontSize:"1rem",fontWeight:"600",color:"#111827",marginBottom:"1rem",marginTop:"0",fontFamily:"'Mabry Pro', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif",lineHeight:"1.4"},buttonPrimary:{padding:"0.625rem 1.25rem",borderRadius:"8px",fontWeight:"600",cursor:"pointer",border:"none",display:"inline-flex",alignItems:"center",gap:"0.5rem",background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",color:"white",transition:"all 0.2s ease",fontFamily:"'Mabry Pro', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif",fontSize:"0.875rem",lineHeight:"1.4"},buttonPrimaryHover:{background:"linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%)",transform:"translateY(-1px)",boxShadow:"0 4px 12px rgba(99, 102, 241, 0.3)"},buttonSuccess:{padding:"0.625rem 1.25rem",borderRadius:"8px",fontWeight:"600",cursor:"pointer",border:"none",display:"inline-flex",alignItems:"center",gap:"0.5rem",background:"#10b981",color:"white",transition:"all 0.2s ease",fontFamily:"'Mabry Pro', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif",fontSize:"0.875rem",lineHeight:"1.4"},buttonSuccessHover:{background:"#059669",transform:"translateY(-1px)",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"},buttonDisabled:{padding:"0.625rem 1.25rem",borderRadius:"8px",fontWeight:"600",cursor:"not-allowed",border:"none",display:"inline-flex",alignItems:"center",gap:"0.5rem",background:"#d1d5db",color:"white",fontFamily:"'Mabry Pro', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif",fontSize:"0.875rem",lineHeight:"1.4"}};function D(){let{user:e,isAuthenticated:t,isLoading:d}=(0,a.useAuth)(),p=(0,i.useRouter)(),[c,x]=(0,r.useState)(!1),[h,y]=(0,r.useState)(!0),[m,g]=(0,r.useState)("uk"),[I,k]=(0,r.useState)(!1),[D,W]=(0,r.useState)(!1),[M,H]=(0,r.useState)(""),[R,B]=(0,r.useState)(!1),[_,Y]=(0,r.useState)(""),[L,G]=(0,r.useState)(!1),[U,Z]=(0,r.useState)(null),[O,K]=(0,r.useState)(!1),[q,J]=(0,r.useState)([]),[V,Q]=(0,r.useState)([]),[X,$]=(0,r.useState)(""),[ee,et]=(0,r.useState)("viewer"),[el,en]=(0,r.useState)(!1),[er,ei]=(0,r.useState)(!1),[ea,eo]=(0,r.useState)({employeeName:"",employeeId:"",email:"",monthEnding:"",taxCode:"1257L",nationalInsuranceNumber:"",nationalInsuranceTable:"A",annualLeaveRemaining:"28",hours:"",rate:"",grossPay:"",holidayPay:"",totalPayments:"",tax:"",nationalInsurance:"",holidayRepayment:"",totalDeductions:"",taxableGrossPay:"",employerNationalInsurance:"",netPay:"",taxableGrossPayYTD:"",taxYTD:"",employeeNationalInsuranceYTD:"",employerNationalInsuranceYTD:"",netAmountPaid:"",paidDate:"",employerPAYEReference:"120/WE94437"}),[es,ed]=(0,r.useState)(!1),[ep,ec]=(0,r.useState)(""),[ex,eh]=(0,r.useState)({employeeId:"",employeeName:"",email:"",payrollAmount:"",monthEnding:""}),[ey,em]=(0,r.useState)([]);(0,r.useEffect)(()=>{let e=()=>{k(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{if(!d){if(!t){p.push("/login");return}eg()}},[t,d,p,null==e?void 0:e.id]),(0,r.useEffect)(()=>{c&&(null==e?void 0:e.id)&&eu()},[c,null==e?void 0:e.id]);let eg=async()=>{if(!(null==e?void 0:e.id)){x(!1),y(!1);return}try{var t;let n=(await Promise.resolve().then(l.bind(l,78411))).supabase,{data:r,error:i}=await n.from("payroll_members").select("id, role").eq("user_id",e.id).single();if(r&&!i){x(!0),y(!1);return}let a=e.role||(null==e?void 0:null===(t=e.user_metadata)||void 0===t?void 0:t.role);if("admin"===a||"hr"===a||"superuser"===a){x(!0),y(!1);return}let{data:o,error:s}=await n.from("auth_user").select("id, name, email, role, is_superuser, is_staff").eq("id",e.id).single();if(!s&&o){let e=o.is_superuser||o.is_staff||"admin"===o.role||"hr"===o.role;if(e){x(!0),y(!1);return}}x(!1),y(!1)}catch(e){console.error("Error checking payroll access:",e),x(!1),y(!1)}},eu=async()=>{try{let{data:e,error:t}=await s.supabase.from("projects").select("id, name").order("name");if(t)throw t;em(e||[])}catch(e){console.error("Error fetching projects:",e)}},eb=async()=>{en(!0);try{let{data:e,error:t}=await s.supabase.from("payroll_members").select("\n          id,\n          user_id,\n          role,\n          can_view,\n          can_create,\n          can_edit,\n          can_delete,\n          can_generate_pdf,\n          added_at,\n          auth_user:user_id (id, name, email)\n        ").order("added_at",{ascending:!1});if(t)throw t;J(e||[])}catch(e){console.error("Error fetching members:",e)}finally{en(!1)}},ef=async()=>{try{let{data:e,error:t}=await s.supabase.from("auth_user").select("id, name, email").order("name");if(t)throw t;Q(e||[])}catch(e){console.error("Error fetching users:",e)}},ej=async()=>{if(!X){Y("Please select a user");return}try{let{error:t}=await s.supabase.from("payroll_members").insert({user_id:parseInt(X),role:ee,can_view:!0,can_create:"admin"===ee||"editor"===ee,can_edit:"admin"===ee||"editor"===ee,can_delete:"admin"===ee,can_generate_pdf:!0,added_by:(null==e?void 0:e.id)||null});if(t)throw t;Y("Member added successfully!"),$(""),et("viewer"),eb(),setTimeout(()=>Y(""),3e3)}catch(e){console.error("Error adding member:",e),Y("Error: "+(e.message||"Failed to add member"))}},ev=async e=>{if(confirm("Are you sure you want to remove this member?"))try{let{error:t}=await s.supabase.from("payroll_members").delete().eq("id",e);if(t)throw t;Y("Member removed successfully!"),eb(),setTimeout(()=>Y(""),3e3)}catch(e){console.error("Error removing member:",e),Y("Error: "+(e.message||"Failed to remove member"))}};(0,r.useEffect)(()=>{if(c&&(null==e?void 0:e.id)){let t=async()=>{try{let{data:t}=await s.supabase.from("payroll_members").select("role").eq("user_id",e.id).single();ei((null==t?void 0:t.role)==="admin"||"admin"===e.role)}catch(t){ei("admin"===e.role||(null==e?void 0:e.is_superuser))}};t()}},[c,e]);let eS=()=>{let e;if(es)e=parseFloat(ep)||0;else{let t=parseFloat(ea.hours)||0,l=parseFloat(ea.rate)||0;e=t*l}let t=parseFloat(ea.holidayPay)||0,l=e+t,n=parseFloat(ea.tax)||0,r=parseFloat(ea.nationalInsurance)||0,i=parseFloat(ea.holidayRepayment)||0,a=n+r+i,o=l-a;eo(t=>({...t,grossPay:e.toFixed(2),totalPayments:l.toFixed(2),totalDeductions:a.toFixed(2),netPay:o.toFixed(2),taxableGrossPay:e.toFixed(2),netAmountPaid:o.toFixed(2)}))};(0,r.useEffect)(()=>{"uk"===m&&eS()},[m,ea.hours,ea.rate,ea.holidayPay,ea.tax,ea.nationalInsurance,ea.holidayRepayment,es,ep]);let eF=async()=>{try{let e,t;Y("Generating PDF..."),"uk"===m?(e=u(ea),t="Payslip_UK_".concat(ea.employeeName.replace(/\s/g,"_"),"_").concat(ea.monthEnding,".pdf")):(e=b(ex),t="Payslip_Myanmar_".concat(ex.employeeName.replace(/\s/g,"_"),"_").concat(ex.monthEnding,".pdf")),e.save(t),G(!0),Y("✅ PDF generated successfully!"),setTimeout(()=>Y(""),3e3)}catch(e){console.error("Error generating PDF:",e),Y("❌ Error generating PDF. Please try again.")}},eT=async()=>{if(!M||!M.includes("@")){Y("⚠️ Please enter a valid email address");return}try{let e,t,l;B(!0),Y("\uD83D\uDCE7 Generating payslip and sending email..."),"uk"===m?(e=u(ea),t=ea.netPay,l="\xa3"):(e=b(ex),t=ex.payrollAmount,l="MMK ");let n=function(e){let t=e.output("datauristring");return t.split(",")[1]}(e),r="uk"===m?ea.employeeName:ex.employeeName,i="uk"===m?ea.monthEnding:ex.monthEnding,a="uk"===m?ea.email:ex.email,o=await fetch("/api/send-payroll-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeeName:r,employeeEmail:M||a,monthEnding:i,payrollType:m,pdfBase64:n,netPay:t,currency:l})}),s=o.headers.get("content-type");if(!s||!s.includes("application/json"))throw Error("Server error: ".concat(o.status," ").concat(o.statusText));let d=await o.json();d.success?(Y("✅ Email sent successfully!"),W(!1),H(""),setTimeout(()=>Y(""),3e3)):Y("❌ Error: "+(d.error||"Failed to send email"))}catch(t){console.error("Error sending email:",t);let e=t instanceof Error?t.message:"Unknown error";Y("❌ Error sending email: "+e)}finally{B(!1)}};return h||d?(0,n.jsxs)("div",{style:{display:"flex",minHeight:"100vh",background:"#F5F5ED"},children:[(0,n.jsx)(o.Z,{projects:[],onCreateProject:()=>{}}),(0,n.jsx)("div",{className:"page-main",style:{marginLeft:I?"0":"256px",padding:I?"12px":"2rem",paddingTop:I?"70px":"2rem",flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,n.jsx)("div",{style:{fontSize:"1.125rem",color:"#666"},children:"Loading..."})})]}):c?(0,n.jsxs)("div",{style:{minHeight:"100vh"},children:[(0,n.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n        .payroll-page input[type=\"text\"],\n        .payroll-page input[type=\"email\"],\n        .payroll-page input[type=\"number\"],\n        .payroll-page input[type=\"date\"],\n        .payroll-page select {\n          width: 100% !important;\n          padding: 0.75rem 1rem !important;\n          border: 2px solid #e5e7eb !important;\n          border-radius: 8px !important;\n          font-size: 0.875rem !important;\n          background-color: #ffffff !important;\n          color: #111827 !important;\n          font-family: 'Mabry Pro', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif !important;\n          line-height: 1.5 !important;\n          box-sizing: border-box !important;\n        }\n        .payroll-page .payroll-card {\n          background: white !important;\n          border-radius: 12px !important;\n          box-shadow: 0 4px 24px rgba(0, 0, 0, 0.06) !important;\n          padding: 1.25rem !important;\n          margin-bottom: 1.25rem !important;\n        }\n        .payroll-page label {\n          display: block !important;\n          margin-bottom: 0.5rem !important;\n          font-weight: 600 !important;\n          font-size: 0.8125rem !important;\n          color: #374151 !important;\n          font-family: 'Mabry Pro', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif !important;\n          line-height: 1.4 !important;\n        }\n        .payroll-page button {\n          font-family: 'Mabry Pro', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif !important;\n        }\n      "}}),(0,n.jsxs)("div",{className:"payroll-page",style:{display:"flex",minHeight:"100vh",background:"#F5F5ED"},children:[(0,n.jsx)(o.Z,{projects:ey,onCreateProject:()=>{}}),(0,n.jsx)("div",{className:"page-main",style:{marginLeft:I?"0":"256px",padding:I?"12px":"2rem",paddingTop:I?"70px":"2rem",background:"#F5F5ED",flex:1,minHeight:"100vh",overflow:"hidden"},children:(0,n.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[(0,n.jsx)("div",{className:"payroll-card",style:z.card,children:(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("h1",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#111827",display:"flex",alignItems:"center",gap:"0.75rem",margin:"0 0 0.5rem 0",lineHeight:"1.3"},children:[(0,n.jsx)(f.Z,{style:{width:"28px",height:"28px",color:"#6366f1"}}),"Payroll Generation"]}),(0,n.jsx)("p",{style:{color:"#6b7280",margin:"0.5rem 0 0 0",fontSize:"0.875rem",lineHeight:"1.4"},children:"Generate and send payroll statements"})]}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[er&&(0,n.jsxs)("button",{onClick:()=>{K(!0),eb(),ef()},style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",background:"#333",color:"white",border:"none",borderRadius:"8px",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:[(0,n.jsx)(j.Z,{style:{width:"18px",height:"18px"}}),"Members"]}),(0,n.jsx)(v.Z,{style:{width:"40px",height:"40px",color:"#6366f1"}})]})]})}),(0,n.jsxs)("div",{className:"payroll-card",style:z.card,children:[(0,n.jsx)("h2",{style:z.sectionTitle,children:"Select Payroll Type"}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:I?"1fr":"repeat(2, 1fr)",gap:"1rem"},children:[(0,n.jsx)("button",{onClick:()=>g("uk"),style:{padding:"1rem",borderRadius:"8px",border:"2px solid ".concat("uk"===m?"#6366f1":"#e5e7eb"),background:"uk"===m?"#eef2ff":"white",cursor:"pointer",transition:"all 0.2s ease",textAlign:"left"},onMouseEnter:e=>{"uk"!==m&&(e.currentTarget.style.borderColor="#d1d5db")},onMouseLeave:e=>{"uk"!==m&&(e.currentTarget.style.borderColor="#e5e7eb")},children:(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[(0,n.jsx)(S.Z,{style:{width:"20px",height:"20px",color:"uk"===m?"#6366f1":"#9ca3af"}}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{fontWeight:"600",color:"uk"===m?"#6366f1":"#374151",fontSize:"0.875rem",lineHeight:"1.4"},children:"UK Payroll"}),(0,n.jsx)("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"0.25rem",lineHeight:"1.4"},children:"Full UK payroll with tax and NI"})]})]})}),(0,n.jsx)("button",{onClick:()=>g("myanmar"),style:{padding:"1rem",borderRadius:"8px",border:"2px solid ".concat("myanmar"===m?"#6366f1":"#e5e7eb"),background:"myanmar"===m?"#eef2ff":"white",cursor:"pointer",transition:"all 0.2s ease",textAlign:"left"},onMouseEnter:e=>{"myanmar"!==m&&(e.currentTarget.style.borderColor="#d1d5db")},onMouseLeave:e=>{"myanmar"!==m&&(e.currentTarget.style.borderColor="#e5e7eb")},children:(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[(0,n.jsx)(S.Z,{style:{width:"20px",height:"20px",color:"myanmar"===m?"#6366f1":"#9ca3af"}}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{fontWeight:"600",color:"myanmar"===m?"#6366f1":"#374151",fontSize:"0.875rem",lineHeight:"1.4"},children:"Myanmar Payroll"}),(0,n.jsx)("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"0.25rem",lineHeight:"1.4"},children:"Simplified payroll format"})]})]})})]})]}),(0,n.jsxs)("div",{className:"payroll-card",style:z.card,children:[(0,n.jsx)("h2",{style:z.sectionTitle,children:"Employee Information"}),"uk"===m?(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:I?"1fr":"repeat(3, 1fr)",gap:"1rem"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:z.label,children:"Employee Name *"}),(0,n.jsx)("input",{type:"text",className:"payroll-input",style:z.input,value:ea.employeeName,onChange:e=>eo({...ea,employeeName:e.target.value}),placeholder:"John Doe"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:z.label,children:"Employee ID *"}),(0,n.jsx)("input",{type:"text",className:"payroll-input",style:z.input,value:ea.employeeId,onChange:e=>eo({...ea,employeeId:e.target.value}),placeholder:"EMP001"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:z.label,children:"Email *"}),(0,n.jsx)("input",{type:"email",className:"payroll-input",style:z.input,value:ea.email,onChange:e=>eo({...ea,email:e.target.value}),placeholder:"john@example.com"})]})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:I?"1fr":"repeat(4, 1fr)",gap:"1rem"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:z.label,children:"Month Ending *"}),(0,n.jsx)("input",{type:"date",style:z.input,value:ea.monthEnding,onChange:e=>eo({...ea,monthEnding:e.target.value})})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:z.label,children:"Tax Code"}),(0,n.jsx)("input",{type:"text",style:z.input,value:ea.taxCode,onChange:e=>eo({...ea,taxCode:e.target.value}),placeholder:"1257L"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:z.label,children:"NI Number"}),(0,n.jsx)("input",{type:"text",style:z.input,value:ea.nationalInsuranceNumber,onChange:e=>eo({...ea,nationalInsuranceNumber:e.target.value}),placeholder:"AB123456C"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:z.label,children:"NI Table"}),(0,n.jsxs)("select",{className:"payroll-select",style:z.select,value:ea.nationalInsuranceTable,onChange:e=>eo({...ea,nationalInsuranceTable:e.target.value}),children:[(0,n.jsx)("option",{value:"A",children:"A"}),(0,n.jsx)("option",{value:"B",children:"B"}),(0,n.jsx)("option",{value:"C",children:"C"})]})]})]}),(0,n.jsxs)("div",{style:{borderTop:"1px solid #e5e7eb",paddingTop:"1.5rem",marginTop:"1.5rem"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem"},children:[(0,n.jsx)("h3",{style:{fontSize:"0.9375rem",fontWeight:"600",color:"#111827",margin:"0",lineHeight:"1.4"},children:"Payments"}),(0,n.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"0.8125rem",color:"#374151",cursor:"pointer",userSelect:"none"},children:[(0,n.jsx)("input",{type:"checkbox",checked:es,onChange:e=>ed(e.target.checked),style:{width:"16px",height:"16px",accentColor:"#6366f1",cursor:"pointer"}}),"Manual Gross Pay (for hourly workers)"]})]}),es?(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:I?"1fr":"repeat(3, 1fr)",gap:"1rem"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:z.label,children:"Gross Pay (\xa3) *"}),(0,n.jsx)("input",{type:"number",step:"0.01",style:{...z.input,borderColor:"#6366f1",backgroundColor:"#f5f3ff"},value:ep,onChange:e=>ec(e.target.value),placeholder:"Enter total gross pay"}),(0,n.jsx)("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"4px"},children:"Enter total gross pay amount directly"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:z.label,children:"Holiday Pay (\xa3)"}),(0,n.jsx)("input",{type:"number",step:"0.01",style:z.input,value:ea.holidayPay,onChange:e=>eo({...ea,holidayPay:e.target.value}),placeholder:"196.00"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:z.label,children:"Total Payments (\xa3)"}),(0,n.jsx)("input",{type:"text",style:z.inputReadonly,value:ea.totalPayments,readOnly:!0})]})]}):(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:I?"1fr":"repeat(4, 1fr)",gap:"1rem"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:z.label,children:"Hours"}),(0,n.jsx)("input",{type:"number",step:"0.01",style:z.input,value:ea.hours,onChange:e=>eo({...ea,hours:e.target.value}),placeholder:"167.25"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:z.label,children:"Rate (\xa3)"}),(0,n.jsx)("input",{type:"number",step:"0.01",style:z.input,value:ea.rate,onChange:e=>eo({...ea,rate:e.target.value}),placeholder:"12.25"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:z.label,children:"Holiday Pay (\xa3)"}),(0,n.jsx)("input",{type:"number",step:"0.01",style:z.input,value:ea.holidayPay,onChange:e=>eo({...ea,holidayPay:e.target.value}),placeholder:"196.00"})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{style:z.label,children:["Gross Pay (\xa3) ",(0,n.jsx)("span",{style:{color:"#6b7280",fontWeight:"400"},children:"(auto)"})]}),(0,n.jsx)("input",{type:"text",style:z.inputReadonly,value:ea.grossPay,readOnly:!0})]})]}),es&&(0,n.jsxs)("div",{style:{marginTop:"1rem",padding:"0.75rem 1rem",backgroundColor:"#f0f9ff",border:"1px solid #bae6fd",borderRadius:"8px",fontSize:"0.8125rem",color:"#0369a1",display:"flex",alignItems:"center",gap:"8px"},children:[(0,n.jsx)(F.Z,{style:{width:"18px",height:"18px",flexShrink:0}}),"Manual mode: Enter the total gross pay directly for hourly/variable pay employees."]})]}),(0,n.jsxs)("div",{style:{borderTop:"1px solid #e5e7eb",paddingTop:"1.5rem",marginTop:"1.5rem"},children:[(0,n.jsx)("h3",{style:{fontSize:"0.9375rem",fontWeight:"600",color:"#111827",marginBottom:"0.75rem",margin:"0 0 0.75rem 0",lineHeight:"1.4"},children:"Deductions"}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:I?"1fr":"repeat(4, 1fr)",gap:"1rem"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:z.label,children:"Tax (\xa3)"}),(0,n.jsx)("input",{type:"number",step:"0.01",style:z.input,value:ea.tax,onChange:e=>eo({...ea,tax:e.target.value}),placeholder:"44.80"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:z.label,children:"National Insurance (\xa3)"}),(0,n.jsx)("input",{type:"number",step:"0.01",style:z.input,value:ea.nationalInsurance,onChange:e=>eo({...ea,nationalInsurance:e.target.value}),placeholder:"17.97"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:z.label,children:"Holiday Repayment (\xa3)"}),(0,n.jsx)("input",{type:"number",step:"0.01",style:z.input,value:ea.holidayRepayment,onChange:e=>eo({...ea,holidayRepayment:e.target.value}),placeholder:"972.16"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:z.label,children:"Total Deductions (\xa3)"}),(0,n.jsx)("input",{type:"text",style:z.inputReadonly,value:ea.totalDeductions,readOnly:!0})]})]})]}),(0,n.jsxs)("div",{style:{borderTop:"1px solid #e5e7eb",paddingTop:"1.5rem",marginTop:"1.5rem"},children:[(0,n.jsx)("h3",{style:{fontSize:"0.9375rem",fontWeight:"600",color:"#111827",marginBottom:"0.75rem",margin:"0 0 0.75rem 0",lineHeight:"1.4"},children:"Year to Date"}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:I?"1fr":"repeat(4, 1fr)",gap:"1rem"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:z.label,children:"Taxable Gross Pay YTD (\xa3)"}),(0,n.jsx)("input",{type:"number",step:"0.01",style:z.input,value:ea.taxableGrossPayYTD,onChange:e=>eo({...ea,taxableGrossPayYTD:e.target.value}),placeholder:"5219.61"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:z.label,children:"Tax YTD (\xa3)"}),(0,n.jsx)("input",{type:"number",step:"0.01",style:z.input,value:ea.taxYTD,onChange:e=>eo({...ea,taxYTD:e.target.value}),placeholder:"414.80"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:z.label,children:"Employee NI YTD (\xa3)"}),(0,n.jsx)("input",{type:"number",step:"0.01",style:z.input,value:ea.employeeNationalInsuranceYTD,onChange:e=>eo({...ea,employeeNationalInsuranceYTD:e.target.value}),placeholder:"166.04"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:z.label,children:"Employer NI YTD (\xa3)"}),(0,n.jsx)("input",{type:"number",step:"0.01",style:z.input,value:ea.employerNationalInsuranceYTD,onChange:e=>eo({...ea,employerNationalInsuranceYTD:e.target.value}),placeholder:"595.29"})]})]})]}),(0,n.jsxs)("div",{style:{borderTop:"1px solid #e5e7eb",paddingTop:"1.5rem",marginTop:"1.5rem"},children:[(0,n.jsx)("h3",{style:{fontSize:"0.9375rem",fontWeight:"600",color:"#111827",marginBottom:"0.75rem",margin:"0 0 0.75rem 0",lineHeight:"1.4"},children:"This Month"}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:I?"1fr":"repeat(3, 1fr)",gap:"1rem"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:z.label,children:"Taxable Gross Pay (\xa3)"}),(0,n.jsx)("input",{type:"text",style:z.inputReadonly,value:ea.taxableGrossPay,readOnly:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:z.label,children:"Employer National Insurance (\xa3)"}),(0,n.jsx)("input",{type:"number",step:"0.01",style:z.input,value:ea.employerNationalInsurance,onChange:e=>eo({...ea,employerNationalInsurance:e.target.value}),placeholder:"128.35"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:z.label,children:"Net Pay (\xa3)"}),(0,n.jsx)("input",{type:"text",style:z.inputReadonly,value:ea.netPay,readOnly:!0})]})]})]}),(0,n.jsxs)("div",{style:{borderTop:"1px solid #e5e7eb",paddingTop:"1.5rem",marginTop:"1.5rem"},children:[(0,n.jsx)("h3",{style:{fontSize:"0.9375rem",fontWeight:"600",color:"#111827",marginBottom:"0.75rem",margin:"0 0 0.75rem 0",lineHeight:"1.4"},children:"Payment Details"}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:I?"1fr":"repeat(3, 1fr)",gap:"1rem"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:z.label,children:"Net Amount Paid (\xa3)"}),(0,n.jsx)("input",{type:"text",style:z.inputReadonly,value:ea.netAmountPaid,readOnly:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:z.label,children:"Paid Date"}),(0,n.jsx)("input",{type:"date",style:z.input,value:ea.paidDate,onChange:e=>eo({...ea,paidDate:e.target.value})})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:z.label,children:"Employer PAYE Reference"}),(0,n.jsx)("input",{type:"text",style:z.input,value:ea.employerPAYEReference,onChange:e=>eo({...ea,employerPAYEReference:e.target.value}),placeholder:"120/WE94437"})]})]})]})]}):(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:I?"1fr":"repeat(2, 1fr)",gap:"1rem"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:z.label,children:"Employee ID *"}),(0,n.jsx)("input",{type:"text",style:z.input,value:ex.employeeId,onChange:e=>eh({...ex,employeeId:e.target.value}),placeholder:"EMP001"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:z.label,children:"Employee Name *"}),(0,n.jsx)("input",{type:"text",style:z.input,value:ex.employeeName,onChange:e=>eh({...ex,employeeName:e.target.value}),placeholder:"John Doe"})]})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:I?"1fr":"repeat(2, 1fr)",gap:"1rem"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:z.label,children:"Email *"}),(0,n.jsx)("input",{type:"email",style:z.input,value:ex.email,onChange:e=>eh({...ex,email:e.target.value}),placeholder:"john@example.com"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:z.label,children:"Payroll Amount (MMK) *"}),(0,n.jsx)("input",{type:"number",step:"0.01",style:z.input,value:ex.payrollAmount,onChange:e=>eh({...ex,payrollAmount:e.target.value}),placeholder:"1000000"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:z.label,children:"Month Ending *"}),(0,n.jsx)("input",{type:"date",style:z.input,value:ex.monthEnding,onChange:e=>eh({...ex,monthEnding:e.target.value})})]})]})]}),"uk"===m&&ea.employeeName&&ea.monthEnding||"myanmar"===m&&ex.employeeName&&ex.monthEnding?(0,n.jsxs)("div",{className:"payroll-card",style:z.card,children:[(0,n.jsx)("h2",{style:z.sectionTitle,children:"Preview"}),(0,n.jsx)("div",{id:"payroll-preview",style:{background:"white",padding:"2rem",border:"2px solid #e5e7eb",borderRadius:"8px"},children:"uk"===m?(0,n.jsx)(N,{data:ea}):(0,n.jsx)(A,{data:ex})})]}):null,(0,n.jsxs)("div",{className:"payroll-card",style:z.card,children:[(0,n.jsxs)("div",{style:{display:"flex",flexDirection:I?"column":"row",gap:"1rem"},children:[(0,n.jsxs)("button",{onClick:eF,disabled:"uk"===m?!ea.employeeName||!ea.monthEnding:!ex.employeeName||!ex.monthEnding,style:("uk"===m?ea.employeeName&&ea.monthEnding:ex.employeeName&&ex.monthEnding)?z.buttonPrimary:z.buttonDisabled,onMouseEnter:e=>{e.currentTarget.disabled||Object.assign(e.currentTarget.style,z.buttonPrimaryHover)},onMouseLeave:e=>{e.currentTarget.disabled||(e.currentTarget.style.background="linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",e.currentTarget.style.transform="",e.currentTarget.style.boxShadow="")},children:[(0,n.jsx)(T.Z,{style:{width:"18px",height:"18px"}}),"Generate PDF"]}),L&&(0,n.jsxs)("button",{onClick:()=>W(!0),style:z.buttonSuccess,onMouseEnter:e=>{Object.assign(e.currentTarget.style,z.buttonSuccessHover)},onMouseLeave:e=>{e.currentTarget.style.background="#10b981",e.currentTarget.style.transform="",e.currentTarget.style.boxShadow=""},children:[(0,n.jsx)(C.Z,{style:{width:"18px",height:"18px"}}),"Send Email"]})]}),_&&(0,n.jsx)("div",{style:{marginTop:"1rem",padding:"0.75rem",borderRadius:"8px",backgroundColor:_.includes("Error")?"#fef2f2":"#f0fdf4",color:_.includes("Error")?"#991b1b":"#166534"},children:_})]})]})})]}),D&&(0,n.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50},children:(0,n.jsxs)("div",{style:{background:"white",borderRadius:"12px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)",padding:"1.5rem",maxWidth:"28rem",width:"100%",margin:"0 1rem"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[(0,n.jsx)("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#111827"},children:"Send Payroll Email"}),(0,n.jsx)("button",{onClick:()=>{W(!1),H("")},style:{color:"#9ca3af",background:"none",border:"none",cursor:"pointer",padding:"0.25rem"},onMouseEnter:e=>e.currentTarget.style.color="#4b5563",onMouseLeave:e=>e.currentTarget.style.color="#9ca3af",children:(0,n.jsx)(P.Z,{style:{width:"24px",height:"24px"}})})]}),(0,n.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,n.jsx)("label",{style:z.label,children:"Email Address"}),(0,n.jsx)("input",{type:"email",style:z.input,value:M,onChange:e=>H(e.target.value),placeholder:"employee@example.com"})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"0.75rem"},children:[(0,n.jsx)("button",{onClick:eT,disabled:R||!M,style:{flex:1,padding:"0.5rem 1rem",background:R||!M?"#d1d5db":"#6366f1",color:"white",borderRadius:"8px",border:"none",cursor:R||!M?"not-allowed":"pointer",fontWeight:"500",transition:"all 0.2s ease"},onMouseEnter:e=>{!R&&M&&(e.currentTarget.style.background="#4f46e5")},onMouseLeave:e=>{!R&&M&&(e.currentTarget.style.background="#6366f1")},children:R?"Sending...":"Send"}),(0,n.jsx)("button",{onClick:()=>{W(!1),H("")},style:{padding:"0.5rem 1rem",background:"#e5e7eb",color:"#374151",borderRadius:"8px",border:"none",cursor:"pointer",fontWeight:"500"},onMouseEnter:e=>e.currentTarget.style.background="#d1d5db",onMouseLeave:e=>e.currentTarget.style.background="#e5e7eb",children:"Cancel"})]})]})}),O&&(0,n.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50},children:(0,n.jsxs)("div",{style:{background:"white",borderRadius:"12px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)",padding:"1.5rem",maxWidth:"500px",width:"100%",margin:"0 1rem",maxHeight:"80vh",overflow:"auto"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1.5rem"},children:[(0,n.jsxs)("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#111827",display:"flex",alignItems:"center",gap:"8px"},children:[(0,n.jsx)(j.Z,{style:{width:"24px",height:"24px"}}),"Manage Members"]}),(0,n.jsx)("button",{onClick:()=>K(!1),style:{color:"#9ca3af",background:"none",border:"none",cursor:"pointer",padding:"0.25rem"},children:(0,n.jsx)(P.Z,{style:{width:"24px",height:"24px"}})})]}),(0,n.jsxs)("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"#f9fafb",borderRadius:"8px"},children:[(0,n.jsx)("h4",{style:{fontSize:"0.875rem",fontWeight:"600",marginBottom:"0.75rem",color:"#374151"},children:"Add New Member"}),(0,n.jsxs)("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[(0,n.jsxs)("select",{value:X,onChange:e=>$(e.target.value),style:{flex:"2",minWidth:"150px",padding:"0.5rem",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"0.875rem"},children:[(0,n.jsx)("option",{value:"",children:"Select User..."}),V.filter(e=>!q.find(t=>t.user_id===e.id)).map(e=>(0,n.jsxs)("option",{value:e.id,children:[e.name," (",e.email,")"]},e.id))]}),(0,n.jsxs)("select",{value:ee,onChange:e=>et(e.target.value),style:{flex:"1",minWidth:"100px",padding:"0.5rem",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"0.875rem"},children:[(0,n.jsx)("option",{value:"viewer",children:"Viewer"}),(0,n.jsx)("option",{value:"editor",children:"Editor"}),(0,n.jsx)("option",{value:"admin",children:"Admin"})]}),(0,n.jsxs)("button",{onClick:ej,style:{padding:"0.5rem 1rem",background:"#333",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",fontSize:"0.875rem"},children:[(0,n.jsx)(w.Z,{style:{width:"16px",height:"16px"}}),"Add"]})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("h4",{style:{fontSize:"0.875rem",fontWeight:"600",marginBottom:"0.75rem",color:"#374151"},children:["Current Members (",q.length,")"]}),el?(0,n.jsx)("div",{style:{textAlign:"center",padding:"1rem",color:"#6b7280"},children:"Loading..."}):0===q.length?(0,n.jsx)("div",{style:{textAlign:"center",padding:"1rem",color:"#6b7280"},children:"No members yet"}):(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:q.map(e=>{var t,l;return(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem",background:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{fontWeight:"600",fontSize:"0.875rem",color:"#111827"},children:(null===(t=e.auth_user)||void 0===t?void 0:t.name)||"Unknown User"}),(0,n.jsx)("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:(null===(l=e.auth_user)||void 0===l?void 0:l.email)||"-"})]}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[(0,n.jsx)("span",{style:{padding:"2px 8px",background:"admin"===e.role?"#333":"editor"===e.role?"#6b7280":"#d1d5db",color:"viewer"===e.role?"#374151":"white",borderRadius:"4px",fontSize:"0.7rem",fontWeight:"600",textTransform:"uppercase"},children:e.role}),(0,n.jsx)("button",{onClick:()=>ev(e.id),style:{background:"none",border:"none",cursor:"pointer",color:"#ef4444",padding:"4px"},children:(0,n.jsx)(E.Z,{style:{width:"18px",height:"18px"}})})]})]},e.id)})})]}),(0,n.jsx)("div",{style:{marginTop:"1.5rem",textAlign:"right"},children:(0,n.jsx)("button",{onClick:()=>K(!1),style:{padding:"0.5rem 1.5rem",background:"#e5e7eb",color:"#374151",borderRadius:"8px",border:"none",cursor:"pointer",fontWeight:"500"},children:"Close"})})]})})]}):(0,n.jsxs)("div",{style:{display:"flex",minHeight:"100vh",background:"#F5F5ED"},children:[(0,n.jsx)(o.Z,{projects:[],onCreateProject:()=>{}}),(0,n.jsx)("div",{className:"page-main",style:{marginLeft:I?"0":"256px",padding:I?"12px":"2rem",paddingTop:I?"70px":"2rem",flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,n.jsx)("div",{style:{fontSize:"1.125rem",color:"#dc2626"},children:"Access Denied. Admin or Payroll Member access required."})})]})}function N(e){let{data:t}=e,l=e=>{let t="string"==typeof e?parseFloat(e):e;return isNaN(t)?"0.00":t.toFixed(2)},r=e=>{if(!e)return"-";try{let t=new Date(e);return t.toLocaleDateString("en-GB")}catch(t){return e}},i="#4DA6A9",a="#DCF2F3";return(0,n.jsxs)("div",{style:{fontFamily:"Arial, Helvetica, sans-serif",color:"#333",maxWidth:"700px",margin:"0 auto",background:"white",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[(0,n.jsxs)("div",{style:{padding:"20px 24px",display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,n.jsx)("div",{children:(0,n.jsx)("h1",{style:{fontSize:"28px",fontWeight:"700",margin:"0",color:"#333",letterSpacing:"-0.5px"},children:"PAYSLIP"})}),(0,n.jsxs)("div",{style:{textAlign:"right"},children:[(0,n.jsx)("div",{style:{fontSize:"18px",fontWeight:"600",color:i},children:"Hush Healthcare"}),(0,n.jsx)("div",{style:{fontSize:"11px",color:"#666"},children:"Ltd"})]})]}),(0,n.jsx)("div",{style:{background:i,color:"white",padding:"8px 24px",fontSize:"11px",fontWeight:"600"},children:"Hush Healthcare Ltd"}),(0,n.jsxs)("div",{style:{padding:"8px 24px",fontSize:"10px",color:"#666",borderBottom:"1px solid #ddd"},children:[(0,n.jsx)("div",{children:"Healthcare Services"}),(0,n.jsxs)("div",{children:["PAYE Ref: ",t.employerPAYEReference||"120/WE94437"]})]}),(0,n.jsxs)("div",{style:{padding:"16px 24px",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{background:i,color:"white",padding:"6px 12px",fontSize:"10px",fontWeight:"600"},children:"Employee Details"}),(0,n.jsxs)("div",{style:{background:a,padding:"12px"},children:[(0,n.jsxs)("div",{style:{marginBottom:"8px"},children:[(0,n.jsx)("div",{style:{fontSize:"9px",fontWeight:"600",color:"#555"},children:"Employee Name"}),(0,n.jsx)("div",{style:{fontSize:"12px"},children:t.employeeName||"-"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{fontSize:"9px",fontWeight:"600",color:"#555"},children:"Employee ID"}),(0,n.jsx)("div",{style:{fontSize:"12px"},children:t.employeeId||"-"})]})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{background:i,color:"white",padding:"6px 12px",fontSize:"10px",fontWeight:"600"},children:"Payment Details"}),(0,n.jsx)("div",{style:{background:a,padding:"12px"},children:(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",fontSize:"10px"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{fontWeight:"600"},children:"Tax Code:"})," ",t.taxCode||"-"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{fontWeight:"600"},children:"NI Number:"})," ",t.nationalInsuranceNumber||"-"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{fontWeight:"600"},children:"NI Table:"})," ",t.nationalInsuranceTable||"A"]})]})})]})]}),(0,n.jsxs)("div",{style:{padding:"8px 24px",borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd",display:"flex",justifyContent:"space-between",fontSize:"11px"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{fontWeight:"600"},children:"Period End:"})," ",r(t.monthEnding)]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{fontWeight:"600"},children:"Payment Date:"})," ",r(t.paidDate)]})]}),(0,n.jsx)("div",{style:{padding:"16px 24px"},children:(0,n.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"11px"},children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{style:{background:i,color:"white"},children:[(0,n.jsx)("th",{style:{padding:"8px 12px",textAlign:"left",fontWeight:"600"},children:"Payments"}),(0,n.jsx)("th",{style:{padding:"8px 12px",textAlign:"left",fontWeight:"600"},children:"Type"}),(0,n.jsx)("th",{style:{padding:"8px 12px",textAlign:"right",fontWeight:"600"},children:"Rate"}),(0,n.jsx)("th",{style:{padding:"8px 12px",textAlign:"right",fontWeight:"600"},children:"Hours"}),(0,n.jsx)("th",{style:{padding:"8px 12px",textAlign:"right",fontWeight:"600"},children:"Amount"})]})}),(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{style:{borderBottom:"1px solid #eee"},children:[(0,n.jsx)("td",{style:{padding:"8px 12px"},children:"Basic Pay"}),(0,n.jsx)("td",{style:{padding:"8px 12px"},children:"Hourly"}),(0,n.jsxs)("td",{style:{padding:"8px 12px",textAlign:"right"},children:["\xa3",l(t.rate)]}),(0,n.jsx)("td",{style:{padding:"8px 12px",textAlign:"right"},children:t.hours||"0"}),(0,n.jsxs)("td",{style:{padding:"8px 12px",textAlign:"right"},children:["\xa3",l(t.grossPay)]})]}),(0,n.jsxs)("tr",{style:{borderBottom:"1px solid #eee"},children:[(0,n.jsx)("td",{style:{padding:"8px 12px"},children:"Holiday Pay"}),(0,n.jsx)("td",{style:{padding:"8px 12px"},children:"Allowance"}),(0,n.jsx)("td",{style:{padding:"8px 12px",textAlign:"right"},children:"-"}),(0,n.jsx)("td",{style:{padding:"8px 12px",textAlign:"right"},children:"-"}),(0,n.jsxs)("td",{style:{padding:"8px 12px",textAlign:"right"},children:["\xa3",l(t.holidayPay)]})]}),(0,n.jsxs)("tr",{style:{fontWeight:"700",borderTop:"2px solid #ddd"},children:[(0,n.jsx)("td",{colSpan:4,style:{padding:"8px 12px"},children:"Total Gross Pay"}),(0,n.jsxs)("td",{style:{padding:"8px 12px",textAlign:"right"},children:["\xa3",l(t.totalPayments)]})]})]})]})}),(0,n.jsx)("div",{style:{padding:"0 24px 16px"},children:(0,n.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"11px"},children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{style:{background:i,color:"white"},children:[(0,n.jsx)("th",{style:{padding:"8px 12px",textAlign:"left",fontWeight:"600"},children:"Deductions"}),(0,n.jsx)("th",{style:{padding:"8px 12px",textAlign:"right",fontWeight:"600"},children:"Amount"})]})}),(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{style:{borderBottom:"1px solid #eee"},children:[(0,n.jsx)("td",{style:{padding:"8px 12px"},children:"PAYE Tax"}),(0,n.jsxs)("td",{style:{padding:"8px 12px",textAlign:"right"},children:["\xa3",l(t.tax)]})]}),(0,n.jsxs)("tr",{style:{borderBottom:"1px solid #eee"},children:[(0,n.jsx)("td",{style:{padding:"8px 12px"},children:"National Insurance"}),(0,n.jsxs)("td",{style:{padding:"8px 12px",textAlign:"right"},children:["\xa3",l(t.nationalInsurance)]})]}),(0,n.jsxs)("tr",{style:{borderBottom:"1px solid #eee"},children:[(0,n.jsx)("td",{style:{padding:"8px 12px"},children:"Holiday Repayment"}),(0,n.jsxs)("td",{style:{padding:"8px 12px",textAlign:"right"},children:["\xa3",l(t.holidayRepayment)]})]}),(0,n.jsxs)("tr",{style:{fontWeight:"700",borderTop:"2px solid #ddd"},children:[(0,n.jsx)("td",{style:{padding:"8px 12px"},children:"Total Deductions"}),(0,n.jsxs)("td",{style:{padding:"8px 12px",textAlign:"right"},children:["\xa3",l(t.totalDeductions)]})]})]})]})}),(0,n.jsxs)("div",{style:{margin:"0 24px 16px",background:i,padding:"14px 16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsx)("div",{style:{fontSize:"13px",fontWeight:"700",color:"white"},children:"NET PAY"}),(0,n.jsxs)("div",{style:{fontSize:"20px",fontWeight:"700",color:"white"},children:["\xa3",l(t.netPay)]})]}),(0,n.jsxs)("div",{style:{margin:"0 24px 16px"},children:[(0,n.jsx)("div",{style:{background:i,color:"white",padding:"6px 12px",fontSize:"10px",fontWeight:"600"},children:"Year to Date Summary"}),(0,n.jsxs)("div",{style:{background:a,padding:"12px",display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"12px",fontSize:"10px"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{color:"#555",marginBottom:"2px"},children:"Taxable Gross"}),(0,n.jsxs)("div",{style:{fontWeight:"600"},children:["\xa3",l(t.taxableGrossPayYTD)]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{color:"#555",marginBottom:"2px"},children:"Tax Paid"}),(0,n.jsxs)("div",{style:{fontWeight:"600"},children:["\xa3",l(t.taxYTD)]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{color:"#555",marginBottom:"2px"},children:"Employee NI"}),(0,n.jsxs)("div",{style:{fontWeight:"600"},children:["\xa3",l(t.employeeNationalInsuranceYTD)]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{color:"#555",marginBottom:"2px"},children:"Employer NI"}),(0,n.jsxs)("div",{style:{fontWeight:"600"},children:["\xa3",l(t.employerNationalInsuranceYTD)]})]})]})]})]})}function A(e){let{data:t}=e,l=e=>{let t="string"==typeof e?parseFloat(e):e;return isNaN(t)?"0":t.toLocaleString("en-US")},r="#4DA6A9",i="#DCF2F3";return(0,n.jsxs)("div",{style:{fontFamily:"Arial, Helvetica, sans-serif",color:"#333",maxWidth:"600px",margin:"0 auto",background:"white",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[(0,n.jsxs)("div",{style:{padding:"20px 24px",display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,n.jsx)("div",{children:(0,n.jsx)("h1",{style:{fontSize:"28px",fontWeight:"700",margin:"0",color:"#333",letterSpacing:"-0.5px"},children:"PAYSLIP"})}),(0,n.jsxs)("div",{style:{textAlign:"right"},children:[(0,n.jsx)("div",{style:{fontSize:"18px",fontWeight:"600",color:r},children:"Hush Healthcare"}),(0,n.jsx)("div",{style:{fontSize:"11px",color:"#666"},children:"Myanmar Division"})]})]}),(0,n.jsx)("div",{style:{background:r,color:"white",padding:"8px 24px",fontSize:"11px",fontWeight:"600"},children:"Hush Healthcare Ltd - Myanmar Division"}),(0,n.jsx)("div",{style:{padding:"8px 24px",fontSize:"10px",color:"#666",borderBottom:"1px solid #ddd"},children:"Healthcare Services"}),(0,n.jsxs)("div",{style:{padding:"16px 24px"},children:[(0,n.jsx)("div",{style:{background:r,color:"white",padding:"6px 12px",fontSize:"10px",fontWeight:"600"},children:"Employee Details"}),(0,n.jsx)("div",{style:{background:i,padding:"16px"},children:(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"100px 1fr",gap:"10px",fontSize:"11px"},children:[(0,n.jsx)("div",{style:{fontWeight:"600",color:"#555"},children:"Employee ID"}),(0,n.jsx)("div",{style:{fontSize:"13px"},children:t.employeeId||"-"}),(0,n.jsx)("div",{style:{fontWeight:"600",color:"#555"},children:"Employee Name"}),(0,n.jsx)("div",{style:{fontSize:"13px"},children:t.employeeName||"-"}),(0,n.jsx)("div",{style:{fontWeight:"600",color:"#555"},children:"Email"}),(0,n.jsx)("div",{style:{fontSize:"13px"},children:t.email||"-"})]})})]}),(0,n.jsxs)("div",{style:{padding:"8px 24px",borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd",display:"flex",justifyContent:"space-between",fontSize:"11px"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{fontWeight:"600"},children:"Period End:"})," ",(e=>{if(!e)return"-";try{let t=new Date(e);return t.toLocaleDateString("en-GB")}catch(t){return e}})(t.monthEnding)]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{fontWeight:"600"},children:"Issue Date:"})," ",new Date().toLocaleDateString("en-GB")]})]}),(0,n.jsx)("div",{style:{padding:"16px 24px"},children:(0,n.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"11px"},children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{style:{background:r,color:"white"},children:[(0,n.jsx)("th",{style:{padding:"8px 12px",textAlign:"left",fontWeight:"600"},children:"Payment"}),(0,n.jsx)("th",{style:{padding:"8px 12px",textAlign:"right",fontWeight:"600"},children:"Amount"})]})}),(0,n.jsx)("tbody",{children:(0,n.jsxs)("tr",{style:{borderBottom:"1px solid #eee"},children:[(0,n.jsx)("td",{style:{padding:"8px 12px"},children:"Net Salary"}),(0,n.jsxs)("td",{style:{padding:"8px 12px",textAlign:"right",fontWeight:"600"},children:["MMK ",l(t.payrollAmount)]})]})})]})}),(0,n.jsxs)("div",{style:{margin:"0 24px 16px",background:r,padding:"14px 16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsx)("div",{style:{fontSize:"13px",fontWeight:"700",color:"white"},children:"NET PAY"}),(0,n.jsxs)("div",{style:{fontSize:"20px",fontWeight:"700",color:"white"},children:["MMK ",l(t.payrollAmount)]})]}),(0,n.jsxs)("div",{style:{margin:"0 24px 16px",background:i,padding:"12px 16px",display:"flex",justifyContent:"space-between",fontSize:"11px"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{fontWeight:"600",color:"#555"},children:"Payment Method"}),(0,n.jsx)("div",{children:"Bank Transfer"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{fontWeight:"600",color:"#555"},children:"Status"}),(0,n.jsx)("div",{children:"Processed"})]})]})]})}}},function(e){e.O(0,[3125,2505,8326,7708,9666,8411,3152,8714,2971,2472,1744],function(){return e(e.s=96413)}),_N_E=e.O()}]);