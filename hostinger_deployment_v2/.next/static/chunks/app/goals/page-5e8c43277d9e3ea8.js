(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9639],{3027:function(e,t,i){Promise.resolve().then(i.bind(i,89991))},89991:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return W}});var n=i(57437),o=i(2265),r=i(24033),a=i(3549),l=i(44331),s=i(16307),d=i(68714),c=i(20976),g=i(33617),u=i(38799),h=i(50927),f=i(17933),y=i(80654),p=i(34713),x=i(49649),b=i(61095),m=i(50260),j=i(33753),v=i(96689),w=i(40651),_=i(4103),S=i(95255),k=i(77782),D=i(67805),z=i(82929),I=i(77227),C=i(70432),R=i(6214);let T=[{id:0,name:"Sun",fullName:"Sunday"},{id:1,name:"Mon",fullName:"Monday"},{id:2,name:"Tue",fullName:"Tuesday"},{id:3,name:"Wed",fullName:"Wednesday"},{id:4,name:"Thu",fullName:"Thursday"},{id:5,name:"Fri",fullName:"Friday"},{id:6,name:"Sat",fullName:"Saturday"}],B={fitness:u.Z,health:h.Z,learning:f.Z,productivity:y.Z,creative:p.Z,mindfulness:p.Z,social:x.Z,finance:b.Z,custom:m.Z};function W(){var e,t;let{user:i,isAuthenticated:u,isLoading:h}=(0,a.useAuth)(),f=(0,r.useRouter)(),[p,x]=(0,o.useState)([]),[b,W]=(0,o.useState)([]),[E,P]=(0,o.useState)([]),[A,Z]=(0,o.useState)([]),[N,q]=(0,o.useState)(!0),[G,M]=(0,o.useState)(!1),[O,H]=(0,o.useState)(null),[L,F]=(0,o.useState)(null),[Q,U]=(0,o.useState)(!1),[Y,V]=(0,o.useState)({title:"",description:"",category:"fitness",target_frequency:"daily",target_days:[],target_days_of_month:[],target_time:"",duration_minutes:30,color:"#ef4444",start_date:new Date().toISOString().split("T")[0],end_date:""}),[J,K]=(0,o.useState)(!1),[X,$]=(0,o.useState)(null),ee=(0,o.useCallback)(async()=>{if(null==i?void 0:i.id)try{var e,t;q(!0),$(null);let{data:n,error:o}=await c.tb.getGoals(i.id);((null==o?void 0:null===(e=o.message)||void 0===e?void 0:e.includes("404"))||(null==o?void 0:null===(t=o.message)||void 0===t?void 0:t.includes("not found")))&&K(!0),x(n||[]);let r=new Date,a=r.toISOString().split("T")[0],l=new Date(r);l.setDate(r.getDate()-r.getDay());let s=l.toISOString().split("T")[0],d=new Date(r.getFullYear(),r.getMonth(),1),g=d.toISOString().split("T")[0],[u,h,f]=await Promise.all([c.tb.getCompletions(i.id,void 0,a,a),c.tb.getCompletions(i.id,void 0,s,a),c.tb.getCompletions(i.id,void 0,g,a)]);W(u.data||[]),P(h.data||[]),Z(f.data||[])}catch(e){console.error("Error loading goals:",e)}finally{q(!1)}},[null==i?void 0:i.id]);(0,o.useEffect)(()=>{if(!h&&!u){f.push("/login");return}ee()},[h,u,f,ee]),(0,o.useEffect)(()=>{O&&(null==i?void 0:i.id)?c.tb.getGoalStats(O.id,i.id).then(e=>{let{data:t}=e;F(t)}):F(null)},[O,null==i?void 0:i.id]);let et=e=>{let t=new Date().toISOString().split("T")[0];return b.some(i=>i.goal_id===e&&i.completed_date===t)},ei=async e=>{if(!(null==i?void 0:i.id))return;let t=et(e.id);if(t)await c.tb.uncompleteGoal(e.id),W(t=>t.filter(t=>t.goal_id!==e.id));else{let{data:t}=await c.tb.completeGoal(e.id,i.id);t&&(W(e=>[...e,t]),(0,g.c0)("Goal Completed!",'Great job completing "'.concat(e.title,'"! Keep up the momentum!')))}ee()},en=async()=>{if(!(null==i?void 0:i.id)||!Y.title)return;$(null);let e={user_id:i.id,title:Y.title,description:Y.description,category:Y.category,target_frequency:Y.target_frequency,target_days:"custom"===Y.target_frequency||"weekly"===Y.target_frequency?Y.target_days:"daily"===Y.target_frequency?[0,1,2,3,4,5,6]:[],target_days_of_month:"monthly"===Y.target_frequency?Y.target_days_of_month:void 0,target_time:Y.target_time||void 0,duration_minutes:Y.duration_minutes,start_date:Y.start_date||new Date().toISOString().split("T")[0],end_date:Y.end_date||void 0,color:Y.color},{data:t,error:n}=await c.tb.createGoal(e);if(n){var o,r,a;(null===(o=n.message)||void 0===o?void 0:o.includes("404"))||(null===(r=n.message)||void 0===r?void 0:r.includes("not found"))||(null===(a=n.message)||void 0===a?void 0:a.includes("migration"))?(K(!0),$("Database tables not set up. Please run the SQL migration in Supabase.")):$(n.message||"Failed to create goal");return}t&&(x(e=>[t,...e]),M(!1),er(),(0,g.c0)("Goal Created",'Your goal "'.concat(Y.title,"\" has been created. Let's build that consistency!")))},eo=async e=>{let{error:t}=await c.tb.deleteGoal(e);t||(x(t=>t.filter(t=>t.id!==e)),H(null))},er=()=>{V({title:"",description:"",category:"fitness",target_frequency:"daily",target_days:[],target_days_of_month:[],target_time:"",duration_minutes:30,color:"#ef4444",start_date:new Date().toISOString().split("T")[0],end_date:""})},ea=p.filter(e=>{let t=new Date,i=t.getDay(),n=t.getDate();return"daily"===e.target_frequency||("monthly"===e.target_frequency?e.target_days_of_month&&e.target_days_of_month.includes(n):!!(e.target_days&&e.target_days.includes(i)))}),el=ea.filter(e=>et(e.id)).length,es=p.reduce((e,t)=>e+t.streak_current,0),ed=new Date,ec=ed.getDay()+1,eg=p.length*ec,eu=eg>0?Math.round(E.length/eg*100):0,eh=ed.getDate(),ef=p.length*eh,ey=ef>0?Math.round(A.length/ef*100):0;return h||N?(0,n.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f8f9fa"},children:(0,n.jsx)(l.E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},style:{width:40,height:40,borderRadius:"50%",border:"3px solid rgba(59, 130, 246, 0.2)",borderTopColor:"#3b82f6"}})}):(0,n.jsxs)("div",{style:{display:"flex",minHeight:"100vh",background:"#f8f9fa"},children:[(0,n.jsx)(d.Z,{projects:[],onCreateProject:()=>{},onCollapsedChange:U}),(0,n.jsxs)("main",{className:"page-main",style:{flex:1,marginLeft:Q?80:280,padding:"32px",transition:"margin-left 0.3s ease"},children:[(0,n.jsxs)(l.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},style:{marginBottom:32},children:[(0,n.jsx)("div",{style:{display:"flex",alignItems:"center",gap:16,marginBottom:8},children:(0,n.jsxs)("button",{onClick:()=>f.push("/personal"),style:{display:"flex",alignItems:"center",gap:8,padding:"8px 16px",background:"#fff",border:"1px solid #e5e7eb",borderRadius:8,color:"#6b7280",cursor:"pointer",fontSize:14},children:[(0,n.jsx)(j.Z,{style:{width:16,height:16}}),"Back to Personal"]})}),(0,n.jsx)("h1",{style:{fontSize:28,fontWeight:700,color:"#111827",marginBottom:8,display:"flex",alignItems:"center",gap:12},children:"Goals"}),(0,n.jsx)("p",{style:{color:"#6b7280",fontSize:15},children:"Build consistency and discipline with daily goals"})]}),J&&(0,n.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},style:{padding:20,background:"linear-gradient(135deg, rgba(251, 146, 60, 0.1) 0%, rgba(251, 146, 60, 0.05) 100%)",border:"1px solid rgba(251, 146, 60, 0.3)",borderRadius:16,marginBottom:24},children:[(0,n.jsx)("h3",{style:{color:"#fb923c",fontSize:16,fontWeight:600,marginBottom:8},children:"Database Setup Required"}),(0,n.jsx)("p",{style:{color:"#6b7280",fontSize:14,marginBottom:12},children:"The Goals feature requires database tables to be created. Please run the SQL migration in your Supabase dashboard."}),(0,n.jsxs)("p",{style:{color:"#9ca3af",fontSize:13},children:["Go to Supabase → SQL Editor → Run the contents of ",(0,n.jsx)("code",{style:{background:"rgba(0,0,0,0.1)",padding:"2px 6px",borderRadius:4},children:"supabase_migrations/create_goals_tables.sql"})]})]}),X&&(0,n.jsxs)(l.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},style:{padding:16,background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:12,marginBottom:24,display:"flex",alignItems:"center",gap:12},children:[(0,n.jsx)(v.Z,{style:{width:20,height:20,color:"#ef4444"}}),(0,n.jsx)("p",{style:{color:"#ef4444",fontSize:14},children:X}),(0,n.jsx)("button",{onClick:()=>$(null),style:{marginLeft:"auto",padding:"4px 8px",background:"rgba(239, 68, 68, 0.2)",border:"none",borderRadius:6,color:"#ef4444",fontSize:12,cursor:"pointer"},children:"Dismiss"})]}),(0,n.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:16,marginBottom:32},children:[(0,n.jsxs)("div",{style:{padding:24,background:"#fff",border:"1px solid #e5e7eb",borderRadius:16,boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:16},children:[(0,n.jsx)("div",{style:{width:44,height:44,borderRadius:12,background:"rgba(59, 130, 246, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)(C.Z,{style:{width:24,height:24,color:"#3b82f6"}})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{style:{color:"#6b7280",fontSize:13},children:"Today's Progress"}),(0,n.jsxs)("p",{style:{color:"#111827",fontSize:24,fontWeight:700},children:[el," / ",ea.length]})]})]}),(0,n.jsx)("div",{style:{height:8,background:"#e5e7eb",borderRadius:4,overflow:"hidden"},children:(0,n.jsx)(l.E.div,{initial:{width:0},animate:{width:"".concat(ea.length>0?el/ea.length*100:0,"%")},transition:{duration:.5,delay:.3},style:{height:"100%",background:"linear-gradient(90deg, #3b82f6, #2563eb)",borderRadius:4}})})]}),(0,n.jsx)("div",{style:{padding:24,background:"#fff",border:"1px solid #e5e7eb",borderRadius:16,boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[(0,n.jsx)("div",{style:{width:44,height:44,borderRadius:12,background:"rgba(239, 68, 68, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)(R.Z,{style:{width:24,height:24,color:"#ef4444"}})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{style:{color:"#6b7280",fontSize:13},children:"Total Streak Days"}),(0,n.jsx)("p",{style:{color:"#111827",fontSize:24,fontWeight:700},children:es})]})]})}),(0,n.jsx)("div",{style:{padding:24,background:"#fff",border:"1px solid #e5e7eb",borderRadius:16,boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[(0,n.jsx)("div",{style:{width:44,height:44,borderRadius:12,background:"rgba(139, 92, 246, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)(w.Z,{style:{width:24,height:24,color:"#8b5cf6"}})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{style:{color:"#6b7280",fontSize:13},children:"Active Goals"}),(0,n.jsx)("p",{style:{color:"#111827",fontSize:24,fontWeight:700},children:p.length})]})]})}),(0,n.jsxs)("div",{style:{padding:24,background:"#fff",border:"1px solid #e5e7eb",borderRadius:16,boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:12},children:[(0,n.jsx)("div",{style:{width:44,height:44,borderRadius:12,background:"rgba(16, 185, 129, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)(y.Z,{style:{width:24,height:24,color:"#10b981"}})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{style:{color:"#6b7280",fontSize:13},children:"This Week"}),(0,n.jsxs)("p",{style:{color:"#111827",fontSize:24,fontWeight:700},children:[eu,"%"]})]})]}),(0,n.jsx)("div",{style:{height:6,background:"#e5e7eb",borderRadius:3,overflow:"hidden"},children:(0,n.jsx)(l.E.div,{initial:{width:0},animate:{width:"".concat(eu,"%")},transition:{duration:.5,delay:.4},style:{height:"100%",background:eu>=80?"#10b981":eu>=50?"#f59e0b":"#ef4444",borderRadius:3}})})]}),(0,n.jsxs)("div",{style:{padding:24,background:"#fff",border:"1px solid #e5e7eb",borderRadius:16,boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:12},children:[(0,n.jsx)("div",{style:{width:44,height:44,borderRadius:12,background:"rgba(251, 146, 60, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)(_.Z,{style:{width:24,height:24,color:"#fb923c"}})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{style:{color:"#6b7280",fontSize:13},children:"This Month"}),(0,n.jsxs)("p",{style:{color:"#111827",fontSize:24,fontWeight:700},children:[ey,"%"]})]})]}),(0,n.jsx)("div",{style:{height:6,background:"#e5e7eb",borderRadius:3,overflow:"hidden"},children:(0,n.jsx)(l.E.div,{initial:{width:0},animate:{width:"".concat(ey,"%")},transition:{duration:.5,delay:.5},style:{height:"100%",background:ey>=80?"#10b981":ey>=50?"#f59e0b":"#ef4444",borderRadius:3}})})]})]}),(0,n.jsxs)(l.E.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>M(!0),style:{width:"100%",padding:"20px",background:"linear-gradient(135deg, rgba(251, 146, 60, 0.1) 0%, rgba(251, 146, 60, 0.05) 100%)",border:"2px dashed rgba(251, 146, 60, 0.3)",borderRadius:16,color:"#fb923c",fontSize:16,fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:8,marginBottom:32},children:[(0,n.jsx)(S.Z,{style:{width:20,height:20}}),"Create New Goal"]}),(0,n.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[(0,n.jsxs)("h2",{style:{fontSize:20,fontWeight:600,color:"#111827",marginBottom:16,display:"flex",alignItems:"center",gap:8},children:[(0,n.jsx)(_.Z,{style:{width:24,height:24,color:"#fb923c"}}),"Today's Goals"]}),0===ea.length?(0,n.jsxs)("div",{style:{padding:48,textAlign:"center",background:"#fff",border:"1px solid #e5e7eb",borderRadius:16},children:[(0,n.jsx)(k.Z,{style:{width:48,height:48,color:"#d1d5db",margin:"0 auto 16px"}}),(0,n.jsx)("p",{style:{color:"#9ca3af",fontSize:16},children:"No goals scheduled for today. Create one to get started!"})]}):(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:12},children:ea.map((e,t)=>{let i=et(e.id),o=B[e.category]||m.Z;return(0,n.jsxs)(l.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},whileHover:{x:4},style:{display:"flex",alignItems:"center",gap:16,padding:20,background:i?"linear-gradient(135deg, rgba(34, 197, 94, 0.1) 0%, rgba(34, 197, 94, 0.05) 100%)":"#fff",border:"1px solid ".concat(i?"rgba(34, 197, 94, 0.3)":"#e5e7eb"),borderRadius:12,cursor:"pointer"},onClick:()=>H(e),children:[(0,n.jsx)(l.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t=>{t.stopPropagation(),ei(e)},style:{width:40,height:40,borderRadius:12,background:i?e.color:"#f3f4f6",border:"2px solid ".concat(i?e.color:"#d1d5db"),display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:i&&(0,n.jsx)(D.Z,{style:{width:20,height:20,color:"#111827"}})}),(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:4},children:[(0,n.jsx)("span",{style:{padding:"2px 8px",background:"".concat(e.color,"20"),color:e.color,borderRadius:4,fontSize:11,fontWeight:600,textTransform:"uppercase"},children:e.category}),e.streak_current>0&&(0,n.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:4,padding:"2px 8px",background:"rgba(239, 68, 68, 0.1)",color:"#ef4444",borderRadius:4,fontSize:11,fontWeight:600},children:[(0,n.jsx)(R.Z,{style:{width:12,height:12}}),e.streak_current," day streak"]})]}),(0,n.jsx)("h3",{style:{color:"#111827",fontSize:16,fontWeight:600,textDecoration:i?"line-through":"none",opacity:i?.7:1},children:e.title}),e.target_time&&(0,n.jsxs)("p",{style:{color:"#9ca3af",fontSize:13,display:"flex",alignItems:"center",gap:4,marginTop:4},children:[(0,n.jsx)(z.Z,{style:{width:14,height:14}}),e.target_time," • ",e.duration_minutes," min"]})]}),(0,n.jsx)("div",{style:{width:44,height:44,borderRadius:12,background:"".concat(e.color,"15"),display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)(o,{style:{width:24,height:24,color:e.color}})})]},e.id)})})]}),p.length>ea.length&&(0,n.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},style:{marginTop:40},children:[(0,n.jsx)("h2",{style:{fontSize:20,fontWeight:600,color:"#111827",marginBottom:16},children:"All Goals"}),(0,n.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:16},children:p.filter(e=>!ea.includes(e)).map((e,t)=>{var i,o;let r=B[e.category]||m.Z;return(0,n.jsx)(l.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.05*t},whileHover:{y:-4},onClick:()=>H(e),style:{padding:20,background:"#fff",border:"1px solid #e5e7eb",borderRadius:16,cursor:"pointer"},children:(0,n.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:12},children:[(0,n.jsx)("div",{style:{width:44,height:44,borderRadius:12,background:"".concat(e.color,"15"),display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:(0,n.jsx)(r,{style:{width:24,height:24,color:e.color}})}),(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("h3",{style:{color:"#111827",fontSize:15,fontWeight:600,marginBottom:4},children:e.title}),(0,n.jsx)("p",{style:{color:"#9ca3af",fontSize:12},children:"daily"===e.target_frequency?"Every day":"monthly"===e.target_frequency?"Monthly: ".concat((null===(i=e.target_days_of_month)||void 0===i?void 0:i.sort((e,t)=>e-t).join(", "))||"Not set"):null===(o=e.target_days)||void 0===o?void 0:o.map(e=>T[e].name).join(", ")}),e.streak_current>0&&(0,n.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",gap:4,marginTop:8,padding:"4px 8px",background:"rgba(239, 68, 68, 0.1)",borderRadius:6},children:[(0,n.jsx)(R.Z,{style:{width:14,height:14,color:"#ef4444"}}),(0,n.jsxs)("span",{style:{color:"#ef4444",fontSize:12,fontWeight:600},children:[e.streak_current," day streak"]})]})]})]})},e.id)})})]})]}),(0,n.jsx)(s.M,{children:G&&(0,n.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:20},onClick:()=>M(!1),children:(0,n.jsxs)(l.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:e=>e.stopPropagation(),style:{width:"100%",maxWidth:500,maxHeight:"90vh",overflow:"auto",background:"#fff",border:"1px solid #e5e7eb",borderRadius:20,padding:32},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:24},children:[(0,n.jsx)("h2",{style:{color:"#111827",fontSize:24,fontWeight:700},children:"Create New Goal"}),(0,n.jsx)("button",{onClick:()=>M(!1),style:{width:36,height:36,borderRadius:10,background:"#f3f4f6",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)(v.Z,{style:{width:20,height:20,color:"#9ca3af"}})})]}),(0,n.jsxs)("div",{style:{marginBottom:20},children:[(0,n.jsx)("label",{style:{display:"block",color:"#4b5563",fontSize:13,marginBottom:8},children:"Goal Title *"}),(0,n.jsx)("input",{type:"text",value:Y.title,onChange:e=>V({...Y,title:e.target.value}),placeholder:"e.g., Morning Exercise",style:{width:"100%",padding:"12px 16px",background:"#f3f4f6",border:"1px solid #e5e7eb",borderRadius:10,color:"#111827",fontSize:15,outline:"none"}})]}),(0,n.jsxs)("div",{style:{marginBottom:20},children:[(0,n.jsx)("label",{style:{display:"block",color:"#4b5563",fontSize:13,marginBottom:8},children:"Description (optional)"}),(0,n.jsx)("textarea",{value:Y.description,onChange:e=>V({...Y,description:e.target.value}),placeholder:"Describe your goal...",rows:3,style:{width:"100%",padding:"12px 16px",background:"#f3f4f6",border:"1px solid #e5e7eb",borderRadius:10,color:"#111827",fontSize:15,outline:"none",resize:"none"}})]}),(0,n.jsxs)("div",{style:{marginBottom:20},children:[(0,n.jsx)("label",{style:{display:"block",color:"#4b5563",fontSize:13,marginBottom:8},children:"Category"}),(0,n.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:c.T5.map(e=>(0,n.jsx)("button",{onClick:()=>V({...Y,category:e.id,color:e.color}),style:{padding:"8px 16px",background:Y.category===e.id?"".concat(e.color,"20"):"#f9fafb",border:"1px solid ".concat(Y.category===e.id?e.color:"#e5e7eb"),borderRadius:8,color:Y.category===e.id?e.color:"#6b7280",fontSize:13,cursor:"pointer"},children:e.name},e.id))})]}),(0,n.jsxs)("div",{style:{marginBottom:20},children:[(0,n.jsx)("label",{style:{display:"block",color:"#4b5563",fontSize:13,marginBottom:8},children:"Frequency"}),(0,n.jsx)("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:["daily","weekly","monthly","custom"].map(e=>(0,n.jsx)("button",{onClick:()=>V({...Y,target_frequency:e,target_days:[],target_days_of_month:[]}),style:{flex:"1 1 auto",minWidth:80,padding:"12px",background:Y.target_frequency===e?"rgba(251, 146, 60, 0.15)":"#f9fafb",border:"1px solid ".concat(Y.target_frequency===e?"#fb923c":"#e5e7eb"),borderRadius:10,color:Y.target_frequency===e?"#ea580c":"#6b7280",fontSize:14,cursor:"pointer",textTransform:"capitalize"},children:e},e))})]}),("weekly"===Y.target_frequency||"custom"===Y.target_frequency)&&(0,n.jsxs)("div",{style:{marginBottom:20},children:[(0,n.jsx)("label",{style:{display:"block",color:"#4b5563",fontSize:13,marginBottom:8},children:"Select Days of Week"}),(0,n.jsx)("div",{style:{display:"flex",gap:8},children:T.map(e=>(0,n.jsx)("button",{onClick:()=>{let t=Y.target_days.includes(e.id)?Y.target_days.filter(t=>t!==e.id):[...Y.target_days,e.id];V({...Y,target_days:t})},style:{flex:1,padding:"10px 4px",background:Y.target_days.includes(e.id)?"rgba(251, 146, 60, 0.15)":"#f9fafb",border:"1px solid ".concat(Y.target_days.includes(e.id)?"#fb923c":"#e5e7eb"),borderRadius:8,color:Y.target_days.includes(e.id)?"#ea580c":"#6b7280",fontSize:12,cursor:"pointer"},children:e.name},e.id))})]}),"monthly"===Y.target_frequency&&(0,n.jsxs)("div",{style:{marginBottom:20},children:[(0,n.jsx)("label",{style:{display:"block",color:"#4b5563",fontSize:13,marginBottom:8},children:"Select Days of Month"}),(0,n.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:6,maxHeight:200,overflowY:"auto",padding:4},children:Array.from({length:31},(e,t)=>t+1).map(e=>(0,n.jsx)("button",{onClick:()=>{let t=Y.target_days_of_month.includes(e)?Y.target_days_of_month.filter(t=>t!==e):[...Y.target_days_of_month,e];V({...Y,target_days_of_month:t})},style:{padding:"8px 4px",background:Y.target_days_of_month.includes(e)?"rgba(251, 146, 60, 0.15)":"#f9fafb",border:"1px solid ".concat(Y.target_days_of_month.includes(e)?"#fb923c":"#e5e7eb"),borderRadius:6,color:Y.target_days_of_month.includes(e)?"#ea580c":"#6b7280",fontSize:13,cursor:"pointer",fontWeight:Y.target_days_of_month.includes(e)?600:400},children:e},e))}),(0,n.jsxs)("p",{style:{color:"#9ca3af",fontSize:12,marginTop:8},children:["Selected: ",Y.target_days_of_month.length>0?Y.target_days_of_month.sort((e,t)=>e-t).join(", "):"None"]})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:16,marginBottom:20},children:[(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("label",{style:{display:"block",color:"#4b5563",fontSize:13,marginBottom:8},children:"Start Date"}),(0,n.jsx)("input",{type:"date",value:Y.start_date,onChange:e=>V({...Y,start_date:e.target.value}),style:{width:"100%",padding:"12px 16px",background:"#f3f4f6",border:"1px solid #e5e7eb",borderRadius:10,color:"#111827",fontSize:15,outline:"none"}})]}),(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("label",{style:{display:"block",color:"#4b5563",fontSize:13,marginBottom:8},children:"End Date (optional)"}),(0,n.jsx)("input",{type:"date",value:Y.end_date,onChange:e=>V({...Y,end_date:e.target.value}),min:Y.start_date,style:{width:"100%",padding:"12px 16px",background:"#f3f4f6",border:"1px solid #e5e7eb",borderRadius:10,color:"#111827",fontSize:15,outline:"none"}})]})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:16,marginBottom:24},children:[(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("label",{style:{display:"block",color:"#4b5563",fontSize:13,marginBottom:8},children:"Target Time (optional)"}),(0,n.jsx)("input",{type:"time",value:Y.target_time,onChange:e=>V({...Y,target_time:e.target.value}),style:{width:"100%",padding:"12px 16px",background:"#f3f4f6",border:"1px solid #e5e7eb",borderRadius:10,color:"#111827",fontSize:15,outline:"none"}})]}),(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("label",{style:{display:"block",color:"#4b5563",fontSize:13,marginBottom:8},children:"Duration (minutes)"}),(0,n.jsx)("input",{type:"number",value:Y.duration_minutes,onChange:e=>V({...Y,duration_minutes:parseInt(e.target.value)||30}),min:5,max:480,style:{width:"100%",padding:"12px 16px",background:"#f3f4f6",border:"1px solid #e5e7eb",borderRadius:10,color:"#111827",fontSize:15,outline:"none"}})]})]}),(0,n.jsx)("button",{onClick:en,disabled:!Y.title,style:{width:"100%",padding:"14px",background:Y.title?"linear-gradient(135deg, #fb923c, #f97316)":"#e5e7eb",border:"none",borderRadius:12,color:Y.title?"#fff":"#9ca3af",fontSize:16,fontWeight:600,cursor:Y.title?"pointer":"not-allowed",opacity:Y.title?1:.5},children:"Create Goal"})]})})}),(0,n.jsx)(s.M,{children:O&&(0,n.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:20},onClick:()=>H(null),children:(0,n.jsxs)(l.E.div,{initial:{scale:.9,opacity:0,x:100},animate:{scale:1,opacity:1,x:0},exit:{scale:.9,opacity:0,x:100},onClick:e=>e.stopPropagation(),style:{width:"100%",maxWidth:500,maxHeight:"90vh",overflow:"auto",background:"#fff",border:"1px solid #e5e7eb",borderRadius:20,padding:32},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:24},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[(0,n.jsx)("div",{style:{width:48,height:48,borderRadius:14,background:"".concat(O.color,"20"),display:"flex",alignItems:"center",justifyContent:"center"},children:(()=>{let e=B[O.category]||m.Z;return(0,n.jsx)(e,{style:{width:28,height:28,color:O.color}})})()}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{style:{color:"#111827",fontSize:22,fontWeight:700},children:O.title}),(0,n.jsx)("span",{style:{padding:"2px 8px",background:"".concat(O.color,"20"),color:O.color,borderRadius:4,fontSize:11,fontWeight:600,textTransform:"uppercase"},children:O.category})]})]}),(0,n.jsx)("button",{onClick:()=>H(null),style:{width:36,height:36,borderRadius:10,background:"#f3f4f6",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)(v.Z,{style:{width:20,height:20,color:"#9ca3af"}})})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:16,marginBottom:24},children:[(0,n.jsxs)("div",{style:{flex:1,padding:20,background:"rgba(239, 68, 68, 0.1)",borderRadius:16,textAlign:"center"},children:[(0,n.jsx)(R.Z,{style:{width:32,height:32,color:"#ef4444",margin:"0 auto 8px"}}),(0,n.jsx)("p",{style:{color:"#111827",fontSize:28,fontWeight:700},children:O.streak_current}),(0,n.jsx)("p",{style:{color:"#9ca3af",fontSize:12},children:"Current Streak"})]}),(0,n.jsxs)("div",{style:{flex:1,padding:20,background:"rgba(139, 92, 246, 0.1)",borderRadius:16,textAlign:"center"},children:[(0,n.jsx)(w.Z,{style:{width:32,height:32,color:"#8b5cf6",margin:"0 auto 8px"}}),(0,n.jsx)("p",{style:{color:"#111827",fontSize:28,fontWeight:700},children:O.streak_best}),(0,n.jsx)("p",{style:{color:"#9ca3af",fontSize:12},children:"Best Streak"})]})]}),L&&(0,n.jsxs)("div",{style:{marginBottom:24},children:[(0,n.jsx)("h3",{style:{color:"#111827",fontSize:16,fontWeight:600,marginBottom:16},children:"Statistics"}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsx)("span",{style:{color:"#6b7280",fontSize:14},children:"This Week"}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,n.jsx)("div",{style:{width:100,height:6,background:"#e5e7eb",borderRadius:3,overflow:"hidden"},children:(0,n.jsx)("div",{style:{width:"".concat(L.completion_rate_weekly,"%"),height:"100%",background:"#10b981",borderRadius:3}})}),(0,n.jsxs)("span",{style:{color:"#111827",fontSize:14,fontWeight:600},children:[Math.round(L.completion_rate_weekly),"%"]})]})]}),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsx)("span",{style:{color:"#6b7280",fontSize:14},children:"This Month"}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,n.jsx)("div",{style:{width:100,height:6,background:"#e5e7eb",borderRadius:3,overflow:"hidden"},children:(0,n.jsx)("div",{style:{width:"".concat(L.completion_rate_monthly,"%"),height:"100%",background:"#3b82f6",borderRadius:3}})}),(0,n.jsxs)("span",{style:{color:"#111827",fontSize:14,fontWeight:600},children:[Math.round(L.completion_rate_monthly),"%"]})]})]}),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsx)("span",{style:{color:"#6b7280",fontSize:14},children:"All Time"}),(0,n.jsxs)("span",{style:{color:"#111827",fontSize:14,fontWeight:600},children:[L.total_completions," completions"]})]})]})]}),(0,n.jsxs)("div",{style:{padding:16,background:"#f9fafb",borderRadius:12,marginBottom:24},children:[(0,n.jsx)("p",{style:{color:"#9ca3af",fontSize:13,marginBottom:8},children:"Schedule"}),(0,n.jsx)("p",{style:{color:"#111827",fontSize:15},children:"daily"===O.target_frequency?"Every day":"monthly"===O.target_frequency?"Monthly on: ".concat((null===(e=O.target_days_of_month)||void 0===e?void 0:e.sort((e,t)=>e-t).map(e=>1===e?"1st":2===e?"2nd":3===e?"3rd":"".concat(e,"th")).join(", "))||"Not set"):null===(t=O.target_days)||void 0===t?void 0:t.map(e=>T[e].fullName).join(", ")}),O.target_time&&(0,n.jsxs)("p",{style:{color:"#4b5563",fontSize:14,marginTop:4},children:["at ",O.target_time," • ",O.duration_minutes," minutes"]})]}),(0,n.jsx)("div",{style:{display:"flex",gap:12},children:(0,n.jsxs)("button",{onClick:()=>eo(O.id),style:{flex:1,padding:"14px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:12,color:"#ef4444",fontSize:14,fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:8},children:[(0,n.jsx)(I.Z,{style:{width:18,height:18}}),"Delete Goal"]})})]})})})]})}},33617:function(e,t,i){"use strict";function n(){var e;return!!(null===(e=window.electronAPI)||void 0===e?void 0:e.isElectron)}function o(){var e,t,i;return n()?(null===(e=window.electronAPI)||void 0===e?void 0:e.isMac)?"mac":(null===(t=window.electronAPI)||void 0===t?void 0:t.isWindows)?"windows":(null===(i=window.electronAPI)||void 0===i?void 0:i.isLinux)?"linux":"web":"web"}async function r(){if(n())return!0;if("Notification"in window){let e=await Notification.requestPermission();return"granted"===e}return!1}async function a(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(console.log("\uD83D\uDD14 showNotification called:",e,t,"isElectron:",n()),n()&&window.electronAPI){console.log("\uD83D\uDD14 Sending to Electron main process...");try{await window.electronAPI.showNotification(e,t,i),console.log("\uD83D\uDD14 Notification sent to Electron")}catch(e){console.error("\uD83D\uDD14 Error sending notification to Electron:",e)}return}if(console.log("\uD83D\uDD14 Using web notification fallback"),"Notification"in window){if("default"===Notification.permission&&(console.log("\uD83D\uDD14 Requesting notification permission..."),await Notification.requestPermission()),"granted"===Notification.permission){console.log("\uD83D\uDD14 Permission granted, showing web notification");let n=new Notification(e,{body:t,silent:i.silent,tag:"critical"===i.urgency?"urgent":void 0,icon:"/favicon.png"});i.url&&(n.onclick=()=>{window.focus(),window.location.href=i.url})}else console.log("\uD83D\uDD14 Notification permission denied")}else console.log("\uD83D\uDD14 Notifications not supported in this browser")}async function l(e){if(n()&&window.electronAPI){await window.electronAPI.taskReminder(e);return}await a("Task Reminder","".concat(e.title," is due soon!"),{urgency:"critical",url:"/my-tasks"})}async function s(e){if(n()&&window.electronAPI){await window.electronAPI.meetingReminder(e);return}await a("Meeting Starting Soon","".concat(e.title," starts in ").concat(e.minutesUntil," minutes"),{urgency:"critical",url:"/calendar"})}async function d(e){n()&&window.electronAPI&&await window.electronAPI.setBadgeCount(e)}async function c(){return n()&&window.electronAPI?window.electronAPI.getSettings():null}async function g(e){return n()&&window.electronAPI?window.electronAPI.updateSettings(e):null}async function u(){return n()&&window.electronAPI?window.electronAPI.getAppVersion():"1.0.0 (Web)"}function h(e){return n()&&window.electronAPI?(window.electronAPI.onShortcut(e),()=>{var e;return null===(e=window.electronAPI)||void 0===e?void 0:e.removeAllListeners("shortcut")}):()=>{}}i.d(t,{IA:function(){return g},Jm:function(){return y},Sf:function(){return u},Xf:function(){return o},c0:function(){return a},d:function(){return n},eO:function(){return d},eV:function(){return r},fq:function(){return h},hO:function(){return c}});class f{scheduleTaskReminder(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,i=new Date(e.dueDate),n=new Date(i.getTime()-6e4*t),o=new Date,r=n.getTime()-o.getTime();if(r>0){let t=setTimeout(()=>{l(e),this.intervals.delete(e.id)},r);this.intervals.set(e.id,t)}}scheduleMeetingReminder(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=new Date(e.startTime),n=new Date(i.getTime()-6e4*t),o=new Date,r=n.getTime()-o.getTime();if(r>0){let i=setTimeout(()=>{s({...e,minutesUntil:t}),this.intervals.delete(e.id)},r);this.intervals.set(e.id,i)}}cancelReminder(e){let t=this.intervals.get(e);t&&(clearTimeout(t),this.intervals.delete(e))}cancelAll(){this.intervals.forEach(e=>clearTimeout(e)),this.intervals.clear()}constructor(){this.intervals=new Map}}let y=new f}},function(e){e.O(0,[8326,7708,4427,3763,8411,3152,8714,976,2971,2472,1744],function(){return e(e.s=3027)}),_N_E=e.O()}]);