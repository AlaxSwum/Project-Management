(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3185],{3881:function(e,n,t){Promise.resolve().then(t.t.bind(t,3994,23)),Promise.resolve().then(t.t.bind(t,1654,23)),Promise.resolve().then(t.t.bind(t,2489,23)),Promise.resolve().then(t.bind(t,3448)),Promise.resolve().then(t.bind(t,3549))},3448:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return X}});var r=t(7437),a=t(4033),o=t(3549),i=t(2265);let s=(0,i.createContext)(void 0);function l(e){let{children:n}=e,{user:a}=(0,o.useAuth)(),[l,d]=(0,i.useState)([]),[c,f]=(0,i.useState)(!0),[m,x]=(0,i.useState)(!1),p=async()=>{if(null==a?void 0:a.id)try{let{projectService:e}=await t.e(3152).then(t.bind(t,3152)),n=await e.getProjects();Array.isArray(n)&&d(n)}catch(e){console.error("Failed to fetch projects:",e)}finally{f(!1)}};return(0,i.useEffect)(()=>{(null==a?void 0:a.id)&&!m&&(x(!0),p())},[null==a?void 0:a.id]),(0,r.jsx)(s.Provider,{value:{projects:l,isLoading:c,refreshProjects:p,removeProject:e=>{d(n=>n.filter(n=>n.id!==e))}},children:n})}var d=t(9738),c=t.n(d),f=t(4887),m=t(1396),x=t.n(m),p=t(8411);function b(){let{user:e}=(0,o.useAuth)(),[n,t]=(0,i.useState)([]),[a,s]=(0,i.useState)(0),[l,d]=(0,i.useState)(!1),[c,f]=(0,i.useState)(!1),m=(0,i.useRef)(null);(0,i.useEffect)(()=>{let e=e=>{m.current&&!m.current.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let x=async()=>{if(null==e?void 0:e.id)try{f(!0);let{data:n,error:r}=await p.supabase.from("notifications").select("*").eq("recipient_id",e.id).order("created_at",{ascending:!1}).limit(20);if(r)throw r;t(n||[]),s((null==n?void 0:n.filter(e=>!e.is_read).length)||0)}catch(e){console.error("Failed to fetch notifications:",e)}finally{f(!1)}},b=async e=>{try{let{error:r}=await p.supabase.from("notifications").update({is_read:!0}).eq("id",e);if(r)throw r;t(n.map(n=>n.id===e?{...n,is_read:!0}:n)),s(e=>Math.max(0,e-1))}catch(e){console.error("Failed to mark notification as read:",e)}},u=async()=>{if(null==e?void 0:e.id)try{let{error:r}=await p.supabase.from("notifications").update({is_read:!0}).eq("recipient_id",e.id).eq("is_read",!1);if(r)throw r;t(n.map(e=>({...e,is_read:!0}))),s(0)}catch(e){console.error("Failed to mark all notifications as read:",e)}},g=async e=>{var n,t;e.is_read||await b(e.id),(null===(n=e.data)||void 0===n?void 0:n.task_url)?window.location.href=e.data.task_url:(null===(t=e.data)||void 0===t?void 0:t.project_url)&&(window.location.href=e.data.project_url)},h=e=>{switch(e){case"task_assigned":return(0,r.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})});case"task_reminder":return(0,r.jsx)("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-4 h-4 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})});case"task_status_changed":return(0,r.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})});default:return(0,r.jsx)("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}},j=e=>{let n=new Date(e),t=new Date,r=t.getTime()-n.getTime(),a=Math.floor(r/36e5),o=Math.floor(a/24);if(a<1){let e=Math.floor(r/6e4);return e<1?"Just now":"".concat(e,"m ago")}return a<24?"".concat(a,"h ago"):o<7?"".concat(o,"d ago"):n.toLocaleDateString()};return((0,i.useEffect)(()=>{(null==e?void 0:e.id)&&x()},[null==e?void 0:e.id]),(0,i.useEffect)(()=>{if(!(null==e?void 0:e.id))return;let n=p.supabase.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:"recipient_id=eq.".concat(e.id)},e=>{let n=e.new;t(e=>[n,...e]),s(e=>e+1)}).subscribe();return()=>{p.supabase.removeChannel(n)}},[null==e?void 0:e.id]),e)?(0,r.jsxs)("div",{className:"relative",ref:m,children:[(0,r.jsxs)("button",{onClick:()=>d(!l),className:"relative p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors duration-200","aria-label":"Notifications",children:[(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM12 2a7 7 0 00-7 7v4l-2 2v1h18v-1l-2-2V9a7 7 0 00-7-7z"})}),a>0&&(0,r.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium",children:a>9?"9+":a})]}),l&&(0,r.jsxs)("div",{className:"absolute right-0 mt-2 w-96 bg-white rounded-lg shadow-lg border border-gray-200 z-50 max-h-96 overflow-hidden",children:[(0,r.jsxs)("div",{className:"px-4 py-3 border-b border-gray-200 flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),a>0&&(0,r.jsx)("button",{onClick:u,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Mark all read"})]}),(0,r.jsx)("div",{className:"max-h-80 overflow-y-auto",children:c?(0,r.jsxs)("div",{className:"p-4 text-center text-gray-500",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),(0,r.jsx)("p",{className:"mt-2 text-sm",children:"Loading notifications..."})]}):0===n.length?(0,r.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,r.jsx)("svg",{className:"w-12 h-12 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M15 17h5l-5 5v-5zM12 2a7 7 0 00-7 7v4l-2 2v1h18v-1l-2-2V9a7 7 0 00-7-7z"})}),(0,r.jsx)("p",{className:"text-sm",children:"No notifications yet"}),(0,r.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"You'll see updates about your tasks here"})]}):n.map(e=>(0,r.jsx)("div",{onClick:()=>g(e),className:"px-4 py-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors duration-150 ".concat(e.is_read?"":"bg-blue-50"),children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[h(e.type),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900 ".concat(e.is_read?"":"font-semibold"),children:e.title}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:e.message}),(0,r.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:j(e.created_at)})]}),!e.is_read&&(0,r.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2"})]})},e.id))}),n.length>0&&(0,r.jsx)("div",{className:"px-4 py-3 border-t border-gray-200 bg-gray-50",children:(0,r.jsx)("a",{href:"/inbox",className:"text-sm text-blue-600 hover:text-blue-800 font-medium",onClick:()=>d(!1),children:"View all notifications"})})]})]}):null}var u=t(5838),g=t(9186),h=t(7965),j=t(4992),y=t(1205),v=t(1253),w=t(4103),k=t(1095),z=t(3298),N=t(1226),D=t(2929),F=t(654),C=t(6107),_=t(7933),S=t(1809),E=t(9267),A=t(9965),T=t(4438),I=t(1296),P=t(6689),R=t(9874),B=t(5255),M=t(2307),L=t(4164),q=t(7227),Z=t(5518),W=t(6610);function U(e){var n,l,d,m,p;let{projects:U,onCreateProject:O}=e,H=(0,a.useRouter)(),Y=(0,a.usePathname)(),{user:G,logout:X}=(0,o.useAuth)(),{projects:K,removeProject:V}=function(){let e=(0,i.useContext)(s);if(void 0===e)throw Error("useProjects must be used within a ProjectsProvider");return e}(),[J,Q]=(0,i.useState)(!0),[$,ee]=(0,i.useState)(!1),[en,et]=(0,i.useState)(!1),[er,ea]=(0,i.useState)(!1),[eo,ei]=(0,i.useState)(!1),[es,el]=(0,i.useState)(!1),[ed,ec]=(0,i.useState)(!1),[ef,em]=(0,i.useState)(!1),[ex,ep]=(0,i.useState)(!1),eb=U&&U.length>0?U:K,eu=async(e,n)=>{if(e.preventDefault(),e.stopPropagation(),confirm("Are you sure you want to delete this project? This action cannot be undone."))try{let{projectService:e}=await t.e(3152).then(t.bind(t,3152));await e.deleteProject(n),V(n),(null==Y?void 0:Y.includes("/projects/".concat(n)))&&H.push("/dashboard")}catch(e){console.error("Failed to delete project:",e),alert("Failed to delete project. Please try again.")}},[eg,eh]=(0,i.useState)({startDate:"",endDate:"",reason:"",leaveType:"vacation",notes:"",projectId:0}),[ej,ey]=(0,i.useState)(14),[ev,ew]=(0,i.useState)(0),ek=async()=>{if(!(null==G?void 0:G.id)){el(!1);return}try{let e=(await Promise.resolve().then(t.bind(t,8411))).supabase;console.log("\uD83D\uDD0D Checking Class Schedule access for user:",G.id,G.email);let{data:n,error:r}=await e.from("class_schedule_members").select("id, role").eq("user_id",G.id).single();if(console.log("\uD83D\uDCCB Class Schedule member check:",{memberData:n,memberError:r}),n&&!r){console.log("✅ Class Schedule access granted: User is a member"),el(!0);return}let{data:a,error:o}=await e.from("auth_user").select("id, name, email, role, is_superuser, is_staff").eq("id",G.id).single();if(console.log("\uD83D\uDC64 User data check:",a),o){console.log("❌ Class Schedule access denied: User data error"),el(!1);return}let i=a.is_superuser||a.is_staff||"admin"===a.role||"hr"===a.role;console.log("\uD83D\uDD10 Class Schedule admin/HR check:",{is_superuser:a.is_superuser,is_staff:a.is_staff,role:a.role,hasPermission:i}),el(i)}catch(e){console.error("Error checking class schedule access:",e),el(!1)}},ez=async()=>{if(!(null==G?void 0:G.id)){ec(!1);return}try{let e=(await Promise.resolve().then(t.bind(t,8411))).supabase;console.log("\uD83D\uDD0D Checking Content Calendar access for user:",G.id,G.email);let{data:n,error:r}=await e.from("content_calendar_members").select("id, role").eq("user_id",G.id).single();if(console.log("\uD83D\uDCCB Content Calendar member check:",{memberData:n,memberError:r}),n&&!r){console.log("✅ Content Calendar access granted: User is a member"),ec(!0);return}let{data:a,error:o}=await e.from("content_calendar_folder_members").select("id, role").eq("user_id",G.id).limit(1);if(console.log("\uD83D\uDCC1 Folder member check:",{folderMemberData:a,folderMemberError:o}),a&&a.length>0&&!o){console.log("✅ Content Calendar access granted: User is a folder member"),ec(!0);return}let{data:i,error:s}=await e.from("auth_user").select("id, name, email, role, is_superuser, is_staff").eq("id",G.id).single();if(console.log("\uD83D\uDC64 User data check:",i),s){console.log("❌ Content Calendar access denied: User data error"),ec(!1);return}let l=i.is_superuser||i.is_staff||"admin"===i.role||"hr"===i.role;console.log("\uD83D\uDD10 Content Calendar admin/HR check:",{is_superuser:i.is_superuser,is_staff:i.is_staff,role:i.role,hasPermission:l}),l?(console.log("✅ Content Calendar access granted: User is admin/HR"),ec(!0)):(console.log("❌ Content Calendar access denied: No access found"),ec(!1))}catch(e){console.error("Error checking content calendar access:",e),ec(!1)}},eN=async()=>{if(!(null==G?void 0:G.id)){em(!1);return}try{let e=(await Promise.resolve().then(t.bind(t,8411))).supabase;console.log("\uD83D\uDD0D Checking Classes access for user:",G.id,G.email);let{data:n,error:r}=await e.from("classes_members").select("id, role").eq("user_id",G.id).single();if(console.log("\uD83D\uDCCB Classes member check:",{memberData:n,memberError:r}),n&&!r){console.log("✅ Classes access granted: User is a member"),em(!0);return}let{data:a,error:o}=await e.from("auth_user").select("id, name, email, role, is_superuser, is_staff").eq("id",G.id).single();if(console.log("\uD83D\uDC64 Classes user data check:",a),o){console.log("❌ Classes access denied: User data error"),em(!1);return}let i=a.is_superuser||a.is_staff||"admin"===a.role||"hr"===a.role;console.log("\uD83D\uDD10 Classes admin/HR check:",{is_superuser:a.is_superuser,is_staff:a.is_staff,role:a.role,hasPermission:i}),em(i)}catch(e){console.error("Error checking classes access:",e),em(!1)}},eD=async()=>{if(!(null==G?void 0:G.id)){ep(!1);return}try{var e;let n=(await Promise.resolve().then(t.bind(t,8411))).supabase;console.log("\uD83D\uDD0D Checking Company Outreach access for user:",G.id,G.email,G);let r=G.role||(null==G?void 0:null===(e=G.user_metadata)||void 0===e?void 0:e.role);if("instructor"===r){console.log("❌ Company Outreach access denied: User is instructor (restricted)"),ep(!1);return}let{data:a,error:o}=await n.from("company_outreach_members").select("id, role").eq("user_id",G.id).single();if(console.log("\uD83D\uDCCB Company Outreach member check:",{memberData:a,memberError:o}),a&&!o){console.log("✅ Company Outreach access granted: User is a member"),ep(!0);return}let i="admin"===r||"hr"===r||"superuser"===r;if(console.log("\uD83D\uDD0D Auth context check:",{contextRole:r,isAdmin:i,userRole:G.role,userMetadata:null==G?void 0:G.user_metadata}),i){console.log("✅ Company Outreach access granted: Admin from context"),ep(!0);return}let{data:s,error:l}=await n.from("auth_user").select("id, name, email, role, is_superuser, is_staff").eq("id",G.id).single();if(console.log("\uD83D\uDC64 Company Outreach database user check:",s,l),!l&&s){if("instructor"===s.role){console.log("❌ Company Outreach access denied: Database role is instructor"),ep(!1);return}let e=s.is_superuser||s.is_staff||"admin"===s.role||"hr"===s.role;if(console.log("\uD83D\uDD10 Company Outreach admin/HR check:",{is_superuser:s.is_superuser,is_staff:s.is_staff,role:s.role,hasAdminPermission:e}),e){console.log("✅ Company Outreach access granted: Admin from database"),ep(!0);return}}console.log("❌ Company Outreach access denied: User not in member table and not admin"),ep(!1)}catch(e){console.error("Error checking company outreach access:",e),ep(!1)}},eF=async()=>{if(null==G?void 0:G.id)try{let e=(await Promise.resolve().then(t.bind(t,8411))).supabase,{data:n,error:r}=await e.from("employee_leave_balance").select("available_days, used_days, total_days").eq("employee_id",G.id).single();r?(console.log("No leave balance record found, using defaults"),ey(14),ew(0)):(ey(n.available_days||14),ew(n.used_days||0))}catch(e){console.error("Error fetching leave balance:",e),ey(14),ew(0)}};(0,i.useEffect)(()=>{(null==G?void 0:G.id)?(eF(),ek(),ez(),eN(),eD()):(el(!1),ec(!1),em(!1),ep(!1))},[null==G?void 0:G.id]);let eC=(0,i.useRef)(null),[e_,eS]=(0,i.useState)(!1),[eE,eA]=(0,i.useState)({projectId:0,reportDate:new Date().toISOString().split("T")[0],dateDisplay:"",keyActivities:[""],ongoingTasks:[""],challenges:[""],teamPerformance:[""],nextDayPriorities:[""],meetingMinutes:"",hasMeetingMinutes:!1,otherNotes:""}),[eT,eI]=(0,i.useState)(!1),[eP,eR]=(0,i.useState)([]),[eB,eM]=(0,i.useState)(0),[eL,eq]=(0,i.useState)(!1),eZ=async()=>{try{await X(),H.push("/login")}catch(e){console.error("Logout failed:",e)}},eW=()=>{ee(!1),et(!1)},eU=()=>{console.log("\uD83D\uDD25 DEBUG: Toggle dropdown clicked! Current state:",en),et(!en),console.log("\uD83D\uDD25 DEBUG: Setting dropdown state to:",!en)},eO=()=>{et(!1)},eH=async()=>{console.log("\uD83D\uDD25 DEBUG: handleAbsenceForm called"),console.log("\uD83D\uDD25 DEBUG: Setting showAbsenceForm to true"),ei(!0),eO(),console.log("\uD83D\uDD25 DEBUG: Fetching leave balance..."),await eF(),console.log("\uD83D\uDD25 DEBUG: Leave balance fetched, modal should be visible")},eY=async e=>{e.preventDefault();let n=new Date(eg.startDate),r=new Date(eg.endDate),a=r.getTime()-n.getTime(),o=Math.ceil(a/864e5)+1;if(o>ej){alert("You only have ".concat(ej," days available. You requested ").concat(o," days."));return}try{var i,s;if(!(null==G?void 0:G.id)){alert("User not found. Please log in again.");return}let e=eb.find(e=>e.id===eg.projectId),a={start_date:eg.startDate,end_date:eg.endDate,leave_type:eg.leaveType,reason:eg.reason,notes:eg.notes||"",project_id:eg.projectId||null,project_name:(null==e?void 0:e.name)||null};console.log("Submitting leave request:",a),console.log("Auth token exists:",!!localStorage.getItem("accessToken")),console.log("Auth token:",(null===(i=localStorage.getItem("accessToken"))||void 0===i?void 0:i.substring(0,50))+"..."),console.log("User data:",G),console.log("Request headers:",{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("accessToken"))});let l=(await Promise.resolve().then(t.bind(t,8411))).supabase,{data:d,error:c}=await l.from("leave_requests").insert([{employee_id:G.id,employee_name:G.name||(null===(s=G.email)||void 0===s?void 0:s.split("@")[0])||"Unknown",employee_email:G.email,project_id:a.project_id,project_name:a.project_name,start_date:a.start_date,end_date:a.end_date,leave_type:a.leave_type,reason:a.reason,notes:a.notes,days_requested:o,status:"pending"}]).select();if(c)throw console.error("Error submitting leave request:",c),Error(c.message||"Failed to submit leave request");eh({startDate:"",endDate:"",reason:"",leaveType:"vacation",notes:"",projectId:0}),ei(!1);try{let{data:e,error:t}=await l.from("auth_user").select("id, first_name, last_name, email").or("is_staff.eq.true,is_superuser.eq.true");if(!t&&e&&e.length>0){let t=e.map(e=>{var t,a,i;return{recipient_id:e.id,sender_id:G.id,type:"leave_request_submitted",title:"New Leave Request",message:"".concat(G.name||(null===(t=G.email)||void 0===t?void 0:t.split("@")[0])," has submitted a ").concat(o,"-day leave request for ").concat(n.toLocaleDateString()," - ").concat(r.toLocaleDateString()),data:{leave_request_id:null===(a=d[0])||void 0===a?void 0:a.id,employee_name:G.name||(null===(i=G.email)||void 0===i?void 0:i.split("@")[0]),employee_email:G.email,days:o,start_date:eg.startDate,end_date:eg.endDate,leave_type:eg.leaveType}}}),{error:a}=await l.from("notifications").insert(t);a&&console.error("Error creating HR notifications:",a)}}catch(e){console.error("Error notifying HR users:",e)}await eF(),alert("Leave request submitted successfully! \n        \nYour request for ".concat(o," days has been sent to HR for approval.\n        \nStatus: Pending Approval\nDays Requested: ").concat(o,"\nPeriod: ").concat(n.toLocaleDateString()," - ").concat(r.toLocaleDateString(),"\n\nYou will be notified once HR reviews your request."))}catch(e){console.error("Error submitting leave request:",e),alert("Failed to submit leave request. Please try again.")}},eG=()=>{ei(!1),eh({startDate:"",endDate:"",reason:"",leaveType:"vacation",notes:"",projectId:0})},eX=()=>{if(!eg.startDate||!eg.endDate)return 0;let e=new Date(eg.startDate),n=new Date(eg.endDate);if(n<e)return 0;let t=n.getTime()-e.getTime();return Math.ceil(t/864e5)+1},eK=()=>{eS(!0),eO();let e=new Date,n=eV(e);eA(t=>({...t,reportDate:e.toISOString().split("T")[0],dateDisplay:n}))},eV=e=>e.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),eJ=async e=>{e.preventDefault();let n=eE.keyActivities.filter(e=>e.trim()).join("\n• ");if(!n||!eE.projectId){alert("Please fill in the required fields: Key Activities and Project.");return}try{var r;if(!(null==G?void 0:G.id)){alert("User not found. Please log in again.");return}let e=eb.find(e=>e.id===eE.projectId),a=(await Promise.resolve().then(t.bind(t,8411))).supabase,o=e=>{let n=e.filter(e=>e.trim());return n.length>0?"• "+n.join("\n• "):null},{data:i,error:s}=await a.from("daily_reports").insert([{employee_id:G.id,employee_name:G.name||(null===(r=G.email)||void 0===r?void 0:r.split("@")[0])||"Unknown",employee_email:G.email,project_id:eE.projectId,project_name:(null==e?void 0:e.name)||null,report_date:eE.reportDate,date_display:eE.dateDisplay,key_activities:o(eE.keyActivities),ongoing_tasks:o(eE.ongoingTasks),challenges:o(eE.challenges),team_performance:o(eE.teamPerformance),next_day_priorities:o(eE.nextDayPriorities),meeting_minutes:eE.meetingMinutes.trim()||null,has_meeting_minutes:eE.hasMeetingMinutes,other_notes:eE.otherNotes.trim()||null}]).select();if(s){if(console.error("Error submitting daily report:",s),"23505"===s.code)alert("You have already submitted a daily report for this date and project. Please edit the existing report or choose a different project.");else throw Error(s.message||"Failed to submit daily report")}else eA({projectId:0,reportDate:new Date().toISOString().split("T")[0],dateDisplay:"",keyActivities:[""],ongoingTasks:[""],challenges:[""],teamPerformance:[""],nextDayPriorities:[""],meetingMinutes:"",hasMeetingMinutes:!1,otherNotes:""}),eS(!1),alert("Daily report submitted successfully! \n        \nYour report for ".concat(eE.dateDisplay," has been saved.\n\nProject: ").concat((null==e?void 0:e.name)||"Unknown","\nKey Activities: ").concat(n.substring(0,100)).concat(n.length>100?"...":"","\n\nYour report is now available in the system."))}catch(e){console.error("Error submitting daily report:",e),alert("Failed to submit daily report. Please try again.")}},eQ=()=>{eS(!1),eA({projectId:0,reportDate:new Date().toISOString().split("T")[0],dateDisplay:"",keyActivities:[""],ongoingTasks:[""],challenges:[""],teamPerformance:[""],nextDayPriorities:[""],meetingMinutes:"",hasMeetingMinutes:!1,otherNotes:""})},e$=e=>{eA(n=>({...n,[e]:[...n[e],""]}))},e0=(e,n)=>{eA(t=>{let r=t[e];if(r.length>1){let a=r.filter((e,t)=>t!==n);return{...t,[e]:a}}return t})},e1=(e,n,t)=>{eA(r=>{let a=[...r[e]];return a[n]=t,{...r,[e]:a}})},e9=async()=>{if(null==G?void 0:G.id)try{let e=(await Promise.resolve().then(t.bind(t,8411))).supabase,{count:n,error:r}=await e.from("notifications").select("*",{count:"exact",head:!0}).eq("recipient_id",G.id).eq("is_read",!1);r?(console.error("Error fetching unread count:",r),eM(0)):eM(n||0)}catch(e){console.error("Error fetching unread count:",e),eM(0)}},e4=async e=>{try{let n=(await Promise.resolve().then(t.bind(t,8411))).supabase,{error:r}=await n.from("notifications").update({is_read:!0}).eq("id",e);r?console.error("Error marking notification as read:",r):(eR(eP.map(n=>n.id===e?{...n,is_read:!0}:n)),e9())}catch(e){console.error("Error marking notification as read:",e)}},e5=e=>{switch(e){case"leave_request":return(0,r.jsx)(u.Z,{style:{width:"16px",height:"16px",color:"#f59e0b"}});case"leave_status_update":return(0,r.jsx)(g.Z,{style:{width:"16px",height:"16px",color:"#10b981"}});default:return(0,r.jsx)(h.Z,{style:{width:"16px",height:"16px",color:"#6b7280"}})}},e7=e=>{let n=new Date(e),t=new Date,r=(t.getTime()-n.getTime())/36e5;return r<1?"Just now":r<24?"".concat(Math.floor(r),"h ago"):n.toLocaleDateString()};(0,i.useEffect)(()=>{if(null==G?void 0:G.id){let e=async()=>{await e9()};e();let n=setInterval(e9,3e4);return()=>clearInterval(n)}},[null==G?void 0:G.id]),(0,i.useEffect)(()=>{let e=e=>{let n=e.target,t=eC.current&&!eC.current.contains(n),r=!n.closest||!n.closest("[data-dropdown-portal]");t&&r&&(console.log("\uD83D\uDD25 DEBUG: Closing dropdown due to outside click"),et(!1))};return en&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[en]);let e2=[{name:"Home",href:"/dashboard",icon:j.Z},{name:"My Tasks",href:"/my-tasks",icon:y.Z},{name:"Calendar",href:"/calendar",icon:v.Z},{name:"My Personal",href:"/personal",icon:w.Z},{name:"Expenses",href:"/expenses",icon:k.Z},{name:"Messages",href:"/messages",icon:z.Z},{name:"Password Vault",href:"/password-vault",icon:N.Z},{name:"Timetable",href:"/timetable",icon:D.Z},{name:"Reporting",href:"/reporting",icon:F.Z}],e3=[...e2,{name:"Content Calendar",href:"/content-calendar",icon:C.Z},...es?[{name:"Class Schedule",href:"/class-schedule",icon:_.Z}]:[],...ef?[{name:"Classes",href:"/classes",icon:S.Z}]:[]],e8=[...ex?[{name:"Company Outreach",href:"/company-outreach",icon:E.Z}]:[]],e6=(null==G?void 0:G.role)==="admin"||(null==G?void 0:null===(n=G.user_metadata)||void 0===n?void 0:n.role)==="admin",ne=e6?[{name:"Admin",href:"/admin",icon:A.Z}]:[],nn=(null==G?void 0:G.role)==="instructor"||(null==G?void 0:null===(l=G.user_metadata)||void 0===l?void 0:l.role)==="instructor",nt=nn?[{name:"Instructor",href:"/instructor",icon:_.Z}]:[],nr=nn?[{name:"Home",href:"/dashboard",icon:j.Z},{name:"My Tasks",href:"/my-tasks",icon:y.Z},{name:"Calendar",href:"/calendar",icon:v.Z},{name:"Messages",href:"/messages",icon:z.Z},{name:"Timetable",href:"/timetable",icon:D.Z}]:e3,na=[{name:"Inbox",href:"/inbox",icon:T.Z},{name:"Daily Reports",href:"/daily-reports",icon:I.Z},{name:"Expenses",href:"/expenses",icon:k.Z},{name:"Absence Management",href:"/employee-absent",icon:w.Z}];T.Z;let no=e=>"/dashboard"===e?Y===e:null==Y?void 0:Y.startsWith(e);return(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1",children:[(0,r.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n          /* Professional Sidebar Theme */\n          .sidebar {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 280px;\n            height: 100vh;\n            background: linear-gradient(135deg, #F5F5ED 0%, #FAFAF2 100%);\n            border-right: 1px solid rgba(196, 131, 217, 0.2);\n            display: flex;\n            flex-direction: column;\n            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            z-index: 100;\n            box-shadow: 0 4px 24px rgba(0, 0, 0, 0.06);\n            backdrop-filter: blur(10px);\n            overflow: hidden;\n          }\n          \n          .sidebar.collapsed {\n            width: 72px;\n          }\n          \n          .sidebar::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            height: 4px;\n            background: linear-gradient(90deg, #FFB333, #C483D9, #5884FD, #F87239);\n            animation: shimmer 3s ease-in-out infinite;\n          }\n          \n          @keyframes shimmer {\n            0% { background-position: -200% 0; }\n            100% { background-position: 200% 0; }\n          }\n          \n          .sidebar-header {\n            padding: 1.5rem 1.25rem;\n            background: linear-gradient(135deg, #F5F5ED 0%, #FAFAF2 100%);\n            border-bottom: 1px solid rgba(196, 131, 217, 0.2);\n            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            position: relative;\n            overflow: hidden;\n          }\n          \n          .sidebar-header::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.1) 50%, transparent 70%);\n            animation: headerShine 4s ease-in-out infinite;\n          }\n          \n          @keyframes headerShine {\n            0% { transform: translateX(-100%); }\n            100% { transform: translateX(100%); }\n          }\n          \n          .sidebar.collapsed .sidebar-header {\n            padding: 1rem 0.75rem;\n          }\n          \n          .sidebar-header-content {\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n            margin-bottom: 1.25rem;\n            position: relative;\n            z-index: 2;\n          }\n          \n          .sidebar.collapsed .sidebar-header-content {\n            margin-bottom: 0.75rem;\n            justify-content: center;\n            flex-direction: column;\n            gap: 0.5rem;\n          }\n          \n          .sidebar-title {\n            font-size: 1.5rem;\n            font-weight: 800;\n            color: #1F2937;\n            margin: 0;\n            text-shadow: none;\n            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            letter-spacing: -0.025em;\n          }\n          \n          .sidebar.collapsed .sidebar-title {\n            opacity: 0;\n            pointer-events: none;\n            transform: scale(0.8);\n          }\n          \n          .sidebar-toggle {\n            padding: 0.75rem;\n            background: rgba(255, 179, 51, 0.1);\n            border: 1px solid rgba(255, 179, 51, 0.2);\n            border-radius: 12px;\n            cursor: pointer;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            color: #F87239;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            backdrop-filter: blur(10px);\n            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n            min-width: 44px;\n            min-height: 44px;\n          }\n          \n          .sidebar-toggle:hover {\n            background: rgba(255, 179, 51, 0.2);\n            border-color: rgba(255, 179, 51, 0.4);\n            transform: translateY(-2px) scale(1.05);\n            box-shadow: 0 4px 16px rgba(255, 179, 51, 0.2);\n          }\n          \n          .sidebar-toggle:active {\n            transform: translateY(-1px) scale(0.98);\n          }\n          \n          .sidebar-add-container {\n            position: relative;\n            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          }\n          \n          .sidebar.collapsed .sidebar-add-container {\n            opacity: 0;\n            pointer-events: none;\n            transform: scale(0.8);\n          }\n          \n          .sidebar-add-btn {\n            padding: 0.75rem;\n            color: #F87239;\n            background: rgba(255, 179, 51, 0.1);\n            border: 1px solid rgba(255, 179, 51, 0.2);\n            border-radius: 12px;\n            cursor: pointer;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            backdrop-filter: blur(10px);\n            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            min-width: 44px;\n            min-height: 44px;\n          }\n          \n          .sidebar-add-btn:hover {\n            background: rgba(255, 179, 51, 0.2);\n            border-color: rgba(255, 179, 51, 0.4);\n            transform: translateY(-2px) scale(1.05);\n            box-shadow: 0 4px 16px rgba(255, 179, 51, 0.2);\n          }\n          \n          .sidebar-add-btn.active {\n            background: rgba(255, 179, 51, 0.3);\n            border-color: rgba(255, 179, 51, 0.5);\n            transform: translateY(-1px);\n          }\n          \n          .dropdown-menu {\n            position: fixed;\n            top: 120px;\n            right: 20px;\n            z-index: 99999;\n            background: #FFFFFF;\n            border: 1px solid #E5E7EB;\n            border-radius: 12px;\n            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);\n            min-width: 200px;\n            padding: 0.75rem;\n            opacity: 0;\n            visibility: hidden;\n            transform: translateY(-10px) scale(0.95);\n            transition: all 0.2s ease;\n            backdrop-filter: blur(15px);\n            overflow: visible;\n          }\n          \n          .sidebar.collapsed .dropdown-menu {\n            position: fixed;\n            top: 120px;\n            left: 80px;\n            right: auto;\n          }\n          \n          .dropdown-menu.show {\n            opacity: 1;\n            visibility: visible;\n            transform: translateY(0) scale(1);\n          }\n          \n          .dropdown-item {\n            display: flex;\n            align-items: center;\n            gap: 0.75rem;\n            padding: 0.875rem 1rem;\n            font-size: 0.875rem;\n            color: #374151;\n            cursor: pointer;\n            transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            border: none;\n            background: none;\n            width: 100%;\n            text-align: left;\n            border-radius: 12px;\n            font-weight: 500;\n            position: relative;\n            overflow: hidden;\n          }\n          \n          .dropdown-item::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: linear-gradient(90deg, #FFB333, #C483D9);\n            opacity: 0;\n            transition: opacity 0.2s ease;\n          }\n          \n          .dropdown-item:hover::before {\n            opacity: 0.1;\n          }\n          \n          .dropdown-item:hover {\n            color: #FFB333;\n            transform: translateX(4px);\n          }\n          \n          .dropdown-item:active {\n            transform: translateX(2px) scale(0.98);\n          }\n          \n          .dropdown-icon {\n            width: 18px;\n            height: 18px;\n            color: #6B7280;\n            transition: all 0.2s ease;\n            position: relative;\n            z-index: 1;\n          }\n          \n          .dropdown-item:hover .dropdown-icon {\n            color: #FFB333;\n          }\n          \n\n          \n          .sidebar-nav {\n            flex: 1;\n            padding: 1.5rem 1rem;\n            overflow-y: auto;\n            overflow-x: hidden;\n            scrollbar-width: thin;\n            scrollbar-color: rgba(196, 131, 217, 0.3) transparent;\n          }\n          \n          .sidebar-nav::-webkit-scrollbar {\n            width: 6px;\n          }\n          \n          .sidebar-nav::-webkit-scrollbar-track {\n            background: transparent;\n          }\n          \n          .sidebar-nav::-webkit-scrollbar-thumb {\n            background: rgba(196, 131, 217, 0.3);\n            border-radius: 3px;\n          }\n          \n          .sidebar-nav::-webkit-scrollbar-thumb:hover {\n            background: rgba(196, 131, 217, 0.5);\n          }\n          \n          .nav-section {\n            margin-bottom: 2rem;\n          }\n          \n          .nav-section-header {\n            padding: 0.5rem 1rem;\n            margin-bottom: 0.75rem;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            border-bottom: 1px solid rgba(196, 131, 217, 0.2);\n          }\n          \n          .nav-section-header span {\n            font-size: 0.75rem;\n            color: #9CA3AF;\n            font-weight: 700;\n            text-transform: uppercase;\n            letter-spacing: 0.1em;\n          }\n          \n          .sidebar.collapsed .nav-section-header {\n            opacity: 0;\n            pointer-events: none;\n            height: 0;\n            padding: 0;\n            margin: 0;\n            border: none;\n            transform: scale(0.8);\n          }\n          \n          .nav-item {\n            display: flex;\n            align-items: center;\n            padding: 0.875rem 1rem;\n            font-size: 0.875rem;\n            font-weight: 500;\n            border-radius: 12px;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            cursor: pointer;\n            color: #374151;\n            text-decoration: none;\n            margin-bottom: 0.5rem;\n            position: relative;\n            overflow: hidden;\n            backdrop-filter: blur(10px);\n          }\n          \n          .nav-item::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: linear-gradient(135deg, #FFB333, #F87239);\n            opacity: 0;\n            transition: opacity 0.3s ease;\n          }\n          \n          .nav-item:hover::before {\n            opacity: 0.1;\n          }\n          \n          .nav-item.active::before {\n            opacity: 0.15;\n          }\n          \n          .nav-item:hover {\n            color: #FFB333;\n            transform: translateX(4px);\n            box-shadow: 0 4px 16px rgba(255, 179, 51, 0.2);\n          }\n          \n          .nav-item.active {\n            color: #FFB333;\n            background: rgba(255, 179, 51, 0.1);\n            border-left: 3px solid #FFB333;\n            transform: translateX(3px);\n          }\n          \n          .nav-item:active {\n            transform: translateX(2px) scale(0.98);\n          }\n          \n          .nav-icon {\n            width: 20px;\n            height: 20px;\n            margin-right: 0.875rem;\n            color: inherit;\n            transition: all 0.3s ease;\n            position: relative;\n            z-index: 1;\n          }\n          \n          .nav-text {\n            position: relative;\n            z-index: 1;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          }\n          \n          .sidebar.collapsed .nav-text {\n            opacity: 0;\n            pointer-events: none;\n            transform: scale(0.8);\n          }\n          \n          .sidebar.collapsed .nav-icon {\n            margin-right: 0;\n          }\n          \n          .projects-section {\n            margin-top: 2rem;\n          }\n          \n          .projects-toggle {\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n            padding: 0.75rem 1rem;\n            font-size: 0.875rem;\n            font-weight: 600;\n            color: #374151;\n            cursor: pointer;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            border-radius: 12px;\n            margin: 0.5rem 0 1rem 0;\n            position: relative;\n            overflow: hidden;\n            background: rgba(255, 255, 255, 0.6);\n            border: 1px solid rgba(255, 255, 255, 0.8);\n            backdrop-filter: blur(10px);\n            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n          }\n          \n          .projects-toggle::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: linear-gradient(135deg, #FFB333, #F87239);\n            opacity: 0;\n            transition: opacity 0.3s ease;\n          }\n          \n          .projects-toggle:hover::before {\n            opacity: 0.08;\n          }\n          \n          .projects-toggle:hover {\n            color: #F87239;\n            background: rgba(255, 255, 255, 0.8);\n            transform: translateY(-1px);\n            box-shadow: 0 4px 16px rgba(255, 179, 51, 0.15);\n          }\n          \n          .projects-toggle span {\n            position: relative;\n            z-index: 1;\n            font-weight: 500;\n            letter-spacing: 0.025em;\n          }\n          \n          .projects-toggle svg {\n            width: 16px;\n            height: 16px;\n            transition: all 0.3s ease;\n            position: relative;\n            z-index: 1;\n            opacity: 0.7;\n          }\n          \n          .projects-toggle:hover svg {\n            opacity: 1;\n          }\n          \n          .projects-toggle.expanded svg {\n            transform: rotate(180deg);\n          }\n          \n          .projects-list {\n            margin-left: 1rem;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          }\n          \n          .project-item {\n            display: flex;\n            align-items: center;\n            padding: 0.75rem 1rem;\n            font-size: 0.875rem;\n            color: #6B7280;\n            border-radius: 12px;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            cursor: pointer;\n            margin-bottom: 0.25rem;\n            position: relative;\n            overflow: hidden;\n          }\n          \n          .project-item::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: linear-gradient(135deg, #5884FD, #C483D9);\n            opacity: 0;\n            transition: opacity 0.3s ease;\n          }\n          \n          .project-item:hover::before {\n            opacity: 0.1;\n          }\n          \n          .project-item:hover {\n            color: #5884FD;\n            transform: translateX(4px);\n          }\n          \n          .project-item.active {\n            color: #5884FD;\n            background: rgba(88, 132, 253, 0.1);\n            border-left: 3px solid #5884FD;\n            transform: translateX(3px);\n          }\n          \n          .project-info {\n            display: flex;\n            align-items: center;\n            gap: 0.75rem;\n            min-width: 0;\n            flex: 1;\n            position: relative;\n            z-index: 1;\n          }\n          \n          .project-color {\n            width: 10px;\n            height: 10px;\n            border-radius: 50%;\n            flex-shrink: 0;\n            border: 2px solid rgba(255, 255, 255, 0.3);\n            transition: all 0.3s ease;\n          }\n          \n          .project-item:hover .project-color {\n            transform: scale(1.2);\n            box-shadow: 0 0 8px rgba(88, 132, 253, 0.4);\n          }\n          \n          .project-name {\n            word-wrap: break-word;\n            overflow-wrap: break-word;\n            word-break: break-word;\n            white-space: normal;\n            hyphens: auto;\n            font-weight: 500;\n            line-height: 1.3;\n          }\n          \n          .project-count {\n            font-size: 0.75rem;\n            color: #9CA3AF;\n            background: rgba(156, 163, 175, 0.1);\n            padding: 0.25rem 0.5rem;\n            border-radius: 6px;\n            font-weight: 600;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          }\n\n          .project-item-wrapper {\n            position: relative;\n            display: flex;\n            align-items: center;\n          }\n\n          .project-item-wrapper .project-delete-btn {\n            position: absolute;\n            right: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            width: 24px;\n            height: 24px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            background: transparent;\n            border: none;\n            border-radius: 6px;\n            cursor: pointer;\n            opacity: 0;\n            transition: all 0.2s ease;\n            z-index: 2;\n            color: #9CA3AF;\n            padding: 0;\n          }\n\n          .project-item-wrapper:hover .project-delete-btn {\n            opacity: 1;\n          }\n\n          .project-item-wrapper .project-delete-btn:hover {\n            background: rgba(239, 68, 68, 0.1);\n            color: #EF4444;\n          }\n\n          .project-item-wrapper:hover .project-count {\n            opacity: 0;\n            pointer-events: none;\n          }\n          \n          .sidebar.collapsed .project-count {\n            opacity: 0;\n            pointer-events: none;\n            transform: scale(0.8);\n          }\n          \n          .sidebar-footer {\n            padding: 1.5rem 1rem;\n            border-top: 1px solid rgba(196, 131, 217, 0.2);\n            background: linear-gradient(135deg, #F5F5ED 0%, #FAFAF2 100%);\n            margin-top: auto;\n          }\n          \n          .user-profile {\n            display: flex;\n            align-items: center;\n            gap: 0.875rem;\n            padding: 0.875rem;\n            border-radius: 16px;\n            background: rgba(255, 255, 255, 0.8);\n            border: 1px solid rgba(196, 131, 217, 0.2);\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            cursor: pointer;\n            position: relative;\n            overflow: hidden;\n            backdrop-filter: blur(10px);\n          }\n          \n          .user-profile::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: linear-gradient(135deg, #FFB333, #C483D9);\n            opacity: 0;\n            transition: opacity 0.3s ease;\n          }\n          \n          .user-profile:hover::before {\n            opacity: 0.1;\n          }\n          \n          .user-profile:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 24px rgba(196, 131, 217, 0.2);\n          }\n          \n          .user-avatar {\n            width: 40px;\n            height: 40px;\n            background: linear-gradient(135deg, #FFB333, #F87239);\n            border: 2px solid rgba(255, 255, 255, 0.5);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            box-shadow: 0 4px 12px rgba(255, 179, 51, 0.3);\n            transition: all 0.3s ease;\n            position: relative;\n            z-index: 1;\n          }\n          \n          .user-avatar:hover {\n            transform: scale(1.1);\n            box-shadow: 0 6px 16px rgba(255, 179, 51, 0.4);\n          }\n          \n          .user-avatar-text {\n            font-size: 0.875rem;\n            font-weight: 700;\n            color: #FFFFFF;\n            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n          }\n          \n          .user-info {\n            min-width: 0;\n            flex: 1;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            position: relative;\n            z-index: 1;\n          }\n          \n          .sidebar.collapsed .user-info {\n            opacity: 0;\n            pointer-events: none;\n            transform: scale(0.8);\n          }\n          \n          .user-name {\n            font-size: 0.875rem;\n            font-weight: 600;\n            color: #374151;\n            margin: 0;\n            word-wrap: break-word;\n            overflow-wrap: break-word;\n            word-break: break-word;\n            white-space: normal;\n            line-height: 1.3;\n          }\n          \n          .user-email {\n            font-size: 0.75rem;\n            color: #9CA3AF;\n            margin: 0;\n            word-wrap: break-word;\n            overflow-wrap: break-word;\n            word-break: break-word;\n            white-space: normal;\n            line-height: 1.3;\n          }\n          \n          .logout-btn {\n            padding: 0.5rem;\n            color: #9CA3AF;\n            background: rgba(156, 163, 175, 0.1);\n            border: 1px solid rgba(156, 163, 175, 0.2);\n            border-radius: 12px;\n            cursor: pointer;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            backdrop-filter: blur(10px);\n            position: relative;\n            z-index: 1;\n          }\n          \n          .logout-btn:hover {\n            color: #F87239;\n            background: rgba(248, 114, 57, 0.1);\n            border-color: rgba(248, 114, 57, 0.2);\n            transform: translateY(-1px);\n          }\n          \n          .logout-btn:active {\n            transform: translateY(0) scale(0.98);\n          }\n          \n          /* Tooltip for collapsed nav items */\n          .nav-item.tooltip-container {\n            position: relative;\n          }\n          \n          .nav-tooltip {\n            position: absolute;\n            left: 100%;\n            top: 50%;\n            transform: translateY(-50%) translateX(-10px);\n            background: linear-gradient(135deg, #374151, #1F2937);\n            color: #FFFFFF;\n            padding: 0.5rem 0.75rem;\n            border-radius: 8px;\n            font-size: 0.75rem;\n            white-space: nowrap;\n            opacity: 0;\n            visibility: hidden;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            z-index: 1000;\n            margin-left: 0.5rem;\n            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n            font-weight: 500;\n          }\n          \n          .nav-item:hover .nav-tooltip {\n            opacity: 1;\n            visibility: visible;\n            transform: translateY(-50%) translateX(0);\n          }\n          \n          /* Mobile Menu Toggle */\n          .mobile-menu-button {\n            position: fixed;\n            top: 1.5rem;\n            left: 1.5rem;\n            z-index: 60;\n            background: linear-gradient(135deg, #FFB333, #F87239);\n            border: 1px solid rgba(255, 255, 255, 0.2);\n            border-radius: 16px;\n            padding: 0.875rem;\n            cursor: pointer;\n            display: none;\n            box-shadow: 0 4px 16px rgba(255, 179, 51, 0.3);\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            color: #FFFFFF;\n          }\n          \n          .mobile-menu-button:hover {\n            transform: translateY(-2px) scale(1.05);\n            box-shadow: 0 8px 24px rgba(255, 179, 51, 0.4);\n          }\n          \n          .mobile-menu-button:active {\n            transform: translateY(-1px) scale(0.98);\n          }\n          \n          .mobile-overlay {\n            position: fixed;\n            inset: 0;\n            background: rgba(0, 0, 0, 0.6);\n            z-index: 40;\n            display: none;\n            backdrop-filter: blur(4px);\n          }\n          \n          /* Global content adjustment for sidebar */\n          body {\n            margin: 0;\n            padding: 0;\n          }\n          \n          .sidebar ~ * {\n            margin-left: 280px;\n            transition: margin-left 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          }\n          \n          .sidebar.collapsed ~ * {\n            margin-left: 72px;\n          }\n          \n          [style*=\"marginLeft: 256px\"] {\n            margin-left: 280px !important;\n            transition: margin-left 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          }\n          \n          /* Enhanced Modal Styles */\n          .modal-overlay {\n            position: fixed;\n            inset: 0;\n            background: rgba(0, 0, 0, 0.8);\n            backdrop-filter: blur(12px);\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: 1.5rem;\n            z-index: 1000;\n            animation: fadeIn 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          }\n          \n          .modal-content {\n            background: linear-gradient(135deg, #FFFFFF 0%, #FAFAFA 100%);\n            border: 1px solid rgba(196, 131, 217, 0.2);\n            border-radius: 24px;\n            padding: 0;\n            width: 100%;\n            max-width: 520px;\n            max-height: 90vh;\n            overflow: hidden;\n            box-shadow: 0 24px 48px rgba(0, 0, 0, 0.15);\n            animation: slideIn 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            position: relative;\n          }\n          \n          .modal-content::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            height: 4px;\n            background: linear-gradient(90deg, #FFB333, #C483D9, #5884FD, #F87239);\n          }\n          \n          .modal-header {\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n            padding: 2rem 2rem 1rem 2rem;\n            border-bottom: 1px solid rgba(196, 131, 217, 0.2);\n            background: linear-gradient(135deg, #F5F5ED 0%, #FAFAF2 100%);\n            position: relative;\n          }\n          \n          .modal-title {\n            font-size: 1.75rem;\n            font-weight: 800;\n            color: #1F2937;\n            margin: 0;\n            letter-spacing: -0.025em;\n          }\n          \n          .modal-close-btn {\n            background: rgba(156, 163, 175, 0.1);\n            border: 1px solid rgba(156, 163, 175, 0.2);\n              padding: 0.75rem;\n            border-radius: 12px;\n            cursor: pointer;\n            color: #6B7280;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            display: flex;\n            align-items: center;\n            justify-content: center;\n          }\n          \n          .modal-close-btn:hover {\n            background: rgba(248, 114, 57, 0.1);\n            border-color: rgba(248, 114, 57, 0.2);\n            color: #F87239;\n            transform: scale(1.05);\n          }\n          \n          .modal-body {\n            padding: 2rem;\n            max-height: 75vh;\n            overflow-y: auto;\n          }\n          \n          .leave-stats {\n            display: grid;\n            grid-template-columns: repeat(3, 1fr);\n            gap: 1.5rem;\n            margin-bottom: 2rem;\n          }\n          \n          .stat-card {\n            text-align: center;\n            padding: 1.5rem 1rem;\n            background: linear-gradient(135deg, #FFFFFF 0%, #FAFAFA 100%);\n            border-radius: 16px;\n            border: 1px solid rgba(196, 131, 217, 0.2);\n            position: relative;\n            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\n            overflow: hidden;\n          }\n          \n          .stat-card::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            height: 4px;\n            background: linear-gradient(90deg, #FFB333, #C483D9, #5884FD, #F87239);\n          }\n          \n          .stat-card:hover {\n            transform: translateY(-4px);\n            box-shadow: 0 12px 32px rgba(0, 0, 0, 0.1);\n          }\n          \n          .stat-number {\n            font-size: 2.5rem;\n            font-weight: 900;\n            margin-bottom: 0.5rem;\n            color: #1F2937;\n            letter-spacing: -0.025em;\n          }\n          \n          .stat-label {\n            font-size: 0.75rem;\n            color: #6B7280;\n            text-transform: uppercase;\n            font-weight: 700;\n            letter-spacing: 0.1em;\n          }\n          \n          @keyframes fadeIn {\n            from { opacity: 0; }\n            to { opacity: 1; }\n          }\n          \n          @keyframes slideIn {\n            from { transform: translateY(-20px) scale(0.95); opacity: 0; }\n            to { transform: translateY(0) scale(1); opacity: 1; }\n          }\n          \n          /* Responsive Design */\n          @media (max-width: 768px) {\n            .sidebar {\n              transform: translateX(-100%);\n              transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n              z-index: 50;\n              width: 300px;\n            }\n            \n            .sidebar.open {\n              transform: translateX(0);\n            }\n            \n            .sidebar-toggle {\n              display: none;\n            }\n            \n            .mobile-menu-button {\n              display: block;\n            }\n            \n            .mobile-overlay.show {\n              display: block;\n            }\n            \n            .sidebar ~ * {\n              margin-left: 0 !important;\n            }\n            \n            .modal-content {\n              max-width: 95vw;\n              margin: 1rem;\n            }\n            \n            .modal-header {\n              padding: 1.5rem 1.5rem 1rem 1.5rem;\n            }\n            \n            .modal-title {\n              font-size: 1.5rem;\n            }\n            \n            .modal-body {\n              padding: 1.5rem;\n            }\n            \n            .leave-stats {\n              grid-template-columns: 1fr;\n              gap: 1rem;\n            }\n          }\n          \n          @media (max-width: 480px) {\n            .sidebar {\n              width: 100vw;\n            }\n            \n            .mobile-menu-button {\n              top: 1rem;\n              left: 1rem;\n              padding: 0.75rem;\n            }\n            \n            .modal-overlay {\n              padding: 1rem;\n            }\n            \n            .modal-content {\n              border-radius: 16px;\n              max-height: 95vh;\n            }\n          }\n        "}}),(0,r.jsx)("button",{onClick:()=>{ee(!$)},className:"jsx-79e4f0e0f941e9c1 mobile-menu-button",children:$?(0,r.jsx)(P.Z,{style:{width:"24px",height:"24px"}}):(0,r.jsx)(R.Z,{style:{width:"24px",height:"24px"}})}),(0,r.jsx)("div",{onClick:eW,className:"jsx-79e4f0e0f941e9c1 "+"mobile-overlay ".concat($?"show":"")}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 "+"sidebar ".concat($?"open":""," ").concat(er?"collapsed":""),children:[(0,r.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 sidebar-header",children:(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 sidebar-header-content",children:[(0,r.jsx)("button",{onClick:()=>{ea(!er),eO(),setTimeout(()=>{let e=document.querySelectorAll('[style*="marginLeft: 256px"]');e.forEach(e=>{e.style.marginLeft&&(e.style.marginLeft=er?"256px":"64px")})},0)},title:er?"Expand sidebar":"Collapse sidebar",className:"jsx-79e4f0e0f941e9c1 sidebar-toggle",children:(0,r.jsx)(R.Z,{style:{width:"20px",height:"20px"}})}),(0,r.jsx)("h1",{className:"jsx-79e4f0e0f941e9c1 sidebar-title",children:"Projects"}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},className:"jsx-79e4f0e0f941e9c1",children:[(0,r.jsx)(b,{}),(0,r.jsx)("div",{ref:eC,className:"jsx-79e4f0e0f941e9c1 sidebar-add-container",children:(0,r.jsx)("button",{onClick:e=>{console.log("\uD83D\uDD25 DEBUG: Plus (+) button clicked!",e),e.preventDefault(),e.stopPropagation(),eU()},title:"Create new...",className:"jsx-79e4f0e0f941e9c1 "+"sidebar-add-btn ".concat(en?"active":""),children:(0,r.jsx)(B.Z,{style:{width:"20px",height:"20px"}})})})]})]})}),(0,r.jsxs)("nav",{className:"jsx-79e4f0e0f941e9c1 sidebar-nav",children:[(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 nav-section",children:[(nn?nr:e3).map(e=>(0,r.jsxs)(x(),{href:e.href,className:"nav-item ".concat(no(e.href)?"active":""),onClick:eW,children:[(0,r.jsx)(e.icon,{className:"nav-icon"}),(0,r.jsx)("span",{className:"jsx-79e4f0e0f941e9c1 nav-text",children:e.name})]},e.name)),nn||(null==G?void 0:G.role)!=="hr"&&(null==G?void 0:G.role)!=="admin"&&(null==G?void 0:null===(d=G.user_metadata)||void 0===d?void 0:d.role)!=="hr"&&(null==G?void 0:null===(m=G.user_metadata)||void 0===m?void 0:m.role)!=="admin"?!nn&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:{borderTop:"1px solid #e5e7eb",margin:"1rem 0 0.5rem 0",paddingTop:"0.5rem"},className:"jsx-79e4f0e0f941e9c1 nav-section-header",children:(0,r.jsx)("span",{style:{fontSize:"0.75rem",color:"#666666",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",paddingLeft:"0.75rem"},className:"jsx-79e4f0e0f941e9c1",children:"Personal"})}),na.slice(0,2).map(e=>(0,r.jsxs)(x(),{href:e.href,className:"nav-item ".concat(no(e.href)?"active":""),onClick:eW,children:[(0,r.jsx)(e.icon,{className:"nav-icon"}),(0,r.jsx)("span",{className:"jsx-79e4f0e0f941e9c1 nav-text",children:e.name})]},e.name))]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:{borderTop:"1px solid #e5e7eb",margin:"1rem 0 0.5rem 0",paddingTop:"0.5rem"},className:"jsx-79e4f0e0f941e9c1 nav-section-header",children:(0,r.jsx)("span",{style:{fontSize:"0.75rem",color:"#666666",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",paddingLeft:"0.75rem"},className:"jsx-79e4f0e0f941e9c1",children:"HR Tools"})}),na.map(e=>(0,r.jsxs)(x(),{href:e.href,className:"nav-item ".concat(no(e.href)?"active":""),onClick:eW,children:[(0,r.jsx)(e.icon,{className:"nav-icon"}),(0,r.jsx)("span",{className:"jsx-79e4f0e0f941e9c1 nav-text",children:e.name})]},e.name))]}),e8.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:{borderTop:"1px solid #e5e7eb",margin:"1rem 0 0.5rem 0",paddingTop:"0.5rem"},className:"jsx-79e4f0e0f941e9c1 nav-section-header",children:(0,r.jsx)("span",{style:{fontSize:"0.75rem",color:"#666666",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",paddingLeft:"0.75rem"},className:"jsx-79e4f0e0f941e9c1",children:"Idea Lounge"})}),e8.map(e=>(0,r.jsxs)(x(),{href:e.href,className:"nav-item ".concat(no(e.href)?"active":""),onClick:eW,children:[(0,r.jsx)(e.icon,{className:"nav-icon"}),(0,r.jsx)("span",{className:"jsx-79e4f0e0f941e9c1 nav-text",children:e.name})]},e.name))]}),!nn&&ne.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:{borderTop:"1px solid #e5e7eb",margin:"1rem 0 0.5rem 0",paddingTop:"0.5rem"},className:"jsx-79e4f0e0f941e9c1 nav-section-header",children:(0,r.jsx)("span",{style:{fontSize:"0.75rem",color:"#666666",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",paddingLeft:"0.75rem"},className:"jsx-79e4f0e0f941e9c1",children:"Admin"})}),ne.map(e=>(0,r.jsxs)(x(),{href:e.href,className:"nav-item ".concat(no(e.href)?"active":""),onClick:eW,children:[(0,r.jsx)(e.icon,{className:"nav-icon"}),(0,r.jsx)("span",{className:"jsx-79e4f0e0f941e9c1 nav-text",children:e.name})]},e.name))]}),nt.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:{borderTop:"1px solid #e5e7eb",margin:"1rem 0 0.5rem 0",paddingTop:"0.5rem"},className:"jsx-79e4f0e0f941e9c1 nav-section-header",children:(0,r.jsx)("span",{style:{fontSize:"0.75rem",color:"#666666",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",paddingLeft:"0.75rem"},className:"jsx-79e4f0e0f941e9c1",children:"Instructor"})}),nt.map(e=>(0,r.jsxs)(x(),{href:e.href,className:"nav-item ".concat(no(e.href)?"active":""),onClick:eW,children:[(0,r.jsx)(e.icon,{className:"nav-icon"}),(0,r.jsx)("span",{className:"jsx-79e4f0e0f941e9c1 nav-text",children:e.name})]},e.name))]})]}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 nav-section",children:[(0,r.jsxs)("button",{onClick:()=>Q(!J),className:"jsx-79e4f0e0f941e9c1 projects-toggle",children:[(0,r.jsx)("span",{className:"jsx-79e4f0e0f941e9c1 projects-toggle-text",children:"My Projects"}),(0,r.jsx)("span",{className:"jsx-79e4f0e0f941e9c1 projects-toggle-icon",children:J?(0,r.jsx)(M.Z,{style:{width:"16px",height:"16px"}}):(0,r.jsx)(L.Z,{style:{width:"16px",height:"16px"}})})]}),J&&(0,r.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 projects-list",children:eb.map(e=>(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 project-item-wrapper",children:[(0,r.jsxs)(x(),{href:"/projects/".concat(e.id),className:"project-item ".concat(no("/projects/".concat(e.id))?"active":""),onClick:eW,style:{flex:1,paddingRight:"2.5rem"},children:[(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 project-info",children:[(0,r.jsx)("div",{style:{backgroundColor:e.color||"#000000"},className:"jsx-79e4f0e0f941e9c1 project-color"}),(0,r.jsx)("span",{style:{wordWrap:"break-word",overflowWrap:"break-word",whiteSpace:"normal",lineHeight:"1.3"},className:"jsx-79e4f0e0f941e9c1 project-name",children:e.name})]}),(0,r.jsxs)("span",{className:"jsx-79e4f0e0f941e9c1 project-count",children:[e.completed_task_count||0,"/",e.task_count||0]})]}),(0,r.jsx)("button",{title:"Delete project",onClick:n=>eu(n,e.id),className:"jsx-79e4f0e0f941e9c1 project-delete-btn",children:(0,r.jsx)(q.Z,{style:{width:"16px",height:"16px"}})})]},e.id))})]})]}),(0,r.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 sidebar-footer",children:(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 user-profile",children:[(0,r.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 user-avatar",children:(0,r.jsx)("span",{className:"jsx-79e4f0e0f941e9c1 user-avatar-text",children:null==G?void 0:null===(p=G.name)||void 0===p?void 0:p.charAt(0).toUpperCase()})}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 user-info",children:[(0,r.jsx)("p",{className:"jsx-79e4f0e0f941e9c1 user-name",children:null==G?void 0:G.name}),(0,r.jsx)("p",{className:"jsx-79e4f0e0f941e9c1 user-email",children:null==G?void 0:G.email})]}),(0,r.jsx)("button",{onClick:eZ,title:"Sign out",className:"jsx-79e4f0e0f941e9c1 logout-btn",children:(0,r.jsx)(Z.Z,{style:{width:"20px",height:"20px"}})})]})})]}),en&&(console.log("\uD83D\uDD25 DEBUG: Rendering dropdown portal, isDropdownOpen =",en),!0)&&(0,f.createPortal)((0,r.jsxs)("div",{"data-dropdown-portal":!0,style:{position:"fixed",top:"120px",left:er?"80px":"240px",zIndex:9999999,background:"#FFFFFF",border:"2px solid #5884FD",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.25)",minWidth:"200px",padding:"0.75rem",backdropFilter:"blur(15px)",pointerEvents:"auto"},onClick:e=>{console.log("\uD83D\uDD25 DEBUG: Dropdown container clicked!",e),e.stopPropagation()},className:"jsx-79e4f0e0f941e9c1",children:[(0,r.jsxs)("button",{onClick:e=>{console.log("\uD83D\uDD25 DEBUG: Absence Form button clicked!",e),e.preventDefault(),e.stopPropagation(),eH(),eO()},style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.875rem 1rem",fontSize:"0.875rem",color:"#374151",cursor:"pointer",border:"2px solid transparent",background:"#f9fafb",width:"100%",textAlign:"left",borderRadius:"12px",fontWeight:"500",transition:"all 0.2s ease",pointerEvents:"auto",position:"relative",zIndex:1e7},onMouseEnter:e=>{e.currentTarget.style.color="#FFB333",e.currentTarget.style.transform="translateX(4px)",e.currentTarget.style.background="rgba(255, 179, 51, 0.1)"},onMouseLeave:e=>{e.currentTarget.style.color="#374151",e.currentTarget.style.transform="translateX(0)",e.currentTarget.style.background="none"},className:"jsx-79e4f0e0f941e9c1",children:[(0,r.jsx)(W.Z,{style:{width:"18px",height:"18px"}}),"Absence Form"]}),(0,r.jsxs)("button",{onClick:e=>{console.log("\uD83D\uDD25 DEBUG: Daily Report button clicked!",e),e.preventDefault(),e.stopPropagation(),eK(),eO()},style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.875rem 1rem",fontSize:"0.875rem",color:"#374151",cursor:"pointer",border:"2px solid transparent",background:"#f9fafb",width:"100%",textAlign:"left",borderRadius:"12px",fontWeight:"500",transition:"all 0.2s ease",pointerEvents:"auto",position:"relative",zIndex:1e7},onMouseEnter:e=>{e.currentTarget.style.color="#FFB333",e.currentTarget.style.transform="translateX(4px)",e.currentTarget.style.background="rgba(255, 179, 51, 0.1)"},onMouseLeave:e=>{e.currentTarget.style.color="#374151",e.currentTarget.style.transform="translateX(0)",e.currentTarget.style.background="none"},className:"jsx-79e4f0e0f941e9c1",children:[(0,r.jsx)(I.Z,{style:{width:"18px",height:"18px"}}),"Daily Report Form"]})]}),document.body),eo&&(console.log("\uD83D\uDD25 DEBUG: Rendering Absence Form Modal, showAbsenceForm =",eo),!0)&&(0,r.jsx)("div",{onClick:eG,className:"jsx-79e4f0e0f941e9c1 modal-overlay",children:(0,r.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"jsx-79e4f0e0f941e9c1 modal-content",children:[(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 modal-header",children:[(0,r.jsx)("h2",{className:"jsx-79e4f0e0f941e9c1 modal-title",children:"Employee Leave Request"}),(0,r.jsx)("button",{onClick:eG,title:"Close",className:"jsx-79e4f0e0f941e9c1 modal-close-btn",children:(0,r.jsx)(P.Z,{style:{width:"24px",height:"24px"}})})]}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 modal-body",children:[(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 leave-stats",children:[(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 stat-card stat-available",children:[(0,r.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 stat-number",children:ej}),(0,r.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 stat-label",children:"Available Days"})]}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 stat-card stat-used",children:[(0,r.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 stat-number",children:ev}),(0,r.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 stat-label",children:"Used Days"})]}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 stat-card stat-requested",children:[(0,r.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 stat-number",children:eX()}),(0,r.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 stat-label",children:"Requested Days"})]})]}),(0,r.jsxs)("form",{onSubmit:eY,className:"jsx-79e4f0e0f941e9c1",children:[(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-grid",children:[(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group",children:[(0,r.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 form-label",children:"Start Date"}),(0,r.jsx)("input",{type:"date",required:!0,value:eg.startDate,onChange:e=>eh({...eg,startDate:e.target.value}),min:new Date().toISOString().split("T")[0],className:"jsx-79e4f0e0f941e9c1 form-input"})]}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group",children:[(0,r.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 form-label",children:"End Date"}),(0,r.jsx)("input",{type:"date",required:!0,value:eg.endDate,onChange:e=>eh({...eg,endDate:e.target.value}),min:eg.startDate||new Date().toISOString().split("T")[0],className:"jsx-79e4f0e0f941e9c1 form-input"})]})]}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group",children:[(0,r.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 form-label",children:"Leave Type"}),(0,r.jsxs)("select",{value:eg.leaveType,onChange:e=>eh({...eg,leaveType:e.target.value}),className:"jsx-79e4f0e0f941e9c1 form-select",children:[(0,r.jsx)("option",{value:"vacation",className:"jsx-79e4f0e0f941e9c1",children:"Vacation"}),(0,r.jsx)("option",{value:"sick",className:"jsx-79e4f0e0f941e9c1",children:"Sick Leave"}),(0,r.jsx)("option",{value:"personal",className:"jsx-79e4f0e0f941e9c1",children:"Personal Leave"}),(0,r.jsx)("option",{value:"family",className:"jsx-79e4f0e0f941e9c1",children:"Family Emergency"}),(0,r.jsx)("option",{value:"medical",className:"jsx-79e4f0e0f941e9c1",children:"Medical Appointment"}),(0,r.jsx)("option",{value:"other",className:"jsx-79e4f0e0f941e9c1",children:"Other"})]})]}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group",children:[(0,r.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 form-label",children:"Related Project (Optional)"}),(0,r.jsxs)("select",{value:eg.projectId,onChange:e=>eh({...eg,projectId:Number(e.target.value)}),className:"jsx-79e4f0e0f941e9c1 form-select",children:[(0,r.jsx)("option",{value:0,className:"jsx-79e4f0e0f941e9c1",children:"Select a project (if applicable)"}),eb.map(e=>(0,r.jsx)("option",{value:e.id,className:"jsx-79e4f0e0f941e9c1",children:e.name},e.id))]}),(0,r.jsx)("div",{style:{fontSize:"0.75rem",color:"#666666",marginTop:"0.25rem"},className:"jsx-79e4f0e0f941e9c1",children:"Select the project this leave affects, if any"})]}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group",children:[(0,r.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 form-label",children:"Reason for Leave"}),(0,r.jsx)("input",{type:"text",required:!0,placeholder:"Brief reason for your leave request...",value:eg.reason,onChange:e=>eh({...eg,reason:e.target.value}),className:"jsx-79e4f0e0f941e9c1 form-input"})]}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group",children:[(0,r.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 form-label",children:"Additional Notes (Optional)"}),(0,r.jsx)("textarea",{placeholder:"Any additional information or special instructions...",value:eg.notes,onChange:e=>eh({...eg,notes:e.target.value}),className:"jsx-79e4f0e0f941e9c1 form-textarea"})]}),eX()>ej&&(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 error-message",children:["WARNING: You are requesting ",eX()," days but only have ",ej," days available."]}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-buttons",children:[(0,r.jsx)("button",{type:"button",onClick:eG,className:"jsx-79e4f0e0f941e9c1 btn btn-secondary",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:eX()>ej||0===eX(),className:"jsx-79e4f0e0f941e9c1 btn btn-primary",children:"Submit Request"})]})]})]})]})}),e_&&(0,r.jsx)("div",{onClick:eQ,className:"jsx-79e4f0e0f941e9c1 daily-report-overlay",children:(0,r.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"jsx-79e4f0e0f941e9c1 daily-report-modal",children:[(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-report-header",children:[(0,r.jsx)("h1",{className:"jsx-79e4f0e0f941e9c1 daily-report-title",children:"Daily Report"}),(0,r.jsx)("button",{onClick:eQ,title:"Close",className:"jsx-79e4f0e0f941e9c1 daily-close-btn",children:"\xd7"})]}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-report-body",children:[(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 date-info-banner",children:[(0,r.jsx)("h2",{className:"jsx-79e4f0e0f941e9c1 date-title",children:eE.dateDisplay}),(0,r.jsx)("p",{className:"jsx-79e4f0e0f941e9c1 date-subtitle",children:"Submit your daily progress report"})]}),(0,r.jsxs)("form",{onSubmit:eJ,className:"jsx-79e4f0e0f941e9c1 daily-report-form",children:[(0,r.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 form-row",children:(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group full-width",children:[(0,r.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 daily-label",children:"Project / Team *"}),(0,r.jsxs)("select",{required:!0,value:eE.projectId,onChange:e=>eA({...eE,projectId:Number(e.target.value)}),className:"jsx-79e4f0e0f941e9c1 daily-select",children:[(0,r.jsx)("option",{value:0,className:"jsx-79e4f0e0f941e9c1",children:"Choose your project or team..."}),eb.map(e=>(0,r.jsx)("option",{value:e.id,className:"jsx-79e4f0e0f941e9c1",children:e.name},e.id))]})]})}),(0,r.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 form-row",children:(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group full-width",children:[(0,r.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 daily-label",children:"KEY ACTIVITIES COMPLETED *"}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-field-container",children:[eE.keyActivities.map((e,n)=>(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-field-row",children:[(0,r.jsx)("input",{type:"text",required:0===n,placeholder:0===n?"Main task or deliverable completed...":"Additional activity...",value:e,onChange:e=>e1("keyActivities",n,e.target.value),className:"jsx-79e4f0e0f941e9c1 daily-input"}),eE.keyActivities.length>1&&(0,r.jsx)("button",{type:"button",onClick:()=>e0("keyActivities",n),title:"Remove this item",className:"jsx-79e4f0e0f941e9c1 daily-remove-btn",children:"\xd7"})]},n)),(0,r.jsx)("button",{type:"button",onClick:()=>e$("keyActivities"),className:"jsx-79e4f0e0f941e9c1 daily-add-btn",children:"Add another activity"})]})]})}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-row",children:[(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group half-width",children:[(0,r.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 daily-label",children:"ONGOING TASKS"}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-field-container",children:[eE.ongoingTasks.map((e,n)=>(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-field-row",children:[(0,r.jsx)("input",{type:"text",placeholder:0===n?"Task in progress...":"Additional ongoing task...",value:e,onChange:e=>e1("ongoingTasks",n,e.target.value),className:"jsx-79e4f0e0f941e9c1 daily-input"}),eE.ongoingTasks.length>1&&(0,r.jsx)("button",{type:"button",onClick:()=>e0("ongoingTasks",n),title:"Remove this item",className:"jsx-79e4f0e0f941e9c1 daily-remove-btn",children:"\xd7"})]},n)),(0,r.jsx)("button",{type:"button",onClick:()=>e$("ongoingTasks"),className:"jsx-79e4f0e0f941e9c1 daily-add-btn",children:"Add ongoing task"})]})]}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group half-width",children:[(0,r.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 daily-label",children:"CHALLENGES / ISSUES"}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-field-container",children:[eE.challenges.map((e,n)=>(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-field-row",children:[(0,r.jsx)("input",{type:"text",placeholder:0===n?"Any blocker or challenge...":"Additional challenge...",value:e,onChange:e=>e1("challenges",n,e.target.value),className:"jsx-79e4f0e0f941e9c1 daily-input"}),eE.challenges.length>1&&(0,r.jsx)("button",{type:"button",onClick:()=>e0("challenges",n),title:"Remove this item",className:"jsx-79e4f0e0f941e9c1 daily-remove-btn",children:"\xd7"})]},n)),(0,r.jsx)("button",{type:"button",onClick:()=>e$("challenges"),className:"jsx-79e4f0e0f941e9c1 daily-add-btn",children:"Add challenge"})]})]})]}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-row",children:[(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group half-width",children:[(0,r.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 daily-label",children:"TEAM PERFORMANCE / KPIS"}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-field-container",children:[eE.teamPerformance.map((e,n)=>(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-field-row",children:[(0,r.jsx)("input",{type:"text",placeholder:0===n?"Performance metric or KPI...":"Additional KPI...",value:e,onChange:e=>e1("teamPerformance",n,e.target.value),className:"jsx-79e4f0e0f941e9c1 daily-input"}),eE.teamPerformance.length>1&&(0,r.jsx)("button",{type:"button",onClick:()=>e0("teamPerformance",n),title:"Remove this item",className:"jsx-79e4f0e0f941e9c1 daily-remove-btn",children:"\xd7"})]},n)),(0,r.jsx)("button",{type:"button",onClick:()=>e$("teamPerformance"),className:"jsx-79e4f0e0f941e9c1 daily-add-btn",children:"Add KPI"})]})]}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group half-width",children:[(0,r.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 daily-label",children:"TOMORROW'S PRIORITIES"}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-field-container",children:[eE.nextDayPriorities.map((e,n)=>(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-field-row",children:[(0,r.jsx)("input",{type:"text",placeholder:0===n?"Key priority for tomorrow...":"Additional priority...",value:e,onChange:e=>e1("nextDayPriorities",n,e.target.value),className:"jsx-79e4f0e0f941e9c1 daily-input"}),eE.nextDayPriorities.length>1&&(0,r.jsx)("button",{type:"button",onClick:()=>e0("nextDayPriorities",n),title:"Remove this item",className:"jsx-79e4f0e0f941e9c1 daily-remove-btn",children:"\xd7"})]},n)),(0,r.jsx)("button",{type:"button",onClick:()=>e$("nextDayPriorities"),className:"jsx-79e4f0e0f941e9c1 daily-add-btn",children:"Add priority"})]})]})]}),(0,r.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 form-row",children:(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group full-width",children:[(0,r.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 daily-label",children:"MEETING MINUTES"}),(0,r.jsx)("textarea",{placeholder:"Meeting minutes, discussions, decisions made (if any)...",value:eE.meetingMinutes,onChange:e=>eA({...eE,meetingMinutes:e.target.value,hasMeetingMinutes:e.target.value.trim().length>0}),className:"jsx-79e4f0e0f941e9c1 daily-textarea"})]})}),(0,r.jsx)("div",{className:"jsx-79e4f0e0f941e9c1 form-row",children:(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 form-group full-width",children:[(0,r.jsx)("label",{className:"jsx-79e4f0e0f941e9c1 daily-label",children:"OTHER NOTES"}),(0,r.jsx)("textarea",{placeholder:"Additional observations, suggestions, or miscellaneous notes...",value:eE.otherNotes,onChange:e=>eA({...eE,otherNotes:e.target.value}),className:"jsx-79e4f0e0f941e9c1 daily-textarea"})]})}),(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 daily-form-buttons",children:[(0,r.jsx)("button",{type:"button",onClick:eQ,className:"jsx-79e4f0e0f941e9c1 daily-btn-cancel",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",className:"jsx-79e4f0e0f941e9c1 daily-btn-submit",children:"Submit Report"})]})]})]})]})}),eT&&(0,r.jsx)("div",{onClick:()=>eI(!1),className:"jsx-79e4f0e0f941e9c1 modal-overlay",children:(0,r.jsxs)("div",{onClick:e=>e.stopPropagation(),style:{maxWidth:"600px"},className:"jsx-79e4f0e0f941e9c1 modal-content",children:[(0,r.jsxs)("div",{className:"jsx-79e4f0e0f941e9c1 modal-header",children:[(0,r.jsx)("h2",{className:"jsx-79e4f0e0f941e9c1 modal-title",children:"Inbox"}),(0,r.jsx)("button",{onClick:()=>eI(!1),title:"Close",className:"jsx-79e4f0e0f941e9c1 modal-close-btn",children:(0,r.jsx)(P.Z,{style:{width:"24px",height:"24px"}})})]}),(0,r.jsx)("div",{style:{padding:"1rem",maxHeight:"70vh",overflowY:"auto"},className:"jsx-79e4f0e0f941e9c1 modal-body",children:eL?(0,r.jsxs)("div",{style:{textAlign:"center",padding:"2rem"},className:"jsx-79e4f0e0f941e9c1",children:[(0,r.jsx)("div",{style:{width:"32px",height:"32px",border:"3px solid #cccccc",borderTop:"3px solid #000000",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"},className:"jsx-79e4f0e0f941e9c1"}),(0,r.jsx)("p",{style:{marginTop:"1rem",color:"#666666"},className:"jsx-79e4f0e0f941e9c1",children:"Loading notifications..."})]}):0===eP.length?(0,r.jsxs)("div",{style:{textAlign:"center",padding:"3rem"},className:"jsx-79e4f0e0f941e9c1",children:[(0,r.jsx)(T.Z,{style:{width:"48px",height:"48px",color:"#cccccc",margin:"0 auto 1rem"}}),(0,r.jsx)("h3",{style:{color:"#666666",marginBottom:"0.5rem"},className:"jsx-79e4f0e0f941e9c1",children:"No notifications"}),(0,r.jsx)("p",{style:{color:"#999999",fontSize:"0.9rem"},className:"jsx-79e4f0e0f941e9c1",children:"You're all caught up!"})]}):(0,r.jsx)("div",{className:"jsx-79e4f0e0f941e9c1",children:eP.map(e=>(0,r.jsxs)("div",{style:{display:"flex",gap:"1rem",padding:"1rem",borderBottom:"1px solid #e5e7eb",background:e.is_read?"#ffffff":"#f9f9f9",cursor:"pointer",transition:"all 0.2s ease"},onClick:()=>e4(e.id),className:"jsx-79e4f0e0f941e9c1",children:[(0,r.jsx)("div",{style:{flexShrink:0,marginTop:"0.25rem"},className:"jsx-79e4f0e0f941e9c1",children:e5(e.type)}),(0,r.jsxs)("div",{style:{flex:1,minWidth:0},className:"jsx-79e4f0e0f941e9c1",children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.5rem"},className:"jsx-79e4f0e0f941e9c1",children:[(0,r.jsx)("h4",{style:{color:"#000000",fontSize:"0.9rem",fontWeight:e.is_read?"normal":"bold",margin:0},className:"jsx-79e4f0e0f941e9c1",children:e.title}),(0,r.jsx)("span",{style:{fontSize:"0.75rem",color:"#666666",flexShrink:0},className:"jsx-79e4f0e0f941e9c1",children:e7(e.created_at)})]}),(0,r.jsx)("p",{style:{color:"#374151",fontSize:"0.85rem",lineHeight:"1.4",margin:0},className:"jsx-79e4f0e0f941e9c1",children:e.message}),!e.is_read&&(0,r.jsx)("div",{style:{width:"6px",height:"6px",background:"#ef4444",borderRadius:"50%",position:"absolute",right:"1rem",top:"50%",transform:"translateY(-50%)"},className:"jsx-79e4f0e0f941e9c1"})]})]},e.id))})})]})}),(0,r.jsx)(c(),{id:"79e4f0e0f941e9c1",children:".daily-report-overlay.jsx-79e4f0e0f941e9c1{position:fixed;inset:0;background:rgba(0,0,0,.5);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:2rem;z-index:1000;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.daily-report-modal.jsx-79e4f0e0f941e9c1{background:#fff;border:1px solid#e5e7eb;-webkit-border-radius:16px;-moz-border-radius:16px;border-radius:16px;width:100%;max-width:1200px;max-height:95vh;overflow:hidden;-webkit-box-shadow:0 4px 12px rgba(0,0,0,.15);-moz-box-shadow:0 4px 12px rgba(0,0,0,.15);box-shadow:0 4px 12px rgba(0,0,0,.15);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.daily-report-header.jsx-79e4f0e0f941e9c1{background:#fff;color:#111827;padding:2rem;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;border-bottom:1px solid#e5e7eb}.daily-report-title.jsx-79e4f0e0f941e9c1{font-size:1.75rem;font-weight:700;margin:0;letter-spacing:-.025em}.daily-close-btn.jsx-79e4f0e0f941e9c1{background:#fff;color:#6b7280;border:1px solid#d1d5db;width:40px;height:40px;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;cursor:pointer;font-size:20px;font-weight:500;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease}.daily-close-btn.jsx-79e4f0e0f941e9c1:hover{background:#f9fafb;color:#374151}.daily-report-body.jsx-79e4f0e0f941e9c1{padding:2rem 3rem 3rem 3rem;-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;overflow-y:auto;overflow-x:hidden;background:#fff;scroll-behavior:smooth}.date-info-banner.jsx-79e4f0e0f941e9c1{background:#f9fafb;border:1px solid#e5e7eb;padding:2rem;text-align:center;margin-bottom:3rem;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px}.date-title.jsx-79e4f0e0f941e9c1{font-size:1.25rem;font-weight:600;color:#111827;margin:0 0 .5rem 0;letter-spacing:-.025em}.date-subtitle.jsx-79e4f0e0f941e9c1{font-size:.875rem;color:#6b7280;margin:0}.daily-report-form.jsx-79e4f0e0f941e9c1{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:2rem;padding-bottom:2rem}.form-row.jsx-79e4f0e0f941e9c1{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:2rem;width:100%}.form-group.jsx-79e4f0e0f941e9c1{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:.75rem}.form-group.full-width.jsx-79e4f0e0f941e9c1{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1}.form-group.half-width.jsx-79e4f0e0f941e9c1{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1}.daily-label.jsx-79e4f0e0f941e9c1{font-size:.875rem;font-weight:600;color:#374151;margin:0;padding-bottom:.25rem}.daily-select.jsx-79e4f0e0f941e9c1{width:100%;padding:.875rem 1rem;border:1px solid#d1d5db;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;font-size:.875rem;background:#fff;color:#111827;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.daily-select.jsx-79e4f0e0f941e9c1:focus{outline:none;border-color:#374151;-webkit-box-shadow:0 0 0 3px rgba(55,65,81,.1);-moz-box-shadow:0 0 0 3px rgba(55,65,81,.1);box-shadow:0 0 0 3px rgba(55,65,81,.1)}.daily-field-container.jsx-79e4f0e0f941e9c1{background:#fff;border:1px solid#e5e7eb;padding:1.5rem;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:1rem}.daily-field-row.jsx-79e4f0e0f941e9c1{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:.75rem}.daily-input.jsx-79e4f0e0f941e9c1{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;padding:.75rem 1rem;border:1px solid#d1d5db;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;font-size:.875rem;background:#fff;color:#111827;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.daily-input.jsx-79e4f0e0f941e9c1:focus{outline:none;border-color:#374151;-webkit-box-shadow:0 0 0 3px rgba(55,65,81,.1);-moz-box-shadow:0 0 0 3px rgba(55,65,81,.1);box-shadow:0 0 0 3px rgba(55,65,81,.1)}.daily-input.jsx-79e4f0e0f941e9c1:hover{border-color:#9ca3af}.daily-input.jsx-79e4f0e0f941e9c1::-webkit-input-placeholder{color:#9ca3af}.daily-input.jsx-79e4f0e0f941e9c1:-moz-placeholder{color:#9ca3af}.daily-input.jsx-79e4f0e0f941e9c1::-moz-placeholder{color:#9ca3af}.daily-input.jsx-79e4f0e0f941e9c1:-ms-input-placeholder{color:#9ca3af}.daily-input.jsx-79e4f0e0f941e9c1::-ms-input-placeholder{color:#9ca3af}.daily-input.jsx-79e4f0e0f941e9c1::placeholder{color:#9ca3af}.daily-remove-btn.jsx-79e4f0e0f941e9c1{background:#fff;color:#6b7280;border:1px solid#d1d5db;width:32px;height:32px;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;cursor:pointer;font-size:14px;font-weight:500;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.daily-remove-btn.jsx-79e4f0e0f941e9c1:hover{background:#f3f4f6;color:#374151}.daily-add-btn.jsx-79e4f0e0f941e9c1{background:#f9fafb;color:#374151;border:1px solid#d1d5db;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;padding:.75rem 1.25rem;font-size:.875rem;font-weight:500;cursor:pointer;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start}.daily-add-btn.jsx-79e4f0e0f941e9c1:hover{background:#f3f4f6;border-color:#9ca3af}.daily-textarea.jsx-79e4f0e0f941e9c1{width:100%;min-height:120px;padding:.875rem 1rem;border:1px solid#d1d5db;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;font-size:.875rem;background:#fff;color:#111827;resize:vertical;font-family:inherit;line-height:1.5;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.daily-textarea.jsx-79e4f0e0f941e9c1:focus{outline:none;border-color:#374151;-webkit-box-shadow:0 0 0 3px rgba(55,65,81,.1);-moz-box-shadow:0 0 0 3px rgba(55,65,81,.1);box-shadow:0 0 0 3px rgba(55,65,81,.1)}.daily-textarea.jsx-79e4f0e0f941e9c1:hover{border-color:#9ca3af}.daily-textarea.jsx-79e4f0e0f941e9c1::-webkit-input-placeholder{color:#9ca3af}.daily-textarea.jsx-79e4f0e0f941e9c1:-moz-placeholder{color:#9ca3af}.daily-textarea.jsx-79e4f0e0f941e9c1::-moz-placeholder{color:#9ca3af}.daily-textarea.jsx-79e4f0e0f941e9c1:-ms-input-placeholder{color:#9ca3af}.daily-textarea.jsx-79e4f0e0f941e9c1::-ms-input-placeholder{color:#9ca3af}.daily-textarea.jsx-79e4f0e0f941e9c1::placeholder{color:#9ca3af}.daily-form-buttons.jsx-79e4f0e0f941e9c1{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:1rem;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;padding:2rem 0 1rem 0;margin-top:2rem;border-top:1px solid#e5e7eb}.daily-btn-cancel.jsx-79e4f0e0f941e9c1{background:#fff;color:#374151;border:1px solid#d1d5db;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;padding:.875rem 1.5rem;font-size:.875rem;font-weight:500;cursor:pointer;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease}.daily-btn-cancel.jsx-79e4f0e0f941e9c1:hover{background:#f3f4f6;border-color:#9ca3af}.daily-btn-submit.jsx-79e4f0e0f941e9c1{background:#111827;color:#fff;border:1px solid#111827;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;padding:.875rem 1.5rem;font-size:.875rem;font-weight:500;cursor:pointer;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease}.daily-btn-submit.jsx-79e4f0e0f941e9c1:hover{background:#1f2937;border-color:#1f2937}@media(max-width:768px){.weekly-report-overlay.jsx-79e4f0e0f941e9c1{padding:1rem}.daily-report-modal.jsx-79e4f0e0f941e9c1{max-width:100%;max-height:98vh}.daily-report-header.jsx-79e4f0e0f941e9c1{padding:1.5rem}.daily-report-title.jsx-79e4f0e0f941e9c1{font-size:1.5rem}.daily-report-body.jsx-79e4f0e0f941e9c1{padding:1.5rem}.form-row.jsx-79e4f0e0f941e9c1{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:1.5rem}.daily-form-buttons.jsx-79e4f0e0f941e9c1{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:1rem}.daily-btn-cancel.jsx-79e4f0e0f941e9c1,.daily-btn-submit.jsx-79e4f0e0f941e9c1{width:100%;text-align:center}}.modal-overlay.jsx-79e4f0e0f941e9c1{position:fixed;inset:0;background:rgba(0,0,0,.5);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:1.5rem;z-index:1000;-webkit-animation:fadeIn.3s ease;-moz-animation:fadeIn.3s ease;-o-animation:fadeIn.3s ease;animation:fadeIn.3s ease}.modal-content.jsx-79e4f0e0f941e9c1{background:#fff;border:1px solid#e5e7eb;-webkit-border-radius:16px;-moz-border-radius:16px;border-radius:16px;padding:0;width:100%;max-width:520px;max-height:90vh;overflow:hidden;-webkit-box-shadow:0 10px 25px rgba(0,0,0,.15);-moz-box-shadow:0 10px 25px rgba(0,0,0,.15);box-shadow:0 10px 25px rgba(0,0,0,.15);-webkit-animation:slideIn.3s ease;-moz-animation:slideIn.3s ease;-o-animation:slideIn.3s ease;animation:slideIn.3s ease;position:relative}.modal-header.jsx-79e4f0e0f941e9c1{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:2rem 2rem 1rem 2rem;border-bottom:1px solid#e5e7eb;background:#fff;position:relative}.modal-title.jsx-79e4f0e0f941e9c1{font-size:1.5rem;font-weight:700;color:#111827;margin:0;letter-spacing:-.025em}.modal-close-btn.jsx-79e4f0e0f941e9c1{background:#fff;border:1px solid#d1d5db;padding:.75rem;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;cursor:pointer;color:#6b7280;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.modal-close-btn.jsx-79e4f0e0f941e9c1:hover{background:#f9fafb;border-color:#9ca3af;color:#374151}.modal-body.jsx-79e4f0e0f941e9c1{padding:2rem;max-height:75vh;overflow-y:auto}.leave-stats.jsx-79e4f0e0f941e9c1{display:grid;grid-template-columns:repeat(3,1fr);gap:1.5rem;margin-bottom:2rem}.stat-card.jsx-79e4f0e0f941e9c1{text-align:center;padding:1.5rem 1rem;background:#f9fafb;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;border:1px solid#e5e7eb;position:relative;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.1);-moz-box-shadow:0 1px 3px rgba(0,0,0,.1);box-shadow:0 1px 3px rgba(0,0,0,.1);overflow:hidden}.stat-card.jsx-79e4f0e0f941e9c1:hover{-webkit-transform:translatey(-2px);-moz-transform:translatey(-2px);-ms-transform:translatey(-2px);-o-transform:translatey(-2px);transform:translatey(-2px);-webkit-box-shadow:0 4px 12px rgba(0,0,0,.15);-moz-box-shadow:0 4px 12px rgba(0,0,0,.15);box-shadow:0 4px 12px rgba(0,0,0,.15)}.stat-number.jsx-79e4f0e0f941e9c1{font-size:2rem;font-weight:700;margin-bottom:.5rem;color:#111827;letter-spacing:-.025em}.stat-label.jsx-79e4f0e0f941e9c1{font-size:.75rem;color:#6b7280;font-weight:500}.form-grid.jsx-79e4f0e0f941e9c1{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;margin-bottom:1.5rem}.form-group.jsx-79e4f0e0f941e9c1{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:.5rem}.form-label.jsx-79e4f0e0f941e9c1{font-size:.875rem;font-weight:600;color:#374151;margin-bottom:.5rem}.form-input.jsx-79e4f0e0f941e9c1{width:100%;padding:.875rem 1rem;border:1px solid#d1d5db;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;font-size:.875rem;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;background:#fff;color:#111827;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.form-input.jsx-79e4f0e0f941e9c1:focus{outline:none;border-color:#374151;-webkit-box-shadow:0 0 0 3px rgba(55,65,81,.1);-moz-box-shadow:0 0 0 3px rgba(55,65,81,.1);box-shadow:0 0 0 3px rgba(55,65,81,.1)}.form-input.jsx-79e4f0e0f941e9c1:hover{border-color:#9ca3af}.form-input.jsx-79e4f0e0f941e9c1::-webkit-input-placeholder{color:#9ca3af}.form-input.jsx-79e4f0e0f941e9c1:-moz-placeholder{color:#9ca3af}.form-input.jsx-79e4f0e0f941e9c1::-moz-placeholder{color:#9ca3af}.form-input.jsx-79e4f0e0f941e9c1:-ms-input-placeholder{color:#9ca3af}.form-input.jsx-79e4f0e0f941e9c1::-ms-input-placeholder{color:#9ca3af}.form-input.jsx-79e4f0e0f941e9c1::placeholder{color:#9ca3af}.form-select.jsx-79e4f0e0f941e9c1{width:100%;padding:.875rem 1rem;border:1px solid#d1d5db;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;font-size:.875rem;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;background:#fff;color:#111827;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;cursor:pointer}.form-select.jsx-79e4f0e0f941e9c1:focus{outline:none;border-color:#374151;-webkit-box-shadow:0 0 0 3px rgba(55,65,81,.1);-moz-box-shadow:0 0 0 3px rgba(55,65,81,.1);box-shadow:0 0 0 3px rgba(55,65,81,.1)}.form-select.jsx-79e4f0e0f941e9c1:hover{border-color:#9ca3af}.form-textarea.jsx-79e4f0e0f941e9c1{width:100%;min-height:100px;padding:.875rem 1rem;border:1px solid#d1d5db;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;font-size:.875rem;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;background:#fff;color:#111827;resize:vertical;font-family:inherit;line-height:1.5;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.form-textarea.jsx-79e4f0e0f941e9c1:focus{outline:none;border-color:#374151;-webkit-box-shadow:0 0 0 3px rgba(55,65,81,.1);-moz-box-shadow:0 0 0 3px rgba(55,65,81,.1);box-shadow:0 0 0 3px rgba(55,65,81,.1)}.form-textarea.jsx-79e4f0e0f941e9c1:hover{border-color:#9ca3af}.form-textarea.jsx-79e4f0e0f941e9c1::-webkit-input-placeholder{color:#9ca3af}.form-textarea.jsx-79e4f0e0f941e9c1:-moz-placeholder{color:#9ca3af}.form-textarea.jsx-79e4f0e0f941e9c1::-moz-placeholder{color:#9ca3af}.form-textarea.jsx-79e4f0e0f941e9c1:-ms-input-placeholder{color:#9ca3af}.form-textarea.jsx-79e4f0e0f941e9c1::-ms-input-placeholder{color:#9ca3af}.form-textarea.jsx-79e4f0e0f941e9c1::placeholder{color:#9ca3af}.error-message.jsx-79e4f0e0f941e9c1{background:#fef2f2;border:1px solid#fecaca;color:#dc2626;padding:1rem;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;margin-bottom:1.5rem;font-size:.875rem;font-weight:500}.form-buttons.jsx-79e4f0e0f941e9c1{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:1rem;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;margin-top:2rem;padding-top:1.5rem;border-top:1px solid#e5e7eb}.btn.jsx-79e4f0e0f941e9c1{padding:.875rem 1.5rem;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;border:1px solid}.btn-secondary.jsx-79e4f0e0f941e9c1{background:#fff;color:#374151;border-color:#d1d5db}.btn-secondary.jsx-79e4f0e0f941e9c1:hover{background:#f3f4f6;border-color:#9ca3af}.btn-primary.jsx-79e4f0e0f941e9c1{background:#111827;color:#fff;border-color:#111827}.btn-primary.jsx-79e4f0e0f941e9c1:hover:not(:disabled){background:#1f2937;border-color:#1f2937}.btn.jsx-79e4f0e0f941e9c1:disabled{opacity:.5;cursor:not-allowed}@-webkit-keyframes fadeIn{from{opacity:0}to{opacity:1}}@-moz-keyframes fadeIn{from{opacity:0}to{opacity:1}}@-o-keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@-webkit-keyframes slideIn{from{-webkit-transform:translatey(-20px)scale(.95);transform:translatey(-20px)scale(.95);opacity:0}to{-webkit-transform:translatey(0)scale(1);transform:translatey(0)scale(1);opacity:1}}@-moz-keyframes slideIn{from{-moz-transform:translatey(-20px)scale(.95);transform:translatey(-20px)scale(.95);opacity:0}to{-moz-transform:translatey(0)scale(1);transform:translatey(0)scale(1);opacity:1}}@-o-keyframes slideIn{from{-o-transform:translatey(-20px)scale(.95);transform:translatey(-20px)scale(.95);opacity:0}to{-o-transform:translatey(0)scale(1);transform:translatey(0)scale(1);opacity:1}}@keyframes slideIn{from{-webkit-transform:translatey(-20px)scale(.95);-moz-transform:translatey(-20px)scale(.95);-o-transform:translatey(-20px)scale(.95);transform:translatey(-20px)scale(.95);opacity:0}to{-webkit-transform:translatey(0)scale(1);-moz-transform:translatey(0)scale(1);-o-transform:translatey(0)scale(1);transform:translatey(0)scale(1);opacity:1}}@media(max-width:768px){.modal-content.jsx-79e4f0e0f941e9c1{max-width:95vw;margin:1rem}.modal-header.jsx-79e4f0e0f941e9c1{padding:1.5rem 1.5rem 1rem 1.5rem}.modal-title.jsx-79e4f0e0f941e9c1{font-size:1.25rem}.modal-body.jsx-79e4f0e0f941e9c1{padding:1.5rem}.leave-stats.jsx-79e4f0e0f941e9c1{grid-template-columns:1fr;gap:1rem}.form-grid.jsx-79e4f0e0f941e9c1{grid-template-columns:1fr;gap:1rem}.form-buttons.jsx-79e4f0e0f941e9c1{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.btn.jsx-79e4f0e0f941e9c1{width:100%;text-align:center}}@media(max-width:480px){.modal-overlay.jsx-79e4f0e0f941e9c1{padding:1rem}.modal-content.jsx-79e4f0e0f941e9c1{-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;max-height:95vh}}"})]})}function O(e){let{title:n,isMobile:t}=e,[o,s]=(0,i.useState)(!1),l=(0,a.useRouter)();return t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{style:{position:"fixed",top:0,left:0,right:0,background:"white",zIndex:1e3,padding:"12px 16px",borderBottom:"1px solid #E5E7EB",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsx)("h1",{style:{margin:0,fontSize:"18px",fontWeight:"700",color:"#1F2937"},children:n}),(0,r.jsx)("button",{onClick:()=>{console.log("Mobile menu clicked, current state:",o),s(!o)},style:{background:"none",border:"none",cursor:"pointer",color:"#1F2937",padding:"8px",minWidth:"40px",minHeight:"40px",display:"flex",alignItems:"center",justifyContent:"center"},children:o?(0,r.jsx)(P.Z,{style:{width:"24px",height:"24px"}}):(0,r.jsx)(R.Z,{style:{width:"24px",height:"24px"}})})]}),o&&(0,r.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",zIndex:9999,padding:"70px 16px 16px 16px",display:"flex",flexDirection:"column"},onClick:()=>s(!1),children:(0,r.jsxs)("div",{style:{background:"white",borderRadius:"12px",padding:"24px",maxHeight:"calc(100vh - 100px)",overflowY:"auto",boxShadow:"0 10px 25px rgba(0,0,0,0.3)"},onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,r.jsx)("h3",{style:{margin:"0 0 16px 0",fontSize:"16px",fontWeight:"600"},children:"Navigation"}),(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[(0,r.jsx)("button",{onClick:()=>{l.push("/dashboard"),s(!1)},style:{padding:"16px",textAlign:"left",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#374151",width:"100%",minHeight:"48px"},children:"Dashboard"}),(0,r.jsx)("button",{onClick:()=>{l.push("/personal"),s(!1)},style:{padding:"16px",textAlign:"left",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#374151",width:"100%",minHeight:"48px"},children:"Personal Tasks"}),(0,r.jsx)("button",{onClick:()=>{l.push("/my-tasks"),s(!1)},style:{padding:"16px",textAlign:"left",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#374151",width:"100%",minHeight:"48px"},children:"My Tasks"}),(0,r.jsx)("button",{onClick:()=>{l.push("/calendar"),s(!1)},style:{padding:"16px",textAlign:"left",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#374151",width:"100%",minHeight:"48px"},children:"Calendar"}),(0,r.jsx)("button",{onClick:()=>{l.push("/company-outreach"),s(!1)},style:{padding:"16px",textAlign:"left",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#374151",width:"100%",minHeight:"48px"},children:"Company Outreach"}),(0,r.jsx)("button",{onClick:()=>{l.push("/content-calendar"),s(!1)},style:{padding:"16px",textAlign:"left",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#374151",width:"100%",minHeight:"48px"},children:"Content Calendar"}),(0,r.jsx)("button",{onClick:()=>{l.push("/daily-reports"),s(!1)},style:{padding:"16px",textAlign:"left",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#374151",width:"100%",minHeight:"48px"},children:"Daily Reports"}),(0,r.jsx)("button",{onClick:()=>{l.push("/expenses"),s(!1)},style:{padding:"16px",textAlign:"left",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#374151",width:"100%",minHeight:"48px"},children:"Expenses"}),(0,r.jsx)("button",{onClick:()=>{l.push("/password-manager"),s(!1)},style:{padding:"16px",textAlign:"left",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#374151",width:"100%",minHeight:"48px"},children:"Password Manager"}),(0,r.jsx)("button",{onClick:()=>{l.push("/timetable"),s(!1)},style:{padding:"16px",textAlign:"left",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#374151",width:"100%",minHeight:"48px"},children:"Timetable"}),(0,r.jsx)("button",{onClick:()=>{l.push("/classes"),s(!1)},style:{padding:"16px",textAlign:"left",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#374151",width:"100%",minHeight:"48px"},children:"Classes"}),(0,r.jsx)("button",{onClick:()=>{l.push("/reporting"),s(!1)},style:{padding:"16px",textAlign:"left",background:"#F8FAFC",border:"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#374151",width:"100%",minHeight:"48px"},children:"Reports"})]})]}),(0,r.jsx)("button",{onClick:()=>s(!1),style:{width:"100%",padding:"12px",background:"#3B82F6",color:"white",border:"none",borderRadius:"8px",cursor:"pointer"},children:"Close Menu"})]})})]}):null}function H(){let{user:e}=(0,o.useAuth)(),n=(0,a.useRouter)(),t=(0,a.usePathname)(),[s,l]=(0,i.useState)(null);return((0,i.useEffect)(()=>{if(!(null==e?void 0:e.id)||(null==t?void 0:t.startsWith("/messages")))return;let n=p.supabase.channel("global-messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},async n=>{let t=n.new;if(t.sender_id===e.id)return;let{data:r}=await p.supabase.from("conversation_participants").select("*").eq("conversation_id",t.conversation_id).eq("user_id",e.id).single();if(!r)return;let{data:a}=await p.supabase.from("auth_user").select("name").eq("id",t.sender_id).single();l({id:t.id,senderName:(null==a?void 0:a.name)||"Someone",messageText:t.message_text,conversationId:t.conversation_id}),setTimeout(()=>l(null),8e3)}).subscribe();return()=>{p.supabase.removeChannel(n)}},[null==e?void 0:e.id,t]),s)?(0,r.jsxs)("div",{style:{position:"fixed",top:"20px",right:"20px",zIndex:9999,background:"#ffffff",border:"2px solid #3B82F6",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0,0,0,0.15)",padding:"16px",maxWidth:"400px",cursor:"pointer",animation:"slideIn 0.3s ease-out"},onClick:()=>n.push("/messages?user=".concat(s.conversationId)),className:"jsx-6bc4e57a8114dded",children:[(0,r.jsx)(c(),{id:"6bc4e57a8114dded",children:"@-webkit-keyframes slideIn{from{-webkit-transform:translatex(100%);transform:translatex(100%);opacity:0}to{-webkit-transform:translatex(0);transform:translatex(0);opacity:1}}@-moz-keyframes slideIn{from{-moz-transform:translatex(100%);transform:translatex(100%);opacity:0}to{-moz-transform:translatex(0);transform:translatex(0);opacity:1}}@-o-keyframes slideIn{from{-o-transform:translatex(100%);transform:translatex(100%);opacity:0}to{-o-transform:translatex(0);transform:translatex(0);opacity:1}}@keyframes slideIn{from{-webkit-transform:translatex(100%);-moz-transform:translatex(100%);-o-transform:translatex(100%);transform:translatex(100%);opacity:0}to{-webkit-transform:translatex(0);-moz-transform:translatex(0);-o-transform:translatex(0);transform:translatex(0);opacity:1}}"}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"start",gap:"12px"},className:"jsx-6bc4e57a8114dded",children:[(0,r.jsx)("div",{style:{background:"#3B82F6",borderRadius:"50%",padding:"8px",flexShrink:0},className:"jsx-6bc4e57a8114dded",children:(0,r.jsx)(z.Z,{style:{width:"20px",height:"20px",color:"#ffffff"}})}),(0,r.jsxs)("div",{style:{flex:1,minWidth:0},className:"jsx-6bc4e57a8114dded",children:[(0,r.jsx)("div",{style:{fontWeight:"600",color:"#111827",marginBottom:"4px"},className:"jsx-6bc4e57a8114dded",children:s.senderName}),(0,r.jsx)("div",{style:{color:"#6B7280",fontSize:"14px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},className:"jsx-6bc4e57a8114dded",children:s.messageText})]}),(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),l(null)},style:{background:"transparent",border:"none",cursor:"pointer",padding:"4px",color:"#9CA3AF",flexShrink:0},className:"jsx-6bc4e57a8114dded",children:(0,r.jsx)(P.Z,{style:{width:"16px",height:"16px"}})})]})]}):null}function Y(e){let{children:n}=e,{isAuthenticated:t,isLoading:s}=(0,o.useAuth)(),l=(0,a.useRouter)(),d=(0,a.usePathname)(),[c,f]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e=()=>f(window.innerWidth<768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,i.useEffect)(()=>{s||t||l.push("/login")},[t,s,l]);let m=!["/login","/forgot-password","/terms","/privacy","/oauth-test"].some(e=>null==d?void 0:d.startsWith(e));return m?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(H,{}),(0,r.jsxs)("div",{style:{display:"flex",minHeight:"100vh"},children:[!c&&(0,r.jsx)(U,{}),c&&(0,r.jsx)(O,{title:"",isMobile:c}),(0,r.jsx)("div",{style:{marginLeft:c?"0":"256px",flex:1,minHeight:"100vh",width:c?"100%":"calc(100% - 256px)"},children:n})]})]}):(0,r.jsx)(r.Fragment,{children:n})}let G=["/login","/forgot-password","/terms","/privacy","/oauth-test"];function X(e){let{children:n}=e,t=(0,a.usePathname)(),{isAuthenticated:i}=(0,o.useAuth)(),s=G.some(e=>null==t?void 0:t.startsWith(e));return s||!i?(0,r.jsx)("div",{className:"min-h-full",style:{background:"#F5F5ED"},children:n}):(0,r.jsx)(l,{children:(0,r.jsx)(Y,{children:n})})}},3549:function(e,n,t){"use strict";t.r(n),t.d(n,{AuthProvider:function(){return l},useAuth:function(){return s}});var r=t(7437),a=t(2265),o=t(8411);let i=(0,a.createContext)(void 0),s=()=>{let e=(0,a.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},l=e=>{let{children:n}=e,[t,s]=(0,a.useState)(null),[l,d]=(0,a.useState)(!0),[c,f]=(0,a.useState)(!1);(0,a.useEffect)(()=>{f(!0)},[]),(0,a.useEffect)(()=>{if(!c)return;let e=async()=>{try{console.log("Starting auth initialization..."),await new Promise(e=>setTimeout(e,50));let{user:a,error:i}=await o.supabaseAuth.getUser();if(console.log("Auth result:",{currentUser:a,error:i}),a&&!i){var e,n,t,r;let o={id:a.id,email:a.email,name:(null===(e=a.user_metadata)||void 0===e?void 0:e.name)||a.email,phone:(null===(n=a.user_metadata)||void 0===n?void 0:n.phone)||"",role:(null===(t=a.user_metadata)||void 0===t?void 0:t.role)||"member",position:(null===(r=a.user_metadata)||void 0===r?void 0:r.position)||"",date_joined:new Date().toISOString()};s(o),console.log("User set:",o)}else console.log("No user found or error occurred")}catch(e){console.error("Auth initialization error:",e)}finally{console.log("Setting isLoading to false"),d(!1)}},n=setTimeout(()=>{console.warn("Auth initialization timeout, proceeding without auth"),d(!1)},3e3),t=setTimeout(()=>{e().finally(()=>{clearTimeout(n)})},100);return()=>{clearTimeout(n),clearTimeout(t)}},[c]);let m=async(e,n)=>{try{console.log("Attempting login for:",e);let{user:l,error:d}=await o.supabaseAuth.signIn(e,n);if(d)throw console.error("Login error:",d),Error(d instanceof Error?d.message:"Login failed");if(l){var t,r,a,i;let e={id:l.id,email:l.email,name:(null===(t=l.user_metadata)||void 0===t?void 0:t.name)||l.email,phone:(null===(r=l.user_metadata)||void 0===r?void 0:r.phone)||"",role:(null===(a=l.user_metadata)||void 0===a?void 0:a.role)||"member",position:(null===(i=l.user_metadata)||void 0===i?void 0:i.position)||"",date_joined:new Date().toISOString()};s(e),console.log("Login successful:",e)}}catch(e){throw console.error("Login failed:",e),Error(e.message||"Login failed")}},x=async e=>{throw Error("Registration is disabled. Please contact an administrator.")},p=async()=>{try{await o.supabaseAuth.signOut(),s(null)}catch(e){console.error("Logout error:",e),s(null)}};return(0,r.jsx)(i.Provider,{value:{user:t,isLoading:l,login:m,register:x,logout:p,isAuthenticated:!!t},children:n})}},2489:function(){}},function(e){e.O(0,[7708,8326,4341,9545,8411,2971,2472,1744],function(){return e(e.s=3881)}),_N_E=e.O()}]);